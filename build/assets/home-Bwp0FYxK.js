import{j as e}from"./web3-vendor-CcHZFpwx.js";import{r as t}from"./react-vendor-BTPJ9MfQ.js";import{F as G,A as U,m as F,L as Q,H as V}from"./Layout-B5maHOaw.js";import{T as J}from"./TokenList-DCrDOlZW.js";import{a as K}from"./index.module-DRaUFVTI.js";import{s as X,d as Y}from"./api-EUITH4FJ.js";import{S as Z}from"./SEO-B8zD07Wz.js";import{a as ee,S as te}from"./index-nBF75Qy3.js";import"./ui-vendor-oTgNdVvW.js";import"./ChevronRightIcon-DZt5GO90.js";function se({title:s,titleId:u,...n},c){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":u},n),s?t.createElement("title",{id:u},s):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const ae=t.forwardRef(se),L=t.forwardRef(({onSearch:s},u)=>{const[n,c]=t.useState(""),[o]=K(n,500);t.useEffect(()=>{s(o)},[o,s]);const a=l=>{c(l.target.value)};return e.jsxs("div",{className:"relative flex items-center max-w-md mx-auto mb-6",children:[e.jsx("input",{ref:u,type:"text",placeholder:"Search tokens...",value:n,onChange:a,className:"neon-input w-full py-2.5 md:py-3 pl-10 pr-4 text-sm md:text-base placeholder:text-[var(--text-muted)]"}),e.jsx(ae,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-[var(--text-secondary)]"})]})});L.displayName="SearchFilter";const ne=[{id:1,name:"Ethereum",symbol:"ETH"},{id:8453,name:"Base",symbol:"BASE"},{id:42161,name:"Arbitrum",symbol:"ARB"},{id:84532,name:"Base Sepolia",symbol:"BASE-SEP"}],re=[{value:"all",label:"All Time"},{value:"1h",label:"1h"},{value:"24h",label:"24h"},{value:"7d",label:"7d"},{value:"30d",label:"30d"}],I=({value:s,onChange:u,options:n,placeholder:c="Select...",className:o=""})=>{const[a,l]=t.useState(!1),m=t.useRef(null);t.useEffect(()=>{const d=h=>{m.current&&!m.current.contains(h.target)&&l(!1)};return a&&document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[a]);const f=n.find(d=>d.value===s);return e.jsxs("div",{className:`relative ${o}`,ref:m,children:[e.jsxs("button",{type:"button",onClick:()=>l(!a),className:`w-full flex items-center justify-between gap-2 px-3 py-2.5 text-xs md:text-sm font-medium
                   bg-[var(--card2)] border border-[var(--card-boarder)] rounded-lg text-white
                   hover:border-[var(--primary)] hover:shadow-[0_0_10px_rgba(0,243,255,0.3)]
                   transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-[var(--primary)] focus:ring-offset-2 focus:ring-offset-[var(--background)]`,children:[e.jsx("span",{className:f?"text-white":"text-[var(--text-muted)]",children:f?f.label:c}),e.jsx(G,{className:`w-4 h-4 text-[var(--text-muted)] transition-transform duration-300 ${a?"rotate-180":""}`})]}),e.jsx(U,{children:a&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>l(!1)}),e.jsx(F.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute top-full left-0 mt-2 w-full min-w-[160px] glass border border-[var(--card-boarder)] rounded-lg shadow-xl z-20 overflow-hidden backdrop-blur-xl",children:e.jsx("div",{className:"py-1 max-h-60 overflow-y-auto custom-scrollbar",children:n.map((d,h)=>e.jsx(F.button,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:h*.03},onClick:()=>{u(d.value),l(!1)},className:`w-full text-left px-3 py-2.5 text-xs md:text-sm transition-all duration-200 ${s===d.value?"bg-gradient-to-r from-[var(--primary)]/20 to-[var(--accent-purple)]/20 text-[var(--primary)] font-semibold":"text-[var(--text-secondary)] hover:text-white hover:bg-[var(--card-hover)]"}`,children:d.label},d.value))})})]})})]})},oe=({filters:s,onFiltersChange:u})=>{s.chainId!==void 0||s.minPrice!==void 0||s.maxPrice!==void 0||s.minMarketCap!==void 0||s.maxMarketCap!==void 0||s.timeRange!==void 0&&s.timeRange;const n=(a,l)=>{const m={...s,[a]:l};(l===""||l===void 0||l===null)&&delete m[a],u(m)},c=[{value:"",label:"All Chains"},...ne.map(a=>({value:a.id,label:a.name}))],o=re.map(a=>({value:a.value,label:a.label}));return e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 md:gap-3 mb-4",children:[e.jsx(I,{value:s.chainId||"",onChange:a=>n("chainId",a?parseInt(a):void 0),options:c,placeholder:"All Chains",className:"min-w-[140px] md:min-w-[160px]"}),e.jsx(I,{value:s.timeRange||"all",onChange:a=>n("timeRange",a),options:o,placeholder:"Time Range",className:"min-w-[120px] md:min-w-[140px]"})]})})},j=100,ge=()=>{const[s,u]=t.useState(null),[n,c]=t.useState(1),[o,a]=t.useState(""),[l,m]=t.useState({}),[f,d]=t.useState(!0),[h,A]=t.useState(!1),[O,B]=t.useState(!1),[w]=t.useState(!1),[y,H]=t.useState([]),[N,_]=t.useState([]),[S,C]=t.useState(null),{newTokens:v}=ee(),[M,W]=t.useState(!1),k=t.useRef(!1),R=t.useRef(l),b=t.useRef(!1);t.useEffect(()=>{R.current=l},[l]);const p=t.useCallback(async()=>{if(k.current)return;k.current=!0;const r=R.current;d(!0),A(!1),B(!1),C(null);try{let i;o.trim()?i=await X(o,n,j,r):i=await Y(n,j,{...r,sortBy:"volume24hUSD",sortOrder:"desc"});const x={data:i.data||i.tokens||[],totalCount:i.totalCount||0,currentPage:i.currentPage||n,totalPages:i.totalPages||1,tokens:[],fullList:!1};u(x)}catch(i){console.error("Error fetching tokens:",i),C("Failed to fetch tokens. Please try again later.")}finally{d(!1),k.current=!1}},[n,o]);t.useEffect(()=>{b.current||(b.current=!0,p())},[]);const E=t.useRef(n),T=t.useRef(o);t.useEffect(()=>{b.current&&(E.current!==n||T.current!==o)&&(E.current=n,T.current=o,p())},[n,o,p]),t.useEffect(()=>{if(!b.current)return;const r=n===1;c(1),r&&p()},[l.chainId,l.timeRange,p,n]),t.useEffect(()=>{v.length!==0&&(w?u(r=>{if(!r)return null;const i=v.filter(x=>!r.data.some(g=>g.id===x.id)&&!N.some(g=>g.id===x.id));return _(x=>[...x,...i]),{...r,data:[...i,...r.data],totalCount:r.totalCount+i.length}}):H(r=>[...v.filter(x=>!r.some(g=>g.id===x.id)),...r]))},[v,w,N]);const P=t.useMemo(()=>!s||!s.data?[]:(o.trim(),s.data),[s,o]),D=t.useCallback(r=>{r!==o&&(a(r),r.trim()&&c(1))},[o]),$=t.useCallback(r=>{m(r),c(1)},[]),q=t.useCallback(()=>{m({}),c(1)},[]),z=t.useCallback(r=>{c(r)},[]);return e.jsxs(Q,{children:[e.jsx(Z,{title:"Create and Trade Memecoins Easily on BondX.",description:"The ultimate platform for launching and trading memecoins on Ethereum mainnet. Create your own tokens effortlessly and engage in fair, dynamic trading.",image:"logo/logo.svg"}),e.jsx(V,{isVisible:M,onClose:()=>W(!1)}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center mb-4",children:[e.jsxs("div",{className:"h-auto py-4 md:py-6 mb-4",children:[e.jsx("h1",{className:"text-2xl md:text-3xl lg:text-4xl font-bold mb-2 text-center",children:"Join the hunt for the next big token."}),e.jsx("h2",{className:"text-xl md:text-2xl lg:text-3xl mb-4 text-center gradient-text-purple",children:"before it gets noticed!"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(L,{onSearch:D}),e.jsxs("div",{className:"mb-4",children:[e.jsx(oe,{currentSort:"trending",onSort:()=>{},filters:l,onFiltersChange:$,onFiltersReset:q}),e.jsx("div",{className:"flex justify-center items-center gap-2 mt-3",children:!w&&y.length>0&&e.jsxs("span",{className:"text-xs text-[var(--primary)]",children:[y.length," new ",y.length===1?"token":"tokens"]})})]})]}),f?e.jsx("div",{className:"flex justify-center items-center mt-10",children:e.jsx(te,{size:"medium"})}):S?e.jsx("div",{className:"text-center text-red-500 text-xl mt-10",children:S}):h?e.jsx("div",{className:"text-center text-white text-xs mt-10",children:"No tokens created in the last 24 hours. Check back soon."}):O?e.jsx("div",{className:"text-center text-white text-xs mt-10",children:"No tokens Listed Yet."}):P.length>0?e.jsx(J,{tokens:P,currentPage:n,totalPages:(s==null?void 0:s.totalPages)||1,onPageChange:z,isEnded:!1,sortType:"trending",itemsPerPage:j,isFullList:!1}):e.jsx("div",{className:"text-center text-white text-xs mt-10",children:"No tokens found matching your criteria."})]})})]})};export{ge as default};
