import{j as W,aw as wx,ax as vx,u as el,d as Ax,ay as bh,az as Ex,b as Mo,aA as _o,c as Tx,a as Sx,aB as wf,aC as kx,i as Cx,aD as Mx,aE as _x,aF as vf,aG as Nx,f as Rx,g as Px,h as Bx,m as Ix,aH as Ox}from"./web3-vendor-CcHZFpwx.js";import{d as No,g as Ai,c as mt,r as fe,a as Lx,u as yh,L as kn}from"./react-vendor-BTPJ9MfQ.js";import{g as Fx,h as Dx,D as Ux,i as $x,Z as jx,S as Vx}from"./ui-vendor-oTgNdVvW.js";import{u as hi,B as Pt,d as wh,e as hc,f as Hx,s as ga,b as Af,c as Ef}from"./index-nBF75Qy3.js";var tl={exports:{}};const Kx={},Gx=Object.freeze(Object.defineProperty({__proto__:null,default:Kx},Symbol.toStringTag,{value:"Module"})),vh=No(Gx);tl.exports;(function(r){(function(e,t){function n(N,p){if(!N)throw new Error(p||"Assertion failed")}function i(N,p){N.super_=p;var v=function(){};v.prototype=p.prototype,N.prototype=new v,N.prototype.constructor=N}function s(N,p,v){if(s.isBN(N))return N;this.negative=0,this.words=null,this.length=0,this.red=null,N!==null&&((p==="le"||p==="be")&&(v=p,p=10),this._init(N||0,p||10,v||"be"))}typeof e=="object"?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=vh.Buffer}catch{}s.isBN=function(p){return p instanceof s?!0:p!==null&&typeof p=="object"&&p.constructor.wordSize===s.wordSize&&Array.isArray(p.words)},s.max=function(p,v){return p.cmp(v)>0?p:v},s.min=function(p,v){return p.cmp(v)<0?p:v},s.prototype._init=function(p,v,C){if(typeof p=="number")return this._initNumber(p,v,C);if(typeof p=="object")return this._initArray(p,v,C);v==="hex"&&(v=16),n(v===(v|0)&&v>=2&&v<=36),p=p.toString().replace(/\s+/g,"");var R=0;p[0]==="-"&&(R++,this.negative=1),R<p.length&&(v===16?this._parseHex(p,R,C):(this._parseBase(p,v,R),C==="le"&&this._initArray(this.toArray(),v,C)))},s.prototype._initNumber=function(p,v,C){p<0&&(this.negative=1,p=-p),p<67108864?(this.words=[p&67108863],this.length=1):p<4503599627370496?(this.words=[p&67108863,p/67108864&67108863],this.length=2):(n(p<9007199254740992),this.words=[p&67108863,p/67108864&67108863,1],this.length=3),C==="le"&&this._initArray(this.toArray(),v,C)},s.prototype._initArray=function(p,v,C){if(n(typeof p.length=="number"),p.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(p.length/3),this.words=new Array(this.length);for(var R=0;R<this.length;R++)this.words[R]=0;var L,G,j=0;if(C==="be")for(R=p.length-1,L=0;R>=0;R-=3)G=p[R]|p[R-1]<<8|p[R-2]<<16,this.words[L]|=G<<j&67108863,this.words[L+1]=G>>>26-j&67108863,j+=24,j>=26&&(j-=26,L++);else if(C==="le")for(R=0,L=0;R<p.length;R+=3)G=p[R]|p[R+1]<<8|p[R+2]<<16,this.words[L]|=G<<j&67108863,this.words[L+1]=G>>>26-j&67108863,j+=24,j>=26&&(j-=26,L++);return this._strip()};function a(N,p){var v=N.charCodeAt(p);if(v>=48&&v<=57)return v-48;if(v>=65&&v<=70)return v-55;if(v>=97&&v<=102)return v-87;n(!1,"Invalid character in "+N)}function c(N,p,v){var C=a(N,v);return v-1>=p&&(C|=a(N,v-1)<<4),C}s.prototype._parseHex=function(p,v,C){this.length=Math.ceil((p.length-v)/6),this.words=new Array(this.length);for(var R=0;R<this.length;R++)this.words[R]=0;var L=0,G=0,j;if(C==="be")for(R=p.length-1;R>=v;R-=2)j=c(p,v,R)<<L,this.words[G]|=j&67108863,L>=18?(L-=18,G+=1,this.words[G]|=j>>>26):L+=8;else{var k=p.length-v;for(R=k%2===0?v+1:v;R<p.length;R+=2)j=c(p,v,R)<<L,this.words[G]|=j&67108863,L>=18?(L-=18,G+=1,this.words[G]|=j>>>26):L+=8}this._strip()};function l(N,p,v,C){for(var R=0,L=0,G=Math.min(N.length,v),j=p;j<G;j++){var k=N.charCodeAt(j)-48;R*=C,k>=49?L=k-49+10:k>=17?L=k-17+10:L=k,n(k>=0&&L<C,"Invalid character"),R+=L}return R}s.prototype._parseBase=function(p,v,C){this.words=[0],this.length=1;for(var R=0,L=1;L<=67108863;L*=v)R++;R--,L=L/v|0;for(var G=p.length-C,j=G%R,k=Math.min(G,G-j)+C,m=0,S=C;S<k;S+=R)m=l(p,S,S+R,v),this.imuln(L),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m);if(j!==0){var q=1;for(m=l(p,S,p.length,v),S=0;S<j;S++)q*=v;this.imuln(q),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m)}this._strip()},s.prototype.copy=function(p){p.words=new Array(this.length);for(var v=0;v<this.length;v++)p.words[v]=this.words[v];p.length=this.length,p.negative=this.negative,p.red=this.red};function u(N,p){N.words=p.words,N.length=p.length,N.negative=p.negative,N.red=p.red}if(s.prototype._move=function(p){u(p,this)},s.prototype.clone=function(){var p=new s(null);return this.copy(p),p},s.prototype._expand=function(p){for(;this.length<p;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch{s.prototype.inspect=d}else s.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(p,v){p=p||10,v=v|0||1;var C;if(p===16||p==="hex"){C="";for(var R=0,L=0,G=0;G<this.length;G++){var j=this.words[G],k=((j<<R|L)&16777215).toString(16);L=j>>>24-R&16777215,R+=2,R>=26&&(R-=26,G--),L!==0||G!==this.length-1?C=h[6-k.length]+k+C:C=k+C}for(L!==0&&(C=L.toString(16)+C);C.length%v!==0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}if(p===(p|0)&&p>=2&&p<=36){var m=g[p],S=b[p];C="";var q=this.clone();for(q.negative=0;!q.isZero();){var E=q.modrn(S).toString(p);q=q.idivn(S),q.isZero()?C=E+C:C=h[m-E.length]+E+C}for(this.isZero()&&(C="0"+C);C.length%v!==0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var p=this.words[0];return this.length===2?p+=this.words[1]*67108864:this.length===3&&this.words[2]===1?p+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-p:p},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(p,v){return this.toArrayLike(o,p,v)}),s.prototype.toArray=function(p,v){return this.toArrayLike(Array,p,v)};var y=function(p,v){return p.allocUnsafe?p.allocUnsafe(v):new p(v)};s.prototype.toArrayLike=function(p,v,C){this._strip();var R=this.byteLength(),L=C||Math.max(1,R);n(R<=L,"byte array longer than desired length"),n(L>0,"Requested array length <= 0");var G=y(p,L),j=v==="le"?"LE":"BE";return this["_toArrayLike"+j](G,R),G},s.prototype._toArrayLikeLE=function(p,v){for(var C=0,R=0,L=0,G=0;L<this.length;L++){var j=this.words[L]<<G|R;p[C++]=j&255,C<p.length&&(p[C++]=j>>8&255),C<p.length&&(p[C++]=j>>16&255),G===6?(C<p.length&&(p[C++]=j>>24&255),R=0,G=0):(R=j>>>24,G+=2)}if(C<p.length)for(p[C++]=R;C<p.length;)p[C++]=0},s.prototype._toArrayLikeBE=function(p,v){for(var C=p.length-1,R=0,L=0,G=0;L<this.length;L++){var j=this.words[L]<<G|R;p[C--]=j&255,C>=0&&(p[C--]=j>>8&255),C>=0&&(p[C--]=j>>16&255),G===6?(C>=0&&(p[C--]=j>>24&255),R=0,G=0):(R=j>>>24,G+=2)}if(C>=0)for(p[C--]=R;C>=0;)p[C--]=0},Math.clz32?s.prototype._countBits=function(p){return 32-Math.clz32(p)}:s.prototype._countBits=function(p){var v=p,C=0;return v>=4096&&(C+=13,v>>>=13),v>=64&&(C+=7,v>>>=7),v>=8&&(C+=4,v>>>=4),v>=2&&(C+=2,v>>>=2),C+v},s.prototype._zeroBits=function(p){if(p===0)return 26;var v=p,C=0;return v&8191||(C+=13,v>>>=13),v&127||(C+=7,v>>>=7),v&15||(C+=4,v>>>=4),v&3||(C+=2,v>>>=2),v&1||C++,C},s.prototype.bitLength=function(){var p=this.words[this.length-1],v=this._countBits(p);return(this.length-1)*26+v};function T(N){for(var p=new Array(N.bitLength()),v=0;v<p.length;v++){var C=v/26|0,R=v%26;p[v]=N.words[C]>>>R&1}return p}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var p=0,v=0;v<this.length;v++){var C=this._zeroBits(this.words[v]);if(p+=C,C!==26)break}return p},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(p){return this.negative!==0?this.abs().inotn(p).iaddn(1):this.clone()},s.prototype.fromTwos=function(p){return this.testn(p-1)?this.notn(p).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(p){for(;this.length<p.length;)this.words[this.length++]=0;for(var v=0;v<p.length;v++)this.words[v]=this.words[v]|p.words[v];return this._strip()},s.prototype.ior=function(p){return n((this.negative|p.negative)===0),this.iuor(p)},s.prototype.or=function(p){return this.length>p.length?this.clone().ior(p):p.clone().ior(this)},s.prototype.uor=function(p){return this.length>p.length?this.clone().iuor(p):p.clone().iuor(this)},s.prototype.iuand=function(p){var v;this.length>p.length?v=p:v=this;for(var C=0;C<v.length;C++)this.words[C]=this.words[C]&p.words[C];return this.length=v.length,this._strip()},s.prototype.iand=function(p){return n((this.negative|p.negative)===0),this.iuand(p)},s.prototype.and=function(p){return this.length>p.length?this.clone().iand(p):p.clone().iand(this)},s.prototype.uand=function(p){return this.length>p.length?this.clone().iuand(p):p.clone().iuand(this)},s.prototype.iuxor=function(p){var v,C;this.length>p.length?(v=this,C=p):(v=p,C=this);for(var R=0;R<C.length;R++)this.words[R]=v.words[R]^C.words[R];if(this!==v)for(;R<v.length;R++)this.words[R]=v.words[R];return this.length=v.length,this._strip()},s.prototype.ixor=function(p){return n((this.negative|p.negative)===0),this.iuxor(p)},s.prototype.xor=function(p){return this.length>p.length?this.clone().ixor(p):p.clone().ixor(this)},s.prototype.uxor=function(p){return this.length>p.length?this.clone().iuxor(p):p.clone().iuxor(this)},s.prototype.inotn=function(p){n(typeof p=="number"&&p>=0);var v=Math.ceil(p/26)|0,C=p%26;this._expand(v),C>0&&v--;for(var R=0;R<v;R++)this.words[R]=~this.words[R]&67108863;return C>0&&(this.words[R]=~this.words[R]&67108863>>26-C),this._strip()},s.prototype.notn=function(p){return this.clone().inotn(p)},s.prototype.setn=function(p,v){n(typeof p=="number"&&p>=0);var C=p/26|0,R=p%26;return this._expand(C+1),v?this.words[C]=this.words[C]|1<<R:this.words[C]=this.words[C]&~(1<<R),this._strip()},s.prototype.iadd=function(p){var v;if(this.negative!==0&&p.negative===0)return this.negative=0,v=this.isub(p),this.negative^=1,this._normSign();if(this.negative===0&&p.negative!==0)return p.negative=0,v=this.isub(p),p.negative=1,v._normSign();var C,R;this.length>p.length?(C=this,R=p):(C=p,R=this);for(var L=0,G=0;G<R.length;G++)v=(C.words[G]|0)+(R.words[G]|0)+L,this.words[G]=v&67108863,L=v>>>26;for(;L!==0&&G<C.length;G++)v=(C.words[G]|0)+L,this.words[G]=v&67108863,L=v>>>26;if(this.length=C.length,L!==0)this.words[this.length]=L,this.length++;else if(C!==this)for(;G<C.length;G++)this.words[G]=C.words[G];return this},s.prototype.add=function(p){var v;return p.negative!==0&&this.negative===0?(p.negative=0,v=this.sub(p),p.negative^=1,v):p.negative===0&&this.negative!==0?(this.negative=0,v=p.sub(this),this.negative=1,v):this.length>p.length?this.clone().iadd(p):p.clone().iadd(this)},s.prototype.isub=function(p){if(p.negative!==0){p.negative=0;var v=this.iadd(p);return p.negative=1,v._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(p),this.negative=1,this._normSign();var C=this.cmp(p);if(C===0)return this.negative=0,this.length=1,this.words[0]=0,this;var R,L;C>0?(R=this,L=p):(R=p,L=this);for(var G=0,j=0;j<L.length;j++)v=(R.words[j]|0)-(L.words[j]|0)+G,G=v>>26,this.words[j]=v&67108863;for(;G!==0&&j<R.length;j++)v=(R.words[j]|0)+G,G=v>>26,this.words[j]=v&67108863;if(G===0&&j<R.length&&R!==this)for(;j<R.length;j++)this.words[j]=R.words[j];return this.length=Math.max(this.length,j),R!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(p){return this.clone().isub(p)};function w(N,p,v){v.negative=p.negative^N.negative;var C=N.length+p.length|0;v.length=C,C=C-1|0;var R=N.words[0]|0,L=p.words[0]|0,G=R*L,j=G&67108863,k=G/67108864|0;v.words[0]=j;for(var m=1;m<C;m++){for(var S=k>>>26,q=k&67108863,E=Math.min(m,p.length-1),J=Math.max(0,m-N.length+1);J<=E;J++){var oe=m-J|0;R=N.words[oe]|0,L=p.words[J]|0,G=R*L+q,S+=G/67108864|0,q=G&67108863}v.words[m]=q|0,k=S|0}return k!==0?v.words[m]=k|0:v.length--,v._strip()}var _=function(p,v,C){var R=p.words,L=v.words,G=C.words,j=0,k,m,S,q=R[0]|0,E=q&8191,J=q>>>13,oe=R[1]|0,F=oe&8191,U=oe>>>13,H=R[2]|0,ee=H&8191,ae=H>>>13,be=R[3]|0,ue=be&8191,ie=be>>>13,de=R[4]|0,re=de&8191,le=de>>>13,$=R[5]|0,se=$&8191,ye=$>>>13,ve=R[6]|0,Se=ve&8191,Le=ve>>>13,xt=R[7]|0,ne=xt&8191,A=xt>>>13,f=R[8]|0,x=f&8191,M=f>>>13,O=R[9]|0,K=O&8191,te=O>>>13,Ae=L[0]|0,we=Ae&8191,ge=Ae>>>13,ke=L[1]|0,Te=ke&8191,$e=ke>>>13,mn=L[2]|0,ze=mn&8191,qe=mn>>>13,xn=L[3]|0,We=xn&8191,Ye=xn>>>13,gn=L[4]|0,Je=gn&8191,Xe=gn>>>13,bn=L[5]|0,Qe=bn&8191,Ze=bn>>>13,yn=L[6]|0,et=yn&8191,tt=yn>>>13,wn=L[7]|0,rt=wn&8191,nt=wn>>>13,vn=L[8]|0,it=vn&8191,st=vn>>>13,An=L[9]|0,ot=An&8191,at=An>>>13;C.negative=p.negative^v.negative,C.length=19,k=Math.imul(E,we),m=Math.imul(E,ge),m=m+Math.imul(J,we)|0,S=Math.imul(J,ge);var zr=(j+k|0)+((m&8191)<<13)|0;j=(S+(m>>>13)|0)+(zr>>>26)|0,zr&=67108863,k=Math.imul(F,we),m=Math.imul(F,ge),m=m+Math.imul(U,we)|0,S=Math.imul(U,ge),k=k+Math.imul(E,Te)|0,m=m+Math.imul(E,$e)|0,m=m+Math.imul(J,Te)|0,S=S+Math.imul(J,$e)|0;var qr=(j+k|0)+((m&8191)<<13)|0;j=(S+(m>>>13)|0)+(qr>>>26)|0,qr&=67108863,k=Math.imul(ee,we),m=Math.imul(ee,ge),m=m+Math.imul(ae,we)|0,S=Math.imul(ae,ge),k=k+Math.imul(F,Te)|0,m=m+Math.imul(F,$e)|0,m=m+Math.imul(U,Te)|0,S=S+Math.imul(U,$e)|0,k=k+Math.imul(E,ze)|0,m=m+Math.imul(E,qe)|0,m=m+Math.imul(J,ze)|0,S=S+Math.imul(J,qe)|0;var Wr=(j+k|0)+((m&8191)<<13)|0;j=(S+(m>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,k=Math.imul(ue,we),m=Math.imul(ue,ge),m=m+Math.imul(ie,we)|0,S=Math.imul(ie,ge),k=k+Math.imul(ee,Te)|0,m=m+Math.imul(ee,$e)|0,m=m+Math.imul(ae,Te)|0,S=S+Math.imul(ae,$e)|0,k=k+Math.imul(F,ze)|0,m=m+Math.imul(F,qe)|0,m=m+Math.imul(U,ze)|0,S=S+Math.imul(U,qe)|0,k=k+Math.imul(E,We)|0,m=m+Math.imul(E,Ye)|0,m=m+Math.imul(J,We)|0,S=S+Math.imul(J,Ye)|0;var Yr=(j+k|0)+((m&8191)<<13)|0;j=(S+(m>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,k=Math.imul(re,we),m=Math.imul(re,ge),m=m+Math.imul(le,we)|0,S=Math.imul(le,ge),k=k+Math.imul(ue,Te)|0,m=m+Math.imul(ue,$e)|0,m=m+Math.imul(ie,Te)|0,S=S+Math.imul(ie,$e)|0,k=k+Math.imul(ee,ze)|0,m=m+Math.imul(ee,qe)|0,m=m+Math.imul(ae,ze)|0,S=S+Math.imul(ae,qe)|0,k=k+Math.imul(F,We)|0,m=m+Math.imul(F,Ye)|0,m=m+Math.imul(U,We)|0,S=S+Math.imul(U,Ye)|0,k=k+Math.imul(E,Je)|0,m=m+Math.imul(E,Xe)|0,m=m+Math.imul(J,Je)|0,S=S+Math.imul(J,Xe)|0;var Jr=(j+k|0)+((m&8191)<<13)|0;j=(S+(m>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,k=Math.imul(se,we),m=Math.imul(se,ge),m=m+Math.imul(ye,we)|0,S=Math.imul(ye,ge),k=k+Math.imul(re,Te)|0,m=m+Math.imul(re,$e)|0,m=m+Math.imul(le,Te)|0,S=S+Math.imul(le,$e)|0,k=k+Math.imul(ue,ze)|0,m=m+Math.imul(ue,qe)|0,m=m+Math.imul(ie,ze)|0,S=S+Math.imul(ie,qe)|0,k=k+Math.imul(ee,We)|0,m=m+Math.imul(ee,Ye)|0,m=m+Math.imul(ae,We)|0,S=S+Math.imul(ae,Ye)|0,k=k+Math.imul(F,Je)|0,m=m+Math.imul(F,Xe)|0,m=m+Math.imul(U,Je)|0,S=S+Math.imul(U,Xe)|0,k=k+Math.imul(E,Qe)|0,m=m+Math.imul(E,Ze)|0,m=m+Math.imul(J,Qe)|0,S=S+Math.imul(J,Ze)|0;var na=(j+k|0)+((m&8191)<<13)|0;j=(S+(m>>>13)|0)+(na>>>26)|0,na&=67108863,k=Math.imul(Se,we),m=Math.imul(Se,ge),m=m+Math.imul(Le,we)|0,S=Math.imul(Le,ge),k=k+Math.imul(se,Te)|0,m=m+Math.imul(se,$e)|0,m=m+Math.imul(ye,Te)|0,S=S+Math.imul(ye,$e)|0,k=k+Math.imul(re,ze)|0,m=m+Math.imul(re,qe)|0,m=m+Math.imul(le,ze)|0,S=S+Math.imul(le,qe)|0,k=k+Math.imul(ue,We)|0,m=m+Math.imul(ue,Ye)|0,m=m+Math.imul(ie,We)|0,S=S+Math.imul(ie,Ye)|0,k=k+Math.imul(ee,Je)|0,m=m+Math.imul(ee,Xe)|0,m=m+Math.imul(ae,Je)|0,S=S+Math.imul(ae,Xe)|0,k=k+Math.imul(F,Qe)|0,m=m+Math.imul(F,Ze)|0,m=m+Math.imul(U,Qe)|0,S=S+Math.imul(U,Ze)|0,k=k+Math.imul(E,et)|0,m=m+Math.imul(E,tt)|0,m=m+Math.imul(J,et)|0,S=S+Math.imul(J,tt)|0;var ia=(j+k|0)+((m&8191)<<13)|0;j=(S+(m>>>13)|0)+(ia>>>26)|0,ia&=67108863,k=Math.imul(ne,we),m=Math.imul(ne,ge),m=m+Math.imul(A,we)|0,S=Math.imul(A,ge),k=k+Math.imul(Se,Te)|0,m=m+Math.imul(Se,$e)|0,m=m+Math.imul(Le,Te)|0,S=S+Math.imul(Le,$e)|0,k=k+Math.imul(se,ze)|0,m=m+Math.imul(se,qe)|0,m=m+Math.imul(ye,ze)|0,S=S+Math.imul(ye,qe)|0,k=k+Math.imul(re,We)|0,m=m+Math.imul(re,Ye)|0,m=m+Math.imul(le,We)|0,S=S+Math.imul(le,Ye)|0,k=k+Math.imul(ue,Je)|0,m=m+Math.imul(ue,Xe)|0,m=m+Math.imul(ie,Je)|0,S=S+Math.imul(ie,Xe)|0,k=k+Math.imul(ee,Qe)|0,m=m+Math.imul(ee,Ze)|0,m=m+Math.imul(ae,Qe)|0,S=S+Math.imul(ae,Ze)|0,k=k+Math.imul(F,et)|0,m=m+Math.imul(F,tt)|0,m=m+Math.imul(U,et)|0,S=S+Math.imul(U,tt)|0,k=k+Math.imul(E,rt)|0,m=m+Math.imul(E,nt)|0,m=m+Math.imul(J,rt)|0,S=S+Math.imul(J,nt)|0;var sa=(j+k|0)+((m&8191)<<13)|0;j=(S+(m>>>13)|0)+(sa>>>26)|0,sa&=67108863,k=Math.imul(x,we),m=Math.imul(x,ge),m=m+Math.imul(M,we)|0,S=Math.imul(M,ge),k=k+Math.imul(ne,Te)|0,m=m+Math.imul(ne,$e)|0,m=m+Math.imul(A,Te)|0,S=S+Math.imul(A,$e)|0,k=k+Math.imul(Se,ze)|0,m=m+Math.imul(Se,qe)|0,m=m+Math.imul(Le,ze)|0,S=S+Math.imul(Le,qe)|0,k=k+Math.imul(se,We)|0,m=m+Math.imul(se,Ye)|0,m=m+Math.imul(ye,We)|0,S=S+Math.imul(ye,Ye)|0,k=k+Math.imul(re,Je)|0,m=m+Math.imul(re,Xe)|0,m=m+Math.imul(le,Je)|0,S=S+Math.imul(le,Xe)|0,k=k+Math.imul(ue,Qe)|0,m=m+Math.imul(ue,Ze)|0,m=m+Math.imul(ie,Qe)|0,S=S+Math.imul(ie,Ze)|0,k=k+Math.imul(ee,et)|0,m=m+Math.imul(ee,tt)|0,m=m+Math.imul(ae,et)|0,S=S+Math.imul(ae,tt)|0,k=k+Math.imul(F,rt)|0,m=m+Math.imul(F,nt)|0,m=m+Math.imul(U,rt)|0,S=S+Math.imul(U,nt)|0,k=k+Math.imul(E,it)|0,m=m+Math.imul(E,st)|0,m=m+Math.imul(J,it)|0,S=S+Math.imul(J,st)|0;var oa=(j+k|0)+((m&8191)<<13)|0;j=(S+(m>>>13)|0)+(oa>>>26)|0,oa&=67108863,k=Math.imul(K,we),m=Math.imul(K,ge),m=m+Math.imul(te,we)|0,S=Math.imul(te,ge),k=k+Math.imul(x,Te)|0,m=m+Math.imul(x,$e)|0,m=m+Math.imul(M,Te)|0,S=S+Math.imul(M,$e)|0,k=k+Math.imul(ne,ze)|0,m=m+Math.imul(ne,qe)|0,m=m+Math.imul(A,ze)|0,S=S+Math.imul(A,qe)|0,k=k+Math.imul(Se,We)|0,m=m+Math.imul(Se,Ye)|0,m=m+Math.imul(Le,We)|0,S=S+Math.imul(Le,Ye)|0,k=k+Math.imul(se,Je)|0,m=m+Math.imul(se,Xe)|0,m=m+Math.imul(ye,Je)|0,S=S+Math.imul(ye,Xe)|0,k=k+Math.imul(re,Qe)|0,m=m+Math.imul(re,Ze)|0,m=m+Math.imul(le,Qe)|0,S=S+Math.imul(le,Ze)|0,k=k+Math.imul(ue,et)|0,m=m+Math.imul(ue,tt)|0,m=m+Math.imul(ie,et)|0,S=S+Math.imul(ie,tt)|0,k=k+Math.imul(ee,rt)|0,m=m+Math.imul(ee,nt)|0,m=m+Math.imul(ae,rt)|0,S=S+Math.imul(ae,nt)|0,k=k+Math.imul(F,it)|0,m=m+Math.imul(F,st)|0,m=m+Math.imul(U,it)|0,S=S+Math.imul(U,st)|0,k=k+Math.imul(E,ot)|0,m=m+Math.imul(E,at)|0,m=m+Math.imul(J,ot)|0,S=S+Math.imul(J,at)|0;var aa=(j+k|0)+((m&8191)<<13)|0;j=(S+(m>>>13)|0)+(aa>>>26)|0,aa&=67108863,k=Math.imul(K,Te),m=Math.imul(K,$e),m=m+Math.imul(te,Te)|0,S=Math.imul(te,$e),k=k+Math.imul(x,ze)|0,m=m+Math.imul(x,qe)|0,m=m+Math.imul(M,ze)|0,S=S+Math.imul(M,qe)|0,k=k+Math.imul(ne,We)|0,m=m+Math.imul(ne,Ye)|0,m=m+Math.imul(A,We)|0,S=S+Math.imul(A,Ye)|0,k=k+Math.imul(Se,Je)|0,m=m+Math.imul(Se,Xe)|0,m=m+Math.imul(Le,Je)|0,S=S+Math.imul(Le,Xe)|0,k=k+Math.imul(se,Qe)|0,m=m+Math.imul(se,Ze)|0,m=m+Math.imul(ye,Qe)|0,S=S+Math.imul(ye,Ze)|0,k=k+Math.imul(re,et)|0,m=m+Math.imul(re,tt)|0,m=m+Math.imul(le,et)|0,S=S+Math.imul(le,tt)|0,k=k+Math.imul(ue,rt)|0,m=m+Math.imul(ue,nt)|0,m=m+Math.imul(ie,rt)|0,S=S+Math.imul(ie,nt)|0,k=k+Math.imul(ee,it)|0,m=m+Math.imul(ee,st)|0,m=m+Math.imul(ae,it)|0,S=S+Math.imul(ae,st)|0,k=k+Math.imul(F,ot)|0,m=m+Math.imul(F,at)|0,m=m+Math.imul(U,ot)|0,S=S+Math.imul(U,at)|0;var ca=(j+k|0)+((m&8191)<<13)|0;j=(S+(m>>>13)|0)+(ca>>>26)|0,ca&=67108863,k=Math.imul(K,ze),m=Math.imul(K,qe),m=m+Math.imul(te,ze)|0,S=Math.imul(te,qe),k=k+Math.imul(x,We)|0,m=m+Math.imul(x,Ye)|0,m=m+Math.imul(M,We)|0,S=S+Math.imul(M,Ye)|0,k=k+Math.imul(ne,Je)|0,m=m+Math.imul(ne,Xe)|0,m=m+Math.imul(A,Je)|0,S=S+Math.imul(A,Xe)|0,k=k+Math.imul(Se,Qe)|0,m=m+Math.imul(Se,Ze)|0,m=m+Math.imul(Le,Qe)|0,S=S+Math.imul(Le,Ze)|0,k=k+Math.imul(se,et)|0,m=m+Math.imul(se,tt)|0,m=m+Math.imul(ye,et)|0,S=S+Math.imul(ye,tt)|0,k=k+Math.imul(re,rt)|0,m=m+Math.imul(re,nt)|0,m=m+Math.imul(le,rt)|0,S=S+Math.imul(le,nt)|0,k=k+Math.imul(ue,it)|0,m=m+Math.imul(ue,st)|0,m=m+Math.imul(ie,it)|0,S=S+Math.imul(ie,st)|0,k=k+Math.imul(ee,ot)|0,m=m+Math.imul(ee,at)|0,m=m+Math.imul(ae,ot)|0,S=S+Math.imul(ae,at)|0;var la=(j+k|0)+((m&8191)<<13)|0;j=(S+(m>>>13)|0)+(la>>>26)|0,la&=67108863,k=Math.imul(K,We),m=Math.imul(K,Ye),m=m+Math.imul(te,We)|0,S=Math.imul(te,Ye),k=k+Math.imul(x,Je)|0,m=m+Math.imul(x,Xe)|0,m=m+Math.imul(M,Je)|0,S=S+Math.imul(M,Xe)|0,k=k+Math.imul(ne,Qe)|0,m=m+Math.imul(ne,Ze)|0,m=m+Math.imul(A,Qe)|0,S=S+Math.imul(A,Ze)|0,k=k+Math.imul(Se,et)|0,m=m+Math.imul(Se,tt)|0,m=m+Math.imul(Le,et)|0,S=S+Math.imul(Le,tt)|0,k=k+Math.imul(se,rt)|0,m=m+Math.imul(se,nt)|0,m=m+Math.imul(ye,rt)|0,S=S+Math.imul(ye,nt)|0,k=k+Math.imul(re,it)|0,m=m+Math.imul(re,st)|0,m=m+Math.imul(le,it)|0,S=S+Math.imul(le,st)|0,k=k+Math.imul(ue,ot)|0,m=m+Math.imul(ue,at)|0,m=m+Math.imul(ie,ot)|0,S=S+Math.imul(ie,at)|0;var fa=(j+k|0)+((m&8191)<<13)|0;j=(S+(m>>>13)|0)+(fa>>>26)|0,fa&=67108863,k=Math.imul(K,Je),m=Math.imul(K,Xe),m=m+Math.imul(te,Je)|0,S=Math.imul(te,Xe),k=k+Math.imul(x,Qe)|0,m=m+Math.imul(x,Ze)|0,m=m+Math.imul(M,Qe)|0,S=S+Math.imul(M,Ze)|0,k=k+Math.imul(ne,et)|0,m=m+Math.imul(ne,tt)|0,m=m+Math.imul(A,et)|0,S=S+Math.imul(A,tt)|0,k=k+Math.imul(Se,rt)|0,m=m+Math.imul(Se,nt)|0,m=m+Math.imul(Le,rt)|0,S=S+Math.imul(Le,nt)|0,k=k+Math.imul(se,it)|0,m=m+Math.imul(se,st)|0,m=m+Math.imul(ye,it)|0,S=S+Math.imul(ye,st)|0,k=k+Math.imul(re,ot)|0,m=m+Math.imul(re,at)|0,m=m+Math.imul(le,ot)|0,S=S+Math.imul(le,at)|0;var ua=(j+k|0)+((m&8191)<<13)|0;j=(S+(m>>>13)|0)+(ua>>>26)|0,ua&=67108863,k=Math.imul(K,Qe),m=Math.imul(K,Ze),m=m+Math.imul(te,Qe)|0,S=Math.imul(te,Ze),k=k+Math.imul(x,et)|0,m=m+Math.imul(x,tt)|0,m=m+Math.imul(M,et)|0,S=S+Math.imul(M,tt)|0,k=k+Math.imul(ne,rt)|0,m=m+Math.imul(ne,nt)|0,m=m+Math.imul(A,rt)|0,S=S+Math.imul(A,nt)|0,k=k+Math.imul(Se,it)|0,m=m+Math.imul(Se,st)|0,m=m+Math.imul(Le,it)|0,S=S+Math.imul(Le,st)|0,k=k+Math.imul(se,ot)|0,m=m+Math.imul(se,at)|0,m=m+Math.imul(ye,ot)|0,S=S+Math.imul(ye,at)|0;var ha=(j+k|0)+((m&8191)<<13)|0;j=(S+(m>>>13)|0)+(ha>>>26)|0,ha&=67108863,k=Math.imul(K,et),m=Math.imul(K,tt),m=m+Math.imul(te,et)|0,S=Math.imul(te,tt),k=k+Math.imul(x,rt)|0,m=m+Math.imul(x,nt)|0,m=m+Math.imul(M,rt)|0,S=S+Math.imul(M,nt)|0,k=k+Math.imul(ne,it)|0,m=m+Math.imul(ne,st)|0,m=m+Math.imul(A,it)|0,S=S+Math.imul(A,st)|0,k=k+Math.imul(Se,ot)|0,m=m+Math.imul(Se,at)|0,m=m+Math.imul(Le,ot)|0,S=S+Math.imul(Le,at)|0;var da=(j+k|0)+((m&8191)<<13)|0;j=(S+(m>>>13)|0)+(da>>>26)|0,da&=67108863,k=Math.imul(K,rt),m=Math.imul(K,nt),m=m+Math.imul(te,rt)|0,S=Math.imul(te,nt),k=k+Math.imul(x,it)|0,m=m+Math.imul(x,st)|0,m=m+Math.imul(M,it)|0,S=S+Math.imul(M,st)|0,k=k+Math.imul(ne,ot)|0,m=m+Math.imul(ne,at)|0,m=m+Math.imul(A,ot)|0,S=S+Math.imul(A,at)|0;var pa=(j+k|0)+((m&8191)<<13)|0;j=(S+(m>>>13)|0)+(pa>>>26)|0,pa&=67108863,k=Math.imul(K,it),m=Math.imul(K,st),m=m+Math.imul(te,it)|0,S=Math.imul(te,st),k=k+Math.imul(x,ot)|0,m=m+Math.imul(x,at)|0,m=m+Math.imul(M,ot)|0,S=S+Math.imul(M,at)|0;var ma=(j+k|0)+((m&8191)<<13)|0;j=(S+(m>>>13)|0)+(ma>>>26)|0,ma&=67108863,k=Math.imul(K,ot),m=Math.imul(K,at),m=m+Math.imul(te,ot)|0,S=Math.imul(te,at);var xa=(j+k|0)+((m&8191)<<13)|0;return j=(S+(m>>>13)|0)+(xa>>>26)|0,xa&=67108863,G[0]=zr,G[1]=qr,G[2]=Wr,G[3]=Yr,G[4]=Jr,G[5]=na,G[6]=ia,G[7]=sa,G[8]=oa,G[9]=aa,G[10]=ca,G[11]=la,G[12]=fa,G[13]=ua,G[14]=ha,G[15]=da,G[16]=pa,G[17]=ma,G[18]=xa,j!==0&&(G[19]=j,C.length++),C};Math.imul||(_=w);function P(N,p,v){v.negative=p.negative^N.negative,v.length=N.length+p.length;for(var C=0,R=0,L=0;L<v.length-1;L++){var G=R;R=0;for(var j=C&67108863,k=Math.min(L,p.length-1),m=Math.max(0,L-N.length+1);m<=k;m++){var S=L-m,q=N.words[S]|0,E=p.words[m]|0,J=q*E,oe=J&67108863;G=G+(J/67108864|0)|0,oe=oe+j|0,j=oe&67108863,G=G+(oe>>>26)|0,R+=G>>>26,G&=67108863}v.words[L]=j,C=G,G=R}return C!==0?v.words[L]=C:v.length--,v._strip()}function D(N,p,v){return P(N,p,v)}s.prototype.mulTo=function(p,v){var C,R=this.length+p.length;return this.length===10&&p.length===10?C=_(this,p,v):R<63?C=w(this,p,v):R<1024?C=P(this,p,v):C=D(this,p,v),C},s.prototype.mul=function(p){var v=new s(null);return v.words=new Array(this.length+p.length),this.mulTo(p,v)},s.prototype.mulf=function(p){var v=new s(null);return v.words=new Array(this.length+p.length),D(this,p,v)},s.prototype.imul=function(p){return this.clone().mulTo(p,this)},s.prototype.imuln=function(p){var v=p<0;v&&(p=-p),n(typeof p=="number"),n(p<67108864);for(var C=0,R=0;R<this.length;R++){var L=(this.words[R]|0)*p,G=(L&67108863)+(C&67108863);C>>=26,C+=L/67108864|0,C+=G>>>26,this.words[R]=G&67108863}return C!==0&&(this.words[R]=C,this.length++),this.length=p===0?1:this.length,v?this.ineg():this},s.prototype.muln=function(p){return this.clone().imuln(p)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(p){var v=T(p);if(v.length===0)return new s(1);for(var C=this,R=0;R<v.length&&v[R]===0;R++,C=C.sqr());if(++R<v.length)for(var L=C.sqr();R<v.length;R++,L=L.sqr())v[R]!==0&&(C=C.mul(L));return C},s.prototype.iushln=function(p){n(typeof p=="number"&&p>=0);var v=p%26,C=(p-v)/26,R=67108863>>>26-v<<26-v,L;if(v!==0){var G=0;for(L=0;L<this.length;L++){var j=this.words[L]&R,k=(this.words[L]|0)-j<<v;this.words[L]=k|G,G=j>>>26-v}G&&(this.words[L]=G,this.length++)}if(C!==0){for(L=this.length-1;L>=0;L--)this.words[L+C]=this.words[L];for(L=0;L<C;L++)this.words[L]=0;this.length+=C}return this._strip()},s.prototype.ishln=function(p){return n(this.negative===0),this.iushln(p)},s.prototype.iushrn=function(p,v,C){n(typeof p=="number"&&p>=0);var R;v?R=(v-v%26)/26:R=0;var L=p%26,G=Math.min((p-L)/26,this.length),j=67108863^67108863>>>L<<L,k=C;if(R-=G,R=Math.max(0,R),k){for(var m=0;m<G;m++)k.words[m]=this.words[m];k.length=G}if(G!==0)if(this.length>G)for(this.length-=G,m=0;m<this.length;m++)this.words[m]=this.words[m+G];else this.words[0]=0,this.length=1;var S=0;for(m=this.length-1;m>=0&&(S!==0||m>=R);m--){var q=this.words[m]|0;this.words[m]=S<<26-L|q>>>L,S=q&j}return k&&S!==0&&(k.words[k.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(p,v,C){return n(this.negative===0),this.iushrn(p,v,C)},s.prototype.shln=function(p){return this.clone().ishln(p)},s.prototype.ushln=function(p){return this.clone().iushln(p)},s.prototype.shrn=function(p){return this.clone().ishrn(p)},s.prototype.ushrn=function(p){return this.clone().iushrn(p)},s.prototype.testn=function(p){n(typeof p=="number"&&p>=0);var v=p%26,C=(p-v)/26,R=1<<v;if(this.length<=C)return!1;var L=this.words[C];return!!(L&R)},s.prototype.imaskn=function(p){n(typeof p=="number"&&p>=0);var v=p%26,C=(p-v)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=C)return this;if(v!==0&&C++,this.length=Math.min(C,this.length),v!==0){var R=67108863^67108863>>>v<<v;this.words[this.length-1]&=R}return this._strip()},s.prototype.maskn=function(p){return this.clone().imaskn(p)},s.prototype.iaddn=function(p){return n(typeof p=="number"),n(p<67108864),p<0?this.isubn(-p):this.negative!==0?this.length===1&&(this.words[0]|0)<=p?(this.words[0]=p-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(p),this.negative=1,this):this._iaddn(p)},s.prototype._iaddn=function(p){this.words[0]+=p;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},s.prototype.isubn=function(p){if(n(typeof p=="number"),n(p<67108864),p<0)return this.iaddn(-p);if(this.negative!==0)return this.negative=0,this.iaddn(p),this.negative=1,this;if(this.words[0]-=p,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this._strip()},s.prototype.addn=function(p){return this.clone().iaddn(p)},s.prototype.subn=function(p){return this.clone().isubn(p)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(p,v,C){var R=p.length+C,L;this._expand(R);var G,j=0;for(L=0;L<p.length;L++){G=(this.words[L+C]|0)+j;var k=(p.words[L]|0)*v;G-=k&67108863,j=(G>>26)-(k/67108864|0),this.words[L+C]=G&67108863}for(;L<this.length-C;L++)G=(this.words[L+C]|0)+j,j=G>>26,this.words[L+C]=G&67108863;if(j===0)return this._strip();for(n(j===-1),j=0,L=0;L<this.length;L++)G=-(this.words[L]|0)+j,j=G>>26,this.words[L]=G&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(p,v){var C=this.length-p.length,R=this.clone(),L=p,G=L.words[L.length-1]|0,j=this._countBits(G);C=26-j,C!==0&&(L=L.ushln(C),R.iushln(C),G=L.words[L.length-1]|0);var k=R.length-L.length,m;if(v!=="mod"){m=new s(null),m.length=k+1,m.words=new Array(m.length);for(var S=0;S<m.length;S++)m.words[S]=0}var q=R.clone()._ishlnsubmul(L,1,k);q.negative===0&&(R=q,m&&(m.words[k]=1));for(var E=k-1;E>=0;E--){var J=(R.words[L.length+E]|0)*67108864+(R.words[L.length+E-1]|0);for(J=Math.min(J/G|0,67108863),R._ishlnsubmul(L,J,E);R.negative!==0;)J--,R.negative=0,R._ishlnsubmul(L,1,E),R.isZero()||(R.negative^=1);m&&(m.words[E]=J)}return m&&m._strip(),R._strip(),v!=="div"&&C!==0&&R.iushrn(C),{div:m||null,mod:R}},s.prototype.divmod=function(p,v,C){if(n(!p.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var R,L,G;return this.negative!==0&&p.negative===0?(G=this.neg().divmod(p,v),v!=="mod"&&(R=G.div.neg()),v!=="div"&&(L=G.mod.neg(),C&&L.negative!==0&&L.iadd(p)),{div:R,mod:L}):this.negative===0&&p.negative!==0?(G=this.divmod(p.neg(),v),v!=="mod"&&(R=G.div.neg()),{div:R,mod:G.mod}):this.negative&p.negative?(G=this.neg().divmod(p.neg(),v),v!=="div"&&(L=G.mod.neg(),C&&L.negative!==0&&L.isub(p)),{div:G.div,mod:L}):p.length>this.length||this.cmp(p)<0?{div:new s(0),mod:this}:p.length===1?v==="div"?{div:this.divn(p.words[0]),mod:null}:v==="mod"?{div:null,mod:new s(this.modrn(p.words[0]))}:{div:this.divn(p.words[0]),mod:new s(this.modrn(p.words[0]))}:this._wordDiv(p,v)},s.prototype.div=function(p){return this.divmod(p,"div",!1).div},s.prototype.mod=function(p){return this.divmod(p,"mod",!1).mod},s.prototype.umod=function(p){return this.divmod(p,"mod",!0).mod},s.prototype.divRound=function(p){var v=this.divmod(p);if(v.mod.isZero())return v.div;var C=v.div.negative!==0?v.mod.isub(p):v.mod,R=p.ushrn(1),L=p.andln(1),G=C.cmp(R);return G<0||L===1&&G===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},s.prototype.modrn=function(p){var v=p<0;v&&(p=-p),n(p<=67108863);for(var C=(1<<26)%p,R=0,L=this.length-1;L>=0;L--)R=(C*R+(this.words[L]|0))%p;return v?-R:R},s.prototype.modn=function(p){return this.modrn(p)},s.prototype.idivn=function(p){var v=p<0;v&&(p=-p),n(p<=67108863);for(var C=0,R=this.length-1;R>=0;R--){var L=(this.words[R]|0)+C*67108864;this.words[R]=L/p|0,C=L%p}return this._strip(),v?this.ineg():this},s.prototype.divn=function(p){return this.clone().idivn(p)},s.prototype.egcd=function(p){n(p.negative===0),n(!p.isZero());var v=this,C=p.clone();v.negative!==0?v=v.umod(p):v=v.clone();for(var R=new s(1),L=new s(0),G=new s(0),j=new s(1),k=0;v.isEven()&&C.isEven();)v.iushrn(1),C.iushrn(1),++k;for(var m=C.clone(),S=v.clone();!v.isZero();){for(var q=0,E=1;!(v.words[0]&E)&&q<26;++q,E<<=1);if(q>0)for(v.iushrn(q);q-- >0;)(R.isOdd()||L.isOdd())&&(R.iadd(m),L.isub(S)),R.iushrn(1),L.iushrn(1);for(var J=0,oe=1;!(C.words[0]&oe)&&J<26;++J,oe<<=1);if(J>0)for(C.iushrn(J);J-- >0;)(G.isOdd()||j.isOdd())&&(G.iadd(m),j.isub(S)),G.iushrn(1),j.iushrn(1);v.cmp(C)>=0?(v.isub(C),R.isub(G),L.isub(j)):(C.isub(v),G.isub(R),j.isub(L))}return{a:G,b:j,gcd:C.iushln(k)}},s.prototype._invmp=function(p){n(p.negative===0),n(!p.isZero());var v=this,C=p.clone();v.negative!==0?v=v.umod(p):v=v.clone();for(var R=new s(1),L=new s(0),G=C.clone();v.cmpn(1)>0&&C.cmpn(1)>0;){for(var j=0,k=1;!(v.words[0]&k)&&j<26;++j,k<<=1);if(j>0)for(v.iushrn(j);j-- >0;)R.isOdd()&&R.iadd(G),R.iushrn(1);for(var m=0,S=1;!(C.words[0]&S)&&m<26;++m,S<<=1);if(m>0)for(C.iushrn(m);m-- >0;)L.isOdd()&&L.iadd(G),L.iushrn(1);v.cmp(C)>=0?(v.isub(C),R.isub(L)):(C.isub(v),L.isub(R))}var q;return v.cmpn(1)===0?q=R:q=L,q.cmpn(0)<0&&q.iadd(p),q},s.prototype.gcd=function(p){if(this.isZero())return p.abs();if(p.isZero())return this.abs();var v=this.clone(),C=p.clone();v.negative=0,C.negative=0;for(var R=0;v.isEven()&&C.isEven();R++)v.iushrn(1),C.iushrn(1);do{for(;v.isEven();)v.iushrn(1);for(;C.isEven();)C.iushrn(1);var L=v.cmp(C);if(L<0){var G=v;v=C,C=G}else if(L===0||C.cmpn(1)===0)break;v.isub(C)}while(!0);return C.iushln(R)},s.prototype.invm=function(p){return this.egcd(p).a.umod(p)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(p){return this.words[0]&p},s.prototype.bincn=function(p){n(typeof p=="number");var v=p%26,C=(p-v)/26,R=1<<v;if(this.length<=C)return this._expand(C+1),this.words[C]|=R,this;for(var L=R,G=C;L!==0&&G<this.length;G++){var j=this.words[G]|0;j+=L,L=j>>>26,j&=67108863,this.words[G]=j}return L!==0&&(this.words[G]=L,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(p){var v=p<0;if(this.negative!==0&&!v)return-1;if(this.negative===0&&v)return 1;this._strip();var C;if(this.length>1)C=1;else{v&&(p=-p),n(p<=67108863,"Number is too big");var R=this.words[0]|0;C=R===p?0:R<p?-1:1}return this.negative!==0?-C|0:C},s.prototype.cmp=function(p){if(this.negative!==0&&p.negative===0)return-1;if(this.negative===0&&p.negative!==0)return 1;var v=this.ucmp(p);return this.negative!==0?-v|0:v},s.prototype.ucmp=function(p){if(this.length>p.length)return 1;if(this.length<p.length)return-1;for(var v=0,C=this.length-1;C>=0;C--){var R=this.words[C]|0,L=p.words[C]|0;if(R!==L){R<L?v=-1:R>L&&(v=1);break}}return v},s.prototype.gtn=function(p){return this.cmpn(p)===1},s.prototype.gt=function(p){return this.cmp(p)===1},s.prototype.gten=function(p){return this.cmpn(p)>=0},s.prototype.gte=function(p){return this.cmp(p)>=0},s.prototype.ltn=function(p){return this.cmpn(p)===-1},s.prototype.lt=function(p){return this.cmp(p)===-1},s.prototype.lten=function(p){return this.cmpn(p)<=0},s.prototype.lte=function(p){return this.cmp(p)<=0},s.prototype.eqn=function(p){return this.cmpn(p)===0},s.prototype.eq=function(p){return this.cmp(p)===0},s.red=function(p){return new Q(p)},s.prototype.toRed=function(p){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),p.convertTo(this)._forceRed(p)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(p){return this.red=p,this},s.prototype.forceRed=function(p){return n(!this.red,"Already a number in reduction context"),this._forceRed(p)},s.prototype.redAdd=function(p){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,p)},s.prototype.redIAdd=function(p){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,p)},s.prototype.redSub=function(p){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,p)},s.prototype.redISub=function(p){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,p)},s.prototype.redShl=function(p){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,p)},s.prototype.redMul=function(p){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.mul(this,p)},s.prototype.redIMul=function(p){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.imul(this,p)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(p){return n(this.red&&!p.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,p)};var I={k256:null,p224:null,p192:null,p25519:null};function B(N,p){this.name=N,this.p=new s(p,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}B.prototype._tmp=function(){var p=new s(null);return p.words=new Array(Math.ceil(this.n/13)),p},B.prototype.ireduce=function(p){var v=p,C;do this.split(v,this.tmp),v=this.imulK(v),v=v.iadd(this.tmp),C=v.bitLength();while(C>this.n);var R=C<this.n?-1:v.ucmp(this.p);return R===0?(v.words[0]=0,v.length=1):R>0?v.isub(this.p):v.strip!==void 0?v.strip():v._strip(),v},B.prototype.split=function(p,v){p.iushrn(this.n,0,v)},B.prototype.imulK=function(p){return p.imul(this.k)};function V(){B.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(V,B),V.prototype.split=function(p,v){for(var C=4194303,R=Math.min(p.length,9),L=0;L<R;L++)v.words[L]=p.words[L];if(v.length=R,p.length<=9){p.words[0]=0,p.length=1;return}var G=p.words[9];for(v.words[v.length++]=G&C,L=10;L<p.length;L++){var j=p.words[L]|0;p.words[L-10]=(j&C)<<4|G>>>22,G=j}G>>>=22,p.words[L-10]=G,G===0&&p.length>10?p.length-=10:p.length-=9},V.prototype.imulK=function(p){p.words[p.length]=0,p.words[p.length+1]=0,p.length+=2;for(var v=0,C=0;C<p.length;C++){var R=p.words[C]|0;v+=R*977,p.words[C]=v&67108863,v=R*64+(v/67108864|0)}return p.words[p.length-1]===0&&(p.length--,p.words[p.length-1]===0&&p.length--),p};function z(){B.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(z,B);function he(){B.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(he,B);function X(){B.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(X,B),X.prototype.imulK=function(p){for(var v=0,C=0;C<p.length;C++){var R=(p.words[C]|0)*19+v,L=R&67108863;R>>>=26,p.words[C]=L,v=R}return v!==0&&(p.words[p.length++]=v),p},s._prime=function(p){if(I[p])return I[p];var v;if(p==="k256")v=new V;else if(p==="p224")v=new z;else if(p==="p192")v=new he;else if(p==="p25519")v=new X;else throw new Error("Unknown prime "+p);return I[p]=v,v};function Q(N){if(typeof N=="string"){var p=s._prime(N);this.m=p.p,this.prime=p}else n(N.gtn(1),"modulus must be greater than 1"),this.m=N,this.prime=null}Q.prototype._verify1=function(p){n(p.negative===0,"red works only with positives"),n(p.red,"red works only with red numbers")},Q.prototype._verify2=function(p,v){n((p.negative|v.negative)===0,"red works only with positives"),n(p.red&&p.red===v.red,"red works only with red numbers")},Q.prototype.imod=function(p){return this.prime?this.prime.ireduce(p)._forceRed(this):(u(p,p.umod(this.m)._forceRed(this)),p)},Q.prototype.neg=function(p){return p.isZero()?p.clone():this.m.sub(p)._forceRed(this)},Q.prototype.add=function(p,v){this._verify2(p,v);var C=p.add(v);return C.cmp(this.m)>=0&&C.isub(this.m),C._forceRed(this)},Q.prototype.iadd=function(p,v){this._verify2(p,v);var C=p.iadd(v);return C.cmp(this.m)>=0&&C.isub(this.m),C},Q.prototype.sub=function(p,v){this._verify2(p,v);var C=p.sub(v);return C.cmpn(0)<0&&C.iadd(this.m),C._forceRed(this)},Q.prototype.isub=function(p,v){this._verify2(p,v);var C=p.isub(v);return C.cmpn(0)<0&&C.iadd(this.m),C},Q.prototype.shl=function(p,v){return this._verify1(p),this.imod(p.ushln(v))},Q.prototype.imul=function(p,v){return this._verify2(p,v),this.imod(p.imul(v))},Q.prototype.mul=function(p,v){return this._verify2(p,v),this.imod(p.mul(v))},Q.prototype.isqr=function(p){return this.imul(p,p.clone())},Q.prototype.sqr=function(p){return this.mul(p,p)},Q.prototype.sqrt=function(p){if(p.isZero())return p.clone();var v=this.m.andln(3);if(n(v%2===1),v===3){var C=this.m.add(new s(1)).iushrn(2);return this.pow(p,C)}for(var R=this.m.subn(1),L=0;!R.isZero()&&R.andln(1)===0;)L++,R.iushrn(1);n(!R.isZero());var G=new s(1).toRed(this),j=G.redNeg(),k=this.m.subn(1).iushrn(1),m=this.m.bitLength();for(m=new s(2*m*m).toRed(this);this.pow(m,k).cmp(j)!==0;)m.redIAdd(j);for(var S=this.pow(m,R),q=this.pow(p,R.addn(1).iushrn(1)),E=this.pow(p,R),J=L;E.cmp(G)!==0;){for(var oe=E,F=0;oe.cmp(G)!==0;F++)oe=oe.redSqr();n(F<J);var U=this.pow(S,new s(1).iushln(J-F-1));q=q.redMul(U),S=U.redSqr(),E=E.redMul(S),J=F}return q},Q.prototype.invm=function(p){var v=p._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},Q.prototype.pow=function(p,v){if(v.isZero())return new s(1).toRed(this);if(v.cmpn(1)===0)return p.clone();var C=4,R=new Array(1<<C);R[0]=new s(1).toRed(this),R[1]=p;for(var L=2;L<R.length;L++)R[L]=this.mul(R[L-1],p);var G=R[0],j=0,k=0,m=v.bitLength()%26;for(m===0&&(m=26),L=v.length-1;L>=0;L--){for(var S=v.words[L],q=m-1;q>=0;q--){var E=S>>q&1;if(G!==R[0]&&(G=this.sqr(G)),E===0&&j===0){k=0;continue}j<<=1,j|=E,k++,!(k!==C&&(L!==0||q!==0))&&(G=this.mul(G,R[j]),k=0,j=0)}m=26}return G},Q.prototype.convertTo=function(p){var v=p.umod(this.m);return v===p?v.clone():v},Q.prototype.convertFrom=function(p){var v=p.clone();return v.red=null,v},s.mont=function(p){return new Z(p)};function Z(N){Q.call(this,N),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(Z,Q),Z.prototype.convertTo=function(p){return this.imod(p.ushln(this.shift))},Z.prototype.convertFrom=function(p){var v=this.imod(p.mul(this.rinv));return v.red=null,v},Z.prototype.imul=function(p,v){if(p.isZero()||v.isZero())return p.words[0]=0,p.length=1,p;var C=p.imul(v),R=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=C.isub(R).iushrn(this.shift),G=L;return L.cmp(this.m)>=0?G=L.isub(this.m):L.cmpn(0)<0&&(G=L.iadd(this.m)),G._forceRed(this)},Z.prototype.mul=function(p,v){if(p.isZero()||v.isZero())return new s(0)._forceRed(this);var C=p.mul(v),R=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=C.isub(R).iushrn(this.shift),G=L;return L.cmp(this.m)>=0?G=L.isub(this.m):L.cmpn(0)<0&&(G=L.iadd(this.m)),G._forceRed(this)},Z.prototype.invm=function(p){var v=this.imod(p._invmp(this.m).mul(this.r2));return v._forceRed(this)}})(r,mt)})(tl);var zx=tl.exports;const Me=Ai(zx);var dc={exports:{}};typeof Object.create=="function"?dc.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:dc.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}};var qx=dc.exports,ba={},Ri={},Tf;function Wx(){if(Tf)return Ri;Tf=1,Ri.byteLength=a,Ri.toByteArray=l,Ri.fromByteArray=h;for(var r=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=n.length;i<s;++i)r[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function o(g){var b=g.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=g.indexOf("=");y===-1&&(y=b);var T=y===b?0:4-y%4;return[y,T]}function a(g){var b=o(g),y=b[0],T=b[1];return(y+T)*3/4-T}function c(g,b,y){return(b+y)*3/4-y}function l(g){var b,y=o(g),T=y[0],w=y[1],_=new t(c(g,T,w)),P=0,D=w>0?T-4:T,I;for(I=0;I<D;I+=4)b=e[g.charCodeAt(I)]<<18|e[g.charCodeAt(I+1)]<<12|e[g.charCodeAt(I+2)]<<6|e[g.charCodeAt(I+3)],_[P++]=b>>16&255,_[P++]=b>>8&255,_[P++]=b&255;return w===2&&(b=e[g.charCodeAt(I)]<<2|e[g.charCodeAt(I+1)]>>4,_[P++]=b&255),w===1&&(b=e[g.charCodeAt(I)]<<10|e[g.charCodeAt(I+1)]<<4|e[g.charCodeAt(I+2)]>>2,_[P++]=b>>8&255,_[P++]=b&255),_}function u(g){return r[g>>18&63]+r[g>>12&63]+r[g>>6&63]+r[g&63]}function d(g,b,y){for(var T,w=[],_=b;_<y;_+=3)T=(g[_]<<16&16711680)+(g[_+1]<<8&65280)+(g[_+2]&255),w.push(u(T));return w.join("")}function h(g){for(var b,y=g.length,T=y%3,w=[],_=16383,P=0,D=y-T;P<D;P+=_)w.push(d(g,P,P+_>D?D:P+_));return T===1?(b=g[y-1],w.push(r[b>>2]+r[b<<4&63]+"==")):T===2&&(b=(g[y-2]<<8)+g[y-1],w.push(r[b>>10]+r[b>>4&63]+r[b<<2&63]+"=")),w.join("")}return Ri}var Ms={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Sf;function Yx(){return Sf||(Sf=1,Ms.read=function(r,e,t,n,i){var s,o,a=i*8-n-1,c=(1<<a)-1,l=c>>1,u=-7,d=t?i-1:0,h=t?-1:1,g=r[e+d];for(d+=h,s=g&(1<<-u)-1,g>>=-u,u+=a;u>0;s=s*256+r[e+d],d+=h,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=n;u>0;o=o*256+r[e+d],d+=h,u-=8);if(s===0)s=1-l;else{if(s===c)return o?NaN:(g?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-l}return(g?-1:1)*o*Math.pow(2,s-n)},Ms.write=function(r,e,t,n,i,s){var o,a,c,l=s*8-i-1,u=(1<<l)-1,d=u>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:s-1,b=n?1:-1,y=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+d>=1?e+=h/c:e+=h*Math.pow(2,1-d),e*c>=2&&(o++,c/=2),o+d>=u?(a=0,o=u):o+d>=1?(a=(e*c-1)*Math.pow(2,i),o=o+d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;r[t+g]=a&255,g+=b,a/=256,i-=8);for(o=o<<i|a,l+=i;l>0;r[t+g]=o&255,g+=b,o/=256,l-=8);r[t+g-b]|=y*128}),Ms}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var kf;function rl(){return kf||(kf=1,function(r){const e=Wx(),t=Yx(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=a,r.SlowBuffer=_,r.INSPECT_MAX_BYTES=50;const i=2147483647;r.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const A=new Uint8Array(1),f={foo:function(){return 42}};return Object.setPrototypeOf(f,Uint8Array.prototype),Object.setPrototypeOf(A,f),A.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(A){if(A>i)throw new RangeError('The value "'+A+'" is invalid for option "size"');const f=new Uint8Array(A);return Object.setPrototypeOf(f,a.prototype),f}function a(A,f,x){if(typeof A=="number"){if(typeof f=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(A)}return c(A,f,x)}a.poolSize=8192;function c(A,f,x){if(typeof A=="string")return h(A,f);if(ArrayBuffer.isView(A))return b(A);if(A==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A);if(ve(A,ArrayBuffer)||A&&ve(A.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ve(A,SharedArrayBuffer)||A&&ve(A.buffer,SharedArrayBuffer)))return y(A,f,x);if(typeof A=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const M=A.valueOf&&A.valueOf();if(M!=null&&M!==A)return a.from(M,f,x);const O=T(A);if(O)return O;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof A[Symbol.toPrimitive]=="function")return a.from(A[Symbol.toPrimitive]("string"),f,x);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A)}a.from=function(A,f,x){return c(A,f,x)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(A){if(typeof A!="number")throw new TypeError('"size" argument must be of type number');if(A<0)throw new RangeError('The value "'+A+'" is invalid for option "size"')}function u(A,f,x){return l(A),A<=0?o(A):f!==void 0?typeof x=="string"?o(A).fill(f,x):o(A).fill(f):o(A)}a.alloc=function(A,f,x){return u(A,f,x)};function d(A){return l(A),o(A<0?0:w(A)|0)}a.allocUnsafe=function(A){return d(A)},a.allocUnsafeSlow=function(A){return d(A)};function h(A,f){if((typeof f!="string"||f==="")&&(f="utf8"),!a.isEncoding(f))throw new TypeError("Unknown encoding: "+f);const x=P(A,f)|0;let M=o(x);const O=M.write(A,f);return O!==x&&(M=M.slice(0,O)),M}function g(A){const f=A.length<0?0:w(A.length)|0,x=o(f);for(let M=0;M<f;M+=1)x[M]=A[M]&255;return x}function b(A){if(ve(A,Uint8Array)){const f=new Uint8Array(A);return y(f.buffer,f.byteOffset,f.byteLength)}return g(A)}function y(A,f,x){if(f<0||A.byteLength<f)throw new RangeError('"offset" is outside of buffer bounds');if(A.byteLength<f+(x||0))throw new RangeError('"length" is outside of buffer bounds');let M;return f===void 0&&x===void 0?M=new Uint8Array(A):x===void 0?M=new Uint8Array(A,f):M=new Uint8Array(A,f,x),Object.setPrototypeOf(M,a.prototype),M}function T(A){if(a.isBuffer(A)){const f=w(A.length)|0,x=o(f);return x.length===0||A.copy(x,0,0,f),x}if(A.length!==void 0)return typeof A.length!="number"||Se(A.length)?o(0):g(A);if(A.type==="Buffer"&&Array.isArray(A.data))return g(A.data)}function w(A){if(A>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return A|0}function _(A){return+A!=A&&(A=0),a.alloc(+A)}a.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==a.prototype},a.compare=function(f,x){if(ve(f,Uint8Array)&&(f=a.from(f,f.offset,f.byteLength)),ve(x,Uint8Array)&&(x=a.from(x,x.offset,x.byteLength)),!a.isBuffer(f)||!a.isBuffer(x))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===x)return 0;let M=f.length,O=x.length;for(let K=0,te=Math.min(M,O);K<te;++K)if(f[K]!==x[K]){M=f[K],O=x[K];break}return M<O?-1:O<M?1:0},a.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(f,x){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return a.alloc(0);let M;if(x===void 0)for(x=0,M=0;M<f.length;++M)x+=f[M].length;const O=a.allocUnsafe(x);let K=0;for(M=0;M<f.length;++M){let te=f[M];if(ve(te,Uint8Array))K+te.length>O.length?(a.isBuffer(te)||(te=a.from(te)),te.copy(O,K)):Uint8Array.prototype.set.call(O,te,K);else if(a.isBuffer(te))te.copy(O,K);else throw new TypeError('"list" argument must be an Array of Buffers');K+=te.length}return O};function P(A,f){if(a.isBuffer(A))return A.length;if(ArrayBuffer.isView(A)||ve(A,ArrayBuffer))return A.byteLength;if(typeof A!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof A);const x=A.length,M=arguments.length>2&&arguments[2]===!0;if(!M&&x===0)return 0;let O=!1;for(;;)switch(f){case"ascii":case"latin1":case"binary":return x;case"utf8":case"utf-8":return re(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x*2;case"hex":return x>>>1;case"base64":return se(A).length;default:if(O)return M?-1:re(A).length;f=(""+f).toLowerCase(),O=!0}}a.byteLength=P;function D(A,f,x){let M=!1;if((f===void 0||f<0)&&(f=0),f>this.length||((x===void 0||x>this.length)&&(x=this.length),x<=0)||(x>>>=0,f>>>=0,x<=f))return"";for(A||(A="utf8");;)switch(A){case"hex":return G(this,f,x);case"utf8":case"utf-8":return p(this,f,x);case"ascii":return R(this,f,x);case"latin1":case"binary":return L(this,f,x);case"base64":return N(this,f,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,f,x);default:if(M)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),M=!0}}a.prototype._isBuffer=!0;function I(A,f,x){const M=A[f];A[f]=A[x],A[x]=M}a.prototype.swap16=function(){const f=this.length;if(f%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let x=0;x<f;x+=2)I(this,x,x+1);return this},a.prototype.swap32=function(){const f=this.length;if(f%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let x=0;x<f;x+=4)I(this,x,x+3),I(this,x+1,x+2);return this},a.prototype.swap64=function(){const f=this.length;if(f%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let x=0;x<f;x+=8)I(this,x,x+7),I(this,x+1,x+6),I(this,x+2,x+5),I(this,x+3,x+4);return this},a.prototype.toString=function(){const f=this.length;return f===0?"":arguments.length===0?p(this,0,f):D.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(f){if(!a.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f?!0:a.compare(this,f)===0},a.prototype.inspect=function(){let f="";const x=r.INSPECT_MAX_BYTES;return f=this.toString("hex",0,x).replace(/(.{2})/g,"$1 ").trim(),this.length>x&&(f+=" ... "),"<Buffer "+f+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(f,x,M,O,K){if(ve(f,Uint8Array)&&(f=a.from(f,f.offset,f.byteLength)),!a.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(x===void 0&&(x=0),M===void 0&&(M=f?f.length:0),O===void 0&&(O=0),K===void 0&&(K=this.length),x<0||M>f.length||O<0||K>this.length)throw new RangeError("out of range index");if(O>=K&&x>=M)return 0;if(O>=K)return-1;if(x>=M)return 1;if(x>>>=0,M>>>=0,O>>>=0,K>>>=0,this===f)return 0;let te=K-O,Ae=M-x;const we=Math.min(te,Ae),ge=this.slice(O,K),ke=f.slice(x,M);for(let Te=0;Te<we;++Te)if(ge[Te]!==ke[Te]){te=ge[Te],Ae=ke[Te];break}return te<Ae?-1:Ae<te?1:0};function B(A,f,x,M,O){if(A.length===0)return-1;if(typeof x=="string"?(M=x,x=0):x>2147483647?x=2147483647:x<-2147483648&&(x=-2147483648),x=+x,Se(x)&&(x=O?0:A.length-1),x<0&&(x=A.length+x),x>=A.length){if(O)return-1;x=A.length-1}else if(x<0)if(O)x=0;else return-1;if(typeof f=="string"&&(f=a.from(f,M)),a.isBuffer(f))return f.length===0?-1:V(A,f,x,M,O);if(typeof f=="number")return f=f&255,typeof Uint8Array.prototype.indexOf=="function"?O?Uint8Array.prototype.indexOf.call(A,f,x):Uint8Array.prototype.lastIndexOf.call(A,f,x):V(A,[f],x,M,O);throw new TypeError("val must be string, number or Buffer")}function V(A,f,x,M,O){let K=1,te=A.length,Ae=f.length;if(M!==void 0&&(M=String(M).toLowerCase(),M==="ucs2"||M==="ucs-2"||M==="utf16le"||M==="utf-16le")){if(A.length<2||f.length<2)return-1;K=2,te/=2,Ae/=2,x/=2}function we(ke,Te){return K===1?ke[Te]:ke.readUInt16BE(Te*K)}let ge;if(O){let ke=-1;for(ge=x;ge<te;ge++)if(we(A,ge)===we(f,ke===-1?0:ge-ke)){if(ke===-1&&(ke=ge),ge-ke+1===Ae)return ke*K}else ke!==-1&&(ge-=ge-ke),ke=-1}else for(x+Ae>te&&(x=te-Ae),ge=x;ge>=0;ge--){let ke=!0;for(let Te=0;Te<Ae;Te++)if(we(A,ge+Te)!==we(f,Te)){ke=!1;break}if(ke)return ge}return-1}a.prototype.includes=function(f,x,M){return this.indexOf(f,x,M)!==-1},a.prototype.indexOf=function(f,x,M){return B(this,f,x,M,!0)},a.prototype.lastIndexOf=function(f,x,M){return B(this,f,x,M,!1)};function z(A,f,x,M){x=Number(x)||0;const O=A.length-x;M?(M=Number(M),M>O&&(M=O)):M=O;const K=f.length;M>K/2&&(M=K/2);let te;for(te=0;te<M;++te){const Ae=parseInt(f.substr(te*2,2),16);if(Se(Ae))return te;A[x+te]=Ae}return te}function he(A,f,x,M){return ye(re(f,A.length-x),A,x,M)}function X(A,f,x,M){return ye(le(f),A,x,M)}function Q(A,f,x,M){return ye(se(f),A,x,M)}function Z(A,f,x,M){return ye($(f,A.length-x),A,x,M)}a.prototype.write=function(f,x,M,O){if(x===void 0)O="utf8",M=this.length,x=0;else if(M===void 0&&typeof x=="string")O=x,M=this.length,x=0;else if(isFinite(x))x=x>>>0,isFinite(M)?(M=M>>>0,O===void 0&&(O="utf8")):(O=M,M=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const K=this.length-x;if((M===void 0||M>K)&&(M=K),f.length>0&&(M<0||x<0)||x>this.length)throw new RangeError("Attempt to write outside buffer bounds");O||(O="utf8");let te=!1;for(;;)switch(O){case"hex":return z(this,f,x,M);case"utf8":case"utf-8":return he(this,f,x,M);case"ascii":case"latin1":case"binary":return X(this,f,x,M);case"base64":return Q(this,f,x,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,f,x,M);default:if(te)throw new TypeError("Unknown encoding: "+O);O=(""+O).toLowerCase(),te=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function N(A,f,x){return f===0&&x===A.length?e.fromByteArray(A):e.fromByteArray(A.slice(f,x))}function p(A,f,x){x=Math.min(A.length,x);const M=[];let O=f;for(;O<x;){const K=A[O];let te=null,Ae=K>239?4:K>223?3:K>191?2:1;if(O+Ae<=x){let we,ge,ke,Te;switch(Ae){case 1:K<128&&(te=K);break;case 2:we=A[O+1],(we&192)===128&&(Te=(K&31)<<6|we&63,Te>127&&(te=Te));break;case 3:we=A[O+1],ge=A[O+2],(we&192)===128&&(ge&192)===128&&(Te=(K&15)<<12|(we&63)<<6|ge&63,Te>2047&&(Te<55296||Te>57343)&&(te=Te));break;case 4:we=A[O+1],ge=A[O+2],ke=A[O+3],(we&192)===128&&(ge&192)===128&&(ke&192)===128&&(Te=(K&15)<<18|(we&63)<<12|(ge&63)<<6|ke&63,Te>65535&&Te<1114112&&(te=Te))}}te===null?(te=65533,Ae=1):te>65535&&(te-=65536,M.push(te>>>10&1023|55296),te=56320|te&1023),M.push(te),O+=Ae}return C(M)}const v=4096;function C(A){const f=A.length;if(f<=v)return String.fromCharCode.apply(String,A);let x="",M=0;for(;M<f;)x+=String.fromCharCode.apply(String,A.slice(M,M+=v));return x}function R(A,f,x){let M="";x=Math.min(A.length,x);for(let O=f;O<x;++O)M+=String.fromCharCode(A[O]&127);return M}function L(A,f,x){let M="";x=Math.min(A.length,x);for(let O=f;O<x;++O)M+=String.fromCharCode(A[O]);return M}function G(A,f,x){const M=A.length;(!f||f<0)&&(f=0),(!x||x<0||x>M)&&(x=M);let O="";for(let K=f;K<x;++K)O+=Le[A[K]];return O}function j(A,f,x){const M=A.slice(f,x);let O="";for(let K=0;K<M.length-1;K+=2)O+=String.fromCharCode(M[K]+M[K+1]*256);return O}a.prototype.slice=function(f,x){const M=this.length;f=~~f,x=x===void 0?M:~~x,f<0?(f+=M,f<0&&(f=0)):f>M&&(f=M),x<0?(x+=M,x<0&&(x=0)):x>M&&(x=M),x<f&&(x=f);const O=this.subarray(f,x);return Object.setPrototypeOf(O,a.prototype),O};function k(A,f,x){if(A%1!==0||A<0)throw new RangeError("offset is not uint");if(A+f>x)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(f,x,M){f=f>>>0,x=x>>>0,M||k(f,x,this.length);let O=this[f],K=1,te=0;for(;++te<x&&(K*=256);)O+=this[f+te]*K;return O},a.prototype.readUintBE=a.prototype.readUIntBE=function(f,x,M){f=f>>>0,x=x>>>0,M||k(f,x,this.length);let O=this[f+--x],K=1;for(;x>0&&(K*=256);)O+=this[f+--x]*K;return O},a.prototype.readUint8=a.prototype.readUInt8=function(f,x){return f=f>>>0,x||k(f,1,this.length),this[f]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(f,x){return f=f>>>0,x||k(f,2,this.length),this[f]|this[f+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(f,x){return f=f>>>0,x||k(f,2,this.length),this[f]<<8|this[f+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(f,x){return f=f>>>0,x||k(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+this[f+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(f,x){return f=f>>>0,x||k(f,4,this.length),this[f]*16777216+(this[f+1]<<16|this[f+2]<<8|this[f+3])},a.prototype.readBigUInt64LE=xt(function(f){f=f>>>0,be(f,"offset");const x=this[f],M=this[f+7];(x===void 0||M===void 0)&&ue(f,this.length-8);const O=x+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24,K=this[++f]+this[++f]*2**8+this[++f]*2**16+M*2**24;return BigInt(O)+(BigInt(K)<<BigInt(32))}),a.prototype.readBigUInt64BE=xt(function(f){f=f>>>0,be(f,"offset");const x=this[f],M=this[f+7];(x===void 0||M===void 0)&&ue(f,this.length-8);const O=x*2**24+this[++f]*2**16+this[++f]*2**8+this[++f],K=this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+M;return(BigInt(O)<<BigInt(32))+BigInt(K)}),a.prototype.readIntLE=function(f,x,M){f=f>>>0,x=x>>>0,M||k(f,x,this.length);let O=this[f],K=1,te=0;for(;++te<x&&(K*=256);)O+=this[f+te]*K;return K*=128,O>=K&&(O-=Math.pow(2,8*x)),O},a.prototype.readIntBE=function(f,x,M){f=f>>>0,x=x>>>0,M||k(f,x,this.length);let O=x,K=1,te=this[f+--O];for(;O>0&&(K*=256);)te+=this[f+--O]*K;return K*=128,te>=K&&(te-=Math.pow(2,8*x)),te},a.prototype.readInt8=function(f,x){return f=f>>>0,x||k(f,1,this.length),this[f]&128?(255-this[f]+1)*-1:this[f]},a.prototype.readInt16LE=function(f,x){f=f>>>0,x||k(f,2,this.length);const M=this[f]|this[f+1]<<8;return M&32768?M|4294901760:M},a.prototype.readInt16BE=function(f,x){f=f>>>0,x||k(f,2,this.length);const M=this[f+1]|this[f]<<8;return M&32768?M|4294901760:M},a.prototype.readInt32LE=function(f,x){return f=f>>>0,x||k(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},a.prototype.readInt32BE=function(f,x){return f=f>>>0,x||k(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},a.prototype.readBigInt64LE=xt(function(f){f=f>>>0,be(f,"offset");const x=this[f],M=this[f+7];(x===void 0||M===void 0)&&ue(f,this.length-8);const O=this[f+4]+this[f+5]*2**8+this[f+6]*2**16+(M<<24);return(BigInt(O)<<BigInt(32))+BigInt(x+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24)}),a.prototype.readBigInt64BE=xt(function(f){f=f>>>0,be(f,"offset");const x=this[f],M=this[f+7];(x===void 0||M===void 0)&&ue(f,this.length-8);const O=(x<<24)+this[++f]*2**16+this[++f]*2**8+this[++f];return(BigInt(O)<<BigInt(32))+BigInt(this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+M)}),a.prototype.readFloatLE=function(f,x){return f=f>>>0,x||k(f,4,this.length),t.read(this,f,!0,23,4)},a.prototype.readFloatBE=function(f,x){return f=f>>>0,x||k(f,4,this.length),t.read(this,f,!1,23,4)},a.prototype.readDoubleLE=function(f,x){return f=f>>>0,x||k(f,8,this.length),t.read(this,f,!0,52,8)},a.prototype.readDoubleBE=function(f,x){return f=f>>>0,x||k(f,8,this.length),t.read(this,f,!1,52,8)};function m(A,f,x,M,O,K){if(!a.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(f>O||f<K)throw new RangeError('"value" argument is out of bounds');if(x+M>A.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(f,x,M,O){if(f=+f,x=x>>>0,M=M>>>0,!O){const Ae=Math.pow(2,8*M)-1;m(this,f,x,M,Ae,0)}let K=1,te=0;for(this[x]=f&255;++te<M&&(K*=256);)this[x+te]=f/K&255;return x+M},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(f,x,M,O){if(f=+f,x=x>>>0,M=M>>>0,!O){const Ae=Math.pow(2,8*M)-1;m(this,f,x,M,Ae,0)}let K=M-1,te=1;for(this[x+K]=f&255;--K>=0&&(te*=256);)this[x+K]=f/te&255;return x+M},a.prototype.writeUint8=a.prototype.writeUInt8=function(f,x,M){return f=+f,x=x>>>0,M||m(this,f,x,1,255,0),this[x]=f&255,x+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(f,x,M){return f=+f,x=x>>>0,M||m(this,f,x,2,65535,0),this[x]=f&255,this[x+1]=f>>>8,x+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(f,x,M){return f=+f,x=x>>>0,M||m(this,f,x,2,65535,0),this[x]=f>>>8,this[x+1]=f&255,x+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(f,x,M){return f=+f,x=x>>>0,M||m(this,f,x,4,4294967295,0),this[x+3]=f>>>24,this[x+2]=f>>>16,this[x+1]=f>>>8,this[x]=f&255,x+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(f,x,M){return f=+f,x=x>>>0,M||m(this,f,x,4,4294967295,0),this[x]=f>>>24,this[x+1]=f>>>16,this[x+2]=f>>>8,this[x+3]=f&255,x+4};function S(A,f,x,M,O){ae(f,M,O,A,x,7);let K=Number(f&BigInt(4294967295));A[x++]=K,K=K>>8,A[x++]=K,K=K>>8,A[x++]=K,K=K>>8,A[x++]=K;let te=Number(f>>BigInt(32)&BigInt(4294967295));return A[x++]=te,te=te>>8,A[x++]=te,te=te>>8,A[x++]=te,te=te>>8,A[x++]=te,x}function q(A,f,x,M,O){ae(f,M,O,A,x,7);let K=Number(f&BigInt(4294967295));A[x+7]=K,K=K>>8,A[x+6]=K,K=K>>8,A[x+5]=K,K=K>>8,A[x+4]=K;let te=Number(f>>BigInt(32)&BigInt(4294967295));return A[x+3]=te,te=te>>8,A[x+2]=te,te=te>>8,A[x+1]=te,te=te>>8,A[x]=te,x+8}a.prototype.writeBigUInt64LE=xt(function(f,x=0){return S(this,f,x,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=xt(function(f,x=0){return q(this,f,x,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(f,x,M,O){if(f=+f,x=x>>>0,!O){const we=Math.pow(2,8*M-1);m(this,f,x,M,we-1,-we)}let K=0,te=1,Ae=0;for(this[x]=f&255;++K<M&&(te*=256);)f<0&&Ae===0&&this[x+K-1]!==0&&(Ae=1),this[x+K]=(f/te>>0)-Ae&255;return x+M},a.prototype.writeIntBE=function(f,x,M,O){if(f=+f,x=x>>>0,!O){const we=Math.pow(2,8*M-1);m(this,f,x,M,we-1,-we)}let K=M-1,te=1,Ae=0;for(this[x+K]=f&255;--K>=0&&(te*=256);)f<0&&Ae===0&&this[x+K+1]!==0&&(Ae=1),this[x+K]=(f/te>>0)-Ae&255;return x+M},a.prototype.writeInt8=function(f,x,M){return f=+f,x=x>>>0,M||m(this,f,x,1,127,-128),f<0&&(f=255+f+1),this[x]=f&255,x+1},a.prototype.writeInt16LE=function(f,x,M){return f=+f,x=x>>>0,M||m(this,f,x,2,32767,-32768),this[x]=f&255,this[x+1]=f>>>8,x+2},a.prototype.writeInt16BE=function(f,x,M){return f=+f,x=x>>>0,M||m(this,f,x,2,32767,-32768),this[x]=f>>>8,this[x+1]=f&255,x+2},a.prototype.writeInt32LE=function(f,x,M){return f=+f,x=x>>>0,M||m(this,f,x,4,2147483647,-2147483648),this[x]=f&255,this[x+1]=f>>>8,this[x+2]=f>>>16,this[x+3]=f>>>24,x+4},a.prototype.writeInt32BE=function(f,x,M){return f=+f,x=x>>>0,M||m(this,f,x,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[x]=f>>>24,this[x+1]=f>>>16,this[x+2]=f>>>8,this[x+3]=f&255,x+4},a.prototype.writeBigInt64LE=xt(function(f,x=0){return S(this,f,x,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=xt(function(f,x=0){return q(this,f,x,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function E(A,f,x,M,O,K){if(x+M>A.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("Index out of range")}function J(A,f,x,M,O){return f=+f,x=x>>>0,O||E(A,f,x,4),t.write(A,f,x,M,23,4),x+4}a.prototype.writeFloatLE=function(f,x,M){return J(this,f,x,!0,M)},a.prototype.writeFloatBE=function(f,x,M){return J(this,f,x,!1,M)};function oe(A,f,x,M,O){return f=+f,x=x>>>0,O||E(A,f,x,8),t.write(A,f,x,M,52,8),x+8}a.prototype.writeDoubleLE=function(f,x,M){return oe(this,f,x,!0,M)},a.prototype.writeDoubleBE=function(f,x,M){return oe(this,f,x,!1,M)},a.prototype.copy=function(f,x,M,O){if(!a.isBuffer(f))throw new TypeError("argument should be a Buffer");if(M||(M=0),!O&&O!==0&&(O=this.length),x>=f.length&&(x=f.length),x||(x=0),O>0&&O<M&&(O=M),O===M||f.length===0||this.length===0)return 0;if(x<0)throw new RangeError("targetStart out of bounds");if(M<0||M>=this.length)throw new RangeError("Index out of range");if(O<0)throw new RangeError("sourceEnd out of bounds");O>this.length&&(O=this.length),f.length-x<O-M&&(O=f.length-x+M);const K=O-M;return this===f&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(x,M,O):Uint8Array.prototype.set.call(f,this.subarray(M,O),x),K},a.prototype.fill=function(f,x,M,O){if(typeof f=="string"){if(typeof x=="string"?(O=x,x=0,M=this.length):typeof M=="string"&&(O=M,M=this.length),O!==void 0&&typeof O!="string")throw new TypeError("encoding must be a string");if(typeof O=="string"&&!a.isEncoding(O))throw new TypeError("Unknown encoding: "+O);if(f.length===1){const te=f.charCodeAt(0);(O==="utf8"&&te<128||O==="latin1")&&(f=te)}}else typeof f=="number"?f=f&255:typeof f=="boolean"&&(f=Number(f));if(x<0||this.length<x||this.length<M)throw new RangeError("Out of range index");if(M<=x)return this;x=x>>>0,M=M===void 0?this.length:M>>>0,f||(f=0);let K;if(typeof f=="number")for(K=x;K<M;++K)this[K]=f;else{const te=a.isBuffer(f)?f:a.from(f,O),Ae=te.length;if(Ae===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(K=0;K<M-x;++K)this[K+x]=te[K%Ae]}return this};const F={};function U(A,f,x){F[A]=class extends x{constructor(){super(),Object.defineProperty(this,"message",{value:f.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${A}]`,this.stack,delete this.name}get code(){return A}set code(O){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:O,writable:!0})}toString(){return`${this.name} [${A}]: ${this.message}`}}}U("ERR_BUFFER_OUT_OF_BOUNDS",function(A){return A?`${A} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),U("ERR_INVALID_ARG_TYPE",function(A,f){return`The "${A}" argument must be of type number. Received type ${typeof f}`},TypeError),U("ERR_OUT_OF_RANGE",function(A,f,x){let M=`The value of "${A}" is out of range.`,O=x;return Number.isInteger(x)&&Math.abs(x)>2**32?O=H(String(x)):typeof x=="bigint"&&(O=String(x),(x>BigInt(2)**BigInt(32)||x<-(BigInt(2)**BigInt(32)))&&(O=H(O)),O+="n"),M+=` It must be ${f}. Received ${O}`,M},RangeError);function H(A){let f="",x=A.length;const M=A[0]==="-"?1:0;for(;x>=M+4;x-=3)f=`_${A.slice(x-3,x)}${f}`;return`${A.slice(0,x)}${f}`}function ee(A,f,x){be(f,"offset"),(A[f]===void 0||A[f+x]===void 0)&&ue(f,A.length-(x+1))}function ae(A,f,x,M,O,K){if(A>x||A<f){const te=typeof f=="bigint"?"n":"";let Ae;throw f===0||f===BigInt(0)?Ae=`>= 0${te} and < 2${te} ** ${(K+1)*8}${te}`:Ae=`>= -(2${te} ** ${(K+1)*8-1}${te}) and < 2 ** ${(K+1)*8-1}${te}`,new F.ERR_OUT_OF_RANGE("value",Ae,A)}ee(M,O,K)}function be(A,f){if(typeof A!="number")throw new F.ERR_INVALID_ARG_TYPE(f,"number",A)}function ue(A,f,x){throw Math.floor(A)!==A?(be(A,x),new F.ERR_OUT_OF_RANGE("offset","an integer",A)):f<0?new F.ERR_BUFFER_OUT_OF_BOUNDS:new F.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${f}`,A)}const ie=/[^+/0-9A-Za-z-_]/g;function de(A){if(A=A.split("=")[0],A=A.trim().replace(ie,""),A.length<2)return"";for(;A.length%4!==0;)A=A+"=";return A}function re(A,f){f=f||1/0;let x;const M=A.length;let O=null;const K=[];for(let te=0;te<M;++te){if(x=A.charCodeAt(te),x>55295&&x<57344){if(!O){if(x>56319){(f-=3)>-1&&K.push(239,191,189);continue}else if(te+1===M){(f-=3)>-1&&K.push(239,191,189);continue}O=x;continue}if(x<56320){(f-=3)>-1&&K.push(239,191,189),O=x;continue}x=(O-55296<<10|x-56320)+65536}else O&&(f-=3)>-1&&K.push(239,191,189);if(O=null,x<128){if((f-=1)<0)break;K.push(x)}else if(x<2048){if((f-=2)<0)break;K.push(x>>6|192,x&63|128)}else if(x<65536){if((f-=3)<0)break;K.push(x>>12|224,x>>6&63|128,x&63|128)}else if(x<1114112){if((f-=4)<0)break;K.push(x>>18|240,x>>12&63|128,x>>6&63|128,x&63|128)}else throw new Error("Invalid code point")}return K}function le(A){const f=[];for(let x=0;x<A.length;++x)f.push(A.charCodeAt(x)&255);return f}function $(A,f){let x,M,O;const K=[];for(let te=0;te<A.length&&!((f-=2)<0);++te)x=A.charCodeAt(te),M=x>>8,O=x%256,K.push(O),K.push(M);return K}function se(A){return e.toByteArray(de(A))}function ye(A,f,x,M){let O;for(O=0;O<M&&!(O+x>=f.length||O>=A.length);++O)f[O+x]=A[O];return O}function ve(A,f){return A instanceof f||A!=null&&A.constructor!=null&&A.constructor.name!=null&&A.constructor.name===f.name}function Se(A){return A!==A}const Le=function(){const A="0123456789abcdef",f=new Array(256);for(let x=0;x<16;++x){const M=x*16;for(let O=0;O<16;++O)f[M+O]=A[x]+A[O]}return f}();function xt(A){return typeof BigInt>"u"?ne:A}function ne(){throw new Error("BigInt not supported")}}(ba)),ba}function Jx({title:r,titleId:e,...t},n){return fe.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?fe.createElement("title",{id:e},r):null,fe.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const Xx=fe.forwardRef(Jx);function Qx({title:r,titleId:e,...t},n){return fe.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?fe.createElement("title",{id:e},r):null,fe.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"}))}const Zx=fe.forwardRef(Qx);function eg({title:r,titleId:e,...t},n){return fe.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?fe.createElement("title",{id:e},r):null,fe.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const tg=fe.forwardRef(eg);function rg({title:r,titleId:e,...t},n){return fe.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?fe.createElement("title",{id:e},r):null,fe.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const Ah=fe.forwardRef(rg);function ng({title:r,titleId:e,...t},n){return fe.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?fe.createElement("title",{id:e},r):null,fe.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const Gs=fe.forwardRef(ng);function ig({title:r,titleId:e,...t},n){return fe.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?fe.createElement("title",{id:e},r):null,fe.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const sg=fe.forwardRef(ig);function og({title:r,titleId:e,...t},n){return fe.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?fe.createElement("title",{id:e},r):null,fe.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const ya=fe.forwardRef(og);function ag({title:r,titleId:e,...t},n){return fe.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?fe.createElement("title",{id:e},r):null,fe.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3"}))}const cg=fe.forwardRef(ag);function lg({title:r,titleId:e,...t},n){return fe.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?fe.createElement("title",{id:e},r):null,fe.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const io=fe.forwardRef(lg),fg=({isVisible:r,onClose:e})=>{const t=[{icon:Fx,text:"Launch your token instantly"},{icon:Dx,text:"Get discovered by early traders"},{icon:Ux,text:"Trade with zero slippage"},{icon:$x,text:"Track your portfolio"},{icon:jx,text:"List on DEX at 8 ETH"}];return r?W.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:W.jsxs("div",{className:"bg-[var(--card)] rounded-lg relative max-w-md w-full",children:[W.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:W.jsx(io,{className:"h-6 w-6"})}),W.jsxs("div",{className:"p-6",children:[W.jsx("h2",{className:"text-xl font-bold text-white mb-6 text-center",children:"How It Works"}),W.jsx("div",{className:"space-y-6",children:t.map((n,i)=>W.jsxs("div",{className:"flex items-center gap-4",children:[W.jsx("div",{className:"bg-[var(--card2)] p-3 rounded-lg",children:W.jsx(n.icon,{className:"h-6 w-6 text-[var(--primary)]"})}),W.jsx("p",{className:"text-gray-400",children:n.text})]},i))}),W.jsx("button",{onClick:e,className:"w-full mt-8 py-3 bg-[var(--primary)] text-black rounded-lg font-medium hover:bg-[var(--primary-hover)] transition-colors",children:"Got it!"})]})]})}):null},nl=fe.createContext({});function il(r){const e=fe.useRef(null);return e.current===null&&(e.current=r()),e.current}const Ro=fe.createContext(null),sl=fe.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"});class ug extends fe.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function hg({children:r,isPresent:e}){const t=fe.useId(),n=fe.useRef(null),i=fe.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=fe.useContext(sl);return fe.useInsertionEffect(()=>{const{width:o,height:a,top:c,left:l}=i.current;if(e||!n.current||!o||!a)return;n.current.dataset.motionPopId=t;const u=document.createElement("style");return s&&(u.nonce=s),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${c}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),W.jsx(ug,{isPresent:e,childRef:n,sizeRef:i,children:fe.cloneElement(r,{ref:n})})}const dg=({children:r,initial:e,isPresent:t,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=il(pg),c=fe.useId(),l=fe.useCallback(d=>{a.set(d,!0);for(const h of a.values())if(!h)return;n&&n()},[a,n]),u=fe.useMemo(()=>({id:c,initial:e,isPresent:t,custom:i,onExitComplete:l,register:d=>(a.set(d,!1),()=>a.delete(d))}),s?[Math.random(),l]:[t,l]);return fe.useMemo(()=>{a.forEach((d,h)=>a.set(h,!1))},[t]),fe.useEffect(()=>{!t&&!a.size&&n&&n()},[t]),o==="popLayout"&&(r=W.jsx(hg,{isPresent:t,children:r})),W.jsx(Ro.Provider,{value:u,children:r})};function pg(){return new Map}function Eh(r=!0){const e=fe.useContext(Ro);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:i}=e,s=fe.useId();fe.useEffect(()=>{r&&i(s)},[r]);const o=fe.useCallback(()=>r&&n&&n(s),[s,n,r]);return!t&&n?[!1,o]:[!0]}const _s=r=>r.key||"";function Cf(r){const e=[];return fe.Children.forEach(r,t=>{fe.isValidElement(t)&&e.push(t)}),e}const ol=typeof window<"u",Th=ol?fe.useLayoutEffect:fe.useEffect,al=({children:r,custom:e,initial:t=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1})=>{const[a,c]=Eh(o),l=fe.useMemo(()=>Cf(r),[r]),u=o&&!a?[]:l.map(_s),d=fe.useRef(!0),h=fe.useRef(l),g=il(()=>new Map),[b,y]=fe.useState(l),[T,w]=fe.useState(l);Th(()=>{d.current=!1,h.current=l;for(let D=0;D<T.length;D++){const I=_s(T[D]);u.includes(I)?g.delete(I):g.get(I)!==!0&&g.set(I,!1)}},[T,u.length,u.join("-")]);const _=[];if(l!==b){let D=[...l];for(let I=0;I<T.length;I++){const B=T[I],V=_s(B);u.includes(V)||(D.splice(I,0,B),_.push(B))}s==="wait"&&_.length&&(D=_),w(Cf(D)),y(l);return}const{forceRender:P}=fe.useContext(nl);return W.jsx(W.Fragment,{children:T.map(D=>{const I=_s(D),B=o&&!a?!1:l===T||u.includes(I),V=()=>{if(g.has(I))g.set(I,!0);else return;let z=!0;g.forEach(he=>{he||(z=!1)}),z&&(P==null||P(),w(h.current),o&&(c==null||c()),n&&n())};return W.jsx(dg,{isPresent:B,initial:!d.current||t?void 0:!1,custom:B?void 0:e,presenceAffectsLayout:i,mode:s,onExitComplete:B?void 0:V,children:D},I)})})},qt=r=>r;let Sh=qt;function cl(r){let e;return()=>(e===void 0&&(e=r()),e)}const di=(r,e,t)=>{const n=e-r;return n===0?1:(t-r)/n},Fr=r=>r*1e3,Dr=r=>r/1e3,mg={useManualTiming:!1};function xg(r){let e=new Set,t=new Set,n=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(l){s.has(l)&&(c.schedule(l),r()),l(o)}const c={schedule:(l,u=!1,d=!1)=>{const g=d&&n?e:t;return u&&s.add(l),g.has(l)||g.add(l),l},cancel:l=>{t.delete(l),s.delete(l)},process:l=>{if(o=l,n){i=!0;return}n=!0,[e,t]=[t,e],e.forEach(a),e.clear(),n=!1,i&&(i=!1,c.process(l))}};return c}const Ns=["read","resolveKeyframes","update","preRender","render","postRender"],gg=40;function kh(r,e){let t=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,o=Ns.reduce((w,_)=>(w[_]=xg(s),w),{}),{read:a,resolveKeyframes:c,update:l,preRender:u,render:d,postRender:h}=o,g=()=>{const w=performance.now();t=!1,i.delta=n?1e3/60:Math.max(Math.min(w-i.timestamp,gg),1),i.timestamp=w,i.isProcessing=!0,a.process(i),c.process(i),l.process(i),u.process(i),d.process(i),h.process(i),i.isProcessing=!1,t&&e&&(n=!1,r(g))},b=()=>{t=!0,n=!0,i.isProcessing||r(g)};return{schedule:Ns.reduce((w,_)=>{const P=o[_];return w[_]=(D,I=!1,B=!1)=>(t||b(),P.schedule(D,I,B)),w},{}),cancel:w=>{for(let _=0;_<Ns.length;_++)o[Ns[_]].cancel(w)},state:i,steps:o}}const{schedule:ct,cancel:an,state:St,steps:wa}=kh(typeof requestAnimationFrame<"u"?requestAnimationFrame:qt,!0),Ch=fe.createContext({strict:!1}),Mf={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},pi={};for(const r in Mf)pi[r]={isEnabled:e=>Mf[r].some(t=>!!e[t])};function bg(r){for(const e in r)pi[e]={...pi[e],...r[e]}}const yg=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function so(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||yg.has(r)}let Mh=r=>!so(r);function wg(r){r&&(Mh=e=>e.startsWith("on")?!so(e):r(e))}try{wg(require("@emotion/is-prop-valid").default)}catch{}function vg(r,e,t){const n={};for(const i in r)i==="values"&&typeof r.values=="object"||(Mh(i)||t===!0&&so(i)||!e&&!so(i)||r.draggable&&i.startsWith("onDrag"))&&(n[i]=r[i]);return n}function Ag(r){if(typeof Proxy>"u")return r;const e=new Map,t=(...n)=>r(...n);return new Proxy(t,{get:(n,i)=>i==="create"?r:(e.has(i)||e.set(i,r(i)),e.get(i))})}const Po=fe.createContext({});function ns(r){return typeof r=="string"||Array.isArray(r)}function Bo(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}const ll=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],fl=["initial",...ll];function Io(r){return Bo(r.animate)||fl.some(e=>ns(r[e]))}function _h(r){return!!(Io(r)||r.variants)}function Eg(r,e){if(Io(r)){const{initial:t,animate:n}=r;return{initial:t===!1||ns(t)?t:void 0,animate:ns(n)?n:void 0}}return r.inherit!==!1?e:{}}function Tg(r){const{initial:e,animate:t}=Eg(r,fe.useContext(Po));return fe.useMemo(()=>({initial:e,animate:t}),[_f(e),_f(t)])}function _f(r){return Array.isArray(r)?r.join(" "):r}const Sg=Symbol.for("motionComponentSymbol");function ei(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function kg(r,e,t){return fe.useCallback(n=>{n&&r.onMount&&r.onMount(n),e&&(n?e.mount(n):e.unmount()),t&&(typeof t=="function"?t(n):ei(t)&&(t.current=n))},[e])}const ul=r=>r.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Cg="framerAppearId",Nh="data-"+ul(Cg),{schedule:hl}=kh(queueMicrotask,!1),Rh=fe.createContext({});function Mg(r,e,t,n,i){var s,o;const{visualElement:a}=fe.useContext(Po),c=fe.useContext(Ch),l=fe.useContext(Ro),u=fe.useContext(sl).reducedMotion,d=fe.useRef(null);n=n||c.renderer,!d.current&&n&&(d.current=n(r,{visualState:e,parent:a,props:t,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const h=d.current,g=fe.useContext(Rh);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&_g(d.current,t,i,g);const b=fe.useRef(!1);fe.useInsertionEffect(()=>{h&&b.current&&h.update(t,l)});const y=t[Nh],T=fe.useRef(!!y&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,y))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,y)));return Th(()=>{h&&(b.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),hl.render(h.render),T.current&&h.animationState&&h.animationState.animateChanges())}),fe.useEffect(()=>{h&&(!T.current&&h.animationState&&h.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)===null||w===void 0||w.call(window,y)}),T.current=!1))}),h}function _g(r,e,t,n){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:c,layoutRoot:l}=e;r.projection=new t(r.latestValues,e["data-framer-portal-id"]?void 0:Ph(r.parent)),r.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&ei(a),visualElement:r,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:l})}function Ph(r){if(r)return r.options.allowProjection!==!1?r.projection:Ph(r.parent)}function Ng({preloadedFeatures:r,createVisualElement:e,useRender:t,useVisualState:n,Component:i}){var s,o;r&&bg(r);function a(l,u){let d;const h={...fe.useContext(sl),...l,layoutId:Rg(l)},{isStatic:g}=h,b=Tg(l),y=n(l,g);if(!g&&ol){Pg();const T=Bg(h);d=T.MeasureLayout,b.visualElement=Mg(i,y,h,e,T.ProjectionNode)}return W.jsxs(Po.Provider,{value:b,children:[d&&b.visualElement?W.jsx(d,{visualElement:b.visualElement,...h}):null,t(i,l,kg(y,b.visualElement,u),y,g,b.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const c=fe.forwardRef(a);return c[Sg]=i,c}function Rg({layoutId:r}){const e=fe.useContext(nl).id;return e&&r!==void 0?e+"-"+r:r}function Pg(r,e){fe.useContext(Ch).strict}function Bg(r){const{drag:e,layout:t}=pi;if(!e&&!t)return{};const n={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(r)||t!=null&&t.isEnabled(r)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Ig=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function dl(r){return typeof r!="string"||r.includes("-")?!1:!!(Ig.indexOf(r)>-1||/[A-Z]/u.test(r))}function Nf(r){const e=[{},{}];return r==null||r.values.forEach((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()}),e}function pl(r,e,t,n){if(typeof e=="function"){const[i,s]=Nf(n);e=e(t!==void 0?t:r.custom,i,s)}if(typeof e=="string"&&(e=r.variants&&r.variants[e]),typeof e=="function"){const[i,s]=Nf(n);e=e(t!==void 0?t:r.custom,i,s)}return e}const pc=r=>Array.isArray(r),Og=r=>!!(r&&typeof r=="object"&&r.mix&&r.toValue),Lg=r=>pc(r)?r[r.length-1]||0:r,Ot=r=>!!(r&&r.getVelocity);function zs(r){const e=Ot(r)?r.get():r;return Og(e)?e.toValue():e}function Fg({scrapeMotionValuesFromProps:r,createRenderState:e,onUpdate:t},n,i,s){const o={latestValues:Dg(n,i,s,r),renderState:e()};return t&&(o.onMount=a=>t({props:n,current:a,...o}),o.onUpdate=a=>t(a)),o}const Bh=r=>(e,t)=>{const n=fe.useContext(Po),i=fe.useContext(Ro),s=()=>Fg(r,e,n,i);return t?s():il(s)};function Dg(r,e,t,n){const i={},s=n(r,{});for(const h in s)i[h]=zs(s[h]);let{initial:o,animate:a}=r;const c=Io(r),l=_h(r);e&&l&&!c&&r.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=t?t.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!Bo(d)){const h=Array.isArray(d)?d:[d];for(let g=0;g<h.length;g++){const b=pl(r,h[g]);if(b){const{transitionEnd:y,transition:T,...w}=b;for(const _ in w){let P=w[_];if(Array.isArray(P)){const D=u?P.length-1:0;P=P[D]}P!==null&&(i[_]=P)}for(const _ in y)i[_]=y[_]}}}return i}const Ei=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Un=new Set(Ei),Ih=r=>e=>typeof e=="string"&&e.startsWith(r),Oh=Ih("--"),Ug=Ih("var(--"),ml=r=>Ug(r)?$g.test(r.split("/*")[0].trim()):!1,$g=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Lh=(r,e)=>e&&typeof r=="number"?e.transform(r):r,$r=(r,e,t)=>t>e?e:t<r?r:t,Ti={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},is={...Ti,transform:r=>$r(0,1,r)},Rs={...Ti,default:1},gs=r=>({test:e=>typeof e=="string"&&e.endsWith(r)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${r}`}),en=gs("deg"),wr=gs("%"),Ce=gs("px"),jg=gs("vh"),Vg=gs("vw"),Rf={...wr,parse:r=>wr.parse(r)/100,transform:r=>wr.transform(r*100)},Hg={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,backgroundPositionX:Ce,backgroundPositionY:Ce},Kg={rotate:en,rotateX:en,rotateY:en,rotateZ:en,scale:Rs,scaleX:Rs,scaleY:Rs,scaleZ:Rs,skew:en,skewX:en,skewY:en,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:is,originX:Rf,originY:Rf,originZ:Ce},Pf={...Ti,transform:Math.round},xl={...Hg,...Kg,zIndex:Pf,size:Ce,fillOpacity:is,strokeOpacity:is,numOctaves:Pf},Gg={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zg=Ei.length;function qg(r,e,t){let n="",i=!0;for(let s=0;s<zg;s++){const o=Ei[s],a=r[o];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(o.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||t){const l=Lh(a,xl[o]);if(!c){i=!1;const u=Gg[o]||o;n+=`${u}(${l}) `}t&&(e[o]=l)}}return n=n.trim(),t?n=t(e,i?"":n):i&&(n="none"),n}function gl(r,e,t){const{style:n,vars:i,transformOrigin:s}=r;let o=!1,a=!1;for(const c in e){const l=e[c];if(Un.has(c)){o=!0;continue}else if(Oh(c)){i[c]=l;continue}else{const u=Lh(l,xl[c]);c.startsWith("origin")?(a=!0,s[c]=u):n[c]=u}}if(e.transform||(o||t?n.transform=qg(e,r.transform,t):n.transform&&(n.transform="none")),a){const{originX:c="50%",originY:l="50%",originZ:u=0}=s;n.transformOrigin=`${c} ${l} ${u}`}}const Wg={offset:"stroke-dashoffset",array:"stroke-dasharray"},Yg={offset:"strokeDashoffset",array:"strokeDasharray"};function Jg(r,e,t=1,n=0,i=!0){r.pathLength=1;const s=i?Wg:Yg;r[s.offset]=Ce.transform(-n);const o=Ce.transform(e),a=Ce.transform(t);r[s.array]=`${o} ${a}`}function Bf(r,e,t){return typeof r=="string"?r:Ce.transform(e+t*r)}function Xg(r,e,t){const n=Bf(e,r.x,r.width),i=Bf(t,r.y,r.height);return`${n} ${i}`}function bl(r,{attrX:e,attrY:t,attrScale:n,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:c=0,...l},u,d){if(gl(r,l,d),u){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:h,style:g,dimensions:b}=r;h.transform&&(b&&(g.transform=h.transform),delete h.transform),b&&(i!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=Xg(b,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(h.x=e),t!==void 0&&(h.y=t),n!==void 0&&(h.scale=n),o!==void 0&&Jg(h,o,a,c,!1)}const yl=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Fh=()=>({...yl(),attrs:{}}),wl=r=>typeof r=="string"&&r.toLowerCase()==="svg";function Dh(r,{style:e,vars:t},n,i){Object.assign(r.style,e,i&&i.getProjectionStyles(n));for(const s in t)r.style.setProperty(s,t[s])}const Uh=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function $h(r,e,t,n){Dh(r,e,void 0,n);for(const i in e.attrs)r.setAttribute(Uh.has(i)?i:ul(i),e.attrs[i])}const oo={};function Qg(r){Object.assign(oo,r)}function jh(r,{layout:e,layoutId:t}){return Un.has(r)||r.startsWith("origin")||(e||t!==void 0)&&(!!oo[r]||r==="opacity")}function vl(r,e,t){var n;const{style:i}=r,s={};for(const o in i)(Ot(i[o])||e.style&&Ot(e.style[o])||jh(o,r)||((n=t==null?void 0:t.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function Vh(r,e,t){const n=vl(r,e,t);for(const i in r)if(Ot(r[i])||Ot(e[i])){const s=Ei.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=r[i]}return n}function Zg(r,e){try{e.dimensions=typeof r.getBBox=="function"?r.getBBox():r.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const If=["x","y","width","height","cx","cy","r"],e1={useVisualState:Bh({scrapeMotionValuesFromProps:Vh,createRenderState:Fh,onUpdate:({props:r,prevProps:e,current:t,renderState:n,latestValues:i})=>{if(!t)return;let s=!!r.drag;if(!s){for(const a in i)if(Un.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<If.length;a++){const c=If[a];r[c]!==e[c]&&(o=!0)}o&&ct.read(()=>{Zg(t,n),ct.render(()=>{bl(n,i,wl(t.tagName),r.transformTemplate),$h(t,n)})})}})},t1={useVisualState:Bh({scrapeMotionValuesFromProps:vl,createRenderState:yl})};function Hh(r,e,t){for(const n in e)!Ot(e[n])&&!jh(n,t)&&(r[n]=e[n])}function r1({transformTemplate:r},e){return fe.useMemo(()=>{const t=yl();return gl(t,e,r),Object.assign({},t.vars,t.style)},[e])}function n1(r,e){const t=r.style||{},n={};return Hh(n,t,r),Object.assign(n,r1(r,e)),n}function i1(r,e){const t={},n=n1(r,e);return r.drag&&r.dragListener!==!1&&(t.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(t.tabIndex=0),t.style=n,t}function s1(r,e,t,n){const i=fe.useMemo(()=>{const s=Fh();return bl(s,e,wl(n),r.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(r.style){const s={};Hh(s,r.style,r),i.style={...s,...i.style}}return i}function o1(r=!1){return(t,n,i,{latestValues:s},o)=>{const c=(dl(t)?s1:i1)(n,s,o,t),l=vg(n,typeof t=="string",r),u=t!==fe.Fragment?{...l,...c,ref:i}:{},{children:d}=n,h=fe.useMemo(()=>Ot(d)?d.get():d,[d]);return fe.createElement(t,{...u,children:h})}}function a1(r,e){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...dl(n)?e1:t1,preloadedFeatures:r,useRender:o1(i),createVisualElement:e,Component:n};return Ng(o)}}function Kh(r,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==r.length)return!1;for(let n=0;n<t;n++)if(e[n]!==r[n])return!1;return!0}function Oo(r,e,t){const n=r.getProps();return pl(n,e,t!==void 0?t:n.custom,r)}const c1=cl(()=>window.ScrollTimeline!==void 0);class l1{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){const n=this.animations.map(i=>{if(c1()&&i.attachTimeline)return i.attachTimeline(e);if(typeof t=="function")return t(i)});return()=>{n.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class f1 extends l1{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Al(r,e){return r?r[e]||r.default||r:void 0}const mc=2e4;function Gh(r){let e=0;const t=50;let n=r.next(e);for(;!n.done&&e<mc;)e+=t,n=r.next(e);return e>=mc?1/0:e}function El(r){return typeof r=="function"}function Of(r,e){r.timeline=e,r.onfinish=null}const Tl=r=>Array.isArray(r)&&typeof r[0]=="number",u1={linearEasing:void 0};function h1(r,e){const t=cl(r);return()=>{var n;return(n=u1[e])!==null&&n!==void 0?n:t()}}const ao=h1(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),zh=(r,e,t=10)=>{let n="";const i=Math.max(Math.round(e/t),2);for(let s=0;s<i;s++)n+=r(di(0,i-1,s))+", ";return`linear(${n.substring(0,n.length-2)})`};function qh(r){return!!(typeof r=="function"&&ao()||!r||typeof r=="string"&&(r in xc||ao())||Tl(r)||Array.isArray(r)&&r.every(qh))}const $i=([r,e,t,n])=>`cubic-bezier(${r}, ${e}, ${t}, ${n})`,xc={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$i([0,.65,.55,1]),circOut:$i([.55,0,1,.45]),backIn:$i([.31,.01,.66,-.59]),backOut:$i([.33,1.53,.69,.99])};function Wh(r,e){if(r)return typeof r=="function"&&ao()?zh(r,e):Tl(r)?$i(r):Array.isArray(r)?r.map(t=>Wh(t,e)||xc.easeOut):xc[r]}const ar={x:!1,y:!1};function Yh(){return ar.x||ar.y}function d1(r,e,t){var n;if(r instanceof Element)return[r];if(typeof r=="string"){let i=document;const s=(n=void 0)!==null&&n!==void 0?n:i.querySelectorAll(r);return s?Array.from(s):[]}return Array.from(r)}function Jh(r,e){const t=d1(r),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[t,i,()=>n.abort()]}function Lf(r){return e=>{e.pointerType==="touch"||Yh()||r(e)}}function p1(r,e,t={}){const[n,i,s]=Jh(r,t),o=Lf(a=>{const{target:c}=a,l=e(a);if(typeof l!="function"||!c)return;const u=Lf(d=>{l(d),c.removeEventListener("pointerleave",u)});c.addEventListener("pointerleave",u,i)});return n.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const Xh=(r,e)=>e?r===e?!0:Xh(r,e.parentElement):!1,Sl=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1,m1=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function x1(r){return m1.has(r.tagName)||r.tabIndex!==-1}const ji=new WeakSet;function Ff(r){return e=>{e.key==="Enter"&&r(e)}}function va(r,e){r.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const g1=(r,e)=>{const t=r.currentTarget;if(!t)return;const n=Ff(()=>{if(ji.has(t))return;va(t,"down");const i=Ff(()=>{va(t,"up")}),s=()=>va(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",n,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",n),e)};function Df(r){return Sl(r)&&!Yh()}function b1(r,e,t={}){const[n,i,s]=Jh(r,t),o=a=>{const c=a.currentTarget;if(!Df(a)||ji.has(c))return;ji.add(c);const l=e(a),u=(g,b)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),!(!Df(g)||!ji.has(c))&&(ji.delete(c),typeof l=="function"&&l(g,{success:b}))},d=g=>{u(g,t.useGlobalTarget||Xh(c,g.target))},h=g=>{u(g,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",h,i)};return n.forEach(a=>{!x1(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(t.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",l=>g1(l,i),i)}),s}function y1(r){return r==="x"||r==="y"?ar[r]?null:(ar[r]=!0,()=>{ar[r]=!1}):ar.x||ar.y?null:(ar.x=ar.y=!0,()=>{ar.x=ar.y=!1})}const Qh=new Set(["width","height","top","left","right","bottom",...Ei]);let qs;function w1(){qs=void 0}const vr={now:()=>(qs===void 0&&vr.set(St.isProcessing||mg.useManualTiming?St.timestamp:performance.now()),qs),set:r=>{qs=r,queueMicrotask(w1)}};function kl(r,e){r.indexOf(e)===-1&&r.push(e)}function Cl(r,e){const t=r.indexOf(e);t>-1&&r.splice(t,1)}class Ml{constructor(){this.subscriptions=[]}add(e){return kl(this.subscriptions,e),()=>Cl(this.subscriptions,e)}notify(e,t,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,n);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Zh(r,e){return e?r*(1e3/e):0}const Uf=30,v1=r=>!isNaN(parseFloat(r));class A1{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const s=vr.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=vr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=v1(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Ml);const n=this.events[e].add(t);return e==="change"?()=>{n(),ct.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=vr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Uf)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,Uf);return Zh(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ss(r,e){return new A1(r,e)}function E1(r,e,t){r.hasValue(e)?r.getValue(e).set(t):r.addValue(e,ss(t))}function T1(r,e){const t=Oo(r,e);let{transitionEnd:n={},transition:i={},...s}=t||{};s={...s,...n};for(const o in s){const a=Lg(s[o]);E1(r,o,a)}}function S1(r){return!!(Ot(r)&&r.add)}function gc(r,e){const t=r.getValue("willChange");if(S1(t))return t.add(e)}function ed(r){return r.props[Nh]}const td=(r,e,t)=>(((1-3*t+3*e)*r+(3*t-6*e))*r+3*e)*r,k1=1e-7,C1=12;function M1(r,e,t,n,i){let s,o,a=0;do o=e+(t-e)/2,s=td(o,n,i)-r,s>0?t=o:e=o;while(Math.abs(s)>k1&&++a<C1);return o}function bs(r,e,t,n){if(r===e&&t===n)return qt;const i=s=>M1(s,0,1,r,t);return s=>s===0||s===1?s:td(i(s),e,n)}const rd=r=>e=>e<=.5?r(2*e)/2:(2-r(2*(1-e)))/2,nd=r=>e=>1-r(1-e),id=bs(.33,1.53,.69,.99),_l=nd(id),sd=rd(_l),od=r=>(r*=2)<1?.5*_l(r):.5*(2-Math.pow(2,-10*(r-1))),Nl=r=>1-Math.sin(Math.acos(r)),ad=nd(Nl),cd=rd(Nl),ld=r=>/^0[^.\s]+$/u.test(r);function _1(r){return typeof r=="number"?r===0:r!==null?r==="none"||r==="0"||ld(r):!0}const Gi=r=>Math.round(r*1e5)/1e5,Rl=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function N1(r){return r==null}const R1=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Pl=(r,e)=>t=>!!(typeof t=="string"&&R1.test(t)&&t.startsWith(r)||e&&!N1(t)&&Object.prototype.hasOwnProperty.call(t,e)),fd=(r,e,t)=>n=>{if(typeof n!="string")return n;const[i,s,o,a]=n.match(Rl);return{[r]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},P1=r=>$r(0,255,r),Aa={...Ti,transform:r=>Math.round(P1(r))},_n={test:Pl("rgb","red"),parse:fd("red","green","blue"),transform:({red:r,green:e,blue:t,alpha:n=1})=>"rgba("+Aa.transform(r)+", "+Aa.transform(e)+", "+Aa.transform(t)+", "+Gi(is.transform(n))+")"};function B1(r){let e="",t="",n="",i="";return r.length>5?(e=r.substring(1,3),t=r.substring(3,5),n=r.substring(5,7),i=r.substring(7,9)):(e=r.substring(1,2),t=r.substring(2,3),n=r.substring(3,4),i=r.substring(4,5),e+=e,t+=t,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const bc={test:Pl("#"),parse:B1,transform:_n.transform},ti={test:Pl("hsl","hue"),parse:fd("hue","saturation","lightness"),transform:({hue:r,saturation:e,lightness:t,alpha:n=1})=>"hsla("+Math.round(r)+", "+wr.transform(Gi(e))+", "+wr.transform(Gi(t))+", "+Gi(is.transform(n))+")"},Rt={test:r=>_n.test(r)||bc.test(r)||ti.test(r),parse:r=>_n.test(r)?_n.parse(r):ti.test(r)?ti.parse(r):bc.parse(r),transform:r=>typeof r=="string"?r:r.hasOwnProperty("red")?_n.transform(r):ti.transform(r)},I1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function O1(r){var e,t;return isNaN(r)&&typeof r=="string"&&(((e=r.match(Rl))===null||e===void 0?void 0:e.length)||0)+(((t=r.match(I1))===null||t===void 0?void 0:t.length)||0)>0}const ud="number",hd="color",L1="var",F1="var(",$f="${}",D1=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function os(r){const e=r.toString(),t=[],n={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(D1,c=>(Rt.test(c)?(n.color.push(s),i.push(hd),t.push(Rt.parse(c))):c.startsWith(F1)?(n.var.push(s),i.push(L1),t.push(c)):(n.number.push(s),i.push(ud),t.push(parseFloat(c))),++s,$f)).split($f);return{values:t,split:a,indexes:n,types:i}}function dd(r){return os(r).values}function pd(r){const{split:e,types:t}=os(r),n=e.length;return i=>{let s="";for(let o=0;o<n;o++)if(s+=e[o],i[o]!==void 0){const a=t[o];a===ud?s+=Gi(i[o]):a===hd?s+=Rt.transform(i[o]):s+=i[o]}return s}}const U1=r=>typeof r=="number"?0:r;function $1(r){const e=dd(r);return pd(r)(e.map(U1))}const cn={test:O1,parse:dd,createTransformer:pd,getAnimatableNone:$1},j1=new Set(["brightness","contrast","saturate","opacity"]);function V1(r){const[e,t]=r.slice(0,-1).split("(");if(e==="drop-shadow")return r;const[n]=t.match(Rl)||[];if(!n)return r;const i=t.replace(n,"");let s=j1.has(e)?1:0;return n!==t&&(s*=100),e+"("+s+i+")"}const H1=/\b([a-z-]*)\(.*?\)/gu,yc={...cn,getAnimatableNone:r=>{const e=r.match(H1);return e?e.map(V1).join(" "):r}},K1={...xl,color:Rt,backgroundColor:Rt,outlineColor:Rt,fill:Rt,stroke:Rt,borderColor:Rt,borderTopColor:Rt,borderRightColor:Rt,borderBottomColor:Rt,borderLeftColor:Rt,filter:yc,WebkitFilter:yc},Bl=r=>K1[r];function md(r,e){let t=Bl(r);return t!==yc&&(t=cn),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const G1=new Set(["auto","none","0"]);function z1(r,e,t){let n=0,i;for(;n<r.length&&!i;){const s=r[n];typeof s=="string"&&!G1.has(s)&&os(s).values.length&&(i=r[n]),n++}if(i&&t)for(const s of e)r[s]=md(t,i)}const jf=r=>r===Ti||r===Ce,Vf=(r,e)=>parseFloat(r.split(", ")[e]),Hf=(r,e)=>(t,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/u);if(i)return Vf(i[1],e);{const s=n.match(/^matrix\((.+)\)$/u);return s?Vf(s[1],r):0}},q1=new Set(["x","y","z"]),W1=Ei.filter(r=>!q1.has(r));function Y1(r){const e=[];return W1.forEach(t=>{const n=r.getValue(t);n!==void 0&&(e.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),e}const mi={width:({x:r},{paddingLeft:e="0",paddingRight:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),height:({y:r},{paddingTop:e="0",paddingBottom:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),top:(r,{top:e})=>parseFloat(e),left:(r,{left:e})=>parseFloat(e),bottom:({y:r},{top:e})=>parseFloat(e)+(r.max-r.min),right:({x:r},{left:e})=>parseFloat(e)+(r.max-r.min),x:Hf(4,13),y:Hf(5,14)};mi.translateX=mi.x;mi.translateY=mi.y;const Rn=new Set;let wc=!1,vc=!1;function xd(){if(vc){const r=Array.from(Rn).filter(n=>n.needsMeasurement),e=new Set(r.map(n=>n.element)),t=new Map;e.forEach(n=>{const i=Y1(n);i.length&&(t.set(n,i),n.render())}),r.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=t.get(n);i&&i.forEach(([s,o])=>{var a;(a=n.getValue(s))===null||a===void 0||a.set(o)})}),r.forEach(n=>n.measureEndState()),r.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}vc=!1,wc=!1,Rn.forEach(r=>r.complete()),Rn.clear()}function gd(){Rn.forEach(r=>{r.readKeyframes(),r.needsMeasurement&&(vc=!0)})}function J1(){gd(),xd()}class Il{constructor(e,t,n,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Rn.add(this),wc||(wc=!0,ct.read(gd),ct.resolveKeyframes(xd))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(n&&t){const c=n.readValue(t,a);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Rn.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Rn.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const bd=r=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r),X1=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Q1(r){const e=X1.exec(r);if(!e)return[,];const[,t,n,i]=e;return[`--${t??n}`,i]}function yd(r,e,t=1){const[n,i]=Q1(r);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const o=s.trim();return bd(o)?parseFloat(o):o}return ml(i)?yd(i,e,t+1):i}const wd=r=>e=>e.test(r),Z1={test:r=>r==="auto",parse:r=>r},vd=[Ti,Ce,wr,en,Vg,jg,Z1],Kf=r=>vd.find(wd(r));class Ad extends Il{constructor(e,t,n,i,s){super(e,t,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let l=e[c];if(typeof l=="string"&&(l=l.trim(),ml(l))){const u=yd(l,t.current);u!==void 0&&(e[c]=u),c===e.length-1&&(this.finalKeyframe=l)}}if(this.resolveNoneKeyframes(),!Qh.has(n)||e.length!==2)return;const[i,s]=e,o=Kf(i),a=Kf(s);if(o!==a)if(jf(o)&&jf(a))for(let c=0;c<e.length;c++){const l=e[c];typeof l=="string"&&(e[c]=parseFloat(l))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let i=0;i<e.length;i++)_1(e[i])&&n.push(i);n.length&&z1(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=mi[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=mi[n](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,l])=>{t.getValue(c).set(l)}),this.resolveNoneKeyframes()}}const Gf=(r,e)=>e==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(cn.test(r)||r==="0")&&!r.startsWith("url("));function eb(r){const e=r[0];if(r.length===1)return!0;for(let t=0;t<r.length;t++)if(r[t]!==e)return!0}function tb(r,e,t,n){const i=r[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=r[r.length-1],o=Gf(i,e),a=Gf(s,e);return!o||!a?!1:eb(r)||(t==="spring"||El(t))&&n}const rb=r=>r!==null;function Lo(r,{repeat:e,repeatType:t="loop"},n){const i=r.filter(rb),s=e&&t!=="loop"&&e%2===1?0:i.length-1;return!s||n===void 0?i[s]:n}const nb=40;class Ed{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=vr.now(),this.options={autoplay:e,delay:t,type:n,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>nb?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&J1(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=vr.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:s,delay:o,onComplete:a,onUpdate:c,isGenerator:l}=this.options;if(!l&&!tb(e,n,i,s))if(o)this.options.duration=0;else{c&&c(Lo(e,this.options,t)),a&&a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,t);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...u},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ut=(r,e,t)=>r+(e-r)*t;function Ea(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*(2/3-t)*6:r}function ib({hue:r,saturation:e,lightness:t,alpha:n}){r/=360,e/=100,t/=100;let i=0,s=0,o=0;if(!e)i=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,c=2*t-a;i=Ea(c,a,r+1/3),s=Ea(c,a,r),o=Ea(c,a,r-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}function co(r,e){return t=>t>0?e:r}const Ta=(r,e,t)=>{const n=r*r,i=t*(e*e-n)+n;return i<0?0:Math.sqrt(i)},sb=[bc,_n,ti],ob=r=>sb.find(e=>e.test(r));function zf(r){const e=ob(r);if(!e)return!1;let t=e.parse(r);return e===ti&&(t=ib(t)),t}const qf=(r,e)=>{const t=zf(r),n=zf(e);if(!t||!n)return co(r,e);const i={...t};return s=>(i.red=Ta(t.red,n.red,s),i.green=Ta(t.green,n.green,s),i.blue=Ta(t.blue,n.blue,s),i.alpha=ut(t.alpha,n.alpha,s),_n.transform(i))},ab=(r,e)=>t=>e(r(t)),ys=(...r)=>r.reduce(ab),Ac=new Set(["none","hidden"]);function cb(r,e){return Ac.has(r)?t=>t<=0?r:e:t=>t>=1?e:r}function lb(r,e){return t=>ut(r,e,t)}function Ol(r){return typeof r=="number"?lb:typeof r=="string"?ml(r)?co:Rt.test(r)?qf:hb:Array.isArray(r)?Td:typeof r=="object"?Rt.test(r)?qf:fb:co}function Td(r,e){const t=[...r],n=t.length,i=r.map((s,o)=>Ol(s)(s,e[o]));return s=>{for(let o=0;o<n;o++)t[o]=i[o](s);return t}}function fb(r,e){const t={...r,...e},n={};for(const i in t)r[i]!==void 0&&e[i]!==void 0&&(n[i]=Ol(r[i])(r[i],e[i]));return i=>{for(const s in n)t[s]=n[s](i);return t}}function ub(r,e){var t;const n=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=r.indexes[o][i[o]],c=(t=r.values[a])!==null&&t!==void 0?t:0;n[s]=c,i[o]++}return n}const hb=(r,e)=>{const t=cn.createTransformer(e),n=os(r),i=os(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?Ac.has(r)&&!i.values.length||Ac.has(e)&&!n.values.length?cb(r,e):ys(Td(ub(n,i),i.values),t):co(r,e)};function Sd(r,e,t){return typeof r=="number"&&typeof e=="number"&&typeof t=="number"?ut(r,e,t):Ol(r)(r,e)}const db=5;function kd(r,e,t){const n=Math.max(e-db,0);return Zh(t-r(n),e-n)}const dt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Sa=.001;function pb({duration:r=dt.duration,bounce:e=dt.bounce,velocity:t=dt.velocity,mass:n=dt.mass}){let i,s,o=1-e;o=$r(dt.minDamping,dt.maxDamping,o),r=$r(dt.minDuration,dt.maxDuration,Dr(r)),o<1?(i=l=>{const u=l*o,d=u*r,h=u-t,g=Ec(l,o),b=Math.exp(-d);return Sa-h/g*b},s=l=>{const d=l*o*r,h=d*t+t,g=Math.pow(o,2)*Math.pow(l,2)*r,b=Math.exp(-d),y=Ec(Math.pow(l,2),o);return(-i(l)+Sa>0?-1:1)*((h-g)*b)/y}):(i=l=>{const u=Math.exp(-l*r),d=(l-t)*r+1;return-Sa+u*d},s=l=>{const u=Math.exp(-l*r),d=(t-l)*(r*r);return u*d});const a=5/r,c=xb(i,s,a);if(r=Fr(r),isNaN(c))return{stiffness:dt.stiffness,damping:dt.damping,duration:r};{const l=Math.pow(c,2)*n;return{stiffness:l,damping:o*2*Math.sqrt(n*l),duration:r}}}const mb=12;function xb(r,e,t){let n=t;for(let i=1;i<mb;i++)n=n-r(n)/e(n);return n}function Ec(r,e){return r*Math.sqrt(1-e*e)}const gb=["duration","bounce"],bb=["stiffness","damping","mass"];function Wf(r,e){return e.some(t=>r[t]!==void 0)}function yb(r){let e={velocity:dt.velocity,stiffness:dt.stiffness,damping:dt.damping,mass:dt.mass,isResolvedFromDuration:!1,...r};if(!Wf(r,bb)&&Wf(r,gb))if(r.visualDuration){const t=r.visualDuration,n=2*Math.PI/(t*1.2),i=n*n,s=2*$r(.05,1,1-(r.bounce||0))*Math.sqrt(i);e={...e,mass:dt.mass,stiffness:i,damping:s}}else{const t=pb(r);e={...e,...t,mass:dt.mass},e.isResolvedFromDuration=!0}return e}function Cd(r=dt.visualDuration,e=dt.bounce){const t=typeof r!="object"?{visualDuration:r,keyframes:[0,1],bounce:e}:r;let{restSpeed:n,restDelta:i}=t;const s=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],a={done:!1,value:s},{stiffness:c,damping:l,mass:u,duration:d,velocity:h,isResolvedFromDuration:g}=yb({...t,velocity:-Dr(t.velocity||0)}),b=h||0,y=l/(2*Math.sqrt(c*u)),T=o-s,w=Dr(Math.sqrt(c/u)),_=Math.abs(T)<5;n||(n=_?dt.restSpeed.granular:dt.restSpeed.default),i||(i=_?dt.restDelta.granular:dt.restDelta.default);let P;if(y<1){const I=Ec(w,y);P=B=>{const V=Math.exp(-y*w*B);return o-V*((b+y*w*T)/I*Math.sin(I*B)+T*Math.cos(I*B))}}else if(y===1)P=I=>o-Math.exp(-w*I)*(T+(b+w*T)*I);else{const I=w*Math.sqrt(y*y-1);P=B=>{const V=Math.exp(-y*w*B),z=Math.min(I*B,300);return o-V*((b+y*w*T)*Math.sinh(z)+I*T*Math.cosh(z))/I}}const D={calculatedDuration:g&&d||null,next:I=>{const B=P(I);if(g)a.done=I>=d;else{let V=0;y<1&&(V=I===0?Fr(b):kd(P,I,B));const z=Math.abs(V)<=n,he=Math.abs(o-B)<=i;a.done=z&&he}return a.value=a.done?o:B,a},toString:()=>{const I=Math.min(Gh(D),mc),B=zh(V=>D.next(I*V).value,I,30);return I+"ms "+B}};return D}function Yf({keyframes:r,velocity:e=0,power:t=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:c,restDelta:l=.5,restSpeed:u}){const d=r[0],h={done:!1,value:d},g=z=>a!==void 0&&z<a||c!==void 0&&z>c,b=z=>a===void 0?c:c===void 0||Math.abs(a-z)<Math.abs(c-z)?a:c;let y=t*e;const T=d+y,w=o===void 0?T:o(T);w!==T&&(y=w-d);const _=z=>-y*Math.exp(-z/n),P=z=>w+_(z),D=z=>{const he=_(z),X=P(z);h.done=Math.abs(he)<=l,h.value=h.done?w:X};let I,B;const V=z=>{g(h.value)&&(I=z,B=Cd({keyframes:[h.value,b(h.value)],velocity:kd(P,z,h.value),damping:i,stiffness:s,restDelta:l,restSpeed:u}))};return V(0),{calculatedDuration:null,next:z=>{let he=!1;return!B&&I===void 0&&(he=!0,D(z),V(z)),I!==void 0&&z>=I?B.next(z-I):(!he&&D(z),h)}}}const wb=bs(.42,0,1,1),vb=bs(0,0,.58,1),Md=bs(.42,0,.58,1),Ab=r=>Array.isArray(r)&&typeof r[0]!="number",Eb={linear:qt,easeIn:wb,easeInOut:Md,easeOut:vb,circIn:Nl,circInOut:cd,circOut:ad,backIn:_l,backInOut:sd,backOut:id,anticipate:od},Jf=r=>{if(Tl(r)){Sh(r.length===4);const[e,t,n,i]=r;return bs(e,t,n,i)}else if(typeof r=="string")return Eb[r];return r};function Tb(r,e,t){const n=[],i=t||Sd,s=r.length-1;for(let o=0;o<s;o++){let a=i(r[o],r[o+1]);if(e){const c=Array.isArray(e)?e[o]||qt:e;a=ys(c,a)}n.push(a)}return n}function Sb(r,e,{clamp:t=!0,ease:n,mixer:i}={}){const s=r.length;if(Sh(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=r[0]===r[1];r[0]>r[s-1]&&(r=[...r].reverse(),e=[...e].reverse());const a=Tb(e,n,i),c=a.length,l=u=>{if(o&&u<r[0])return e[0];let d=0;if(c>1)for(;d<r.length-2&&!(u<r[d+1]);d++);const h=di(r[d],r[d+1],u);return a[d](h)};return t?u=>l($r(r[0],r[s-1],u)):l}function kb(r,e){const t=r[r.length-1];for(let n=1;n<=e;n++){const i=di(0,e,n);r.push(ut(t,1,i))}}function Cb(r){const e=[0];return kb(e,r.length-1),e}function Mb(r,e){return r.map(t=>t*e)}function _b(r,e){return r.map(()=>e||Md).splice(0,r.length-1)}function lo({duration:r=300,keyframes:e,times:t,ease:n="easeInOut"}){const i=Ab(n)?n.map(Jf):Jf(n),s={done:!1,value:e[0]},o=Mb(t&&t.length===e.length?t:Cb(e),r),a=Sb(o,e,{ease:Array.isArray(i)?i:_b(e,i)});return{calculatedDuration:r,next:c=>(s.value=a(c),s.done=c>=r,s)}}const Nb=r=>{const e=({timestamp:t})=>r(t);return{start:()=>ct.update(e,!0),stop:()=>an(e),now:()=>St.isProcessing?St.timestamp:vr.now()}},Rb={decay:Yf,inertia:Yf,tween:lo,keyframes:lo,spring:Cd},Pb=r=>r/100;class Ll extends Ed{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:t,motionValue:n,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||Il,a=(c,l)=>this.onKeyframesResolved(c,l);this.resolver=new o(s,a,t,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=El(t)?t:Rb[t]||lo;let c,l;a!==lo&&typeof e[0]!="number"&&(c=ys(Pb,Sd(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});s==="mirror"&&(l=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Gh(u));const{calculatedDuration:d}=u,h=d+i,g=h*(n+1)-i;return{generator:u,mirroredGenerator:l,mapPercentToKeyframes:c,calculatedDuration:d,resolvedDuration:h,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:n}=this;if(!n){const{keyframes:z}=this.options;return{done:!0,value:z[z.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:c,calculatedDuration:l,totalDuration:u,resolvedDuration:d}=n;if(this.startTime===null)return s.next(0);const{delay:h,repeat:g,repeatType:b,repeatDelay:y,onUpdate:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const w=this.currentTime-h*(this.speed>=0?1:-1),_=this.speed>=0?w<0:w>u;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let P=this.currentTime,D=s;if(g){const z=Math.min(this.currentTime,u)/d;let he=Math.floor(z),X=z%1;!X&&z>=1&&(X=1),X===1&&he--,he=Math.min(he,g+1),!!(he%2)&&(b==="reverse"?(X=1-X,y&&(X-=y/d)):b==="mirror"&&(D=o)),P=$r(0,1,X)*d}const I=_?{done:!1,value:c[0]}:D.next(P);a&&(I.value=a(I.value));let{done:B}=I;!_&&l!==null&&(B=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return V&&i!==void 0&&(I.value=Lo(c,this.options,i)),T&&T(I.value),V&&this.finish(),I}get duration(){const{resolved:e}=this;return e?Dr(e.calculatedDuration):0}get time(){return Dr(this.currentTime)}set time(e){e=Fr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Dr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Nb,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),t&&t();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Bb=new Set(["opacity","clipPath","filter","transform"]);function Ib(r,e,t,{delay:n=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:c}={}){const l={[e]:t};c&&(l.offset=c);const u=Wh(a,i);return Array.isArray(u)&&(l.easing=u),r.animate(l,{delay:n,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const Ob=cl(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),fo=10,Lb=2e4;function Fb(r){return El(r.type)||r.type==="spring"||!qh(r.ease)}function Db(r,e){const t=new Ll({...e,keyframes:r,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:r[0]};const i=[];let s=0;for(;!n.done&&s<Lb;)n=t.sample(s),i.push(n.value),s+=fo;return{times:void 0,keyframes:i,duration:s-fo,ease:"linear"}}const _d={anticipate:od,backInOut:sd,circInOut:cd};function Ub(r){return r in _d}class Xf extends Ed{constructor(e){super(e);const{name:t,motionValue:n,element:i,keyframes:s}=this.options;this.resolver=new Ad(s,(o,a)=>this.onKeyframesResolved(o,a),t,n,i),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:n=300,times:i,ease:s,type:o,motionValue:a,name:c,startTime:l}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&ao()&&Ub(s)&&(s=_d[s]),Fb(this.options)){const{onComplete:d,onUpdate:h,motionValue:g,element:b,...y}=this.options,T=Db(e,y);e=T.keyframes,e.length===1&&(e[1]=e[0]),n=T.duration,i=T.times,s=T.ease,o="keyframes"}const u=Ib(a.owner.current,c,e,{...this.options,duration:n,times:i,ease:s});return u.startTime=l??this.calcStartTime(),this.pendingTimeline?(Of(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:d}=this.options;a.set(Lo(e,this.options,t)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:n,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Dr(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Dr(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=Fr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return qt;const{animation:n}=t;Of(n,e)}return qt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:i,type:s,ease:o,times:a}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:l,onUpdate:u,onComplete:d,element:h,...g}=this.options,b=new Ll({...g,keyframes:n,duration:i,type:s,ease:o,times:a,isGenerator:!0}),y=Fr(this.time);l.setWithVelocity(b.sample(y-fo).value,b.sample(y).value,fo)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:l}=t.owner.getProps();return Ob()&&n&&Bb.has(n)&&!c&&!l&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const $b={type:"spring",stiffness:500,damping:25,restSpeed:10},jb=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),Vb={type:"keyframes",duration:.8},Hb={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Kb=(r,{keyframes:e})=>e.length>2?Vb:Un.has(r)?r.startsWith("scale")?jb(e[1]):$b:Hb;function Gb({when:r,delay:e,delayChildren:t,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:c,elapsed:l,...u}){return!!Object.keys(u).length}const Fl=(r,e,t,n={},i,s)=>o=>{const a=Al(n,r)||{},c=a.delay||n.delay||0;let{elapsed:l=0}=n;l=l-Fr(c);let u={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-l,onUpdate:h=>{e.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:r,motionValue:e,element:s?void 0:i};Gb(a)||(u={...u,...Kb(r,u)}),u.duration&&(u.duration=Fr(u.duration)),u.repeatDelay&&(u.repeatDelay=Fr(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),d&&!s&&e.get()!==void 0){const h=Lo(u.keyframes,a);if(h!==void 0)return ct.update(()=>{u.onUpdate(h),u.onComplete()}),new f1([])}return!s&&Xf.supports(u)?new Xf(u):new Ll(u)};function zb({protectedKeys:r,needsAnimating:e},t){const n=r.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,n}function Nd(r,e,{delay:t=0,transitionOverride:n,type:i}={}){var s;let{transition:o=r.getDefaultTransition(),transitionEnd:a,...c}=e;n&&(o=n);const l=[],u=i&&r.animationState&&r.animationState.getState()[i];for(const d in c){const h=r.getValue(d,(s=r.latestValues[d])!==null&&s!==void 0?s:null),g=c[d];if(g===void 0||u&&zb(u,d))continue;const b={delay:t,...Al(o||{},d)};let y=!1;if(window.MotionHandoffAnimation){const w=ed(r);if(w){const _=window.MotionHandoffAnimation(w,d,ct);_!==null&&(b.startTime=_,y=!0)}}gc(r,d),h.start(Fl(d,h,g,r.shouldReduceMotion&&Qh.has(d)?{type:!1}:b,r,y));const T=h.animation;T&&l.push(T)}return a&&Promise.all(l).then(()=>{ct.update(()=>{a&&T1(r,a)})}),l}function Tc(r,e,t={}){var n;const i=Oo(r,e,t.type==="exit"?(n=r.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:s=r.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(s=t.transitionOverride);const o=i?()=>Promise.all(Nd(r,i,t)):()=>Promise.resolve(),a=r.variantChildren&&r.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=s;return qb(r,e,u+l,d,h,t)}:()=>Promise.resolve(),{when:c}=s;if(c){const[l,u]=c==="beforeChildren"?[o,a]:[a,o];return l().then(()=>u())}else return Promise.all([o(),a(t.delay)])}function qb(r,e,t=0,n=0,i=1,s){const o=[],a=(r.variantChildren.size-1)*n,c=i===1?(l=0)=>l*n:(l=0)=>a-l*n;return Array.from(r.variantChildren).sort(Wb).forEach((l,u)=>{l.notify("AnimationStart",e),o.push(Tc(l,e,{...s,delay:t+c(u)}).then(()=>l.notify("AnimationComplete",e)))}),Promise.all(o)}function Wb(r,e){return r.sortNodePosition(e)}function Yb(r,e,t={}){r.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>Tc(r,s,t));n=Promise.all(i)}else if(typeof e=="string")n=Tc(r,e,t);else{const i=typeof e=="function"?Oo(r,e,t.custom):e;n=Promise.all(Nd(r,i,t))}return n.then(()=>{r.notify("AnimationComplete",e)})}const Jb=fl.length;function Rd(r){if(!r)return;if(!r.isControllingVariants){const t=r.parent?Rd(r.parent)||{}:{};return r.props.initial!==void 0&&(t.initial=r.props.initial),t}const e={};for(let t=0;t<Jb;t++){const n=fl[t],i=r.props[n];(ns(i)||i===!1)&&(e[n]=i)}return e}const Xb=[...ll].reverse(),Qb=ll.length;function Zb(r){return e=>Promise.all(e.map(({animation:t,options:n})=>Yb(r,t,n)))}function ey(r){let e=Zb(r),t=Qf(),n=!0;const i=c=>(l,u)=>{var d;const h=Oo(r,u,c==="exit"?(d=r.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(h){const{transition:g,transitionEnd:b,...y}=h;l={...l,...y,...b}}return l};function s(c){e=c(r)}function o(c){const{props:l}=r,u=Rd(r.parent)||{},d=[],h=new Set;let g={},b=1/0;for(let T=0;T<Qb;T++){const w=Xb[T],_=t[w],P=l[w]!==void 0?l[w]:u[w],D=ns(P),I=w===c?_.isActive:null;I===!1&&(b=T);let B=P===u[w]&&P!==l[w]&&D;if(B&&n&&r.manuallyAnimateOnMount&&(B=!1),_.protectedKeys={...g},!_.isActive&&I===null||!P&&!_.prevProp||Bo(P)||typeof P=="boolean")continue;const V=ty(_.prevProp,P);let z=V||w===c&&_.isActive&&!B&&D||T>b&&D,he=!1;const X=Array.isArray(P)?P:[P];let Q=X.reduce(i(w),{});I===!1&&(Q={});const{prevResolvedValues:Z={}}=_,N={...Z,...Q},p=R=>{z=!0,h.has(R)&&(he=!0,h.delete(R)),_.needsAnimating[R]=!0;const L=r.getValue(R);L&&(L.liveStyle=!1)};for(const R in N){const L=Q[R],G=Z[R];if(g.hasOwnProperty(R))continue;let j=!1;pc(L)&&pc(G)?j=!Kh(L,G):j=L!==G,j?L!=null?p(R):h.add(R):L!==void 0&&h.has(R)?p(R):_.protectedKeys[R]=!0}_.prevProp=P,_.prevResolvedValues=Q,_.isActive&&(g={...g,...Q}),n&&r.blockInitialAnimation&&(z=!1),z&&(!(B&&V)||he)&&d.push(...X.map(R=>({animation:R,options:{type:w}})))}if(h.size){const T={};h.forEach(w=>{const _=r.getBaseTarget(w),P=r.getValue(w);P&&(P.liveStyle=!0),T[w]=_??null}),d.push({animation:T})}let y=!!d.length;return n&&(l.initial===!1||l.initial===l.animate)&&!r.manuallyAnimateOnMount&&(y=!1),n=!1,y?e(d):Promise.resolve()}function a(c,l){var u;if(t[c].isActive===l)return Promise.resolve();(u=r.variantChildren)===null||u===void 0||u.forEach(h=>{var g;return(g=h.animationState)===null||g===void 0?void 0:g.setActive(c,l)}),t[c].isActive=l;const d=o(c);for(const h in t)t[h].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t,reset:()=>{t=Qf(),n=!0}}}function ty(r,e){return typeof e=="string"?e!==r:Array.isArray(e)?!Kh(e,r):!1}function En(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Qf(){return{animate:En(!0),whileInView:En(),whileHover:En(),whileTap:En(),whileDrag:En(),whileFocus:En(),exit:En()}}class un{constructor(e){this.isMounted=!1,this.node=e}update(){}}class ry extends un{constructor(e){super(e),e.animationState||(e.animationState=ey(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Bo(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let ny=0;class iy extends un{constructor(){super(...arguments),this.id=ny++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const sy={animation:{Feature:ry},exit:{Feature:iy}};function as(r,e,t,n={passive:!0}){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t)}function ws(r){return{point:{x:r.pageX,y:r.pageY}}}const oy=r=>e=>Sl(e)&&r(e,ws(e));function zi(r,e,t,n){return as(r,e,oy(t),n)}const Zf=(r,e)=>Math.abs(r-e);function ay(r,e){const t=Zf(r.x,e.x),n=Zf(r.y,e.y);return Math.sqrt(t**2+n**2)}class Pd{constructor(e,t,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Ca(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,g=ay(d.offset,{x:0,y:0})>=3;if(!h&&!g)return;const{point:b}=d,{timestamp:y}=St;this.history.push({...b,timestamp:y});const{onStart:T,onMove:w}=this.handlers;h||(T&&T(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=ka(h,this.transformPagePoint),ct.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:g,onSessionEnd:b,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Ca(d.type==="pointercancel"?this.lastMoveEventInfo:ka(h,this.transformPagePoint),this.history);this.startEvent&&g&&g(d,T),b&&b(d,T)},!Sl(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=n,this.contextWindow=i||window;const o=ws(e),a=ka(o,this.transformPagePoint),{point:c}=a,{timestamp:l}=St;this.history=[{...c,timestamp:l}];const{onSessionStart:u}=t;u&&u(e,Ca(a,this.history)),this.removeListeners=ys(zi(this.contextWindow,"pointermove",this.handlePointerMove),zi(this.contextWindow,"pointerup",this.handlePointerUp),zi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),an(this.updatePoint)}}function ka(r,e){return e?{point:e(r.point)}:r}function eu(r,e){return{x:r.x-e.x,y:r.y-e.y}}function Ca({point:r},e){return{point:r,delta:eu(r,Bd(e)),offset:eu(r,cy(e)),velocity:ly(e,.1)}}function cy(r){return r[0]}function Bd(r){return r[r.length-1]}function ly(r,e){if(r.length<2)return{x:0,y:0};let t=r.length-1,n=null;const i=Bd(r);for(;t>=0&&(n=r[t],!(i.timestamp-n.timestamp>Fr(e)));)t--;if(!n)return{x:0,y:0};const s=Dr(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const Id=1e-4,fy=1-Id,uy=1+Id,Od=.01,hy=0-Od,dy=0+Od;function Wt(r){return r.max-r.min}function py(r,e,t){return Math.abs(r-e)<=t}function tu(r,e,t,n=.5){r.origin=n,r.originPoint=ut(e.min,e.max,r.origin),r.scale=Wt(t)/Wt(e),r.translate=ut(t.min,t.max,r.origin)-r.originPoint,(r.scale>=fy&&r.scale<=uy||isNaN(r.scale))&&(r.scale=1),(r.translate>=hy&&r.translate<=dy||isNaN(r.translate))&&(r.translate=0)}function qi(r,e,t,n){tu(r.x,e.x,t.x,n?n.originX:void 0),tu(r.y,e.y,t.y,n?n.originY:void 0)}function ru(r,e,t){r.min=t.min+e.min,r.max=r.min+Wt(e)}function my(r,e,t){ru(r.x,e.x,t.x),ru(r.y,e.y,t.y)}function nu(r,e,t){r.min=e.min-t.min,r.max=r.min+Wt(e)}function Wi(r,e,t){nu(r.x,e.x,t.x),nu(r.y,e.y,t.y)}function xy(r,{min:e,max:t},n){return e!==void 0&&r<e?r=n?ut(e,r,n.min):Math.max(r,e):t!==void 0&&r>t&&(r=n?ut(t,r,n.max):Math.min(r,t)),r}function iu(r,e,t){return{min:e!==void 0?r.min+e:void 0,max:t!==void 0?r.max+t-(r.max-r.min):void 0}}function gy(r,{top:e,left:t,bottom:n,right:i}){return{x:iu(r.x,t,i),y:iu(r.y,e,n)}}function su(r,e){let t=e.min-r.min,n=e.max-r.max;return e.max-e.min<r.max-r.min&&([t,n]=[n,t]),{min:t,max:n}}function by(r,e){return{x:su(r.x,e.x),y:su(r.y,e.y)}}function yy(r,e){let t=.5;const n=Wt(r),i=Wt(e);return i>n?t=di(e.min,e.max-n,r.min):n>i&&(t=di(r.min,r.max-i,e.min)),$r(0,1,t)}function wy(r,e){const t={};return e.min!==void 0&&(t.min=e.min-r.min),e.max!==void 0&&(t.max=e.max-r.min),t}const Sc=.35;function vy(r=Sc){return r===!1?r=0:r===!0&&(r=Sc),{x:ou(r,"left","right"),y:ou(r,"top","bottom")}}function ou(r,e,t){return{min:au(r,e),max:au(r,t)}}function au(r,e){return typeof r=="number"?r:r[e]||0}const cu=()=>({translate:0,scale:1,origin:0,originPoint:0}),ri=()=>({x:cu(),y:cu()}),lu=()=>({min:0,max:0}),gt=()=>({x:lu(),y:lu()});function Zt(r){return[r("x"),r("y")]}function Ld({top:r,left:e,right:t,bottom:n}){return{x:{min:e,max:t},y:{min:r,max:n}}}function Ay({x:r,y:e}){return{top:e.min,right:r.max,bottom:e.max,left:r.min}}function Ey(r,e){if(!e)return r;const t=e({x:r.left,y:r.top}),n=e({x:r.right,y:r.bottom});return{top:t.y,left:t.x,bottom:n.y,right:n.x}}function Ma(r){return r===void 0||r===1}function kc({scale:r,scaleX:e,scaleY:t}){return!Ma(r)||!Ma(e)||!Ma(t)}function Tn(r){return kc(r)||Fd(r)||r.z||r.rotate||r.rotateX||r.rotateY||r.skewX||r.skewY}function Fd(r){return fu(r.x)||fu(r.y)}function fu(r){return r&&r!=="0%"}function uo(r,e,t){const n=r-t,i=e*n;return t+i}function uu(r,e,t,n,i){return i!==void 0&&(r=uo(r,i,n)),uo(r,t,n)+e}function Cc(r,e=0,t=1,n,i){r.min=uu(r.min,e,t,n,i),r.max=uu(r.max,e,t,n,i)}function Dd(r,{x:e,y:t}){Cc(r.x,e.translate,e.scale,e.originPoint),Cc(r.y,t.translate,t.scale,t.originPoint)}const hu=.999999999999,du=1.0000000000001;function Ty(r,e,t,n=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=t[a],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ii(r,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Dd(r,o)),n&&Tn(s.latestValues)&&ii(r,s.latestValues))}e.x<du&&e.x>hu&&(e.x=1),e.y<du&&e.y>hu&&(e.y=1)}function ni(r,e){r.min=r.min+e,r.max=r.max+e}function pu(r,e,t,n,i=.5){const s=ut(r.min,r.max,i);Cc(r,e,t,s,n)}function ii(r,e){pu(r.x,e.x,e.scaleX,e.scale,e.originX),pu(r.y,e.y,e.scaleY,e.scale,e.originY)}function Ud(r,e){return Ld(Ey(r.getBoundingClientRect(),e))}function Sy(r,e,t){const n=Ud(r,t),{scroll:i}=e;return i&&(ni(n.x,i.offset.x),ni(n.y,i.offset.y)),n}const $d=({current:r})=>r?r.ownerDocument.defaultView:null,ky=new WeakMap;class Cy{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(ws(u).point)},s=(u,d)=>{const{drag:h,dragPropagation:g,onDragStart:b}=this.getProps();if(h&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=y1(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zt(T=>{let w=this.getAxisMotionValue(T).get()||0;if(wr.test(w)){const{projection:_}=this.visualElement;if(_&&_.layout){const P=_.layout.layoutBox[T];P&&(w=Wt(P)*(parseFloat(w)/100))}}this.originPoint[T]=w}),b&&ct.postRender(()=>b(u,d)),gc(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:h,dragDirectionLock:g,onDirectionLock:b,onDrag:y}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:T}=d;if(g&&this.currentDirection===null){this.currentDirection=My(T),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",d.point,T),this.updateAxis("y",d.point,T),this.visualElement.render(),y&&y(u,d)},a=(u,d)=>this.stop(u,d),c=()=>Zt(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:l}=this.getProps();this.panSession=new Pd(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,contextWindow:$d(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&ct.postRender(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:i}=this.getProps();if(!n||!Ps(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=xy(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&ei(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=gy(i.layoutBox,t):this.constraints=!1,this.elastic=vy(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Zt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=wy(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!ei(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Sy(n,i.root,this.visualElement.getTransformPagePoint());let o=by(i.layout.layoutBox,s);if(t){const a=t(Ay(o));this.hasMutatedConstraints=!!a,a&&(o=Ld(a))}return o}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},l=Zt(u=>{if(!Ps(u,t,this.currentDirection))return;let d=c&&c[u]||{};o&&(d={min:0,max:0});const h=i?200:1e6,g=i?40:1e7,b={type:"inertia",velocity:n?e[u]:0,bounceStiffness:h,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,b)});return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return gc(this.visualElement,e),n.start(Fl(e,n,0,t,this.visualElement,!1))}stopAnimation(){Zt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Zt(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[t];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Zt(t=>{const{drag:n}=this.getProps();if(!Ps(t,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[t];s.set(e[t]-ut(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!ei(t)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Zt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const c=a.get();i[o]=yy({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Zt(o=>{if(!Ps(o,e,null))return;const a=this.getAxisMotionValue(o),{min:c,max:l}=this.constraints[o];a.set(ut(c,l,i[o]))})}addListeners(){if(!this.visualElement.current)return;ky.set(this.visualElement,this);const e=this.visualElement.current,t=zi(e,"pointerdown",c=>{const{drag:l,dragListener:u=!0}=this.getProps();l&&u&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();ei(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ct.read(n);const o=as(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:l})=>{this.isDragging&&l&&(Zt(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=c[u].translate,d.set(d.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Sc,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Ps(r,e,t){return(e===!0||e===r)&&(t===null||t===r)}function My(r,e=10){let t=null;return Math.abs(r.y)>e?t="y":Math.abs(r.x)>e&&(t="x"),t}class _y extends un{constructor(e){super(e),this.removeGroupControls=qt,this.removeListeners=qt,this.controls=new Cy(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qt}unmount(){this.removeGroupControls(),this.removeListeners()}}const mu=r=>(e,t)=>{r&&ct.postRender(()=>r(e,t))};class Ny extends un{constructor(){super(...arguments),this.removePointerDownListener=qt}onPointerDown(e){this.session=new Pd(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$d(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:mu(e),onStart:mu(t),onMove:n,onEnd:(s,o)=>{delete this.session,i&&ct.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=zi(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ws={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function xu(r,e){return e.max===e.min?0:r/(e.max-e.min)*100}const Pi={correct:(r,e)=>{if(!e.target)return r;if(typeof r=="string")if(Ce.test(r))r=parseFloat(r);else return r;const t=xu(r,e.target.x),n=xu(r,e.target.y);return`${t}% ${n}%`}},Ry={correct:(r,{treeScale:e,projectionDelta:t})=>{const n=r,i=cn.parse(r);if(i.length>5)return n;const s=cn.createTransformer(r),o=typeof i[0]!="number"?1:0,a=t.x.scale*e.x,c=t.y.scale*e.y;i[0+o]/=a,i[1+o]/=c;const l=ut(a,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=l),typeof i[3+o]=="number"&&(i[3+o]/=l),s(i)}};class Py extends fe.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;Qg(By),s&&(t.group&&t.group.add(s),n&&n.register&&i&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Ws.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:i,isPresent:s}=this.props,o=n.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||ct.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),hl.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function jd(r){const[e,t]=Eh(),n=fe.useContext(nl);return W.jsx(Py,{...r,layoutGroup:n,switchLayoutGroup:fe.useContext(Rh),isPresent:e,safeToRemove:t})}const By={borderRadius:{...Pi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Pi,borderTopRightRadius:Pi,borderBottomLeftRadius:Pi,borderBottomRightRadius:Pi,boxShadow:Ry};function Iy(r,e,t){const n=Ot(r)?r:ss(r);return n.start(Fl("",n,e,t)),n.animation}function Oy(r){return r instanceof SVGElement&&r.tagName!=="svg"}const Ly=(r,e)=>r.depth-e.depth;class Fy{constructor(){this.children=[],this.isDirty=!1}add(e){kl(this.children,e),this.isDirty=!0}remove(e){Cl(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Ly),this.isDirty=!1,this.children.forEach(e)}}function Dy(r,e){const t=vr.now(),n=({timestamp:i})=>{const s=i-t;s>=e&&(an(n),r(s-e))};return ct.read(n,!0),()=>an(n)}const Vd=["TopLeft","TopRight","BottomLeft","BottomRight"],Uy=Vd.length,gu=r=>typeof r=="string"?parseFloat(r):r,bu=r=>typeof r=="number"||Ce.test(r);function $y(r,e,t,n,i,s){i?(r.opacity=ut(0,t.opacity!==void 0?t.opacity:1,jy(n)),r.opacityExit=ut(e.opacity!==void 0?e.opacity:1,0,Vy(n))):s&&(r.opacity=ut(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,n));for(let o=0;o<Uy;o++){const a=`border${Vd[o]}Radius`;let c=yu(e,a),l=yu(t,a);if(c===void 0&&l===void 0)continue;c||(c=0),l||(l=0),c===0||l===0||bu(c)===bu(l)?(r[a]=Math.max(ut(gu(c),gu(l),n),0),(wr.test(l)||wr.test(c))&&(r[a]+="%")):r[a]=l}(e.rotate||t.rotate)&&(r.rotate=ut(e.rotate||0,t.rotate||0,n))}function yu(r,e){return r[e]!==void 0?r[e]:r.borderRadius}const jy=Hd(0,.5,ad),Vy=Hd(.5,.95,qt);function Hd(r,e,t){return n=>n<r?0:n>e?1:t(di(r,e,n))}function wu(r,e){r.min=e.min,r.max=e.max}function Jt(r,e){wu(r.x,e.x),wu(r.y,e.y)}function vu(r,e){r.translate=e.translate,r.scale=e.scale,r.originPoint=e.originPoint,r.origin=e.origin}function Au(r,e,t,n,i){return r-=e,r=uo(r,1/t,n),i!==void 0&&(r=uo(r,1/i,n)),r}function Hy(r,e=0,t=1,n=.5,i,s=r,o=r){if(wr.test(e)&&(e=parseFloat(e),e=ut(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ut(s.min,s.max,n);r===s&&(a-=e),r.min=Au(r.min,e,t,a,i),r.max=Au(r.max,e,t,a,i)}function Eu(r,e,[t,n,i],s,o){Hy(r,e[t],e[n],e[i],e.scale,s,o)}const Ky=["x","scaleX","originX"],Gy=["y","scaleY","originY"];function Tu(r,e,t,n){Eu(r.x,e,Ky,t?t.x:void 0,n?n.x:void 0),Eu(r.y,e,Gy,t?t.y:void 0,n?n.y:void 0)}function Su(r){return r.translate===0&&r.scale===1}function Kd(r){return Su(r.x)&&Su(r.y)}function ku(r,e){return r.min===e.min&&r.max===e.max}function zy(r,e){return ku(r.x,e.x)&&ku(r.y,e.y)}function Cu(r,e){return Math.round(r.min)===Math.round(e.min)&&Math.round(r.max)===Math.round(e.max)}function Gd(r,e){return Cu(r.x,e.x)&&Cu(r.y,e.y)}function Mu(r){return Wt(r.x)/Wt(r.y)}function _u(r,e){return r.translate===e.translate&&r.scale===e.scale&&r.originPoint===e.originPoint}class qy{constructor(){this.members=[]}add(e){kl(this.members,e),e.scheduleRender()}remove(e){if(Cl(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let n;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Wy(r,e,t){let n="";const i=r.x.translate/e.x,s=r.y.translate/e.y,o=(t==null?void 0:t.z)||0;if((i||s||o)&&(n=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:l,rotate:u,rotateX:d,rotateY:h,skewX:g,skewY:b}=t;l&&(n=`perspective(${l}px) ${n}`),u&&(n+=`rotate(${u}deg) `),d&&(n+=`rotateX(${d}deg) `),h&&(n+=`rotateY(${h}deg) `),g&&(n+=`skewX(${g}deg) `),b&&(n+=`skewY(${b}deg) `)}const a=r.x.scale*e.x,c=r.y.scale*e.y;return(a!==1||c!==1)&&(n+=`scale(${a}, ${c})`),n||"none"}const Sn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Vi=typeof window<"u"&&window.MotionDebug!==void 0,_a=["","X","Y","Z"],Yy={visibility:"hidden"},Nu=1e3;let Jy=0;function Na(r,e,t,n){const{latestValues:i}=e;i[r]&&(t[r]=i[r],e.setStaticValue(r,0),n&&(n[r]=0))}function zd(r){if(r.hasCheckedOptimisedAppear=!0,r.root===r)return;const{visualElement:e}=r.options;if(!e)return;const t=ed(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:s}=r.options;window.MotionCancelOptimisedAnimation(t,"transform",ct,!(i||s))}const{parent:n}=r;n&&!n.hasCheckedOptimisedAppear&&zd(n)}function qd({attachResizeListener:r,defaultParent:e,measureScroll:t,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=Jy++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Vi&&(Sn.totalNodes=Sn.resolvedTargetDeltas=Sn.recalculatedProjection=0),this.nodes.forEach(Zy),this.nodes.forEach(i2),this.nodes.forEach(s2),this.nodes.forEach(e2),Vi&&window.MotionDebug.record(Sn)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Fy)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Ml),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Oy(o),this.instance=o;const{layoutId:c,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(l||c)&&(this.isLayoutDirty=!0),r){let d;const h=()=>this.root.updateBlockedByResize=!1;r(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=Dy(h,250),Ws.hasAnimatedSinceResize&&(Ws.hasAnimatedSinceResize=!1,this.nodes.forEach(Pu))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:g,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||f2,{onLayoutAnimationStart:T,onLayoutAnimationComplete:w}=u.getProps(),_=!this.targetLayout||!Gd(this.targetLayout,b)||g,P=!h&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||P||h&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,P);const D={...Al(y,"layout"),onPlay:T,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D)}else h||Pu(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,an(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(o2),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zd(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ru);return}this.isUpdating||this.nodes.forEach(r2),this.isUpdating=!1,this.nodes.forEach(n2),this.nodes.forEach(Xy),this.nodes.forEach(Qy),this.clearAllSnapshots();const a=vr.now();St.delta=$r(0,1e3/60,a-St.timestamp),St.timestamp=a,St.isProcessing=!0,wa.update.process(St),wa.preRender.process(St),wa.render.process(St),St.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,hl.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(t2),this.sharedNodes.forEach(a2)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ct.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ct.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Kd(this.projectionDelta),c=this.getTransformTemplate(),l=c?c(this.latestValues,""):void 0,u=l!==this.prevTransformTemplateValue;o&&(a||Tn(this.latestValues)||u)&&(i(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),u2(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return gt();const c=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(h2))){const{scroll:u}=this.root;u&&(ni(c.x,u.offset.x),ni(c.y,u.offset.y))}return c}removeElementScroll(o){var a;const c=gt();if(Jt(c,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return c;for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:h}=u;u!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&Jt(c,o),ni(c.x,d.offset.x),ni(c.y,d.offset.y))}return c}applyTransform(o,a=!1){const c=gt();Jt(c,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ii(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Tn(u.latestValues)&&ii(c,u.latestValues)}return Tn(this.latestValues)&&ii(c,this.latestValues),c}removeTransform(o){const a=gt();Jt(a,o);for(let c=0;c<this.path.length;c++){const l=this.path[c];if(!l.instance||!Tn(l.latestValues))continue;kc(l.latestValues)&&l.updateSnapshot();const u=gt(),d=l.measurePageBox();Jt(u,d),Tu(a,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,u)}return Tn(this.latestValues)&&Tu(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==St.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==c;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=St.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),Wi(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Jt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=gt(),this.targetWithTransforms=gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),my(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Jt(this.target,this.layout.layoutBox),Dd(this.target,this.targetDelta)):Jt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),Wi(this.relativeTargetOrigin,this.target,g.target),Jt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Vi&&Sn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||kc(this.parent.latestValues)||Fd(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(l=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===St.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Jt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,g=this.treeScale.y;Ty(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=gt());const{target:b}=a;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(vu(this.prevProjectionDelta.x,this.projectionDelta.x),vu(this.prevProjectionDelta.y,this.projectionDelta.y)),qi(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==g||!_u(this.projectionDelta.x,this.prevProjectionDelta.x)||!_u(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),Vi&&Sn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ri(),this.projectionDelta=ri(),this.projectionDeltaWithTransform=ri()}setAnimationOrigin(o,a=!1){const c=this.snapshot,l=c?c.latestValues:{},u={...this.latestValues},d=ri();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=gt(),g=c?c.source:void 0,b=this.layout?this.layout.source:void 0,y=g!==b,T=this.getStack(),w=!T||T.members.length<=1,_=!!(y&&!w&&this.options.crossfade===!0&&!this.path.some(l2));this.animationProgress=0;let P;this.mixTargetDelta=D=>{const I=D/1e3;Bu(d.x,o.x,I),Bu(d.y,o.y,I),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wi(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),c2(this.relativeTarget,this.relativeTargetOrigin,h,I),P&&zy(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=gt()),Jt(P,this.relativeTarget)),y&&(this.animationValues=u,$y(u,l,this.latestValues,I,_,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(an(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ct.update(()=>{Ws.hasAnimatedSinceResize=!0,this.currentAnimation=Iy(0,Nu,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Nu),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:l,latestValues:u}=o;if(!(!a||!c||!l)){if(this!==o&&this.layout&&l&&Wd(this.options.animationType,this.layout.layoutBox,l.layoutBox)){c=this.target||gt();const d=Wt(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+d;const h=Wt(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}Jt(a,c),ii(a,u),qi(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new qy),this.sharedNodes.get(o).add(a);const l=a.options.initialPromotionConfig;a.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const l=this.getStack();l&&l.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const l={};c.z&&Na("z",o,l,this.animationValues);for(let u=0;u<_a.length;u++)Na(`rotate${_a[u]}`,o,l,this.animationValues),Na(`skew${_a[u]}`,o,l,this.animationValues);o.render();for(const u in l)o.setStaticValue(u,l[u]),this.animationValues&&(this.animationValues[u]=l[u]);o.scheduleRender()}getProjectionStyles(o){var a,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Yy;const l={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=zs(o==null?void 0:o.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none",l;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=zs(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Tn(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),l.transform=Wy(this.projectionDeltaWithTransform,this.treeScale,h),u&&(l.transform=u(h,l.transform));const{x:g,y:b}=this.projectionDelta;l.transformOrigin=`${g.origin*100}% ${b.origin*100}% 0`,d.animationValues?l.opacity=d===this?(c=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:l.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in oo){if(h[y]===void 0)continue;const{correct:T,applyTo:w}=oo[y],_=l.transform==="none"?h[y]:T(h[y],d);if(w){const P=w.length;for(let D=0;D<P;D++)l[w[D]]=_}else l[y]=_}return this.options.layoutId&&(l.pointerEvents=d===this?zs(o==null?void 0:o.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Ru),this.root.sharedNodes.clear()}}}function Xy(r){r.updateLayout()}function Qy(r){var e;const t=((e=r.resumeFrom)===null||e===void 0?void 0:e.snapshot)||r.snapshot;if(r.isLead()&&r.layout&&t&&r.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=r.layout,{animationType:s}=r.options,o=t.source!==r.layout.source;s==="size"?Zt(d=>{const h=o?t.measuredBox[d]:t.layoutBox[d],g=Wt(h);h.min=n[d].min,h.max=h.min+g}):Wd(s,t.layoutBox,n)&&Zt(d=>{const h=o?t.measuredBox[d]:t.layoutBox[d],g=Wt(n[d]);h.max=h.min+g,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[d].max=r.relativeTarget[d].min+g)});const a=ri();qi(a,n,t.layoutBox);const c=ri();o?qi(c,r.applyTransform(i,!0),t.measuredBox):qi(c,n,t.layoutBox);const l=!Kd(a);let u=!1;if(!r.resumeFrom){const d=r.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:g}=d;if(h&&g){const b=gt();Wi(b,t.layoutBox,h.layoutBox);const y=gt();Wi(y,n,g.layoutBox),Gd(b,y)||(u=!0),d.options.layoutRoot&&(r.relativeTarget=y,r.relativeTargetOrigin=b,r.relativeParent=d)}}}r.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:u})}else if(r.isLead()){const{onExitComplete:n}=r.options;n&&n()}r.options.transition=void 0}function Zy(r){Vi&&Sn.totalNodes++,r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function e2(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function t2(r){r.clearSnapshot()}function Ru(r){r.clearMeasurements()}function r2(r){r.isLayoutDirty=!1}function n2(r){const{visualElement:e}=r.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),r.resetTransform()}function Pu(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function i2(r){r.resolveTargetDelta()}function s2(r){r.calcProjection()}function o2(r){r.resetSkewAndRotation()}function a2(r){r.removeLeadSnapshot()}function Bu(r,e,t){r.translate=ut(e.translate,0,t),r.scale=ut(e.scale,1,t),r.origin=e.origin,r.originPoint=e.originPoint}function Iu(r,e,t,n){r.min=ut(e.min,t.min,n),r.max=ut(e.max,t.max,n)}function c2(r,e,t,n){Iu(r.x,e.x,t.x,n),Iu(r.y,e.y,t.y,n)}function l2(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const f2={duration:.45,ease:[.4,0,.1,1]},Ou=r=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(r),Lu=Ou("applewebkit/")&&!Ou("chrome/")?Math.round:qt;function Fu(r){r.min=Lu(r.min),r.max=Lu(r.max)}function u2(r){Fu(r.x),Fu(r.y)}function Wd(r,e,t){return r==="position"||r==="preserve-aspect"&&!py(Mu(e),Mu(t),.2)}function h2(r){var e;return r!==r.root&&((e=r.scroll)===null||e===void 0?void 0:e.wasRoot)}const d2=qd({attachResizeListener:(r,e)=>as(r,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ra={current:void 0},Yd=qd({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!Ra.current){const r=new d2({});r.mount(window),r.setOptions({layoutScroll:!0}),Ra.current=r}return Ra.current},resetTransform:(r,e)=>{r.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),p2={pan:{Feature:Ny},drag:{Feature:_y,ProjectionNode:Yd,MeasureLayout:jd}};function Du(r,e,t){const{props:n}=r;r.animationState&&n.whileHover&&r.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,s=n[i];s&&ct.postRender(()=>s(e,ws(e)))}class m2 extends un{mount(){const{current:e}=this.node;e&&(this.unmount=p1(e,t=>(Du(this.node,t,"Start"),n=>Du(this.node,n,"End"))))}unmount(){}}class x2 extends un{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ys(as(this.node.current,"focus",()=>this.onFocus()),as(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Uu(r,e,t){const{props:n}=r;r.animationState&&n.whileTap&&r.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),s=n[i];s&&ct.postRender(()=>s(e,ws(e)))}class g2 extends un{mount(){const{current:e}=this.node;e&&(this.unmount=b1(e,t=>(Uu(this.node,t,"Start"),(n,{success:i})=>Uu(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Mc=new WeakMap,Pa=new WeakMap,b2=r=>{const e=Mc.get(r.target);e&&e(r)},y2=r=>{r.forEach(b2)};function w2({root:r,...e}){const t=r||document;Pa.has(t)||Pa.set(t,{});const n=Pa.get(t),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(y2,{root:r,...e})),n[i]}function v2(r,e,t){const n=w2(e);return Mc.set(r,t),n.observe(r),()=>{Mc.delete(r),n.unobserve(r)}}const A2={some:0,all:1};class E2 extends un{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:i="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:A2[i]},a=c=>{const{isIntersecting:l}=c;if(this.isInView===l||(this.isInView=l,s&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=l?u:d;h&&h(c)};return v2(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(T2(e,t))&&this.startObserver()}unmount(){}}function T2({viewport:r={}},{viewport:e={}}={}){return t=>r[t]!==e[t]}const S2={inView:{Feature:E2},tap:{Feature:g2},focus:{Feature:x2},hover:{Feature:m2}},k2={layout:{ProjectionNode:Yd,MeasureLayout:jd}},_c={current:null},Jd={current:!1};function C2(){if(Jd.current=!0,!!ol)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),e=()=>_c.current=r.matches;r.addListener(e),e()}else _c.current=!1}const M2=[...vd,Rt,cn],_2=r=>M2.find(wd(r)),$u=new WeakMap;function N2(r,e,t){for(const n in e){const i=e[n],s=t[n];if(Ot(i))r.addValue(n,i);else if(Ot(s))r.addValue(n,ss(i,{owner:r}));else if(s!==i)if(r.hasValue(n)){const o=r.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=r.getStaticValue(n);r.addValue(n,ss(o!==void 0?o:i,{owner:r}))}}for(const n in t)e[n]===void 0&&r.removeValue(n);return e}const ju=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class R2{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Il,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=vr.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,ct.render(this.render,!1,!0))};const{latestValues:c,renderState:l,onUpdate:u}=o;this.onUpdate=u,this.latestValues=c,this.baseTarget={...c},this.initialValues=t.initial?{...c}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Io(t),this.isVariantNode=_h(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(t,{},this);for(const g in h){const b=h[g];c[g]!==void 0&&Ot(b)&&b.set(c[g],!1)}}mount(e){this.current=e,$u.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,n)=>this.bindToMotionValue(n,t)),Jd.current||C2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_c.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){$u.delete(this.current),this.projection&&this.projection.unmount(),an(this.notifyUpdate),an(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Un.has(e),i=t.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&ct.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in pi){const t=pi[e];if(!t)continue;const{isEnabled:n,Feature:i}=t;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<ju.length;n++){const i=ju[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=N2(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=ss(t===null?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(bd(i)||ld(i))?i=parseFloat(i):!_2(i)&&cn.test(t)&&(i=md(e,t)),this.setBaseTarget(e,Ot(i)?i.get():i)),Ot(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=pl(this.props,n,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);o&&(i=o[e])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ot(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Ml),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class Xd extends R2{constructor(){super(...arguments),this.KeyframeResolver=Ad}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ot(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function P2(r){return window.getComputedStyle(r)}class B2 extends Xd{constructor(){super(...arguments),this.type="html",this.renderInstance=Dh}readValueFromInstance(e,t){if(Un.has(t)){const n=Bl(t);return n&&n.default||0}else{const n=P2(e),i=(Oh(t)?n.getPropertyValue(t):n[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return Ud(e,t)}build(e,t,n){gl(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return vl(e,t,n)}}class I2 extends Xd{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=gt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Un.has(t)){const n=Bl(t);return n&&n.default||0}return t=Uh.has(t)?t:ul(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return Vh(e,t,n)}build(e,t,n){bl(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,i){$h(e,t,n,i)}mount(e){this.isSVGTag=wl(e.tagName),super.mount(e)}}const O2=(r,e)=>dl(r)?new I2(e):new B2(e,{allowProjection:r!==fe.Fragment}),L2=a1({...sy,...S2,...p2,...k2},O2),er=Ag(L2);var Qd={},Fo={},Zd={},Do={},Rr={ALT:1,CAT:2,REP:3,RNM:4,TRG:5,TBS:6,TLS:7,UDT:11,AND:12,NOT:13,BKR:14,BKA:15,BKN:16,ABG:17,AEN:18,ACTIVE:100,MATCH:101,EMPTY:102,NOMATCH:103,SEM_PRE:200,SEM_POST:201,SEM_OK:300,SEM_SKIP:301,ATTR_N:400,ATTR_R:401,ATTR_MR:402,LOOKAROUND_NONE:500,LOOKAROUND_AHEAD:501,LOOKAROUND_BEHIND:502,BKR_MODE_UM:601,BKR_MODE_PM:602,BKR_MODE_CS:603,BKR_MODE_CI:604},$n={},Uo={CLASS_MONOSPACE:"apg-mono",CLASS_ACTIVE:"apg-active",CLASS_EMPTY:"apg-empty",CLASS_MATCH:"apg-match",CLASS_NOMATCH:"apg-nomatch",CLASS_LOOKAHEAD:"apg-lh-match",CLASS_LOOKBEHIND:"apg-lb-match",CLASS_REMAINDER:"apg-remainder",CLASS_CTRLCHAR:"apg-ctrl-char",CLASS_LINEEND:"apg-line-end",CLASS_ERROR:"apg-error",CLASS_PHRASE:"apg-phrase",CLASS_EMPTYPHRASE:"apg-empty-phrase",CLASS_STATE:"apg-state",CLASS_STATS:"apg-stats",CLASS_TRACE:"apg-trace",CLASS_GRAMMAR:"apg-grammar",CLASS_RULES:"apg-rules",CLASS_RULESLINK:"apg-rules-link",CLASS_ATTRIBUTES:"apg-attrs"},Dl={},ep={};(function(r){"use strict;";const{Buffer:e}=rl(),t=4294967292,n=4294967293,i=4294967294,s=4294967295,o=[0,1,3,7,15,31,63,127,255,511,1023],a=["00","01","02","03","04","05","06","07","08","09","0A","0B","0C","0D","0E","0F","10","11","12","13","14","15","16","17","18","19","1A","1B","1C","1D","1E","1F","20","21","22","23","24","25","26","27","28","29","2A","2B","2C","2D","2E","2F","30","31","32","33","34","35","36","37","38","39","3A","3B","3C","3D","3E","3F","40","41","42","43","44","45","46","47","48","49","4A","4B","4C","4D","4E","4F","50","51","52","53","54","55","56","57","58","59","5A","5B","5C","5D","5E","5F","60","61","62","63","64","65","66","67","68","69","6A","6B","6C","6D","6E","6F","70","71","72","73","74","75","76","77","78","79","7A","7B","7C","7D","7E","7F","80","81","82","83","84","85","86","87","88","89","8A","8B","8C","8D","8E","8F","90","91","92","93","94","95","96","97","98","99","9A","9B","9C","9D","9E","9F","A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","AA","AB","AC","AD","AE","AF","B0","B1","B2","B3","B4","B5","B6","B7","B8","B9","BA","BB","BC","BD","BE","BF","C0","C1","C2","C3","C4","C5","C6","C7","C8","C9","CA","CB","CC","CD","CE","CF","D0","D1","D2","D3","D4","D5","D6","D7","D8","D9","DA","DB","DC","DD","DE","DF","E0","E1","E2","E3","E4","E5","E6","E7","E8","E9","EA","EB","EC","ED","EE","EF","F0","F1","F2","F3","F4","F5","F6","F7","F8","F9","FA","FB","FC","FD","FE","FF"],c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),l=[];c.forEach(h=>{l.push(h.charCodeAt(0))}),r.utf8={encode(h){const g=[];return h.forEach(b=>{if(b>=0&&b<=127)g.push(b);else if(b<=2047)g.push(192+(b>>6&o[5])),g.push(128+(b&o[6]));else if(b<55296||b>57343&&b<=65535)g.push(224+(b>>12&o[4])),g.push(128+(b>>6&o[6])),g.push(128+(b&o[6]));else if(b>=65536&&b<=1114111){const y=b>>16&o[5];g.push(240+(y>>2)),g.push(128+((y&o[2])<<4)+(b>>12&o[4])),g.push(128+(b>>6&o[6])),g.push(128+(b&o[6]))}else throw new RangeError(`utf8.encode: character out of range: char: ${b}`)}),e.from(g)},decode(h,g){function b(X,Q){if((Q&192)!==128)return n;const Z=((X&o[5])<<6)+(Q&o[6]);return Z<128?t:Z}function y(X,Q,Z){if((Z&192)!==128||(Q&192)!==128)return n;const N=((X&o[4])<<12)+((Q&o[6])<<6)+(Z&o[6]);return N<2048?t:N>=55296&&N<=57343?i:N}function T(X,Q,Z,N){if((N&192)!==128||(Z&192)!==128||(Q&192)!==128)return n;const p=(((X&o[3])<<2)+(Q>>4&o[2])<<16)+((Q&o[4])<<12)+((Z&o[6])<<6)+(N&o[6]);return p<65536?t:p>1114111?i:p}let w,_,P,D,I,B;const V=h.length;let z=g?3:0;const he=[];for(;z<V;){_=h[z],w=s;const X=!0;for(;X;){if(_>=0&&_<=127){w=_,B=1;break}if(P=z+1,P<V&&_>=194&&_<=223){w=b(_,h[P]),B=2;break}if(D=z+2,D<V&&_>=224&&_<=239){w=y(_,h[P],h[D]),B=3;break}if(I=z+3,I<V&&_>=240&&_<=244){w=T(_,h[P],h[D],h[I]),B=4;break}break}if(w>1114111){const Q=`byte[${z}]`;throw w===s?new RangeError(`utf8.decode: ill-formed UTF8 byte sequence found at: ${Q}`):w===n?new RangeError(`utf8.decode: illegal trailing byte found at: ${Q}`):w===i?new RangeError(`utf8.decode: code point out of range found at: ${Q}`):w===t?new RangeError(`utf8.decode: non-shortest form found at: ${Q}`):new RangeError(`utf8.decode: unrecognized error found at: ${Q}`)}he.push(w),z+=B}return he}},r.utf16be={encode(h){const g=[];let b,y,T;for(let w=0;w<h.length;w+=1)if(b=h[w],b>=0&&b<=55295||b>=57344&&b<=65535)g.push(b>>8&o[8]),g.push(b&o[8]);else if(b>=65536&&b<=1114111)T=b-65536,y=55296+(T>>10),T=56320+(T&o[10]),g.push(y>>8&o[8]),g.push(y&o[8]),g.push(T>>8&o[8]),g.push(T&o[8]);else throw new RangeError(`utf16be.encode: UTF16BE value out of range: char[${w}]: ${b}`);return e.from(g)},decode(h,g){if(h.length%2>0)throw new RangeError(`utf16be.decode: data length must be even multiple of 2: length: ${h.length}`);const b=[],y=h.length;let T=g?2:0,w=0,_,P,D,I,B,V;for(;T<y;){for(;;){if(D=T+1,D<y){if(B=(h[T]<<8)+h[D],B<55296||B>57343){_=B,P=2;break}if(I=T+3,I<y&&(V=(h[T+2]<<8)+h[I],B<=56319&&V>=56320&&V<=57343)){_=65536+(B-55296<<10)+(V-56320),P=4;break}}throw new RangeError(`utf16be.decode: ill-formed UTF16BE byte sequence found: byte[${T}]`)}b[w++]=_,T+=P}return b}},r.utf16le={encode(h){const g=[];let b,y,T;for(let w=0;w<h.length;w+=1)if(b=h[w],b>=0&&b<=55295||b>=57344&&b<=65535)g.push(b&o[8]),g.push(b>>8&o[8]);else if(b>=65536&&b<=1114111)T=b-65536,y=55296+(T>>10),T=56320+(T&o[10]),g.push(y&o[8]),g.push(y>>8&o[8]),g.push(T&o[8]),g.push(T>>8&o[8]);else throw new RangeError(`utf16le.encode: UTF16LE value out of range: char[${w}]: ${b}`);return e.from(g)},decode(h,g){if(h.length%2>0)throw new RangeError(`utf16le.decode: data length must be even multiple of 2: length: ${h.length}`);const b=[],y=h.length;let T=g?2:0,w=0,_,P,D,I,B,V;for(;T<y;){for(;;){if(D=T+1,D<y){if(B=(h[D]<<8)+h[T],B<55296||B>57343){_=B,P=2;break}if(I=T+3,I<y&&(V=(h[I]<<8)+h[T+2],B<=56319&&V>=56320&&V<=57343)){_=65536+(B-55296<<10)+(V-56320),P=4;break}}throw new RangeError(`utf16le.decode: ill-formed UTF16LE byte sequence found: byte[${T}]`)}b[w++]=_,T+=P}return b}},r.utf32be={encode(h){const g=e.alloc(h.length*4);let b=0;return h.forEach(y=>{if(y>=55296&&y<=57343||y>1114111)throw new RangeError(`utf32be.encode: UTF32BE character code out of range: char[${b/4}]: ${y}`);g[b++]=y>>24&o[8],g[b++]=y>>16&o[8],g[b++]=y>>8&o[8],g[b++]=y&o[8]}),g},decode(h,g){if(h.length%4>0)throw new RangeError(`utf32be.decode: UTF32BE byte length must be even multiple of 4: length: ${h.length}`);const b=[];let y=g?4:0;for(;y<h.length;y+=4){const T=(h[y]<<24)+(h[y+1]<<16)+(h[y+2]<<8)+h[y+3];if(T>=55296&&T<=57343||T>1114111)throw new RangeError(`utf32be.decode: UTF32BE character code out of range: char[${y/4}]: ${T}`);b.push(T)}return b}},r.utf32le={encode(h){const g=e.alloc(h.length*4);let b=0;return h.forEach(y=>{if(y>=55296&&y<=57343||y>1114111)throw new RangeError(`utf32le.encode: UTF32LE character code out of range: char[${b/4}]: ${y}`);g[b++]=y&o[8],g[b++]=y>>8&o[8],g[b++]=y>>16&o[8],g[b++]=y>>24&o[8]}),g},decode(h,g){if(h.length%4>0)throw new RangeError(`utf32be.decode: UTF32LE byte length must be even multiple of 4: length: ${h.length}`);const b=[];let y=g?4:0;for(;y<h.length;y+=4){const T=(h[y+3]<<24)+(h[y+2]<<16)+(h[y+1]<<8)+h[y];if(T>=55296&&T<=57343||T>1114111)throw new RangeError(`utf32le.encode: UTF32LE character code out of range: char[${y/4}]: ${T}`);b.push(T)}return b}},r.uint7={encode(h){const g=e.alloc(h.length);for(let b=0;b<h.length;b+=1){if(h[b]>127)throw new RangeError(`uint7.encode: UINT7 character code out of range: char[${b}]: ${h[b]}`);g[b]=h[b]}return g},decode(h){const g=[];for(let b=0;b<h.length;b+=1){if(h[b]>127)throw new RangeError(`uint7.decode: UINT7 character code out of range: byte[${b}]: ${h[b]}`);g[b]=h[b]}return g}},r.uint8={encode(h){const g=e.alloc(h.length);for(let b=0;b<h.length;b+=1){if(h[b]>255)throw new RangeError(`uint8.encode: UINT8 character code out of range: char[${b}]: ${h[b]}`);g[b]=h[b]}return g},decode(h){const g=[];for(let b=0;b<h.length;b+=1)g[b]=h[b];return g}},r.uint16be={encode(h){const g=e.alloc(h.length*2);let b=0;return h.forEach(y=>{if(y>65535)throw new RangeError(`uint16be.encode: UINT16BE character code out of range: char[${b/2}]: ${y}`);g[b++]=y>>8&o[8],g[b++]=y&o[8]}),g},decode(h){if(h.length%2>0)throw new RangeError(`uint16be.decode: UINT16BE byte length must be even multiple of 2: length: ${h.length}`);const g=[];for(let b=0;b<h.length;b+=2)g.push((h[b]<<8)+h[b+1]);return g}},r.uint16le={encode(h){const g=e.alloc(h.length*2);let b=0;return h.forEach(y=>{if(y>65535)throw new RangeError(`uint16le.encode: UINT16LE character code out of range: char[${b/2}]: ${y}`);g[b++]=y&o[8],g[b++]=y>>8&o[8]}),g},decode(h){if(h.length%2>0)throw new RangeError(`uint16le.decode: UINT16LE byte length must be even multiple of 2: length: ${h.length}`);const g=[];for(let b=0;b<h.length;b+=2)g.push((h[b+1]<<8)+h[b]);return g}},r.uint32be={encode(h){const g=e.alloc(h.length*4);let b=0;return h.forEach(y=>{g[b++]=y>>24&o[8],g[b++]=y>>16&o[8],g[b++]=y>>8&o[8],g[b++]=y&o[8]}),g},decode(h){if(h.length%4>0)throw new RangeError(`uint32be.decode: UINT32BE byte length must be even multiple of 4: length: ${h.length}`);const g=[];for(let b=0;b<h.length;b+=4)g.push((h[b]<<24)+(h[b+1]<<16)+(h[b+2]<<8)+h[b+3]);return g}},r.uint32le={encode(h){const g=e.alloc(h.length*4);let b=0;return h.forEach(y=>{g[b++]=y&o[8],g[b++]=y>>8&o[8],g[b++]=y>>16&o[8],g[b++]=y>>24&o[8]}),g},decode(h){if(h.length%4>0)throw new RangeError(`uint32le.decode: UINT32LE byte length must be even multiple of 4: length: ${h.length}`);const g=[];for(let b=0;b<h.length;b+=4)g.push((h[b+3]<<24)+(h[b+2]<<16)+(h[b+1]<<8)+h[b]);return g}},r.string={encode(h){return r.utf16le.encode(h).toString("utf16le")},decode(h){return r.utf16le.decode(e.from(h,"utf16le"),0)}},r.escaped={encode(h){const g=[];for(let b=0;b<h.length;b+=1){const y=h[b];if(y===96)g.push(y),g.push(y);else if(y===10)g.push(y);else if(y>=32&&y<=126)g.push(y);else{let T="";if(y>=0&&y<=31)T+=`\`x${a[y]}`;else if(y>=127&&y<=255)T+=`\`x${a[y]}`;else if(y>=256&&y<=65535)T+=`\`u${a[y>>8&o[8]]}${a[y&o[8]]}`;else if(y>=65536&&y<=4294967295){T+="`u{";const _=y>>24&o[8];_>0&&(T+=a[_]),T+=`${a[y>>16&o[8]]+a[y>>8&o[8]]+a[y&o[8]]}}`}else throw new Error("escape.encode(char): char > 0xffffffff not allowed");e.from(T).forEach(_=>{g.push(_)})}}return e.from(g)},decode(h){function g(V){return V>=48&&V<=57||V>=65&&V<=70||V>=97&&V<=102}function b(V,z,he){const X={char:null,nexti:V+2,error:!0};if(V+1<z&&g(he[V])&&g(he[V+1])){const Q=String.fromCodePoint(he[V],he[V+1]);X.char=parseInt(Q,16),Number.isNaN(X.char)||(X.error=!1)}return X}function y(V,z,he){const X={char:null,nexti:V+4,error:!0};if(V+3<z&&g(he[V])&&g(he[V+1])&&g(he[V+2])&&g(he[V+3])){const Q=String.fromCodePoint(he[V],he[V+1],he[V+2],he[V+3]);X.char=parseInt(Q,16),Number.isNaN(X.char)||(X.error=!1)}return X}function T(V,z,he){const X={char:null,nexti:V+4,error:!0};let Q="";for(;V<z&&g(he[V]);)Q+=String.fromCodePoint(he[V]),V+=1;return X.char=parseInt(Q,16),he[V]===125&&!Number.isNaN(X.char)&&(X.error=!1),X.nexti=V+1,X}const w=[],_=h.length;let P,D,I,B=0;for(;B<_;){for(;;){if(I=!0,h[B]!==96){w.push(h[B]),B+=1,I=!1;break}if(P=B+1,P>=_)break;if(h[P]===96){w.push(96),B+=2,I=!1;break}if(h[P]===120){if(D=b(P+1,_,h),D.error)break;w.push(D.char),B=D.nexti,I=!1;break}if(h[P]===117){if(h[P+1]===123){if(D=T(P+2,_,h),D.error)break;w.push(D.char),B=D.nexti,I=!1;break}if(D=y(P+1,_,h),D.error)break;w.push(D.char),B=D.nexti,I=!1;break}break}if(I)throw new Error(`escaped.decode: ill-formed escape sequence at buf[${B}]`)}return w}};const u=13,d=10;r.lineEnds={crlf(h){const g=[];let b=0;for(;b<h.length;)switch(h[b]){case u:b+1<h.length&&h[b+1]===d?b+=2:b+=1,g.push(u),g.push(d);break;case d:g.push(u),g.push(d),b+=1;break;default:g.push(h[b]),b+=1;break}return g.length>0&&g[g.length-1]!==d&&(g.push(u),g.push(d)),g},lf(h){const g=[];let b=0;for(;b<h.length;)switch(h[b]){case u:b+1<h.length&&h[b+1]===d?b+=2:b+=1,g.push(d);break;case d:g.push(d),b+=1;break;default:g.push(h[b]),b+=1;break}return g.length>0&&g[g.length-1]!==d&&g.push(d),g}},r.base64={encode(h){if(h.length===0)return e.alloc(0);let g,b,y,T=h.length%3;T=T>0?3-T:0;let w=(h.length+T)/3;const _=e.alloc(w*4);T>0&&(w-=1),g=0,b=0;for(let P=0;P<w;P+=1)y=h[g++]<<16,y+=h[g++]<<8,y+=h[g++],_[b++]=l[y>>18&o[6]],_[b++]=l[y>>12&o[6]],_[b++]=l[y>>6&o[6]],_[b++]=l[y&o[6]];if(T===0)return _;if(T===1)return y=h[g++]<<16,y+=h[g]<<8,_[b++]=l[y>>18&o[6]],_[b++]=l[y>>12&o[6]],_[b++]=l[y>>6&o[6]],_[b]=l[64],_;if(T===2)return y=h[g]<<16,_[b++]=l[y>>18&o[6]],_[b++]=l[y>>12&o[6]],_[b++]=l[64],_[b]=l[64],_},decode(h){function g(B){const V=[];let z=0;for(let he=0;he<B.length;he+=1){const X=B[he],Q=!0;for(;Q&&!(X===32||X===9||X===10||X===13);){if(X>=65&&X<=90){V.push(X-65);break}if(X>=97&&X<=122){V.push(X-71);break}if(X>=48&&X<=57){V.push(X+4);break}if(X===43){V.push(62);break}if(X===47){V.push(63);break}if(X===61){V.push(64),z+=1;break}throw new RangeError(`base64.decode: invalid character buf[${he}]: ${X}`)}}if(V.length%4>0)throw new RangeError(`base64.decode: string length not integral multiple of 4: ${V.length}`);switch(z){case 0:break;case 1:if(V[V.length-1]!==64)throw new RangeError("base64.decode: one tail character found: not last character");break;case 2:if(V[V.length-1]!==64||V[V.length-2]!==64)throw new RangeError("base64.decode: two tail characters found: not last characters");break;default:throw new RangeError(`base64.decode: more than two tail characters found: ${z}`)}return{tail:z,buf:e.from(V)}}if(h.length===0)return e.alloc(0);const b=g(h),{tail:y}=b,T=b.buf;let w,_,P,D=T.length/4;const I=e.alloc(D*3-y);y>0&&(D-=1),_=0,w=0;for(let B=0;B<D;B+=1)P=T[w++]<<18,P+=T[w++]<<12,P+=T[w++]<<6,P+=T[w++],I[_++]=P>>16&o[8],I[_++]=P>>8&o[8],I[_++]=P&o[8];return y===1&&(P=T[w++]<<18,P+=T[w++]<<12,P+=T[w]<<6,I[_++]=P>>16&o[8],I[_]=P>>8&o[8]),y===2&&(P=T[w++]<<18,P+=T[w++]<<12,I[_]=P>>16&o[8]),I},toString(h){if(h.length%4>0)throw new RangeError(`base64.toString: input buffer length not multiple of 4: ${h.length}`);let g="",b=0;function y(w,_,P,D){switch(b){case 76:g+=`\r
${w}${_}${P}${D}`,b=4;break;case 75:g+=`${w}\r
${_}${P}${D}`,b=3;break;case 74:g+=`${w+_}\r
${P}${D}`,b=2;break;case 73:g+=`${w+_+P}\r
${D}`,b=1;break;default:g+=w+_+P+D,b+=4;break}}function T(w){return w>=65&&w<=90||w>=97&&w<=122||w>=48&&w<=57||w===43||w===47||w===61}for(let w=0;w<h.length;w+=4){for(let _=w;_<w+4;_+=1)if(!T(h[_]))throw new RangeError(`base64.toString: buf[${_}]: ${h[_]} : not valid base64 character code`);y(String.fromCharCode(h[w]),String.fromCharCode(h[w+1]),String.fromCharCode(h[w+2]),String.fromCharCode(h[w+3]))}return g}}})(ep);(function(r){"use strict;";const{Buffer:e}=rl(),t=ep,n="UTF8",i="UTF16",s="UTF16BE",o="UTF16LE",a="UTF32",c="UTF32BE",l="UTF32LE",u="UINT7",d="ASCII",h="BINARY",g="UINT8",b="UINT16",y="UINT16LE",T="UINT16BE",w="UINT32",_="UINT32LE",P="UINT32BE",D="ESCAPED",I="STRING",B=function(v){v.type=n;const C=v.data;v.bom=0,C.length>=3&&C[0]===239&&C[1]===187&&C[2]===191&&(v.bom=3)},V=function(v){const C=v.data;switch(v.bom=0,v.type){case i:v.type=s,C.length>=2&&(C[0]===254&&C[1]===255?v.bom=2:C[0]===255&&C[1]===254&&(v.type=o,v.bom=2));break;case s:if(v.type=s,C.length>=2){if(C[0]===254&&C[1]===255)v.bom=2;else if(C[0]===255&&C[1]===254)throw new TypeError(`src type: "${s}" specified but BOM is for "${o}"`)}break;case o:if(v.type=o,C.length>=0){if(C[0]===254&&C[1]===255)throw new TypeError(`src type: "${o}" specified but BOM is for "${s}"`);C[0]===255&&C[1]===254&&(v.bom=2)}break;default:throw new TypeError(`UTF16 BOM: src type "${v.type}" unrecognized`)}},z=function(v){const C=v.data;switch(v.bom=0,v.type){case a:v.type=c,C.length>=4&&(C[0]===0&&C[1]===0&&C[2]===254&&C[3]===255&&(v.bom=4),C[0]===255&&C[1]===254&&C[2]===0&&C[3]===0&&(v.type=l,v.bom=4));break;case c:if(v.type=c,C.length>=4&&(C[0]===0&&C[1]===0&&C[2]===254&&C[3]===255&&(v.bom=4),C[0]===255&&C[1]===254&&C[2]===0&&C[3]===0))throw new TypeError(`src type: ${c} specified but BOM is for ${l}"`);break;case l:if(v.type=l,C.length>=4){if(C[0]===0&&C[1]===0&&C[2]===254&&C[3]===255)throw new TypeError(`src type: "${l}" specified but BOM is for "${c}"`);C[0]===255&&C[1]===254&&C[2]===0&&C[3]===0&&(v.bom=4)}break;default:throw new TypeError(`UTF32 BOM: src type "${v.type}" unrecognized`)}},he=function(v,C){function R(G){const j={type:"",base64:!1},m=/^(base64:)?([a-zA-Z0-9]+)$/i.exec(G);return m&&(m[2]&&(j.type=m[2].toUpperCase()),m[1]&&(j.base64=!0)),j}const L=R(v.toUpperCase());if(L.base64){if(L.type===I)throw new TypeError(`type: "${v} "BASE64:" prefix not allowed with type ${I}`);if(e.isBuffer(C))L.data=t.base64.decode(C);else if(typeof C=="string"){const G=e.from(C,"ascii");L.data=t.base64.decode(G)}else throw new TypeError(`type: "${v} unrecognized data type: typeof(data): ${typeof C}`)}else L.data=C;switch(L.type){case n:B(L);break;case i:case s:case o:V(L);break;case a:case c:case l:z(L);break;case b:L.type=T;break;case w:L.type=P;break;case d:L.type=u;break;case h:L.type=g;break;case u:case g:case y:case T:case _:case P:case I:case D:break;default:throw new TypeError(`type: "${v}" not recognized`)}if(L.type===I){if(typeof L.data!="string")throw new TypeError(`type: "${v}" but data is not a string`)}else if(!e.isBuffer(L.data))throw new TypeError(`type: "${v}" but data is not a Buffer`);return L},X=function(v,C){function R(G){let j,k;const m={crlf:!1,lf:!1,base64:!1,type:""},S=!0;for(;S;){if(k=G,j=G.slice(0,5),j==="CRLF:"){m.crlf=!0,k=G.slice(5);break}if(j=G.slice(0,3),j==="LF:"){m.lf=!0,k=G.slice(3);break}break}return j=k.split(":"),j.length===1?m.type=j[0]:j.length===2&&j[1]==="BASE64"&&(m.base64=!0,m.type=j[0]),m}if(!Array.isArray(C))throw new TypeError(`dst chars: not array: "${typeof C}`);if(typeof v!="string")throw new TypeError(`dst type: not string: "${typeof v}`);const L=R(v.toUpperCase());switch(L.type){case n:case s:case o:case c:case l:case u:case g:case y:case T:case _:case P:case D:break;case I:if(L.base64)throw new TypeError(`":BASE64" suffix not allowed with type ${I}`);break;case d:L.type=u;break;case h:L.type=g;break;case i:L.type=s;break;case a:L.type=c;break;case b:L.type=T;break;case w:L.type=P;break;default:throw new TypeError(`dst type unrecognized: "${v}" : must have form [crlf:|lf:]type[:base64]`)}return L},Q=function(v,C){switch(v){case n:return t.utf8.encode(C);case s:return t.utf16be.encode(C);case o:return t.utf16le.encode(C);case c:return t.utf32be.encode(C);case l:return t.utf32le.encode(C);case u:return t.uint7.encode(C);case g:return t.uint8.encode(C);case T:return t.uint16be.encode(C);case y:return t.uint16le.encode(C);case P:return t.uint32be.encode(C);case _:return t.uint32le.encode(C);case I:return t.string.encode(C);case D:return t.escaped.encode(C);default:throw new TypeError(`encode type "${v}" not recognized`)}},Z=function(v){switch(v.type){case n:return t.utf8.decode(v.data,v.bom);case o:return t.utf16le.decode(v.data,v.bom);case s:return t.utf16be.decode(v.data,v.bom);case c:return t.utf32be.decode(v.data,v.bom);case l:return t.utf32le.decode(v.data,v.bom);case u:return t.uint7.decode(v.data);case g:return t.uint8.decode(v.data);case T:return t.uint16be.decode(v.data);case y:return t.uint16le.decode(v.data);case P:return t.uint32be.decode(v.data);case _:return t.uint32le.decode(v.data);case I:return t.string.decode(v.data);case D:return t.escaped.decode(v.data);default:throw new TypeError(`decode type "${v.type}" not recognized`)}};r.decode=function(v,C){const R=he(v,C);return Z(R)},r.encode=function(v,C){let R,L;const G=X(v,C);return G.crlf?(R=t.lineEnds.crlf(C),L=Q(G.type,R)):G.lf?(R=t.lineEnds.lf(C),L=Q(G.type,R)):L=Q(G.type,C),G.base64&&(L=t.base64.encode(L)),L};const N=function(v,C,R){return r.encode(R,r.decode(v,C))};r.convert=N})(Dl);var tp=function(){return`/* This file automatically generated by jsonToless() and LESS. */
.apg-mono {
  font-family: monospace;
}
.apg-active {
  font-weight: bold;
  color: #000000;
}
.apg-match {
  font-weight: bold;
  color: #264BFF;
}
.apg-empty {
  font-weight: bold;
  color: #0fbd0f;
}
.apg-nomatch {
  font-weight: bold;
  color: #FF4000;
}
.apg-lh-match {
  font-weight: bold;
  color: #1A97BA;
}
.apg-lb-match {
  font-weight: bold;
  color: #5F1687;
}
.apg-remainder {
  font-weight: bold;
  color: #999999;
}
.apg-ctrl-char {
  font-weight: bolder;
  font-style: italic;
  font-size: 0.6em;
}
.apg-line-end {
  font-weight: bold;
  color: #000000;
}
.apg-error {
  font-weight: bold;
  color: #FF4000;
}
.apg-phrase {
  color: #000000;
  background-color: #8caae6;
}
.apg-empty-phrase {
  color: #0fbd0f;
}
table.apg-state {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: left;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-state th,
table.apg-state td {
  text-align: left;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-state th:nth-last-child(2),
table.apg-state td:nth-last-child(2) {
  text-align: right;
}
table.apg-state caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-stats {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-stats th,
table.apg-stats td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-stats caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-trace {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-trace caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-trace th,
table.apg-trace td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-trace th:last-child,
table.apg-trace th:nth-last-child(2),
table.apg-trace td:last-child,
table.apg-trace td:nth-last-child(2) {
  text-align: left;
}
table.apg-grammar {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-grammar caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-grammar th,
table.apg-grammar td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-grammar th:last-child,
table.apg-grammar td:last-child {
  text-align: left;
}
table.apg-rules {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-rules caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-rules th,
table.apg-rules td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-rules a {
  color: #003399 !important;
}
table.apg-rules a:hover {
  color: #8caae6 !important;
}
table.apg-attrs {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: center;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-attrs caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-attrs th,
table.apg-attrs td {
  text-align: center;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-attrs th:nth-child(1),
table.apg-attrs th:nth-child(2),
table.apg-attrs th:nth-child(3) {
  text-align: right;
}
table.apg-attrs td:nth-child(1),
table.apg-attrs td:nth-child(2),
table.apg-attrs td:nth-child(3) {
  text-align: right;
}
table.apg-attrs a {
  color: #003399 !important;
}
table.apg-attrs a:hover {
  color: #8caae6 !important;
}
`};(function(r){const e=Uo,t=Dl,n=tp,i=Rr,s="utilities.js: ",o=function(c,l,u){let d,h=l;const g=!0;for(;g;){if(c<=0){h=0,d=0;break}if(typeof h!="number"){h=0,d=c;break}if(h>=c){h=c,d=c;break}if(typeof u!="number"){d=c;break}if(d=h+u,d>c){d=c;break}break}return{beg:h,end:d}};r.htmlToPage=function(c,l){let u;if(typeof c!="string")throw new Error(`${s}htmlToPage: input HTML is not a string`);typeof l!="string"?u="htmlToPage":u=l;let d="";return d+=`<!DOCTYPE html>
`,d+=`<html lang="en">
`,d+=`<head>
`,d+=`<meta charset="utf-8">
`,d+=`<title>${u}</title>
`,d+=`<style>
`,d+=n(),d+=`</style>
`,d+=`</head>
<body>
`,d+=`<p>${new Date}</p>
`,d+=c,d+=`</body>
</html>
`,d},r.parserResultToHtml=function(c,l){let u=null;typeof l=="string"&&l!==""&&(u=l);let d,h;c.success===!0?d=`<span class="${e.CLASS_MATCH}">true</span>`:d=`<span class="${e.CLASS_NOMATCH}">false</span>`,c.state===i.EMPTY?h=`<span class="${e.CLASS_EMPTY}">EMPTY</span>`:c.state===i.MATCH?h=`<span class="${e.CLASS_MATCH}">MATCH</span>`:c.state===i.NOMATCH?h=`<span class="${e.CLASS_NOMATCH}">NOMATCH</span>`:h=`<span class="${e.CLASS_NOMATCH}">unrecognized</span>`;let g="";return g+=`<table class="${e.CLASS_STATE}">
`,u&&(g+=`<caption>${u}</caption>
`),g+=`<tr><th>state item</th><th>value</th><th>description</th></tr>
`,g+=`<tr><td>parser success</td><td>${d}</td>
`,g+=`<td><span class="${e.CLASS_MATCH}">true</span> if the parse succeeded,
`,g+=` <span class="${e.CLASS_NOMATCH}">false</span> otherwise`,g+=`<br><i>NOTE: for success, entire string must be matched</i></td></tr>
`,g+=`<tr><td>parser state</td><td>${h}</td>
`,g+=`<td><span class="${e.CLASS_EMPTY}">EMPTY</span>, `,g+=`<span class="${e.CLASS_MATCH}">MATCH</span> or 
`,g+=`<span class="${e.CLASS_NOMATCH}">NOMATCH</span></td></tr>
`,g+=`<tr><td>string length</td><td>${c.length}</td><td>length of the input (sub)string</td></tr>
`,g+=`<tr><td>matched length</td><td>${c.matched}</td><td>number of input string characters matched</td></tr>
`,g+=`<tr><td>max matched</td><td>${c.maxMatched}</td><td>maximum number of input string characters matched</td></tr>
`,g+=`<tr><td>max tree depth</td><td>${c.maxTreeDepth}</td><td>maximum depth of the parse tree reached</td></tr>
`,g+=`<tr><td>node hits</td><td>${c.nodeHits}</td><td>number of parse tree node hits (opcode function calls)</td></tr>
`,g+=`<tr><td>input length</td><td>${c.inputLength}</td><td>length of full input string</td></tr>
`,g+=`<tr><td>sub-string begin</td><td>${c.subBegin}</td><td>sub-string first character index</td></tr>
`,g+=`<tr><td>sub-string end</td><td>${c.subEnd}</td><td>sub-string end-of-string index</td></tr>
`,g+=`<tr><td>sub-string length</td><td>${c.subLength}</td><td>sub-string length</td></tr>
`,g+=`</table>
`,g},r.charsToString=function(c,l,u){let d,h;if(typeof l=="number"){if(l>=c.length)return"";d=l<0?0:l}else d=0;if(typeof u=="number"){if(u<=0)return"";h=u>c.length-d?c.length:d+u}else h=c.length;return d<h?t.encode("UTF16LE",c.slice(d,h)).toString("utf16le"):""},r.stringToChars=function(c){return t.decode("STRING",c)},r.opcodeToString=function(c){let l="unknown";switch(c){case i.ALT:l="ALT";break;case i.CAT:l="CAT";break;case i.RNM:l="RNM";break;case i.UDT:l="UDT";break;case i.AND:l="AND";break;case i.NOT:l="NOT";break;case i.REP:l="REP";break;case i.TRG:l="TRG";break;case i.TBS:l="TBS";break;case i.TLS:l="TLS";break;case i.BKR:l="BKR";break;case i.BKA:l="BKA";break;case i.BKN:l="BKN";break;case i.ABG:l="ABG";break;case i.AEN:l="AEN";break;default:throw new Error("unrecognized opcode")}return l},r.stateToString=function(c){let l="unknown";switch(c){case i.ACTIVE:l="ACTIVE";break;case i.MATCH:l="MATCH";break;case i.EMPTY:l="EMPTY";break;case i.NOMATCH:l="NOMATCH";break;default:throw new Error("unrecognized state")}return l},r.asciiChars=["NUL","SOH","STX","ETX","EOT","ENQ","ACK","BEL","BS","TAB","LF","VT","FF","CR","SO","SI","DLE","DC1","DC2","DC3","DC4","NAK","SYN","ETB","CAN","EM","SUB","ESC","FS","GS","RS","US","&nbsp;","!","&#34;","#","$","%","&#38;","&#39;","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","&#60;","=","&#62;","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","&#92;","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","DEL"],r.charToHex=function(c){let l=c.toString(16).toUpperCase();switch(l.length){case 1:case 3:case 7:l=`0${l}`;break;case 2:case 6:l=`00${l}`;break;case 4:break;case 5:l=`000${l}`;break;default:throw new Error("unrecognized option")}return l},r.charsToDec=function(c,l,u){let d="";if(!Array.isArray(c))throw new Error(`${s}charsToDec: input must be an array of integers`);const h=o(c.length,l,u);if(h.end>h.beg){d+=c[h.beg];for(let g=h.beg+1;g<h.end;g+=1)d+=`,${c[g]}`}return d},r.charsToHex=function(c,l,u){let d="";if(!Array.isArray(c))throw new Error(`${s}charsToHex: input must be an array of integers`);const h=o(c.length,l,u);if(h.end>h.beg){d+=`\\x${r.charToHex(c[h.beg])}`;for(let g=h.beg+1;g<h.end;g+=1)d+=`,\\x${r.charToHex(c[g])}`}return d},r.charsToHtmlEntities=function(c,l,u){let d="";if(!Array.isArray(c))throw new Error(`${s}charsToHex: input must be an array of integers`);const h=o(c.length,l,u);if(h.end>h.beg)for(let g=h.beg;g<h.end;g+=1)d+=`&#x${c[g].toString(16)};`;return d};function a(c){return!(c>=55296&&c<=57343||c>1114111)}r.charsToUnicode=function(c,l,u){let d="";if(!Array.isArray(c))throw new Error(`${s}charsToUnicode: input must be an array of integers`);const h=o(c.length,l,u);if(h.end>h.beg)for(let g=h.beg;g<h.end;g+=1)a(c[g])?d+=`&#${c[g]};`:d+=` U+${r.charToHex(c[g])}`;return d},r.charsToJsUnicode=function(c,l,u){let d="";if(!Array.isArray(c))throw new Error(`${s}charsToJsUnicode: input must be an array of integers`);const h=o(c.length,l,u);if(h.end>h.beg){d+=`\\u${r.charToHex(c[h.beg])}`;for(let g=h.beg+1;g<h.end;g+=1)d+=`,\\u${r.charToHex(c[g])}`}return d},r.charsToAscii=function(c,l,u){let d="";if(!Array.isArray(c))throw new Error(`${s}charsToAscii: input must be an array of integers`);const h=o(c.length,l,u);for(let g=h.beg;g<h.end;g+=1){const b=c[g];b>=32&&b<=126?d+=String.fromCharCode(b):d+=`\\x${r.charToHex(b)}`}return d},r.charsToAsciiHtml=function(c,l,u){if(!Array.isArray(c))throw new Error(`${s}charsToAsciiHtml: input must be an array of integers`);let d="",h;const g=o(c.length,l,u);for(let b=g.beg;b<g.end;b+=1)h=c[b],h<32||h===127?d+=`<span class="${e.CLASS_CTRLCHAR}">${r.asciiChars[h]}</span>`:h>127?d+=`<span class="${e.CLASS_CTRLCHAR}">U+${r.charToHex(h)}</span>`:d+=r.asciiChars[h];return d},r.stringToAsciiHtml=function(c){const l=t.decode("STRING",c);return this.charsToAsciiHtml(l)}})($n);var F2=function(){const e=Rr,t=$n,n="ast.js: ",i=this;let s=null,o=null,a=null,c=0;const l=[],u=[],d=[],h=[];this.callbacks=[],this.astObject="astObject",this.init=function(y,T,w){d.length=0,h.length=0,l.length=0,c=0,s=y,o=T,a=w;let _;const P=[];for(_=0;_<s.length;_+=1)P.push(s[_].lower);for(_=0;_<o.length;_+=1)P.push(o[_].lower);for(c=s.length+o.length,_=0;_<c;_+=1)l[_]=!1,u[_]=null;for(const D in i.callbacks){const I=D.toLowerCase();if(_=P.indexOf(I),_<0)throw new Error(`${n}init: node '${D}' not a rule or udt name`);typeof i.callbacks[D]=="function"&&(l[_]=!0,u[_]=i.callbacks[D]),i.callbacks[D]===!0&&(l[_]=!0)}},this.ruleDefined=function(y){return l[y]!==!1},this.udtDefined=function(y){return l[s.length+y]!==!1},this.down=function(y,T){const w=h.length;return d.push(w),h.push({name:T,thisIndex:w,thatIndex:null,state:e.SEM_PRE,callbackIndex:y,phraseIndex:null,phraseLength:null,stack:d.length}),w},this.up=function(y,T,w,_){const P=h.length,D=d.pop();return h.push({name:T,thisIndex:P,thatIndex:D,state:e.SEM_POST,callbackIndex:y,phraseIndex:w,phraseLength:_,stack:d.length}),h[D].thatIndex=P,h[D].phraseIndex=w,h[D].phraseLength=_,P},this.translate=function(y){let T,w,_;for(let P=0;P<h.length;P+=1)_=h[P],w=u[_.callbackIndex],_.state===e.SEM_PRE?w!==null&&(T=w(e.SEM_PRE,a,_.phraseIndex,_.phraseLength,y),T===e.SEM_SKIP&&(P=_.thatIndex)):w!==null&&w(e.SEM_POST,a,_.phraseIndex,_.phraseLength,y)},this.setLength=function(y){h.length=y,y>0?d.length=h[y-1].stack:d.length=0},this.getLength=function(){return h.length};function g(b){let y="";for(let T=0;T<b;T+=1)y+=" ";return y}this.toXml=function(y){let T=t.charsToDec,w="decimal integer character codes";if(typeof y=="string"&&y.length>=3){const D=y.slice(0,3).toLowerCase();D==="asc"?(T=t.charsToAscii,w="ASCII for printing characters, hex for non-printing"):D==="hex"?(T=t.charsToHex,w="hexadecimal integer character codes"):D==="uni"&&(T=t.charsToUnicode,w="Unicode UTF-32 integer character codes")}let _="",P=0;return _+=`<?xml version="1.0" encoding="utf-8"?>
`,_+=`<root nodes="${h.length/2}" characters="${a.length}">
`,_+=`<!-- input string, ${w} -->
`,_+=g(P+2),_+=T(a),_+=`
`,h.forEach(D=>{D.state===e.SEM_PRE?(P+=1,_+=g(P),_+=`<node name="${D.name}" index="${D.phraseIndex}" length="${D.phraseLength}">
`,_+=g(P+2),_+=T(a,D.phraseIndex,D.phraseLength),_+=`
`):(_+=g(P),_+=`</node><!-- name="${D.name}" -->
`,P-=1)}),_+=`</root>
`,_},this.phrases=function(){const y={};let T,w;for(T=0;T<h.length;T+=1)w=h[T],w.state===e.SEM_PRE&&(Array.isArray(y[w.name])||(y[w.name]=[]),y[w.name].push({index:w.phraseIndex,length:w.phraseLength}));return y}},rp=function(){"use strict;";const e="circular-buffer.js: ";let t=-1,n=0;this.init=function(s){if(typeof s!="number"||s<=0)throw new Error(`${e}init: circular buffer size must an integer > 0`);n=Math.ceil(s),t=-1},this.increment=function(){return t+=1,(t+n)%n},this.maxSize=function(){return n},this.items=function(){return t+1},this.getListIndex=function(s){return t===-1||s<0||s>t||t-s>=n?-1:(s+n)%n},this.forEach=function(s){if(t!==-1){if(t<n){for(let o=0;o<=t;o+=1)s(o,o);return}for(let o=t-n+1;o<=t;o+=1){const a=(o+n)%n;s(a,o)}}}},D2=function(){const e=Rr,t=$n,n="parser.js: ",i=this;let s;this.ast=null,this.stats=null,this.trace=null,this.callbacks=[];let o=null,a=null,c,l,u,d,h=0,g=0,b=0,y=null,T=null,w=null,_=null,P=null,D=0,I=1/0,B=1/0;const V=function(A,f,x){const M=`${n}evaluateRule(): `;if(A>=w.length)throw new Error(`${M}rule index: ${A} out of range`);if(f>=u)throw new Error(`${M}phrase index: ${f} out of range`);const{length:O}=o;o.push({type:e.RNM,index:A}),s(O,f,x),o.pop()},z=function(ne,A,f){const x=`${n}evaluateUdt(): `;if(ne>=_.length)throw new Error(`${x}udt index: ${ne} out of range`);if(A>=u)throw new Error(`${x}phrase index: ${A} out of range`);const{length:M}=o;o.push({type:e.UDT,empty:_[ne].empty,index:ne}),s(M,A,f),o.pop()},he=function(){h=0,g=0,b=0,D=0,d=[{lookAround:e.LOOKAROUND_NONE,anchor:0,charsEnd:0,charsLength:0}],w=null,_=null,a=null,c=0,l=0,u=0,y=null,T=null,P=null,o=null},X=function(){const ne=[],A=function(){const x={};w.forEach(M=>{M.isBkr&&(x[M.lower]=null)}),_.length>0&&_.forEach(M=>{M.isBkr&&(x[M.lower]=null)}),ne.push(x)},f=function(){const x=ne[ne.length-1],M={};for(const O in x)M[O]=x[O];return M};this.push=function(){ne.push(f())},this.pop=function(M){let O=M;if(O||(O=ne.length-1),O<1||O>ne.length)throw new Error(`${n}backRef.pop(): bad length: ${O}`);return ne.length=O,ne[ne.length-1]},this.length=function(){return ne.length},this.savePhrase=function(M,O,K){ne[ne.length-1][M]={phraseIndex:O,phraseLength:K}},this.getPhrase=function(x){return ne[ne.length-1][x]},A()},Q=function(){const A=this;this.state=e.ACTIVE,this.phraseLength=0,this.ruleIndex=0,this.udtIndex=0,this.lookAround=d[d.length-1],this.uFrame=new X,this.pFrame=new X,this.evaluateRule=V,this.evaluateUdt=z,this.refresh=function(){A.state=e.ACTIVE,A.phraseLength=0,A.lookAround=d[d.length-1]}},Z=function(){return d[d.length-1]},N=function(){return d.length>1},p=function(){return d[d.length-1].lookAround===e.LOOKAROUND_BEHIND},v=function(){const ne=`${n}initializeAst(): `,A=!0;for(;A;){if(i.ast===void 0){i.ast=null;break}if(i.ast===null)break;if(i.ast.astObject!=="astObject")throw new Error(`${ne}ast object not recognized`);break}i.ast!==null&&i.ast.init(w,_,a)},C=function(){const ne=`${n}initializeTrace(): `,A=!0;for(;A;){if(i.trace===void 0){i.trace=null;break}if(i.trace===null)break;if(i.trace.traceObject!=="traceObject")throw new Error(`${ne}trace object not recognized`);break}i.trace!==null&&i.trace.init(w,_,a)},R=function(){const ne=`${n}initializeStats(): `,A=!0;for(;A;){if(i.stats===void 0){i.stats=null;break}if(i.stats===null)break;if(i.stats.statsObject!=="statsObject")throw new Error(`${ne}stats object not recognized`);break}i.stats!==null&&i.stats.init(w,_)},L=function(ne){const A=`${n}initializeGrammar(): `;if(!ne)throw new Error(`${A}grammar object undefined`);if(ne.grammarObject!=="grammarObject")throw new Error(`${A}bad grammar object`);w=ne.rules,_=ne.udts},G=function(ne){const A=`${n}initializeStartRule(): `;let f=null;if(typeof ne=="number"){if(ne>=w.length)throw new Error(`${A}start rule index too large: max: ${w.length}: index: ${ne}`);f=ne}else if(typeof ne=="string"){const x=ne.toLowerCase();for(let M=0;M<w.length;M+=1)if(x===w[M].lower){f=w[M].index;break}if(f===null)throw new Error(`${A}start rule name '${ne}' not recognized`)}else throw new Error(`${A}type of start rule '${typeof ne}' not recognized`);return f},j=function(A,f,x){const M=`${n}initializeInputChars(): `;let O=A,K=f,te=x;if(O===void 0)throw new Error(`${M}input string is undefined`);if(O===null)throw new Error(`${M}input string is null`);if(typeof O=="string")O=t.stringToChars(O);else if(!Array.isArray(O))throw new Error(`${M}input string is not a string or array`);if(O.length>0&&typeof O[0]!="number")throw new Error(`${M}input string not an array of integers`);if(typeof K!="number")K=0;else if(K=Math.floor(K),K<0||K>O.length)throw new Error(`${M}input beginning index out of range: ${K}`);if(typeof te!="number")te=O.length-K;else if(te=Math.floor(te),te<0||te>O.length-K)throw new Error(`${M}input length out of range: ${te}`);a=O,c=K,l=te,u=c+l},k=function(){const ne=`${n}initializeCallbacks(): `;let A;for(y=[],T=[],A=0;A<w.length;A+=1)y[A]=null;for(A=0;A<_.length;A+=1)T[A]=null;let f;const x=[];for(A=0;A<w.length;A+=1)x.push(w[A].lower);for(A=0;A<_.length;A+=1)x.push(_[A].lower);for(const M in i.callbacks){if(A=x.indexOf(M.toLowerCase()),A<0)throw new Error(`${ne}syntax callback '${M}' not a rule or udt name`);if(f=i.callbacks[M],f||(f=null),typeof f=="function"||f===null)A<w.length?y[A]=f:T[A-w.length]=f;else throw new Error(`${ne}syntax callback[${M}] must be function reference or 'false' (false/null/undefined/etc.)`)}for(A=0;A<_.length;A+=1)if(T[A]===null)throw new Error(`${ne}all UDT callbacks must be defined. UDT callback[${_[A].lower}] not a function reference`)};this.setMaxTreeDepth=function(ne){if(typeof ne!="number")throw new Error(`parser: max tree depth must be integer > 0: ${ne}`);if(I=Math.floor(ne),I<=0)throw new Error(`parser: max tree depth must be integer > 0: ${ne}`)},this.setMaxNodeHits=function(ne){if(typeof ne!="number")throw new Error(`parser: max node hits must be integer > 0: ${ne}`);if(B=Math.floor(ne),B<=0)throw new Error(`parser: max node hits must be integer > 0: ${ne}`)};const m=function(ne,A,f){let x;const M=`${n}parse(): `;L(ne);const O=G(A);k(),C(),R(),v();const K=new Q;switch(f!=null&&(P=f),o=[{type:e.RNM,index:O}],s(0,c,K),o=null,K.state){case e.ACTIVE:throw new Error(`${M}final state should never be 'ACTIVE'`);case e.NOMATCH:x=!1;break;case e.EMPTY:case e.MATCH:K.phraseLength===l?x=!0:x=!1;break;default:throw new Error("unrecognized state")}return{success:x,state:K.state,length:l,matched:K.phraseLength,maxMatched:D,maxTreeDepth:g,nodeHits:b,inputLength:a.length,subBegin:c,subEnd:u,subLength:l}};this.parseSubstring=function(A,f,x,M,O,K){return he(),j(x,M,O),m(A,f,K)},this.parse=function(A,f,x,M){return he(),j(x,0,x.length),m(A,f,M)};const S=function(ne,A,f){const x=o[ne];for(let M=0;M<x.children.length&&(s(x.children[M],A,f),f.state===e.NOMATCH);M+=1);},q=function(ne,A,f){let x,M,O,K;const te=o[ne],Ae=f.uFrame.length(),we=f.pFrame.length();i.ast&&(M=i.ast.getLength()),x=!0,O=A,K=0;for(let ge=0;ge<te.children.length;ge+=1)if(s(te.children[ge],O,f),f.state===e.NOMATCH){x=!1;break}else O+=f.phraseLength,K+=f.phraseLength;x?(f.state=K===0?e.EMPTY:e.MATCH,f.phraseLength=K):(f.state=e.NOMATCH,f.phraseLength=0,f.uFrame.pop(Ae),f.pFrame.pop(we),i.ast&&i.ast.setLength(M))},E=function(ne,A,f){let x,M,O,K;const te=o[ne];if(te.max===0){f.state=e.EMPTY,f.phraseLength=0;return}M=A,O=0,K=0;const Ae=f.uFrame.length(),we=f.pFrame.length();i.ast&&(x=i.ast.getLength());const ge=!0;for(;ge&&!(M>=u||(s(ne+1,M,f),f.state===e.NOMATCH)||f.state===e.EMPTY||(K+=1,O+=f.phraseLength,M+=f.phraseLength,K===te.max)););f.state===e.EMPTY||K>=te.min?(f.state=O===0?e.EMPTY:e.MATCH,f.phraseLength=O):(f.state=e.NOMATCH,f.phraseLength=0,f.uFrame.pop(Ae),f.pFrame.pop(we),i.ast&&i.ast.setLength(x))},J=function(ne,A,f,x){if(A.phraseLength>f){let M=`${n}opRNM(${ne.name}): callback function error: `;throw M+=`sysData.phraseLength: ${A.phraseLength}`,M+=` must be <= remaining chars: ${f}`,new Error(M)}switch(A.state){case e.ACTIVE:if(x!==!0)throw new Error(`${n}opRNM(${ne.name}): callback function return error. ACTIVE state not allowed.`);break;case e.EMPTY:A.phraseLength=0;break;case e.MATCH:A.phraseLength===0&&(A.state=e.EMPTY);break;case e.NOMATCH:A.phraseLength=0;break;default:throw new Error(`${n}opRNM(${ne.name}): callback function return error. Unrecognized return state: ${A.state}`)}},oe=function(ne,A,f){let x,M,O,K,te,Ae;const we=o[ne],ge=w[we.index],ke=y[ge.index],Te=!N();if(Te&&(M=i.ast&&i.ast.ruleDefined(we.index),M&&(x=i.ast.getLength(),i.ast.down(we.index,w[we.index].name)),K=f.uFrame.length(),te=f.pFrame.length(),f.uFrame.push(),f.pFrame.push(),Ae=f.pFrame,f.pFrame=new X),ke===null)O=o,o=ge.opcodes,s(0,A,f),o=O;else{const $e=u-A;f.ruleIndex=ge.index,ke(f,a,A,P),J(ge,f,$e,!0),f.state===e.ACTIVE&&(O=o,o=ge.opcodes,s(0,A,f),o=O,f.ruleIndex=ge.index,ke(f,a,A,P),J(ge,f,$e,!1))}Te&&(M&&(f.state===e.NOMATCH?i.ast.setLength(x):i.ast.up(we.index,ge.name,A,f.phraseLength)),f.pFrame=Ae,f.state===e.NOMATCH?(f.uFrame.pop(K),f.pFrame.pop(te)):ge.isBkr&&(f.pFrame.savePhrase(ge.lower,A,f.phraseLength),f.uFrame.savePhrase(ge.lower,A,f.phraseLength)))},F=function(ne,A,f){if(A.phraseLength>f){let x=`${n}opUDT(${ne.name}): callback function error: `;throw x+=`sysData.phraseLength: ${A.phraseLength}`,x+=` must be <= remaining chars: ${f}`,new Error(x)}switch(A.state){case e.ACTIVE:throw new Error(`${n}opUDT(${ne.name}): callback function return error. ACTIVE state not allowed.`);case e.EMPTY:if(ne.empty===!1)throw new Error(`${n}opUDT(${ne.name}): callback function return error. May not return EMPTY.`);A.phraseLength=0;break;case e.MATCH:if(A.phraseLength===0){if(ne.empty===!1)throw new Error(`${n}opUDT(${ne.name}): callback function return error. May not return EMPTY.`);A.state=e.EMPTY}break;case e.NOMATCH:A.phraseLength=0;break;default:throw new Error(`${n}opUDT(${ne.name}): callback function return error. Unrecognized return state: ${A.state}`)}},U=function(ne,A,f){let x,M,O,K,te,Ae;const we=o[ne],ge=_[we.index];f.UdtIndex=ge.index;const ke=!N();ke&&(O=i.ast&&i.ast.udtDefined(we.index),O&&(M=w.length+we.index,x=i.ast.getLength(),i.ast.down(M,ge.name)),K=f.uFrame.length(),te=f.pFrame.length(),f.uFrame.push(),f.pFrame.push(),Ae=f.pFrame,f.pFrame=new X);const Te=u-A;T[we.index](f,a,A,P),F(ge,f,Te),ke&&(O&&(f.state===e.NOMATCH?i.ast.setLength(x):i.ast.up(M,ge.name,A,f.phraseLength)),f.pFrame=Ae,f.state===e.NOMATCH?(f.uFrame.pop(K),f.pFrame.pop(te)):ge.isBkr&&(f.pFrame.savePhrase(ge.lower,A,f.phraseLength),f.uFrame.savePhrase(ge.lower,A,f.phraseLength)))},H=function(ne,A,f){d.push({lookAround:e.LOOKAROUND_AHEAD,anchor:A,charsEnd:u,charsLength:l}),u=a.length,l=a.length-c,s(ne+1,A,f);const x=d.pop();switch(u=x.charsEnd,l=x.charsLength,f.phraseLength=0,f.state){case e.EMPTY:f.state=e.EMPTY;break;case e.MATCH:f.state=e.EMPTY;break;case e.NOMATCH:f.state=e.NOMATCH;break;default:throw new Error(`opAND: invalid state ${f.state}`)}},ee=function(ne,A,f){d.push({lookAround:e.LOOKAROUND_AHEAD,anchor:A,charsEnd:u,charsLength:l}),u=a.length,l=a.length-c,s(ne+1,A,f);const x=d.pop();switch(u=x.charsEnd,l=x.charsLength,f.phraseLength=0,f.state){case e.EMPTY:case e.MATCH:f.state=e.NOMATCH;break;case e.NOMATCH:f.state=e.EMPTY;break;default:throw new Error(`opNOT: invalid state ${f.state}`)}},ae=function(ne,A,f){const x=o[ne];f.state=e.NOMATCH,A<u&&x.min<=a[A]&&a[A]<=x.max&&(f.state=e.MATCH,f.phraseLength=1)},be=function(ne,A,f){let x;const M=o[ne],O=M.string.length;if(f.state=e.NOMATCH,A+O<=u){for(x=0;x<O;x+=1)if(a[A+x]!==M.string[x])return;f.state=e.MATCH,f.phraseLength=O}},ue=function(ne,A,f){let x,M;const O=o[ne];f.state=e.NOMATCH;const K=O.string.length;if(K===0){f.state=e.EMPTY;return}if(A+K<=u){for(x=0;x<K;x+=1)if(M=a[A+x],M>=65&&M<=90&&(M+=32),M!==O.string[x])return;f.state=e.MATCH,f.phraseLength=K}},ie=function(ne,A,f){f.state=e.NOMATCH,f.phraseLength=0,f.state=A===0?e.EMPTY:e.NOMATCH},de=function(ne,A,f){f.state=e.NOMATCH,f.phraseLength=0,f.state=A===a.length?e.EMPTY:e.NOMATCH},re=function(ne,A,f){let x,M,O,K;const te=o[ne];f.state=e.NOMATCH,te.index<w.length?K=w[te.index].lower:K=_[te.index-w.length].lower;const Ae=te.bkrMode===e.BKR_MODE_PM?f.pFrame.getPhrase(K):f.uFrame.getPhrase(K),we=te.bkrCase===e.BKR_MODE_CI;if(Ae===null)return;const ge=Ae.phraseIndex,ke=Ae.phraseLength;if(ke===0){f.state=e.EMPTY;return}if(A+ke<=u){if(we){for(x=0;x<ke;x+=1)if(M=a[A+x],O=a[ge+x],M>=65&&M<=90&&(M+=32),O>=65&&O<=90&&(O+=32),M!==O)return;f.state=e.MATCH,f.phraseLength=ke}else for(x=0;x<ke;x+=1)if(M=a[A+x],O=a[ge+x],M!==O)return;f.state=e.MATCH,f.phraseLength=ke}},le=function(ne,A,f){switch(d.push({lookAround:e.LOOKAROUND_BEHIND,anchor:A}),s(ne+1,A,f),d.pop(),f.phraseLength=0,f.state){case e.EMPTY:f.state=e.EMPTY;break;case e.MATCH:f.state=e.EMPTY;break;case e.NOMATCH:f.state=e.NOMATCH;break;default:throw new Error(`opBKA: invalid state ${f.state}`)}},$=function(ne,A,f){switch(d.push({lookAround:e.LOOKAROUND_BEHIND,anchor:A}),s(ne+1,A,f),d.pop(),f.phraseLength=0,f.state){case e.EMPTY:case e.MATCH:f.state=e.NOMATCH;break;case e.NOMATCH:f.state=e.EMPTY;break;default:throw new Error(`opBKN: invalid state ${f.state}`)}},se=function(ne,A,f){let x,M,O,K;const te=o[ne],Ae=f.uFrame.length(),we=f.pFrame.length();i.ast&&(M=i.ast.getLength()),x=!0,O=A,K=0;for(let ge=te.children.length-1;ge>=0;ge-=1)if(s(te.children[ge],O,f),O-=f.phraseLength,K+=f.phraseLength,f.state===e.NOMATCH){x=!1;break}x?(f.state=K===0?e.EMPTY:e.MATCH,f.phraseLength=K):(f.state=e.NOMATCH,f.phraseLength=0,f.uFrame.pop(Ae),f.pFrame.pop(we),i.ast&&i.ast.setLength(M))},ye=function(ne,A,f){let x,M,O,K;const te=o[ne];M=A,O=0,K=0;const Ae=f.uFrame.length(),we=f.pFrame.length();i.ast&&(x=i.ast.getLength());const ge=!0;for(;ge&&!(M<=0||(s(ne+1,M,f),f.state===e.NOMATCH)||f.state===e.EMPTY||(K+=1,O+=f.phraseLength,M-=f.phraseLength,K===te.max)););f.state===e.EMPTY||K>=te.min?(f.state=O===0?e.EMPTY:e.MATCH,f.phraseLength=O):(f.state=e.NOMATCH,f.phraseLength=0,f.uFrame.pop(Ae),f.pFrame.pop(we),i.ast&&i.ast.setLength(x))},ve=function(ne,A,f){const x=o[ne];if(f.state=e.NOMATCH,f.phraseLength=0,A>0){const M=a[A-1];x.min<=M&&M<=x.max&&(f.state=e.MATCH,f.phraseLength=1)}},Se=function(ne,A,f){let x;const M=o[ne];f.state=e.NOMATCH;const O=M.string.length,K=A-O;if(K>=0){for(x=0;x<O;x+=1)if(a[K+x]!==M.string[x])return;f.state=e.MATCH,f.phraseLength=O}},Le=function(ne,A,f){let x;const M=o[ne];f.state=e.NOMATCH;const O=M.string.length;if(O===0){f.state=e.EMPTY;return}const K=A-O;if(K>=0){for(let te=0;te<O;te+=1)if(x=a[K+te],x>=65&&x<=90&&(x+=32),x!==M.string[te])return;f.state=e.MATCH,f.phraseLength=O}},xt=function(ne,A,f){let x,M,O,K;const te=o[ne];f.state=e.NOMATCH,f.phraseLength=0,te.index<w.length?K=w[te.index].lower:K=_[te.index-w.length].lower;const Ae=te.bkrMode===e.BKR_MODE_PM?f.pFrame.getPhrase(K):f.uFrame.getPhrase(K),we=te.bkrCase===e.BKR_MODE_CI;if(Ae===null)return;const ge=Ae.phraseIndex,ke=Ae.phraseLength;if(ke===0){f.state=e.EMPTY,f.phraseLength=0;return}const Te=A-ke;if(Te>=0){if(we){for(x=0;x<ke;x+=1)if(M=a[Te+x],O=a[ge+x],M>=65&&M<=90&&(M+=32),O>=65&&O<=90&&(O+=32),M!==O)return;f.state=e.MATCH,f.phraseLength=ke}else for(x=0;x<ke;x+=1)if(M=a[Te+x],O=a[ge+x],M!==O)return;f.state=e.MATCH,f.phraseLength=ke}};s=function(A,f,x){let M=!0;const O=o[A];if(b+=1,b>B)throw new Error(`parser: maximum number of node hits exceeded: ${B}`);if(h+=1,h>g&&(g=h,g>I))throw new Error(`parser: maximum parse tree depth exceeded: ${I}`);if(x.refresh(),i.trace!==null){const K=Z();i.trace.down(O,x.state,f,x.phraseLength,K.anchor,K.lookAround)}if(p())switch(O.type){case e.ALT:S(A,f,x);break;case e.CAT:se(A,f,x);break;case e.REP:ye(A,f,x);break;case e.RNM:oe(A,f,x);break;case e.UDT:U(A,f,x);break;case e.AND:H(A,f,x);break;case e.NOT:ee(A,f,x);break;case e.TRG:ve(A,f,x);break;case e.TBS:Se(A,f,x);break;case e.TLS:Le(A,f,x);break;case e.BKR:xt(A,f,x);break;case e.BKA:le(A,f,x);break;case e.BKN:$(A,f,x);break;case e.ABG:ie(A,f,x);break;case e.AEN:de(A,f,x);break;default:M=!1;break}else switch(O.type){case e.ALT:S(A,f,x);break;case e.CAT:q(A,f,x);break;case e.REP:E(A,f,x);break;case e.RNM:oe(A,f,x);break;case e.UDT:U(A,f,x);break;case e.AND:H(A,f,x);break;case e.NOT:ee(A,f,x);break;case e.TRG:ae(A,f,x);break;case e.TBS:be(A,f,x);break;case e.TLS:ue(A,f,x);break;case e.BKR:re(A,f,x);break;case e.BKA:le(A,f,x);break;case e.BKN:$(A,f,x);break;case e.ABG:ie(A,f,x);break;case e.AEN:de(A,f,x);break;default:M=!1;break}if(!N()&&f+x.phraseLength>D&&(D=f+x.phraseLength),i.stats!==null&&i.stats.collect(O,x),i.trace!==null){const K=Z();i.trace.up(O,x.state,f,x.phraseLength,K.anchor,K.lookAround)}return h-=1,M}},U2=function(){const e=Rr,t=$n,n=Uo,i="stats.js: ";let s=[],o=[];const a=[];let c;const l=[],u=[];this.statsObject="statsObject";const d="stats",h=function(B,V){return B.lower<V.lower?-1:B.lower>V.lower?1:0},g=function(B,V){return B.total<V.total?1:B.total>V.total?-1:h(B,V)},b=function(B,V){return B.index<V.index?-1:B.index>V.index?1:0},y=function(){this.empty=0,this.match=0,this.nomatch=0,this.total=0},T=function(){a.length=0,c=new y,a[e.ALT]=new y,a[e.CAT]=new y,a[e.REP]=new y,a[e.RNM]=new y,a[e.TRG]=new y,a[e.TBS]=new y,a[e.TLS]=new y,a[e.UDT]=new y,a[e.AND]=new y,a[e.NOT]=new y,a[e.BKR]=new y,a[e.BKA]=new y,a[e.BKN]=new y,a[e.ABG]=new y,a[e.AEN]=new y,l.length=0;for(let B=0;B<s.length;B+=1)l.push({empty:0,match:0,nomatch:0,total:0,name:s[B].name,lower:s[B].lower,index:s[B].index});if(o.length>0){u.length=0;for(let B=0;B<o.length;B+=1)u.push({empty:0,match:0,nomatch:0,total:0,name:o[B].name,lower:o[B].lower,index:o[B].index})}},w=function(B,V){switch(B.total+=1,V){case e.EMPTY:B.empty+=1;break;case e.MATCH:B.match+=1;break;case e.NOMATCH:B.nomatch+=1;break;default:throw new Error(`${i}collect(): incStat(): unrecognized state: ${V}`)}},_=function(B,V){let z="";return z+="<tr>",z+=`<td class="${n.CLASS_ACTIVE}">${B}</td>`,z+=`<td class="${n.CLASS_EMPTY}">${V.empty}</td>`,z+=`<td class="${n.CLASS_MATCH}">${V.match}</td>`,z+=`<td class="${n.CLASS_NOMATCH}">${V.nomatch}</td>`,z+=`<td class="${n.CLASS_ACTIVE}">${V.total}</td>`,z+=`</tr>
`,z},P=function(){let B="";return B+=_("ALT",a[e.ALT]),B+=_("CAT",a[e.CAT]),B+=_("REP",a[e.REP]),B+=_("RNM",a[e.RNM]),B+=_("TRG",a[e.TRG]),B+=_("TBS",a[e.TBS]),B+=_("TLS",a[e.TLS]),B+=_("UDT",a[e.UDT]),B+=_("AND",a[e.AND]),B+=_("NOT",a[e.NOT]),B+=_("BKR",a[e.BKR]),B+=_("BKA",a[e.BKA]),B+=_("BKN",a[e.BKN]),B+=_("ABG",a[e.ABG]),B+=_("AEN",a[e.AEN]),B+=_("totals",c),B},D=function(){let B="";B+=`<tr><th></th><th></th><th></th><th></th><th></th></tr>
`,B+=`<tr><th>rules</th><th></th><th></th><th></th><th></th></tr>
`;for(let V=0;V<s.length;V+=1)l[V].total>0&&(B+="<tr>",B+=`<td class="${n.CLASS_ACTIVE}">${l[V].name}</td>`,B+=`<td class="${n.CLASS_EMPTY}">${l[V].empty}</td>`,B+=`<td class="${n.CLASS_MATCH}">${l[V].match}</td>`,B+=`<td class="${n.CLASS_NOMATCH}">${l[V].nomatch}</td>`,B+=`<td class="${n.CLASS_ACTIVE}">${l[V].total}</td>`,B+=`</tr>
`);if(o.length>0){B+=`<tr><th></th><th></th><th></th><th></th><th></th></tr>
`,B+=`<tr><th>udts</th><th></th><th></th><th></th><th></th></tr>
`;for(let V=0;V<o.length;V+=1)u[V].total>0&&(B+="<tr>",B+=`<td class="${n.CLASS_ACTIVE}">${u[V].name}</td>`,B+=`<td class="${n.CLASS_EMPTY}">${u[V].empty}</td>`,B+=`<td class="${n.CLASS_MATCH}">${u[V].match}</td>`,B+=`<td class="${n.CLASS_NOMATCH}">${u[V].nomatch}</td>`,B+=`<td class="${n.CLASS_ACTIVE}">${u[V].total}</td>`,B+=`</tr>
`)}return B};this.validate=function(B){let V=!1;return typeof B=="string"&&d===B&&(V=!0),V},this.init=function(B,V){s=B,o=V,T()},this.collect=function(B,V){w(c,V.state,V.phraseLength),w(a[B.type],V.state,V.phraseLength),B.type===e.RNM&&w(l[B.index],V.state,V.phraseLength),B.type===e.UDT&&w(u[B.index],V.state,V.phraseLength)},this.toHtml=function(B,V){let z="";z+=`<table class="${n.CLASS_STATS}">
`,typeof V=="string"&&(z+=`<caption>${V}</caption>
`),z+=`<tr><th class="${n.CLASS_ACTIVE}">ops</th>
`,z+=`<th class="${n.CLASS_EMPTY}">EMPTY</th>
`,z+=`<th class="${n.CLASS_MATCH}">MATCH</th>
`,z+=`<th class="${n.CLASS_NOMATCH}">NOMATCH</th>
`,z+=`<th class="${n.CLASS_ACTIVE}">totals</th></tr>
`;const he=!0;for(;he;){if(B===void 0){z+=P();break}if(B===null){z+=P();break}if(B==="ops"){z+=P();break}if(B==="index"){l.sort(b),u.length>0&&u.sort(b),z+=P(),z+=D();break}if(B==="hits"){l.sort(g),u.length>0&&u.sort(b),z+=P(),z+=D();break}if(B==="alpha"){l.sort(h),u.length>0&&u.sort(h),z+=P(),z+=D();break}break}return z+=`</table>
`,z},this.toHtmlPage=function(B,V,z){return t.htmlToPage(this.toHtml(B,V),z)}},$2=function(){const e=$n,t=Uo,n=new rp,i=Rr,s="trace.js: ",o=this,a=16,c=10,l=8,u=32,d=80,h=5,g=[];let b=5e3,y=-1,T=0,w=0;const _=[];let P=null,D=null,I=null;const B=[],V=[],z=`<span class="${t.CLASS_LINEEND}">&bull;</span>`,he=`<span class="${t.CLASS_LINEEND}">&hellip;</span>`,X=`<span class="${t.CLASS_EMPTY}">&#120634;</span>`,Q=function(){const F=function(H){B[i.ALT]=H,B[i.CAT]=H,B[i.REP]=H,B[i.TLS]=H,B[i.TBS]=H,B[i.TRG]=H,B[i.AND]=H,B[i.NOT]=H,B[i.BKR]=H,B[i.BKA]=H,B[i.BKN]=H,B[i.ABG]=H,B[i.AEN]=H};let U=0;for(const H in o.filter.operators)U+=1;if(U===0){F(!1);return}for(const H in o.filter.operators){const ee=H.toUpperCase();if(ee==="<ALL>"){F(!0);return}if(ee==="<NONE>"){F(!1);return}}F(!1);for(const H in o.filter.operators){const ee=H.toUpperCase();if(ee==="ALT")B[i.ALT]=o.filter.operators[H]===!0;else if(ee==="CAT")B[i.CAT]=o.filter.operators[H]===!0;else if(ee==="REP")B[i.REP]=o.filter.operators[H]===!0;else if(ee==="AND")B[i.AND]=o.filter.operators[H]===!0;else if(ee==="NOT")B[i.NOT]=o.filter.operators[H]===!0;else if(ee==="TLS")B[i.TLS]=o.filter.operators[H]===!0;else if(ee==="TBS")B[i.TBS]=o.filter.operators[H]===!0;else if(ee==="TRG")B[i.TRG]=o.filter.operators[H]===!0;else if(ee==="BKR")B[i.BKR]=o.filter.operators[H]===!0;else if(ee==="BKA")B[i.BKA]=o.filter.operators[H]===!0;else if(ee==="BKN")B[i.BKN]=o.filter.operators[H]===!0;else if(ee==="ABG")B[i.ABG]=o.filter.operators[H]===!0;else if(ee==="AEN")B[i.AEN]=o.filter.operators[H]===!0;else throw new Error(`${s}initOpratorFilter: '${H}' not a valid operator name. Must be <all>, <none>, alt, cat, rep, tls, tbs, trg, and, not, bkr, bka or bkn`)}},Z=function(){const F=function(ae){B[i.RNM]=ae,B[i.UDT]=ae;const be=D.length+I.length;V.length=0;for(let ue=0;ue<be;ue+=1)V.push(ae)};let U,H;const ee=[];for(H=0;H<D.length;H+=1)ee.push(D[H].lower);for(H=0;H<I.length;H+=1)ee.push(I[H].lower);V.length=0,U=0;for(const ae in o.filter.rules)U+=1;if(U===0){F(!0);return}for(const ae in o.filter.rules){const be=ae.toLowerCase();if(be==="<all>"){F(!0);return}if(be==="<none>"){F(!1);return}}F(!1),B[i.RNM]=!0,B[i.UDT]=!0;for(const ae in o.filter.rules){const be=ae.toLowerCase();if(H=ee.indexOf(be),H<0)throw new Error(`${s}initRuleFilter: '${ae}' not a valid rule or udt name`);V[H]=o.filter.rules[ae]===!0}};this.traceObject="traceObject",this.filter={operators:[],rules:[]},this.setMaxRecords=function(F,U){if(y=-1,typeof F=="number"&&F>0)b=Math.ceil(F);else{b=0;return}typeof U=="number"&&(y=Math.floor(U),y<0&&(y=-1))},this.getMaxRecords=function(){return b},this.getLastRecord=function(){return y},this.init=function(F,U,H){g.length=0,_.length=0,T=0,w=0,P=H,D=F,I=U,Q(),Z(),n.init(b)};const N=function(F){let U=!1;return F.type===i.RNM?B[F.type]&&V[F.index]?U=!0:U=!1:F.type===i.UDT?B[F.type]&&V[D.length+F.index]?U=!0:U=!1:U=B[F.type],U},p=function(F){return y===-1||F<=y};this.down=function(F,U,H,ee,ae,be){p(T)&&N(F)&&(_.push(T),g[n.increment()]={dirUp:!1,depth:w,thisLine:T,thatLine:void 0,opcode:F,state:U,phraseIndex:H,phraseLength:ee,lookAnchor:ae,lookAround:be},T+=1,w+=1)},this.up=function(F,U,H,ee,ae,be){if(p(T)&&N(F)){const ue=T,ie=_.pop(),de=n.getListIndex(ie);de!==-1&&(g[de].thatLine=ue),w-=1,g[n.increment()]={dirUp:!0,depth:w,thisLine:ue,thatLine:ie,opcode:F,state:U,phraseIndex:H,phraseLength:ee,lookAnchor:ae,lookAround:be},T+=1}};const v=function(){function F(f,x){let M,O,K;if(x)switch(f.op={id:x.type,name:e.opcodeToString(x.type)},f.opData=void 0,x.type){case i.RNM:f.opData=D[x.index].name;break;case i.UDT:f.opData=I[x.index].name;break;case i.BKR:x.index<D.length?M=D[x.index].name:M=I[x.index-D.length].name,O=x.bkrCase===i.BKR_MODE_CI?"%i":"%s",K=x.bkrMode===i.BKR_MODE_UM?"%u":"%p",f.opData=`\\\\${O}${K}${M}`;break;case i.TLS:f.opData=[];for(let te=0;te<x.string.length;te+=1)f.opData.push(x.string[te]);break;case i.TBS:f.opData=[];for(let te=0;te<x.string.length;te+=1)f.opData.push(x.string[te]);break;case i.TRG:f.opData=[x.min,x.max];break;case i.REP:f.opData=[x.min,x.max];break;default:throw new Error("unrecognized opcode")}else f.op={id:void 0,name:void 0},f.opData=void 0}function U(f,x,M){return f===i.MATCH?{index:x,length:M}:f===i.NOMATCH?{index:x,length:0}:f===i.EMPTY?{index:x,length:0}:null}let H=-1;function ee(f,x,M){const O={id:H++,branch:-1,parent:f,up:!1,down:!1,depth:M,children:[]};return x?(O.down=!0,O.state={id:x.state,name:e.stateToString(x.state)},O.phrase=null,F(O,x.opcode)):(O.state={id:void 0,name:void 0},O.phrase=U(),F(O,void 0)),O}function ae(f,x){x&&(f.up=!0,f.state={id:x.state,name:e.stateToString(x.state)},f.phrase=U(x.state,x.phraseIndex,x.phraseLength),f.down||F(f,x.opcode))}let be=0,ue=-1,ie=1;function de(f){if(ue+=1,f.branch=ie,ue>w&&(w=ue),f.children.length===0)be+=1;else for(let x=0;x<f.children.length;x+=1)x>0&&(ie+=1),f.children[x].leftMost=!1,f.children[x].rightMost=!1,f.leftMost&&(f.children[x].leftMost=x===0),f.rightMost&&(f.children[x].rightMost=x===f.children.length-1),de(f.children[x]);ue-=1}function re(f,x){let M;const O={};if(O.id=f.id,O.branch=f.branch,O.leftMost=f.leftMost,O.rightMost=f.rightMost,M=f.state.name?f.state.name:"ACTIVE",O.state={id:f.state.id,name:M},M=f.op.name?f.op.name:"?",O.op={id:f.op.id,name:M},typeof f.opData=="string")O.opData=f.opData;else if(Array.isArray(f.opData)){O.opData=[];for(let K=0;K<f.opData.length;K+=1)O.opData[K]=f.opData[K]}else O.opData=void 0;f.phrase?O.phrase={index:f.phrase.index,length:f.phrase.length}:O.phrase=null,O.depth=f.depth,O.children=[];for(let K=0;K<f.children.length;K+=1)f.children.length-1,O.children[K]=re(f.children[K]);return O}const le=[];let $,se,ye,ve,Se=!0;const Le=ee(null,null,-1);for(le.push(Le),se=Le,n.forEach(f=>{if(ve=g[f],Se&&(Se=!1,ve.depth>0)){const x=ve.dirUp?ve.depth+1:ve.depth;for(let M=0;M<x;M+=1)ye=se,se=ee(se,null,M),le.push(se),ye.children.push(se)}ve.dirUp?(se=le.pop(),ae(se,ve),se=le[le.length-1]):(ye=se,se=ee(se,ve,ve.depth),le.push(se),ye.children.push(se))});le.length>1;)se=le.pop(),ae(se,null);if(Le.children.length===0)throw new Error("trace.toTree(): parse tree has no nodes");if(le.length===0)throw new Error("trace.toTree(): integrity check: dummy root node disappeared?");$=Le.children[0];let xt=$;for(;$&&!$.down&&!$.up;)xt=$,$=$.children[0];$=xt,$.leftMost=!0,$.rightMost=!0,de($),$.branch=0;const ne={};ne.string=[];for(let f=0;f<P.length;f+=1)ne.string[f]=P[f];ne.rules=[];for(let f=0;f<D.length;f+=1)ne.rules[f]=D[f].name;ne.udts=[];for(let f=0;f<I.length;f+=1)ne.udts[f]=I[f].name;ne.id={},ne.id.ALT={id:i.ALT,name:"ALT"},ne.id.CAT={id:i.CAT,name:"CAT"},ne.id.REP={id:i.REP,name:"REP"},ne.id.RNM={id:i.RNM,name:"RNM"},ne.id.TLS={id:i.TLS,name:"TLS"},ne.id.TBS={id:i.TBS,name:"TBS"},ne.id.TRG={id:i.TRG,name:"TRG"},ne.id.UDT={id:i.UDT,name:"UDT"},ne.id.AND={id:i.AND,name:"AND"},ne.id.NOT={id:i.NOT,name:"NOT"},ne.id.BKR={id:i.BKR,name:"BKR"},ne.id.BKA={id:i.BKA,name:"BKA"},ne.id.BKN={id:i.BKN,name:"BKN"},ne.id.ABG={id:i.ABG,name:"ABG"},ne.id.AEN={id:i.AEN,name:"AEN"},ne.id.ACTIVE={id:i.ACTIVE,name:"ACTIVE"},ne.id.MATCH={id:i.MATCH,name:"MATCH"},ne.id.EMPTY={id:i.EMPTY,name:"EMPTY"},ne.id.NOMATCH={id:i.NOMATCH,name:"NOMATCH"},ne.treeDepth=w,ne.leafNodes=be;let A;return $.down?$.up?A="none":A="right":$.up?A="left":A="both",ne.branchesIncomplete=A,ne.tree=re($,$.depth),ne};this.toTree=function(F){const U=v();return F?JSON.stringify(U):U},this.toHtmlPage=function(F,U,H){return e.htmlToPage(this.toHtml(F,U),H)};const C=function(F,U){let H;switch(F){case a:H="hexadecimal";break;case c:H="decimal";break;case l:H="ASCII";break;case u:H="UNICODE";break;default:throw new Error(`${s}htmlHeader: unrecognized mode: ${F}`)}let ee="";return ee+=`<p>display mode: ${H}</p>
`,ee+=`<table class="${t.CLASS_TRACE}">
`,typeof U=="string"&&(ee+=`<caption>${U}</caption>`),ee},R=function(){let F="";return F+=`</table>
`,F+=`<p class="${t.CLASS_MONOSPACE}">legend:<br>
`,F+=`(a)&nbsp;-&nbsp;line number<br>
`,F+=`(b)&nbsp;-&nbsp;matching line number<br>
`,F+=`(c)&nbsp;-&nbsp;phrase offset<br>
`,F+=`(d)&nbsp;-&nbsp;phrase length<br>
`,F+=`(e)&nbsp;-&nbsp;tree depth<br>
`,F+=`(f)&nbsp;-&nbsp;operator state<br>
`,F+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_ACTIVE}">&darr;</span>&nbsp;&nbsp;phrase opened<br>
`,F+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_MATCH}">&uarr;M</span> phrase matched<br>
`,F+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_EMPTY}">&uarr;E</span> empty phrase matched<br>
`,F+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_NOMATCH}">&uarr;N</span> phrase not matched<br>
`,F+=`operator&nbsp;-&nbsp;ALT, CAT, REP, RNM, TRG, TLS, TBS<sup>&dagger;</sup>, UDT, AND, NOT, BKA, BKN, BKR, ABG, AEN<sup>&Dagger;</sup><br>
`,F+=`phrase&nbsp;&nbsp;&nbsp;-&nbsp;up to ${d} characters of the phrase being matched<br>
`,F+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_MATCH}">matched characters</span><br>
`,F+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_LOOKAHEAD}">matched characters in look ahead mode</span><br>
`,F+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_LOOKBEHIND}">matched characters in look behind mode</span><br>
`,F+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_REMAINDER}">remainder characters(not yet examined by parser)</span><br>
`,F+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_CTRLCHAR}">control characters, TAB, LF, CR, etc. (ASCII mode only)</span><br>
`,F+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${X} empty string<br>
`,F+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${z} end of input string<br>
`,F+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${he} input string display truncated<br>
`,F+=`</p>
`,F+=`<p class="${t.CLASS_MONOSPACE}">
`,F+=`<sup>&dagger;</sup>original ABNF operators:<br>
`,F+=`ALT - alternation<br>
`,F+=`CAT - concatenation<br>
`,F+=`REP - repetition<br>
`,F+=`RNM - rule name<br>
`,F+=`TRG - terminal range<br>
`,F+=`TLS - terminal literal string (case insensitive)<br>
`,F+=`TBS - terminal binary string (case sensitive)<br>
`,F+=`<br>
`,F+=`<sup>&Dagger;</sup>super set SABNF operators:<br>
`,F+=`UDT - user-defined terminal<br>
`,F+=`AND - positive look ahead<br>
`,F+=`NOT - negative look ahead<br>
`,F+=`BKA - positive look behind<br>
`,F+=`BKN - negative look behind<br>
`,F+=`BKR - back reference<br>
`,F+=`ABG - anchor - begin of input string<br>
`,F+=`AEN - anchor - end of input string<br>
`,F+=`</p>
`,F};this.indent=function(F){let U="";for(let H=0;H<F;H+=1)U+=".";return U};const L=function(F,U){let H="";if(U.type===i.TRG)if(F===a||F===u){let ee=U.min.toString(16).toUpperCase();ee.length%2!==0&&(ee=`0${ee}`),H+=F===a?"%x":"U+",H+=ee,ee=U.max.toString(16).toUpperCase(),ee.length%2!==0&&(ee=`0${ee}`),H+=`&ndash;${ee}`}else H=`%d${U.min.toString(10)}&ndash;${U.max.toString(10)}`;return H},G=function(F,U){let H="";if(U.type===i.REP)if(F===a){let ee=U.min.toString(16).toUpperCase();ee.length%2!==0&&(ee=`0${ee}`),H=`x${ee}`,U.max<1/0?(ee=U.max.toString(16).toUpperCase(),ee.length%2!==0&&(ee=`0${ee}`)):ee="inf",H+=`&ndash;${ee}`}else U.max<1/0?H=`${U.min.toString(10)}&ndash;${U.max.toString(10)}`:H=`${U.min.toString(10)}&ndash;inf`;return H},j=function(F,U){let H="";if(U.type===i.TBS){const ee=Math.min(U.string.length,h*2);if(F===a||F===u){H+=F===a?"%x":"U+";for(let ae=0;ae<ee;ae+=1){let be;ae>0&&(H+="."),be=U.string[ae].toString(16).toUpperCase(),be.length%2!==0&&(be=`0${be}`),H+=be}}else{H="%d";for(let ae=0;ae<ee;ae+=1)ae>0&&(H+="."),H+=U.string[ae].toString(10)}ee<U.string.length&&(H+=he)}return H},k=function(F,U){let H="";if(U.type===i.TLS){const ee=Math.min(U.string.length,h);if(F===a||F===c){let ae,be,ue;F===a?(H="%x",ue=16):(H="%d",ue=10);for(let ie=0;ie<ee;ie+=1)ie>0&&(H+="."),be=U.string[ie],be>=97&&be<=122?(ae=be-32,H+=`${ae.toString(ue)}/${be.toString(ue)}`.toUpperCase()):be>=65&&be<=90?(ae=be,be+=32,H+=`${ae.toString(ue)}/${be.toString(ue)}`.toUpperCase()):H+=be.toString(ue).toUpperCase();ee<U.string.length&&(H+=he)}else{H='"';for(let ae=0;ae<ee;ae+=1)H+=e.asciiChars[U.string[ae]];ee<U.string.length&&(H+=he),H+='"'}}return H},m=function(F,U,H,ee,ae){if(ee===0)return"";let be="";const ue=ae?",":"";switch(F){case a:be=ue+e.charsToHex(U,H,ee);break;case c:if(ae)return`,${e.charsToDec(U,H,ee)}`;be=ue+e.charsToDec(U,H,ee);break;case u:be=e.charsToUnicode(U,H,ee);break;case l:default:be=e.charsToAsciiHtml(U,H,ee);break}return be},S=function(F,U,H,ee,ae,be){let ue="",ie,de,re,le,$=z;const se=`<span class="${t.CLASS_LOOKBEHIND}">`,ye=`<span class="${t.CLASS_REMAINDER}">`,ve="</span>";let Se=!1;switch(H){case i.EMPTY:ue+=X;case i.NOMATCH:case i.MATCH:case i.ACTIVE:ie=ee-ae,de=be-ie,re=be,le=U.length-re;break;default:throw new Error("unrecognized state")}return $=z,de>d?(de=d,$=he,le=0):de+le>d&&($=he,le=d-de),de>0&&(ue+=se,ue+=m(F,U,ie,de,Se),ue+=ve,Se=!0),le>0&&(ue+=ye,ue+=m(F,U,re,le,Se),ue+=ve),ue+$},q=function(F,U,H,ee,ae,be){let ue="",ie,de,re,le,$=z;const se=`<span class="${t.CLASS_REMAINDER}">`,ye="</span>";let ve=!1;switch(H){case i.EMPTY:ue+=X;case i.NOMATCH:case i.ACTIVE:ie=ee,de=0,re=ee,le=U.length-re;break;case i.MATCH:ie=ee,de=ae,re=ee+de,le=U.length-re;break;default:throw new Error("unrecognized state")}return $=z,de>d?(de=d,$=he,le=0):de+le>d&&($=he,le=d-de),de>0&&(ue+=be,ue+=m(F,U,ie,de,ve),ue+=ye,ve=!0),le>0&&(ue+=se,ue+=m(F,U,re,le,ve),ue+=ye),ue+$},E=function(F,U,H,ee,ae){const be=`<span class="${t.CLASS_LOOKAHEAD}">`;return q(F,U,H,ee,ae,be)},J=function(F,U,H,ee,ae){const be=`<span class="${t.CLASS_MATCH}">`;return q(F,U,H,ee,ae,be)},oe=function(F){if(D===null)return"";let U="",H,ee,ae,be,ue,ie;return U+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>",U+=`<th>operator</th><th>phrase</th></tr>
`,n.forEach(de=>{const re=g[de];switch(H=re.thisLine,ee=re.thatLine!==void 0?re.thatLine:"--",ae=!1,be=!1,ue=!1,re.lookAround===i.LOOKAROUND_AHEAD&&(ae=!0,ue=!0,ie=re.lookAnchor),(re.opcode.type===i.AND||re.opcode.type===i.NOT)&&(ae=!0,ue=!0,ie=re.phraseIndex),re.lookAround===i.LOOKAROUND_BEHIND&&(be=!0,ue=!0,ie=re.lookAnchor),(re.opcode.type===i.BKA||re.opcode.type===i.BKN)&&(be=!0,ue=!0,ie=re.phraseIndex),U+="<tr>",U+=`<td>${H}</td><td>${ee}</td>`,U+=`<td>${re.phraseIndex}</td>`,U+=`<td>${re.phraseLength}</td>`,U+=`<td>${re.depth}</td>`,U+="<td>",re.state){case i.ACTIVE:U+=`<span class="${t.CLASS_ACTIVE}">&darr;&nbsp;</span>`;break;case i.MATCH:U+=`<span class="${t.CLASS_MATCH}">&uarr;M</span>`;break;case i.NOMATCH:U+=`<span class="${t.CLASS_NOMATCH}">&uarr;N</span>`;break;case i.EMPTY:U+=`<span class="${t.CLASS_EMPTY}">&uarr;E</span>`;break;default:U+=`<span class="${t.CLASS_ACTIVE}">--</span>`;break}if(U+="</td>",U+="<td>",U+=o.indent(re.depth),ae?U+=`<span class="${t.CLASS_LOOKAHEAD}">`:be&&(U+=`<span class="${t.CLASS_LOOKBEHIND}">`),U+=e.opcodeToString(re.opcode.type),re.opcode.type===i.RNM&&(U+=`(${D[re.opcode.index].name}) `),re.opcode.type===i.BKR){const le=re.opcode.bkrCase===i.BKR_MODE_CI?"%i":"%s",$=re.opcode.bkrMode===i.BKR_MODE_UM?"%u":"%p";U+=`(\\${le}${$}${D[re.opcode.index].name}) `}re.opcode.type===i.UDT&&(U+=`(${I[re.opcode.index].name}) `),re.opcode.type===i.TRG&&(U+=`(${L(F,re.opcode)}) `),re.opcode.type===i.TBS&&(U+=`(${j(F,re.opcode)}) `),re.opcode.type===i.TLS&&(U+=`(${k(F,re.opcode)}) `),re.opcode.type===i.REP&&(U+=`(${G(F,re.opcode)}) `),ue&&(U+="</span>"),U+="</td>",U+="<td>",be?U+=S(F,P,re.state,re.phraseIndex,re.phraseLength,ie):ae?U+=E(F,P,re.state,re.phraseIndex,re.phraseLength):U+=J(F,P,re.state,re.phraseIndex,re.phraseLength),U+=`</td></tr>
`}),U+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>",U+=`<th>operator</th><th>phrase</th></tr>
`,U+=`</table>
`,U};this.toHtml=function(F,U){let H=l;if(typeof F=="string"&&F.length>=3){const ae=F.toLowerCase().slice(0,3);ae==="hex"?H=a:ae==="dec"?H=c:ae==="uni"&&(H=u)}let ee="";return ee+=C(H,U),ee+=oe(H),ee+=R(),ee}},Si={ast:F2,circular:rp,ids:Rr,parser:D2,stats:U2,trace:$2,utils:$n,emitcss:tp,style:Uo},Ba,Vu;function j2(){return Vu||(Vu=1,Ba=function(){this.grammarObject="grammarObject",this.rules=[],this.rules[0]={name:"file",lower:"file",index:0,isBkr:!1},this.rules[1]={name:"line",lower:"line",index:1,isBkr:!1},this.rules[2]={name:"line-text",lower:"line-text",index:2,isBkr:!1},this.rules[3]={name:"last-line",lower:"last-line",index:3,isBkr:!1},this.rules[4]={name:"valid",lower:"valid",index:4,isBkr:!1},this.rules[5]={name:"invalid",lower:"invalid",index:5,isBkr:!1},this.rules[6]={name:"end",lower:"end",index:6,isBkr:!1},this.rules[7]={name:"CRLF",lower:"crlf",index:7,isBkr:!1},this.rules[8]={name:"LF",lower:"lf",index:8,isBkr:!1},this.rules[9]={name:"CR",lower:"cr",index:9,isBkr:!1},this.udts=[],this.rules[0].opcodes=[],this.rules[0].opcodes[0]={type:2,children:[1,3]},this.rules[0].opcodes[1]={type:3,min:0,max:1/0},this.rules[0].opcodes[2]={type:4,index:1},this.rules[0].opcodes[3]={type:3,min:0,max:1},this.rules[0].opcodes[4]={type:4,index:3},this.rules[1].opcodes=[],this.rules[1].opcodes[0]={type:2,children:[1,2]},this.rules[1].opcodes[1]={type:4,index:2},this.rules[1].opcodes[2]={type:4,index:6},this.rules[2].opcodes=[],this.rules[2].opcodes[0]={type:3,min:0,max:1/0},this.rules[2].opcodes[1]={type:1,children:[2,3]},this.rules[2].opcodes[2]={type:4,index:4},this.rules[2].opcodes[3]={type:4,index:5},this.rules[3].opcodes=[],this.rules[3].opcodes[0]={type:3,min:1,max:1/0},this.rules[3].opcodes[1]={type:1,children:[2,3]},this.rules[3].opcodes[2]={type:4,index:4},this.rules[3].opcodes[3]={type:4,index:5},this.rules[4].opcodes=[],this.rules[4].opcodes[0]={type:1,children:[1,2]},this.rules[4].opcodes[1]={type:5,min:32,max:126},this.rules[4].opcodes[2]={type:6,string:[9]},this.rules[5].opcodes=[],this.rules[5].opcodes[0]={type:1,children:[1,2,3,4]},this.rules[5].opcodes[1]={type:5,min:0,max:8},this.rules[5].opcodes[2]={type:5,min:11,max:12},this.rules[5].opcodes[3]={type:5,min:14,max:31},this.rules[5].opcodes[4]={type:5,min:127,max:4294967295},this.rules[6].opcodes=[],this.rules[6].opcodes[0]={type:1,children:[1,2,3]},this.rules[6].opcodes[1]={type:4,index:7},this.rules[6].opcodes[2]={type:4,index:8},this.rules[6].opcodes[3]={type:4,index:9},this.rules[7].opcodes=[],this.rules[7].opcodes[0]={type:6,string:[13,10]},this.rules[8].opcodes=[],this.rules[8].opcodes[0]={type:6,string:[10]},this.rules[9].opcodes=[],this.rules[9].opcodes[0]={type:6,string:[13]},this.toString=function(){let t="";return t+=`file = *line [last-line]
`,t+=`line = line-text end
`,t+=`line-text = *(valid/invalid)
`,t+=`last-line = 1*(valid/invalid)
`,t+=`valid = %d32-126 / %d9
`,t+=`invalid = %d0-8 / %d11-12 /%d14-31 / %x7f-ffffffff
`,t+=`end = CRLF / LF / CR
`,t+=`CRLF = %d13.10
`,t+=`LF = %d10
`,t+=`CR = %d13
`,t}}),Ba}var Ia={},Hu;function V2(){if(Hu)return Ia;Hu=1;const r=Rr,e=$n;function t(d,h,g,b,y){return d===r.SEM_PRE?(y.endLength=0,y.textLength=0,y.invalidCount=0):y.lines.push({lineNo:y.lines.length,beginChar:g,length:b,textLength:y.textLength,endType:y.endType,invalidChars:y.invalidCount}),r.SEM_OK}function n(d,h,g,b,y){return d===r.SEM_PRE&&(y.textLength=b),r.SEM_OK}function i(d,h,g,b,y){return d===r.SEM_PRE?(y.endLength=0,y.textLength=0,y.invalidCount=0):y.strict?(y.lines.push({lineNo:y.lines.length,beginChar:g,length:b,textLength:b,endType:"none",invalidChars:y.invalidCount}),y.errors.push({line:y.lineNo,char:g+b,msg:"no line end on last line - strict ABNF specifies CRLF(\\r\\n, \\x0D\\x0A)"})):(h.push(10),y.lines.push({lineNo:y.lines.length,beginChar:g,length:b+1,textLength:b,endType:"LF",invalidChars:y.invalidCount})),r.SEM_OK}function s(d,h,g,b,y){return d===r.SEM_PRE&&y.errors.push({line:y.lineNo,char:g,msg:`invalid character found '\\x${e.charToHex(h[g])}'`}),r.SEM_OK}function o(d,h,g,b,y){return d===r.SEM_POST&&(y.lineNo+=1),r.SEM_OK}function a(d,h,g,b,y){return d===r.SEM_PRE&&(y.endType="LF",y.strict&&y.errors.push({line:y.lineNo,char:g,msg:"line end character LF(\\n, \\x0A) - strict ABNF specifies CRLF(\\r\\n, \\x0D\\x0A)"})),r.SEM_OK}function c(d,h,g,b,y){return d===r.SEM_PRE&&(y.endType="CR",y.strict&&y.errors.push({line:y.lineNo,char:g,msg:"line end character CR(\\r, \\x0D) - strict ABNF specifies CRLF(\\r\\n, \\x0D\\x0A)"})),r.SEM_OK}function l(d,h,g,b,y){return d===r.SEM_PRE&&(y.endType="CRLF"),r.SEM_OK}const u=[];return u.line=t,u["line-text"]=n,u["last-line"]=i,u.invalid=s,u.end=o,u.lf=a,u.cr=c,u.crlf=l,Ia.callbacks=u,Ia}var Oa,Ku;function H2(){return Ku||(Ku=1,Oa=function(e,t,n,i){const s="scanner.js: ",o=Si,a=new(j2()),{callbacks:c}=V2(),l=[],u=new o.parser;if(u.ast=new o.ast,u.ast.callbacks=c,i){if(i.traceObject!=="traceObject")throw new TypeError(`${s}trace argument is not a trace object`);u.trace=i}if(u.parse(a,"file",e).success!==!0){t.push({line:0,char:0,msg:"syntax analysis error analyzing input SABNF grammar"});return}const h={lines:l,lineNo:0,errors:t,strict:!!n};return u.ast.translate(h),l}),Oa}var La,Gu;function K2(){return Gu||(Gu=1,La=function(){const e="syntax-callbacks.js: ",t=Si,n=t.ids;let i;const s=function(k,m,S,q){switch(k.state){case n.ACTIVE:q.altStack=[],q.repCount=0;break;case n.EMPTY:q.errors.push({line:0,char:0,msg:"grammar file is empty"});break;case n.MATCH:q.ruleCount===0&&q.errors.push({line:0,char:0,msg:"no rules defined"});break;case n.NOMATCH:throw new Error(`${e}synFile: grammar file NOMATCH: design error: should never happen.`);default:throw new Error(`${e}synFile: unrecognized case.`)}},o=function(j,k,m,S){switch(j.state){case n.ACTIVE:S.altStack.length=0,i={groupOpen:null,groupError:!1,optionOpen:null,optionError:!1,tlsOpen:null,clsOpen:null,prosValOpen:null,basicError:!1},S.altStack.push(i);break;case n.EMPTY:throw new Error(`${e}synRule: EMPTY: rule cannot be empty`);case n.NOMATCH:break;case n.MATCH:S.ruleCount+=1;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},a=function(j,k,m,S){switch(j.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:S.errors.push({line:S.findLine(S.lines,m,S.charsLength),char:m,msg:"Unrecognized SABNF line. Invalid rule, comment or blank line."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},c=function(j,k,m,S){switch(j.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:S.errors.push({line:S.findLine(S.lines,m,S.charsLength),char:m,msg:"Rule names must be alphanum and begin with alphabetic character."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},l=function(j,k,m,S){switch(j.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:S.errors.push({line:S.findLine(S.lines,m,S.charsLength),char:m,msg:"Expected '=' or '=/'. Not found."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},u=function(j,k,m,S){switch(j.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:S.strict&&S.errors.push({line:S.findLine(S.lines,m,S.charsLength),char:m,msg:"AND operator(&) found - strict ABNF specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},d=function(j,k,m,S){switch(j.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:S.strict&&S.errors.push({line:S.findLine(S.lines,m,S.charsLength),char:m,msg:"NOT operator(!) found - strict ABNF specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},h=function(j,k,m,S){switch(j.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:S.strict?S.errors.push({line:S.findLine(S.lines,m,S.charsLength),char:m,msg:"Positive look-behind operator(&&) found - strict ABNF specified."}):S.lite&&S.errors.push({line:S.findLine(S.lines,m,S.charsLength),char:m,msg:"Positive look-behind operator(&&) found - apg-lite specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},g=function(j,k,m,S){switch(j.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:S.strict?S.errors.push({line:S.findLine(S.lines,m,S.charsLength),char:m,msg:"Negative look-behind operator(!!) found - strict ABNF specified."}):S.lite&&S.errors.push({line:S.findLine(S.lines,m,S.charsLength),char:m,msg:"Negative look-behind operator(!!) found - apg-lite specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},b=function(j,k,m,S){switch(j.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:S.strict?S.errors.push({line:S.findLine(S.lines,m,S.charsLength),char:m,msg:"Beginning of string anchor(%^) found - strict ABNF specified."}):S.lite&&S.errors.push({line:S.findLine(S.lines,m,S.charsLength),char:m,msg:"Beginning of string anchor(%^) found - apg-lite specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},y=function(j,k,m,S){switch(j.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:S.strict?S.errors.push({line:S.findLine(S.lines,m,S.charsLength),char:m,msg:"End of string anchor(%$) found - strict ABNF specified."}):S.lite&&S.errors.push({line:S.findLine(S.lines,m,S.charsLength),char:m,msg:"End of string anchor(%$) found - apg-lite specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},T=function(j,k,m,S){switch(j.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:if(S.strict){const q=t.utils.charsToString(k,m,j.phraseLength);S.errors.push({line:S.findLine(S.lines,m,S.charsLength),char:m,msg:`Back reference operator(${q}) found - strict ABNF specified.`})}else if(S.lite){const q=t.utils.charsToString(k,m,j.phraseLength);S.errors.push({line:S.findLine(S.lines,m,S.charsLength),char:m,msg:`Back reference operator(${q}) found - apg-lite specified.`})}break;default:throw new Error(`${e}synFile: unrecognized case.`)}},w=function(j,k,m,S){switch(j.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:if(S.strict){const q=t.utils.charsToString(k,m,j.phraseLength);S.errors.push({line:S.findLine(S.lines,m,S.charsLength),char:m,msg:`UDT operator found(${q}) - strict ABNF specified.`})}break;default:throw new Error(`${e}synFile: unrecognized case.`)}},_=function(j,k,m){switch(j.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:i.tlsOpen=m;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},P=function(j,k,m,S){switch(j.state){case n.ACTIVE:S.stringTabChar=!1;break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:S.stringTabChar!==!1&&S.errors.push({line:S.findLine(S.lines,S.stringTabChar),char:S.stringTabChar,msg:"Tab character (\\t, x09) not allowed in literal string (see 'quoted-string' definition, RFC 7405.)"});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},D=function(j,k,m,S){switch(j.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:S.stringTabChar=m;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},I=function(j,k,m,S){switch(j.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:S.errors.push({line:S.findLine(S.lines,i.tlsOpen),char:i.tlsOpen,msg:'Case-insensitive literal string("...") opened but not closed.'}),i.basicError=!0,i.tlsOpen=null;break;case n.MATCH:i.tlsOpen=null;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},B=function(j,k,m){switch(j.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:i.clsOpen=m;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},V=function(j,k,m,S){switch(j.state){case n.ACTIVE:S.stringTabChar=!1;break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:S.stringTabChar!==!1&&S.errors.push({line:S.findLine(S.lines,S.stringTabChar),char:S.stringTabChar,msg:"Tab character (\\t, x09) not allowed in literal string."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},z=function(j,k,m,S){switch(j.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:S.errors.push({line:S.findLine(S.lines,i.clsOpen),char:i.clsOpen,msg:"Case-sensitive literal string('...') opened but not closed."}),i.clsOpen=null,i.basicError=!0;break;case n.MATCH:S.strict&&S.errors.push({line:S.findLine(S.lines,i.clsOpen),char:i.clsOpen,msg:"Case-sensitive string operator('...') found - strict ABNF specified."}),i.clsOpen=null;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},he=function(j,k,m){switch(j.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:i.prosValOpen=m;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},X=function(j,k,m,S){switch(j.state){case n.ACTIVE:S.stringTabChar=!1;break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:S.stringTabChar!==!1&&S.errors.push({line:S.findLine(S.lines,S.stringTabChar),char:S.stringTabChar,msg:"Tab character (\\t, x09) not allowed in prose value string."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},Q=function(j,k,m,S){switch(j.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:S.errors.push({line:S.findLine(S.lines,i.prosValOpen),char:i.prosValOpen,msg:"Prose value operator(<...>) opened but not closed."}),i.basicError=!0,i.prosValOpen=null;break;case n.MATCH:S.errors.push({line:S.findLine(S.lines,i.prosValOpen),char:i.prosValOpen,msg:"Prose value operator(<...>) found. The ABNF syntax is valid, but a parser cannot be generated from this grammar."}),i.prosValOpen=null;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},Z=function(j,k,m,S){switch(j.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:i={groupOpen:m,groupError:!1,optionOpen:null,optionError:!1,tlsOpen:null,clsOpen:null,prosValOpen:null,basicError:!1},S.altStack.push(i);break;default:throw new Error(`${e}synFile: unrecognized case.`)}},N=function(j,k,m,S){switch(j.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:S.errors.push({line:S.findLine(S.lines,i.groupOpen),char:i.groupOpen,msg:'Group "(...)" opened but not closed.'}),i=S.altStack.pop(),i.groupError=!0;break;case n.MATCH:i=S.altStack.pop();break;default:throw new Error(`${e}synFile: unrecognized case.`)}},p=function(j,k,m,S){switch(j.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:i={groupOpen:null,groupError:!1,optionOpen:m,optionError:!1,tlsOpen:null,clsOpen:null,prosValOpen:null,basicError:!1},S.altStack.push(i);break;default:throw new Error(`${e}synFile: unrecognized case.`)}},v=function(j,k,m,S){switch(j.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:S.errors.push({line:S.findLine(S.lines,i.optionOpen),char:i.optionOpen,msg:'Option "[...]" opened but not closed.'}),i=S.altStack.pop(),i.optionError=!0;break;case n.MATCH:i=S.altStack.pop();break;default:throw new Error(`${e}synFile: unrecognized case.`)}},C=function(j,k,m,S){switch(j.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:i.basicError===!1&&S.errors.push({line:S.findLine(S.lines,m,S.charsLength),char:m,msg:"Unrecognized SABNF element."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},R=function(j,k,m,S){switch(j.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:if(j.phraseLength===1&&S.strict){const q=k[m]===13?"CR":"LF";S.errors.push({line:S.findLine(S.lines,m,S.charsLength),char:m,msg:`Line end '${q}' found - strict ABNF specified, only CRLF allowed.`})}break;default:throw new Error(`${e}synFile: unrecognized case.`)}},L=function(j,k,m,S){switch(j.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:S.errors.push({line:S.findLine(S.lines,m,S.charsLength),char:m,msg:"Unrecognized grammar element or characters."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},G=function(j,k,m,S){switch(j.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:S.repCount+=1;break;case n.MATCH:S.repCount+=1;break;default:throw new Error(`${e}synFile: unrecognized case.`)}};this.callbacks=[],this.callbacks.andop=u,this.callbacks.basicelementerr=C,this.callbacks.clsclose=z,this.callbacks.clsopen=B,this.callbacks.clsstring=V,this.callbacks.definedaserror=l,this.callbacks.file=s,this.callbacks.groupclose=N,this.callbacks.groupopen=Z,this.callbacks.lineenderror=L,this.callbacks.lineend=R,this.callbacks.notop=d,this.callbacks.optionclose=v,this.callbacks.optionopen=p,this.callbacks.prosvalclose=Q,this.callbacks.prosvalopen=he,this.callbacks.prosvalstring=X,this.callbacks.repetition=G,this.callbacks.rule=o,this.callbacks.ruleerror=a,this.callbacks.rulenameerror=c,this.callbacks.stringtab=D,this.callbacks.tlsclose=I,this.callbacks.tlsopen=_,this.callbacks.tlsstring=P,this.callbacks.udtop=w,this.callbacks.bkaop=h,this.callbacks.bknop=g,this.callbacks.bkrop=T,this.callbacks.abgop=b,this.callbacks.aenop=y}),La}var Fa,zu;function G2(){return zu||(zu=1,Fa=function(){const e=Si,t=e.ids,n=function(){this.names=[],this.add=function(re){let le=-1;return this.get(re)===-1&&(le={name:re,lower:re.toLowerCase(),index:this.names.length},this.names.push(le)),le},this.get=function(re){let le=-1;const $=re.toLowerCase();for(let se=0;se<this.names.length;se+=1)if(this.names[se].lower===$){le=this.names[se];break}return le}},i=function(de,re,le){let $=0;for(let se=re;se<re+le;se+=1)$=10*$+de[se]-48;return $},s=function(de,re,le){let $=0;for(let se=re;se<re+le;se+=1)$=2*$+de[se]-48;return $},o=function(de,re,le){let $=0;for(let se=re;se<re+le;se+=1){let ye=de[se];if(ye>=48&&ye<=57)ye-=48;else if(ye>=65&&ye<=70)ye-=55;else if(ye>=97&&ye<=102)ye-=87;else throw new Error("hexnum out of range");$=16*$+ye}return $};function a(ie,de,re,le,$){const se=t.SEM_OK;if(ie===t.SEM_PRE)$.ruleNames=new n,$.udtNames=new n,$.rules=[],$.udts=[],$.rulesLineMap=[],$.opcodes=[],$.altStack=[],$.topStack=null,$.topRule=null;else if(ie===t.SEM_POST){let ye;$.rules.forEach(ve=>{ve.isBkr=!1,ve.opcodes.forEach(Se=>{Se.type===t.RNM&&(ye=$.ruleNames.get(Se.index.name),ye===-1?($.errors.push({line:$.findLine($.lines,Se.index.phraseIndex,$.charsLength),char:Se.index.phraseIndex,msg:`Rule name '${Se.index.name}' used but not defined.`}),Se.index=-1):Se.index=ye.index)})}),$.udts.forEach(ve=>{ve.isBkr=!1}),$.rules.forEach(ve=>{ve.opcodes.forEach(Se=>{Se.type===t.BKR&&(ve.hasBkr=!0,ye=$.ruleNames.get(Se.index.name),ye!==-1?($.rules[ye.index].isBkr=!0,Se.index=ye.index):(ye=$.udtNames.get(Se.index.name),ye!==-1?($.udts[ye.index].isBkr=!0,Se.index=$.rules.length+ye.index):($.errors.push({line:$.findLine($.lines,Se.index.phraseIndex,$.charsLength),char:Se.index.phraseIndex,msg:`Back reference name '${Se.index.name}' refers to undefined rule or unamed UDT.`}),Se.index=-1)))})})}return se}function c(ie,de,re,le,$){const se=t.SEM_OK;return ie===t.SEM_PRE&&($.altStack.length=0,$.topStack=null,$.rulesLineMap.push({line:$.findLine($.lines,re,$.charsLength),char:re})),se}function l(ie,de,re,le,$){const se=t.SEM_OK;if(ie===t.SEM_PRE)$.ruleName="",$.definedas="";else if(ie===t.SEM_POST){let ye;$.definedas==="="?(ye=$.ruleNames.add($.ruleName),ye===-1?($.definedas=null,$.errors.push({line:$.findLine($.lines,re,$.charsLength),char:re,msg:`Rule name '${$.ruleName}' previously defined.`})):($.topRule={name:ye.name,lower:ye.lower,opcodes:[],index:ye.index},$.rules.push($.topRule),$.opcodes=$.topRule.opcodes)):(ye=$.ruleNames.get($.ruleName),ye===-1?($.definedas=null,$.errors.push({line:$.findLine($.lines,re,$.charsLength),char:re,msg:`Rule name '${$.ruleName}' for incremental alternate not previously defined.`})):($.topRule=$.rules[ye.index],$.opcodes=$.topRule.opcodes))}return se}function u(ie,de,re,le,$){let se=t.SEM_OK;if(ie===t.SEM_PRE)for(;;){if($.definedas===null){se=t.SEM_SKIP;break}if($.topStack===null){if($.definedas==="="){$.topStack={alt:{type:t.ALT,children:[]},cat:null},$.altStack.push($.topStack),$.opcodes.push($.topStack.alt);break}$.topStack={alt:$.opcodes[0],cat:null},$.altStack.push($.topStack);break}$.topStack={alt:{type:t.ALT,children:[]},cat:null},$.altStack.push($.topStack),$.opcodes.push($.topStack.alt);break}else ie===t.SEM_POST&&($.altStack.pop(),$.altStack.length>0?$.topStack=$.altStack[$.altStack.length-1]:$.topStack=null);return se}function d(ie,de,re,le,$){const se=t.SEM_OK;return ie===t.SEM_PRE?($.topStack.alt.children.push($.opcodes.length),$.topStack.cat={type:t.CAT,children:[]},$.opcodes.push($.topStack.cat)):ie===t.SEM_POST&&($.topStack.cat=null),se}function h(ie,de,re,le,$){const se=t.SEM_OK;return ie===t.SEM_PRE&&$.topStack.cat.children.push($.opcodes.length),se}function g(ie,de,re,le,$){const se=t.SEM_OK;return ie===t.SEM_POST&&$.opcodes.push({type:t.REP,min:0,max:1,char:re}),se}function b(ie,de,re,le,$){const se=t.SEM_OK;return ie===t.SEM_PRE&&($.ruleName=e.utils.charsToString(de,re,le)),se}function y(ie,de,re,le,$){const se=t.SEM_OK;return ie===t.SEM_POST&&($.definedas="="),se}function T(ie,de,re,le,$){const se=t.SEM_OK;return ie===t.SEM_POST&&($.definedas="=/"),se}function w(ie,de,re,le,$){const se=t.SEM_OK;return ie===t.SEM_PRE?($.min=0,$.max=1/0,$.topRep={type:t.REP,min:0,max:1/0},$.opcodes.push($.topRep)):ie===t.SEM_POST&&($.min>$.max&&$.errors.push({line:$.findLine($.lines,re,$.charsLength),char:re,msg:`repetition min cannot be greater than max: min: ${$.min}: max: ${$.max}`}),$.topRep.min=$.min,$.topRep.max=$.max),se}function _(ie,de,re,le,$){const se=t.SEM_OK;return ie===t.SEM_POST&&($.min=i(de,re,le)),se}function P(ie,de,re,le,$){const se=t.SEM_OK;return ie===t.SEM_POST&&($.max=i(de,re,le)),se}function D(ie,de,re,le,$){const se=t.SEM_OK;return ie===t.SEM_POST&&($.max=i(de,re,le),$.min=$.max),se}function I(ie,de,re,le,$){const se=t.SEM_OK;return ie===t.SEM_POST&&$.opcodes.push({type:t.AND}),se}function B(ie,de,re,le,$){const se=t.SEM_OK;return ie===t.SEM_POST&&$.opcodes.push({type:t.NOT}),se}function V(ie,de,re,le,$){const se=t.SEM_OK;return ie===t.SEM_POST&&$.opcodes.push({type:t.RNM,index:{phraseIndex:re,name:e.utils.charsToString(de,re,le)}}),se}function z(ie,de,re,le,$){const se=t.SEM_OK;return ie===t.SEM_POST&&$.opcodes.push({type:t.ABG}),se}function he(ie,de,re,le,$){const se=t.SEM_OK;return ie===t.SEM_POST&&$.opcodes.push({type:t.AEN}),se}function X(ie,de,re,le,$){const se=t.SEM_OK;return ie===t.SEM_POST&&$.opcodes.push({type:t.BKA}),se}function Q(ie,de,re,le,$){const se=t.SEM_OK;return ie===t.SEM_POST&&$.opcodes.push({type:t.BKN}),se}function Z(ie,de,re,le,$){const se=t.SEM_OK;return ie===t.SEM_PRE?($.ci=!0,$.cs=!1,$.um=!0,$.pm=!1):ie===t.SEM_POST&&$.opcodes.push({type:t.BKR,bkrCase:$.cs===!0?t.BKR_MODE_CS:t.BKR_MODE_CI,bkrMode:$.pm===!0?t.BKR_MODE_PM:t.BKR_MODE_UM,index:{phraseIndex:$.bkrname.phraseIndex,name:e.utils.charsToString(de,$.bkrname.phraseIndex,$.bkrname.phraseLength)}}),se}function N(ie,de,re,le,$){const se=t.SEM_OK;return ie===t.SEM_POST&&($.ci=!0),se}function p(ie,de,re,le,$){const se=t.SEM_OK;return ie===t.SEM_POST&&($.cs=!0),se}function v(ie,de,re,le,$){const se=t.SEM_OK;return ie===t.SEM_POST&&($.um=!0),se}function C(ie,de,re,le,$){const se=t.SEM_OK;return ie===t.SEM_POST&&($.pm=!0),se}function R(ie,de,re,le,$){const se=t.SEM_OK;return ie===t.SEM_POST&&($.bkrname={phraseIndex:re,phraseLength:le}),se}function L(ie,de,re,le,$){const se=t.SEM_OK;if(ie===t.SEM_POST){const ye=e.utils.charsToString(de,re,le);let ve=$.udtNames.add(ye);if(ve===-1){if(ve=$.udtNames.get(ye),ve===-1)throw new Error("semUdtEmpty: name look up error")}else $.udts.push({name:ve.name,lower:ve.lower,index:ve.index,empty:!0});$.opcodes.push({type:t.UDT,empty:!0,index:ve.index})}return se}function G(ie,de,re,le,$){const se=t.SEM_OK;if(ie===t.SEM_POST){const ye=e.utils.charsToString(de,re,le);let ve=$.udtNames.add(ye);if(ve===-1){if(ve=$.udtNames.get(ye),ve===-1)throw new Error("semUdtNonEmpty: name look up error")}else $.udts.push({name:ve.name,lower:ve.lower,index:ve.index,empty:!1});$.opcodes.push({type:t.UDT,empty:!1,index:ve.index,syntax:null,semantic:null})}return se}function j(ie,de,re,le,$){const se=t.SEM_OK;return ie===t.SEM_PRE&&($.tlscase=!0),se}function k(ie,de,re,le,$){const se=t.SEM_OK;return ie===t.SEM_POST&&le>0&&(de[re+1]===83||de[re+1]===115)&&($.tlscase=!1),se}function m(ie,de,re,le,$){const se=t.SEM_OK;if(ie===t.SEM_POST)if($.tlscase){const ye=de.slice(re,re+le);for(let ve=0;ve<ye.length;ve+=1)ye[ve]>=65&&ye[ve]<=90&&(ye[ve]+=32);$.opcodes.push({type:t.TLS,string:ye})}else $.opcodes.push({type:t.TBS,string:de.slice(re,re+le)});return se}function S(ie,de,re,le,$){const se=t.SEM_OK;return ie===t.SEM_POST&&(le<=2?$.opcodes.push({type:t.TLS,string:[]}):$.opcodes.push({type:t.TBS,string:de.slice(re+1,re+le-1)})),se}function q(ie,de,re,le,$){const se=t.SEM_OK;return ie===t.SEM_PRE?$.tbsstr=[]:ie===t.SEM_POST&&$.opcodes.push({type:t.TBS,string:$.tbsstr}),se}function E(ie,de,re,le,$){const se=t.SEM_OK;return ie===t.SEM_PRE?($.min=0,$.max=0):ie===t.SEM_POST&&($.min>$.max&&$.errors.push({line:$.findLine($.lines,re,$.charsLength),char:re,msg:`TRG, (%dmin-max), min cannot be greater than max: min: ${$.min}: max: ${$.max}`}),$.opcodes.push({type:t.TRG,min:$.min,max:$.max})),se}function J(ie,de,re,le,$){const se=t.SEM_OK;return ie===t.SEM_POST&&($.min=i(de,re,le)),se}function oe(ie,de,re,le,$){const se=t.SEM_OK;return ie===t.SEM_POST&&($.max=i(de,re,le)),se}function F(ie,de,re,le,$){const se=t.SEM_OK;return ie===t.SEM_POST&&($.min=s(de,re,le)),se}function U(ie,de,re,le,$){const se=t.SEM_OK;return ie===t.SEM_POST&&($.max=s(de,re,le)),se}function H(ie,de,re,le,$){const se=t.SEM_OK;return ie===t.SEM_POST&&($.min=o(de,re,le)),se}function ee(ie,de,re,le,$){const se=t.SEM_OK;return ie===t.SEM_POST&&($.max=o(de,re,le)),se}function ae(ie,de,re,le,$){const se=t.SEM_OK;return ie===t.SEM_POST&&$.tbsstr.push(i(de,re,le)),se}function be(ie,de,re,le,$){const se=t.SEM_OK;return ie===t.SEM_POST&&$.tbsstr.push(s(de,re,le)),se}function ue(ie,de,re,le,$){const se=t.SEM_OK;return ie===t.SEM_POST&&$.tbsstr.push(o(de,re,le)),se}this.callbacks=[],this.callbacks.abgop=z,this.callbacks.aenop=he,this.callbacks.alternation=u,this.callbacks.andop=I,this.callbacks.bmax=U,this.callbacks.bmin=F,this.callbacks.bkaop=X,this.callbacks.bknop=Q,this.callbacks.bkrop=Z,this.callbacks["bkr-name"]=R,this.callbacks.bstring=be,this.callbacks.clsop=S,this.callbacks.ci=N,this.callbacks.cs=p,this.callbacks.um=v,this.callbacks.pm=C,this.callbacks.concatenation=d,this.callbacks.defined=y,this.callbacks.dmax=oe,this.callbacks.dmin=J,this.callbacks.dstring=ae,this.callbacks.file=a,this.callbacks.incalt=T,this.callbacks.notop=B,this.callbacks.optionopen=g,this.callbacks["rep-max"]=P,this.callbacks["rep-min"]=_,this.callbacks["rep-min-max"]=D,this.callbacks.repetition=h,this.callbacks.repop=w,this.callbacks.rnmop=V,this.callbacks.rule=c,this.callbacks.rulelookup=l,this.callbacks.rulename=b,this.callbacks.tbsop=q,this.callbacks.tlscase=k,this.callbacks.tlsstring=m,this.callbacks.tlsop=j,this.callbacks.trgop=E,this.callbacks["udt-empty"]=L,this.callbacks["udt-non-empty"]=G,this.callbacks.xmax=ee,this.callbacks.xmin=H,this.callbacks.xstring=ue}),Fa}var Da,qu;function z2(){return qu||(qu=1,Da=function(){this.grammarObject="grammarObject",this.rules=[],this.rules[0]={name:"File",lower:"file",index:0,isBkr:!1},this.rules[1]={name:"BlankLine",lower:"blankline",index:1,isBkr:!1},this.rules[2]={name:"Rule",lower:"rule",index:2,isBkr:!1},this.rules[3]={name:"RuleLookup",lower:"rulelookup",index:3,isBkr:!1},this.rules[4]={name:"RuleNameTest",lower:"rulenametest",index:4,isBkr:!1},this.rules[5]={name:"RuleName",lower:"rulename",index:5,isBkr:!1},this.rules[6]={name:"RuleNameError",lower:"rulenameerror",index:6,isBkr:!1},this.rules[7]={name:"DefinedAsTest",lower:"definedastest",index:7,isBkr:!1},this.rules[8]={name:"DefinedAsError",lower:"definedaserror",index:8,isBkr:!1},this.rules[9]={name:"DefinedAs",lower:"definedas",index:9,isBkr:!1},this.rules[10]={name:"Defined",lower:"defined",index:10,isBkr:!1},this.rules[11]={name:"IncAlt",lower:"incalt",index:11,isBkr:!1},this.rules[12]={name:"RuleError",lower:"ruleerror",index:12,isBkr:!1},this.rules[13]={name:"LineEndError",lower:"lineenderror",index:13,isBkr:!1},this.rules[14]={name:"Alternation",lower:"alternation",index:14,isBkr:!1},this.rules[15]={name:"Concatenation",lower:"concatenation",index:15,isBkr:!1},this.rules[16]={name:"Repetition",lower:"repetition",index:16,isBkr:!1},this.rules[17]={name:"Modifier",lower:"modifier",index:17,isBkr:!1},this.rules[18]={name:"Predicate",lower:"predicate",index:18,isBkr:!1},this.rules[19]={name:"BasicElement",lower:"basicelement",index:19,isBkr:!1},this.rules[20]={name:"BasicElementErr",lower:"basicelementerr",index:20,isBkr:!1},this.rules[21]={name:"Group",lower:"group",index:21,isBkr:!1},this.rules[22]={name:"GroupError",lower:"grouperror",index:22,isBkr:!1},this.rules[23]={name:"GroupOpen",lower:"groupopen",index:23,isBkr:!1},this.rules[24]={name:"GroupClose",lower:"groupclose",index:24,isBkr:!1},this.rules[25]={name:"Option",lower:"option",index:25,isBkr:!1},this.rules[26]={name:"OptionError",lower:"optionerror",index:26,isBkr:!1},this.rules[27]={name:"OptionOpen",lower:"optionopen",index:27,isBkr:!1},this.rules[28]={name:"OptionClose",lower:"optionclose",index:28,isBkr:!1},this.rules[29]={name:"RnmOp",lower:"rnmop",index:29,isBkr:!1},this.rules[30]={name:"BkrOp",lower:"bkrop",index:30,isBkr:!1},this.rules[31]={name:"bkrModifier",lower:"bkrmodifier",index:31,isBkr:!1},this.rules[32]={name:"cs",lower:"cs",index:32,isBkr:!1},this.rules[33]={name:"ci",lower:"ci",index:33,isBkr:!1},this.rules[34]={name:"um",lower:"um",index:34,isBkr:!1},this.rules[35]={name:"pm",lower:"pm",index:35,isBkr:!1},this.rules[36]={name:"bkr-name",lower:"bkr-name",index:36,isBkr:!1},this.rules[37]={name:"rname",lower:"rname",index:37,isBkr:!1},this.rules[38]={name:"uname",lower:"uname",index:38,isBkr:!1},this.rules[39]={name:"ename",lower:"ename",index:39,isBkr:!1},this.rules[40]={name:"UdtOp",lower:"udtop",index:40,isBkr:!1},this.rules[41]={name:"udt-non-empty",lower:"udt-non-empty",index:41,isBkr:!1},this.rules[42]={name:"udt-empty",lower:"udt-empty",index:42,isBkr:!1},this.rules[43]={name:"RepOp",lower:"repop",index:43,isBkr:!1},this.rules[44]={name:"AltOp",lower:"altop",index:44,isBkr:!1},this.rules[45]={name:"CatOp",lower:"catop",index:45,isBkr:!1},this.rules[46]={name:"StarOp",lower:"starop",index:46,isBkr:!1},this.rules[47]={name:"AndOp",lower:"andop",index:47,isBkr:!1},this.rules[48]={name:"NotOp",lower:"notop",index:48,isBkr:!1},this.rules[49]={name:"BkaOp",lower:"bkaop",index:49,isBkr:!1},this.rules[50]={name:"BknOp",lower:"bknop",index:50,isBkr:!1},this.rules[51]={name:"AbgOp",lower:"abgop",index:51,isBkr:!1},this.rules[52]={name:"AenOp",lower:"aenop",index:52,isBkr:!1},this.rules[53]={name:"TrgOp",lower:"trgop",index:53,isBkr:!1},this.rules[54]={name:"TbsOp",lower:"tbsop",index:54,isBkr:!1},this.rules[55]={name:"TlsOp",lower:"tlsop",index:55,isBkr:!1},this.rules[56]={name:"TlsCase",lower:"tlscase",index:56,isBkr:!1},this.rules[57]={name:"TlsOpen",lower:"tlsopen",index:57,isBkr:!1},this.rules[58]={name:"TlsClose",lower:"tlsclose",index:58,isBkr:!1},this.rules[59]={name:"TlsString",lower:"tlsstring",index:59,isBkr:!1},this.rules[60]={name:"StringTab",lower:"stringtab",index:60,isBkr:!1},this.rules[61]={name:"ClsOp",lower:"clsop",index:61,isBkr:!1},this.rules[62]={name:"ClsOpen",lower:"clsopen",index:62,isBkr:!1},this.rules[63]={name:"ClsClose",lower:"clsclose",index:63,isBkr:!1},this.rules[64]={name:"ClsString",lower:"clsstring",index:64,isBkr:!1},this.rules[65]={name:"ProsVal",lower:"prosval",index:65,isBkr:!1},this.rules[66]={name:"ProsValOpen",lower:"prosvalopen",index:66,isBkr:!1},this.rules[67]={name:"ProsValString",lower:"prosvalstring",index:67,isBkr:!1},this.rules[68]={name:"ProsValClose",lower:"prosvalclose",index:68,isBkr:!1},this.rules[69]={name:"rep-min",lower:"rep-min",index:69,isBkr:!1},this.rules[70]={name:"rep-min-max",lower:"rep-min-max",index:70,isBkr:!1},this.rules[71]={name:"rep-max",lower:"rep-max",index:71,isBkr:!1},this.rules[72]={name:"rep-num",lower:"rep-num",index:72,isBkr:!1},this.rules[73]={name:"dString",lower:"dstring",index:73,isBkr:!1},this.rules[74]={name:"xString",lower:"xstring",index:74,isBkr:!1},this.rules[75]={name:"bString",lower:"bstring",index:75,isBkr:!1},this.rules[76]={name:"Dec",lower:"dec",index:76,isBkr:!1},this.rules[77]={name:"Hex",lower:"hex",index:77,isBkr:!1},this.rules[78]={name:"Bin",lower:"bin",index:78,isBkr:!1},this.rules[79]={name:"dmin",lower:"dmin",index:79,isBkr:!1},this.rules[80]={name:"dmax",lower:"dmax",index:80,isBkr:!1},this.rules[81]={name:"bmin",lower:"bmin",index:81,isBkr:!1},this.rules[82]={name:"bmax",lower:"bmax",index:82,isBkr:!1},this.rules[83]={name:"xmin",lower:"xmin",index:83,isBkr:!1},this.rules[84]={name:"xmax",lower:"xmax",index:84,isBkr:!1},this.rules[85]={name:"dnum",lower:"dnum",index:85,isBkr:!1},this.rules[86]={name:"bnum",lower:"bnum",index:86,isBkr:!1},this.rules[87]={name:"xnum",lower:"xnum",index:87,isBkr:!1},this.rules[88]={name:"alphanum",lower:"alphanum",index:88,isBkr:!1},this.rules[89]={name:"owsp",lower:"owsp",index:89,isBkr:!1},this.rules[90]={name:"wsp",lower:"wsp",index:90,isBkr:!1},this.rules[91]={name:"space",lower:"space",index:91,isBkr:!1},this.rules[92]={name:"comment",lower:"comment",index:92,isBkr:!1},this.rules[93]={name:"LineEnd",lower:"lineend",index:93,isBkr:!1},this.rules[94]={name:"LineContinue",lower:"linecontinue",index:94,isBkr:!1},this.udts=[],this.rules[0].opcodes=[],this.rules[0].opcodes[0]={type:3,min:0,max:1/0},this.rules[0].opcodes[1]={type:1,children:[2,3,4]},this.rules[0].opcodes[2]={type:4,index:1},this.rules[0].opcodes[3]={type:4,index:2},this.rules[0].opcodes[4]={type:4,index:12},this.rules[1].opcodes=[],this.rules[1].opcodes[0]={type:2,children:[1,5,7]},this.rules[1].opcodes[1]={type:3,min:0,max:1/0},this.rules[1].opcodes[2]={type:1,children:[3,4]},this.rules[1].opcodes[3]={type:6,string:[32]},this.rules[1].opcodes[4]={type:6,string:[9]},this.rules[1].opcodes[5]={type:3,min:0,max:1},this.rules[1].opcodes[6]={type:4,index:92},this.rules[1].opcodes[7]={type:4,index:93},this.rules[2].opcodes=[],this.rules[2].opcodes[0]={type:2,children:[1,2,3,4]},this.rules[2].opcodes[1]={type:4,index:3},this.rules[2].opcodes[2]={type:4,index:89},this.rules[2].opcodes[3]={type:4,index:14},this.rules[2].opcodes[4]={type:1,children:[5,8]},this.rules[2].opcodes[5]={type:2,children:[6,7]},this.rules[2].opcodes[6]={type:4,index:89},this.rules[2].opcodes[7]={type:4,index:93},this.rules[2].opcodes[8]={type:2,children:[9,10]},this.rules[2].opcodes[9]={type:4,index:13},this.rules[2].opcodes[10]={type:4,index:93},this.rules[3].opcodes=[],this.rules[3].opcodes[0]={type:2,children:[1,2,3]},this.rules[3].opcodes[1]={type:4,index:4},this.rules[3].opcodes[2]={type:4,index:89},this.rules[3].opcodes[3]={type:4,index:7},this.rules[4].opcodes=[],this.rules[4].opcodes[0]={type:1,children:[1,2]},this.rules[4].opcodes[1]={type:4,index:5},this.rules[4].opcodes[2]={type:4,index:6},this.rules[5].opcodes=[],this.rules[5].opcodes[0]={type:4,index:88},this.rules[6].opcodes=[],this.rules[6].opcodes[0]={type:3,min:1,max:1/0},this.rules[6].opcodes[1]={type:1,children:[2,3]},this.rules[6].opcodes[2]={type:5,min:33,max:60},this.rules[6].opcodes[3]={type:5,min:62,max:126},this.rules[7].opcodes=[],this.rules[7].opcodes[0]={type:1,children:[1,2]},this.rules[7].opcodes[1]={type:4,index:9},this.rules[7].opcodes[2]={type:4,index:8},this.rules[8].opcodes=[],this.rules[8].opcodes[0]={type:3,min:1,max:2},this.rules[8].opcodes[1]={type:5,min:33,max:126},this.rules[9].opcodes=[],this.rules[9].opcodes[0]={type:1,children:[1,2]},this.rules[9].opcodes[1]={type:4,index:11},this.rules[9].opcodes[2]={type:4,index:10},this.rules[10].opcodes=[],this.rules[10].opcodes[0]={type:6,string:[61]},this.rules[11].opcodes=[],this.rules[11].opcodes[0]={type:6,string:[61,47]},this.rules[12].opcodes=[],this.rules[12].opcodes[0]={type:2,children:[1,6]},this.rules[12].opcodes[1]={type:3,min:1,max:1/0},this.rules[12].opcodes[2]={type:1,children:[3,4,5]},this.rules[12].opcodes[3]={type:5,min:32,max:126},this.rules[12].opcodes[4]={type:6,string:[9]},this.rules[12].opcodes[5]={type:4,index:94},this.rules[12].opcodes[6]={type:4,index:93},this.rules[13].opcodes=[],this.rules[13].opcodes[0]={type:3,min:1,max:1/0},this.rules[13].opcodes[1]={type:1,children:[2,3,4]},this.rules[13].opcodes[2]={type:5,min:32,max:126},this.rules[13].opcodes[3]={type:6,string:[9]},this.rules[13].opcodes[4]={type:4,index:94},this.rules[14].opcodes=[],this.rules[14].opcodes[0]={type:2,children:[1,2]},this.rules[14].opcodes[1]={type:4,index:15},this.rules[14].opcodes[2]={type:3,min:0,max:1/0},this.rules[14].opcodes[3]={type:2,children:[4,5,6]},this.rules[14].opcodes[4]={type:4,index:89},this.rules[14].opcodes[5]={type:4,index:44},this.rules[14].opcodes[6]={type:4,index:15},this.rules[15].opcodes=[],this.rules[15].opcodes[0]={type:2,children:[1,2]},this.rules[15].opcodes[1]={type:4,index:16},this.rules[15].opcodes[2]={type:3,min:0,max:1/0},this.rules[15].opcodes[3]={type:2,children:[4,5]},this.rules[15].opcodes[4]={type:4,index:45},this.rules[15].opcodes[5]={type:4,index:16},this.rules[16].opcodes=[],this.rules[16].opcodes[0]={type:2,children:[1,3]},this.rules[16].opcodes[1]={type:3,min:0,max:1},this.rules[16].opcodes[2]={type:4,index:17},this.rules[16].opcodes[3]={type:1,children:[4,5,6,7]},this.rules[16].opcodes[4]={type:4,index:21},this.rules[16].opcodes[5]={type:4,index:25},this.rules[16].opcodes[6]={type:4,index:19},this.rules[16].opcodes[7]={type:4,index:20},this.rules[17].opcodes=[],this.rules[17].opcodes[0]={type:1,children:[1,5]},this.rules[17].opcodes[1]={type:2,children:[2,3]},this.rules[17].opcodes[2]={type:4,index:18},this.rules[17].opcodes[3]={type:3,min:0,max:1},this.rules[17].opcodes[4]={type:4,index:43},this.rules[17].opcodes[5]={type:4,index:43},this.rules[18].opcodes=[],this.rules[18].opcodes[0]={type:1,children:[1,2,3,4]},this.rules[18].opcodes[1]={type:4,index:49},this.rules[18].opcodes[2]={type:4,index:50},this.rules[18].opcodes[3]={type:4,index:47},this.rules[18].opcodes[4]={type:4,index:48},this.rules[19].opcodes=[],this.rules[19].opcodes[0]={type:1,children:[1,2,3,4,5,6,7,8,9,10]},this.rules[19].opcodes[1]={type:4,index:40},this.rules[19].opcodes[2]={type:4,index:29},this.rules[19].opcodes[3]={type:4,index:53},this.rules[19].opcodes[4]={type:4,index:54},this.rules[19].opcodes[5]={type:4,index:55},this.rules[19].opcodes[6]={type:4,index:61},this.rules[19].opcodes[7]={type:4,index:30},this.rules[19].opcodes[8]={type:4,index:51},this.rules[19].opcodes[9]={type:4,index:52},this.rules[19].opcodes[10]={type:4,index:65},this.rules[20].opcodes=[],this.rules[20].opcodes[0]={type:3,min:1,max:1/0},this.rules[20].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[20].opcodes[2]={type:5,min:33,max:40},this.rules[20].opcodes[3]={type:5,min:42,max:46},this.rules[20].opcodes[4]={type:5,min:48,max:92},this.rules[20].opcodes[5]={type:5,min:94,max:126},this.rules[21].opcodes=[],this.rules[21].opcodes[0]={type:2,children:[1,2,3]},this.rules[21].opcodes[1]={type:4,index:23},this.rules[21].opcodes[2]={type:4,index:14},this.rules[21].opcodes[3]={type:1,children:[4,5]},this.rules[21].opcodes[4]={type:4,index:24},this.rules[21].opcodes[5]={type:4,index:22},this.rules[22].opcodes=[],this.rules[22].opcodes[0]={type:3,min:1,max:1/0},this.rules[22].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[22].opcodes[2]={type:5,min:33,max:40},this.rules[22].opcodes[3]={type:5,min:42,max:46},this.rules[22].opcodes[4]={type:5,min:48,max:92},this.rules[22].opcodes[5]={type:5,min:94,max:126},this.rules[23].opcodes=[],this.rules[23].opcodes[0]={type:2,children:[1,2]},this.rules[23].opcodes[1]={type:6,string:[40]},this.rules[23].opcodes[2]={type:4,index:89},this.rules[24].opcodes=[],this.rules[24].opcodes[0]={type:2,children:[1,2]},this.rules[24].opcodes[1]={type:4,index:89},this.rules[24].opcodes[2]={type:6,string:[41]},this.rules[25].opcodes=[],this.rules[25].opcodes[0]={type:2,children:[1,2,3]},this.rules[25].opcodes[1]={type:4,index:27},this.rules[25].opcodes[2]={type:4,index:14},this.rules[25].opcodes[3]={type:1,children:[4,5]},this.rules[25].opcodes[4]={type:4,index:28},this.rules[25].opcodes[5]={type:4,index:26},this.rules[26].opcodes=[],this.rules[26].opcodes[0]={type:3,min:1,max:1/0},this.rules[26].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[26].opcodes[2]={type:5,min:33,max:40},this.rules[26].opcodes[3]={type:5,min:42,max:46},this.rules[26].opcodes[4]={type:5,min:48,max:92},this.rules[26].opcodes[5]={type:5,min:94,max:126},this.rules[27].opcodes=[],this.rules[27].opcodes[0]={type:2,children:[1,2]},this.rules[27].opcodes[1]={type:6,string:[91]},this.rules[27].opcodes[2]={type:4,index:89},this.rules[28].opcodes=[],this.rules[28].opcodes[0]={type:2,children:[1,2]},this.rules[28].opcodes[1]={type:4,index:89},this.rules[28].opcodes[2]={type:6,string:[93]},this.rules[29].opcodes=[],this.rules[29].opcodes[0]={type:4,index:88},this.rules[30].opcodes=[],this.rules[30].opcodes[0]={type:2,children:[1,2,4]},this.rules[30].opcodes[1]={type:6,string:[92]},this.rules[30].opcodes[2]={type:3,min:0,max:1},this.rules[30].opcodes[3]={type:4,index:31},this.rules[30].opcodes[4]={type:4,index:36},this.rules[31].opcodes=[],this.rules[31].opcodes[0]={type:1,children:[1,7,13,19]},this.rules[31].opcodes[1]={type:2,children:[2,3]},this.rules[31].opcodes[2]={type:4,index:32},this.rules[31].opcodes[3]={type:3,min:0,max:1},this.rules[31].opcodes[4]={type:1,children:[5,6]},this.rules[31].opcodes[5]={type:4,index:34},this.rules[31].opcodes[6]={type:4,index:35},this.rules[31].opcodes[7]={type:2,children:[8,9]},this.rules[31].opcodes[8]={type:4,index:33},this.rules[31].opcodes[9]={type:3,min:0,max:1},this.rules[31].opcodes[10]={type:1,children:[11,12]},this.rules[31].opcodes[11]={type:4,index:34},this.rules[31].opcodes[12]={type:4,index:35},this.rules[31].opcodes[13]={type:2,children:[14,15]},this.rules[31].opcodes[14]={type:4,index:34},this.rules[31].opcodes[15]={type:3,min:0,max:1},this.rules[31].opcodes[16]={type:1,children:[17,18]},this.rules[31].opcodes[17]={type:4,index:32},this.rules[31].opcodes[18]={type:4,index:33},this.rules[31].opcodes[19]={type:2,children:[20,21]},this.rules[31].opcodes[20]={type:4,index:35},this.rules[31].opcodes[21]={type:3,min:0,max:1},this.rules[31].opcodes[22]={type:1,children:[23,24]},this.rules[31].opcodes[23]={type:4,index:32},this.rules[31].opcodes[24]={type:4,index:33},this.rules[32].opcodes=[],this.rules[32].opcodes[0]={type:6,string:[37,115]},this.rules[33].opcodes=[],this.rules[33].opcodes[0]={type:6,string:[37,105]},this.rules[34].opcodes=[],this.rules[34].opcodes[0]={type:6,string:[37,117]},this.rules[35].opcodes=[],this.rules[35].opcodes[0]={type:6,string:[37,112]},this.rules[36].opcodes=[],this.rules[36].opcodes[0]={type:1,children:[1,2,3]},this.rules[36].opcodes[1]={type:4,index:38},this.rules[36].opcodes[2]={type:4,index:39},this.rules[36].opcodes[3]={type:4,index:37},this.rules[37].opcodes=[],this.rules[37].opcodes[0]={type:4,index:88},this.rules[38].opcodes=[],this.rules[38].opcodes[0]={type:2,children:[1,2]},this.rules[38].opcodes[1]={type:6,string:[117,95]},this.rules[38].opcodes[2]={type:4,index:88},this.rules[39].opcodes=[],this.rules[39].opcodes[0]={type:2,children:[1,2]},this.rules[39].opcodes[1]={type:6,string:[101,95]},this.rules[39].opcodes[2]={type:4,index:88},this.rules[40].opcodes=[],this.rules[40].opcodes[0]={type:1,children:[1,2]},this.rules[40].opcodes[1]={type:4,index:42},this.rules[40].opcodes[2]={type:4,index:41},this.rules[41].opcodes=[],this.rules[41].opcodes[0]={type:2,children:[1,2]},this.rules[41].opcodes[1]={type:6,string:[117,95]},this.rules[41].opcodes[2]={type:4,index:88},this.rules[42].opcodes=[],this.rules[42].opcodes[0]={type:2,children:[1,2]},this.rules[42].opcodes[1]={type:6,string:[101,95]},this.rules[42].opcodes[2]={type:4,index:88},this.rules[43].opcodes=[],this.rules[43].opcodes[0]={type:1,children:[1,5,8,11,12]},this.rules[43].opcodes[1]={type:2,children:[2,3,4]},this.rules[43].opcodes[2]={type:4,index:69},this.rules[43].opcodes[3]={type:4,index:46},this.rules[43].opcodes[4]={type:4,index:71},this.rules[43].opcodes[5]={type:2,children:[6,7]},this.rules[43].opcodes[6]={type:4,index:69},this.rules[43].opcodes[7]={type:4,index:46},this.rules[43].opcodes[8]={type:2,children:[9,10]},this.rules[43].opcodes[9]={type:4,index:46},this.rules[43].opcodes[10]={type:4,index:71},this.rules[43].opcodes[11]={type:4,index:46},this.rules[43].opcodes[12]={type:4,index:70},this.rules[44].opcodes=[],this.rules[44].opcodes[0]={type:2,children:[1,2]},this.rules[44].opcodes[1]={type:6,string:[47]},this.rules[44].opcodes[2]={type:4,index:89},this.rules[45].opcodes=[],this.rules[45].opcodes[0]={type:4,index:90},this.rules[46].opcodes=[],this.rules[46].opcodes[0]={type:6,string:[42]},this.rules[47].opcodes=[],this.rules[47].opcodes[0]={type:6,string:[38]},this.rules[48].opcodes=[],this.rules[48].opcodes[0]={type:6,string:[33]},this.rules[49].opcodes=[],this.rules[49].opcodes[0]={type:6,string:[38,38]},this.rules[50].opcodes=[],this.rules[50].opcodes[0]={type:6,string:[33,33]},this.rules[51].opcodes=[],this.rules[51].opcodes[0]={type:6,string:[37,94]},this.rules[52].opcodes=[],this.rules[52].opcodes[0]={type:6,string:[37,36]},this.rules[53].opcodes=[],this.rules[53].opcodes[0]={type:2,children:[1,2]},this.rules[53].opcodes[1]={type:6,string:[37]},this.rules[53].opcodes[2]={type:1,children:[3,8,13]},this.rules[53].opcodes[3]={type:2,children:[4,5,6,7]},this.rules[53].opcodes[4]={type:4,index:76},this.rules[53].opcodes[5]={type:4,index:79},this.rules[53].opcodes[6]={type:6,string:[45]},this.rules[53].opcodes[7]={type:4,index:80},this.rules[53].opcodes[8]={type:2,children:[9,10,11,12]},this.rules[53].opcodes[9]={type:4,index:77},this.rules[53].opcodes[10]={type:4,index:83},this.rules[53].opcodes[11]={type:6,string:[45]},this.rules[53].opcodes[12]={type:4,index:84},this.rules[53].opcodes[13]={type:2,children:[14,15,16,17]},this.rules[53].opcodes[14]={type:4,index:78},this.rules[53].opcodes[15]={type:4,index:81},this.rules[53].opcodes[16]={type:6,string:[45]},this.rules[53].opcodes[17]={type:4,index:82},this.rules[54].opcodes=[],this.rules[54].opcodes[0]={type:2,children:[1,2]},this.rules[54].opcodes[1]={type:6,string:[37]},this.rules[54].opcodes[2]={type:1,children:[3,10,17]},this.rules[54].opcodes[3]={type:2,children:[4,5,6]},this.rules[54].opcodes[4]={type:4,index:76},this.rules[54].opcodes[5]={type:4,index:73},this.rules[54].opcodes[6]={type:3,min:0,max:1/0},this.rules[54].opcodes[7]={type:2,children:[8,9]},this.rules[54].opcodes[8]={type:6,string:[46]},this.rules[54].opcodes[9]={type:4,index:73},this.rules[54].opcodes[10]={type:2,children:[11,12,13]},this.rules[54].opcodes[11]={type:4,index:77},this.rules[54].opcodes[12]={type:4,index:74},this.rules[54].opcodes[13]={type:3,min:0,max:1/0},this.rules[54].opcodes[14]={type:2,children:[15,16]},this.rules[54].opcodes[15]={type:6,string:[46]},this.rules[54].opcodes[16]={type:4,index:74},this.rules[54].opcodes[17]={type:2,children:[18,19,20]},this.rules[54].opcodes[18]={type:4,index:78},this.rules[54].opcodes[19]={type:4,index:75},this.rules[54].opcodes[20]={type:3,min:0,max:1/0},this.rules[54].opcodes[21]={type:2,children:[22,23]},this.rules[54].opcodes[22]={type:6,string:[46]},this.rules[54].opcodes[23]={type:4,index:75},this.rules[55].opcodes=[],this.rules[55].opcodes[0]={type:2,children:[1,2,3,4]},this.rules[55].opcodes[1]={type:4,index:56},this.rules[55].opcodes[2]={type:4,index:57},this.rules[55].opcodes[3]={type:4,index:59},this.rules[55].opcodes[4]={type:4,index:58},this.rules[56].opcodes=[],this.rules[56].opcodes[0]={type:3,min:0,max:1},this.rules[56].opcodes[1]={type:1,children:[2,3]},this.rules[56].opcodes[2]={type:7,string:[37,105]},this.rules[56].opcodes[3]={type:7,string:[37,115]},this.rules[57].opcodes=[],this.rules[57].opcodes[0]={type:6,string:[34]},this.rules[58].opcodes=[],this.rules[58].opcodes[0]={type:6,string:[34]},this.rules[59].opcodes=[],this.rules[59].opcodes[0]={type:3,min:0,max:1/0},this.rules[59].opcodes[1]={type:1,children:[2,3,4]},this.rules[59].opcodes[2]={type:5,min:32,max:33},this.rules[59].opcodes[3]={type:5,min:35,max:126},this.rules[59].opcodes[4]={type:4,index:60},this.rules[60].opcodes=[],this.rules[60].opcodes[0]={type:6,string:[9]},this.rules[61].opcodes=[],this.rules[61].opcodes[0]={type:2,children:[1,2,3]},this.rules[61].opcodes[1]={type:4,index:62},this.rules[61].opcodes[2]={type:4,index:64},this.rules[61].opcodes[3]={type:4,index:63},this.rules[62].opcodes=[],this.rules[62].opcodes[0]={type:6,string:[39]},this.rules[63].opcodes=[],this.rules[63].opcodes[0]={type:6,string:[39]},this.rules[64].opcodes=[],this.rules[64].opcodes[0]={type:3,min:0,max:1/0},this.rules[64].opcodes[1]={type:1,children:[2,3,4]},this.rules[64].opcodes[2]={type:5,min:32,max:38},this.rules[64].opcodes[3]={type:5,min:40,max:126},this.rules[64].opcodes[4]={type:4,index:60},this.rules[65].opcodes=[],this.rules[65].opcodes[0]={type:2,children:[1,2,3]},this.rules[65].opcodes[1]={type:4,index:66},this.rules[65].opcodes[2]={type:4,index:67},this.rules[65].opcodes[3]={type:4,index:68},this.rules[66].opcodes=[],this.rules[66].opcodes[0]={type:6,string:[60]},this.rules[67].opcodes=[],this.rules[67].opcodes[0]={type:3,min:0,max:1/0},this.rules[67].opcodes[1]={type:1,children:[2,3,4]},this.rules[67].opcodes[2]={type:5,min:32,max:61},this.rules[67].opcodes[3]={type:5,min:63,max:126},this.rules[67].opcodes[4]={type:4,index:60},this.rules[68].opcodes=[],this.rules[68].opcodes[0]={type:6,string:[62]},this.rules[69].opcodes=[],this.rules[69].opcodes[0]={type:4,index:72},this.rules[70].opcodes=[],this.rules[70].opcodes[0]={type:4,index:72},this.rules[71].opcodes=[],this.rules[71].opcodes[0]={type:4,index:72},this.rules[72].opcodes=[],this.rules[72].opcodes[0]={type:3,min:1,max:1/0},this.rules[72].opcodes[1]={type:5,min:48,max:57},this.rules[73].opcodes=[],this.rules[73].opcodes[0]={type:4,index:85},this.rules[74].opcodes=[],this.rules[74].opcodes[0]={type:4,index:87},this.rules[75].opcodes=[],this.rules[75].opcodes[0]={type:4,index:86},this.rules[76].opcodes=[],this.rules[76].opcodes[0]={type:1,children:[1,2]},this.rules[76].opcodes[1]={type:6,string:[68]},this.rules[76].opcodes[2]={type:6,string:[100]},this.rules[77].opcodes=[],this.rules[77].opcodes[0]={type:1,children:[1,2]},this.rules[77].opcodes[1]={type:6,string:[88]},this.rules[77].opcodes[2]={type:6,string:[120]},this.rules[78].opcodes=[],this.rules[78].opcodes[0]={type:1,children:[1,2]},this.rules[78].opcodes[1]={type:6,string:[66]},this.rules[78].opcodes[2]={type:6,string:[98]},this.rules[79].opcodes=[],this.rules[79].opcodes[0]={type:4,index:85},this.rules[80].opcodes=[],this.rules[80].opcodes[0]={type:4,index:85},this.rules[81].opcodes=[],this.rules[81].opcodes[0]={type:4,index:86},this.rules[82].opcodes=[],this.rules[82].opcodes[0]={type:4,index:86},this.rules[83].opcodes=[],this.rules[83].opcodes[0]={type:4,index:87},this.rules[84].opcodes=[],this.rules[84].opcodes[0]={type:4,index:87},this.rules[85].opcodes=[],this.rules[85].opcodes[0]={type:3,min:1,max:1/0},this.rules[85].opcodes[1]={type:5,min:48,max:57},this.rules[86].opcodes=[],this.rules[86].opcodes[0]={type:3,min:1,max:1/0},this.rules[86].opcodes[1]={type:5,min:48,max:49},this.rules[87].opcodes=[],this.rules[87].opcodes[0]={type:3,min:1,max:1/0},this.rules[87].opcodes[1]={type:1,children:[2,3,4]},this.rules[87].opcodes[2]={type:5,min:48,max:57},this.rules[87].opcodes[3]={type:5,min:65,max:70},this.rules[87].opcodes[4]={type:5,min:97,max:102},this.rules[88].opcodes=[],this.rules[88].opcodes[0]={type:2,children:[1,4]},this.rules[88].opcodes[1]={type:1,children:[2,3]},this.rules[88].opcodes[2]={type:5,min:97,max:122},this.rules[88].opcodes[3]={type:5,min:65,max:90},this.rules[88].opcodes[4]={type:3,min:0,max:1/0},this.rules[88].opcodes[5]={type:1,children:[6,7,8,9]},this.rules[88].opcodes[6]={type:5,min:97,max:122},this.rules[88].opcodes[7]={type:5,min:65,max:90},this.rules[88].opcodes[8]={type:5,min:48,max:57},this.rules[88].opcodes[9]={type:6,string:[45]},this.rules[89].opcodes=[],this.rules[89].opcodes[0]={type:3,min:0,max:1/0},this.rules[89].opcodes[1]={type:4,index:91},this.rules[90].opcodes=[],this.rules[90].opcodes[0]={type:3,min:1,max:1/0},this.rules[90].opcodes[1]={type:4,index:91},this.rules[91].opcodes=[],this.rules[91].opcodes[0]={type:1,children:[1,2,3,4]},this.rules[91].opcodes[1]={type:6,string:[32]},this.rules[91].opcodes[2]={type:6,string:[9]},this.rules[91].opcodes[3]={type:4,index:92},this.rules[91].opcodes[4]={type:4,index:94},this.rules[92].opcodes=[],this.rules[92].opcodes[0]={type:2,children:[1,2]},this.rules[92].opcodes[1]={type:6,string:[59]},this.rules[92].opcodes[2]={type:3,min:0,max:1/0},this.rules[92].opcodes[3]={type:1,children:[4,5]},this.rules[92].opcodes[4]={type:5,min:32,max:126},this.rules[92].opcodes[5]={type:6,string:[9]},this.rules[93].opcodes=[],this.rules[93].opcodes[0]={type:1,children:[1,2,3]},this.rules[93].opcodes[1]={type:6,string:[13,10]},this.rules[93].opcodes[2]={type:6,string:[10]},this.rules[93].opcodes[3]={type:6,string:[13]},this.rules[94].opcodes=[],this.rules[94].opcodes[0]={type:2,children:[1,5]},this.rules[94].opcodes[1]={type:1,children:[2,3,4]},this.rules[94].opcodes[2]={type:6,string:[13,10]},this.rules[94].opcodes[3]={type:6,string:[10]},this.rules[94].opcodes[4]={type:6,string:[13]},this.rules[94].opcodes[5]={type:1,children:[6,7]},this.rules[94].opcodes[6]={type:6,string:[32]},this.rules[94].opcodes[7]={type:6,string:[9]},this.toString=function(){let t="";return t+=`;
`,t+=`; ABNF for JavaScript APG 2.0 SABNF
`,t+=`; RFC 5234 with some restrictions and additions.
`,t+=`; Updated 11/24/2015 for RFC 7405 case-sensitive literal string notation
`,t+=`;  - accepts %s"string" as a case-sensitive string
`,t+=`;  - accepts %i"string" as a case-insensitive string
`,t+=`;  - accepts "string" as a case-insensitive string
`,t+=`;
`,t+=`; Some restrictions:
`,t+=`;   1. Rules must begin at first character of each line.
`,t+=`;      Indentations on first rule and rules thereafter are not allowed.
`,t+=`;   2. Relaxed line endings. CRLF, LF or CR are accepted as valid line ending.
`,t+=`;   3. Prose values, i.e. <prose value>, are accepted as valid grammar syntax.
`,t+=`;      However, a working parser cannot be generated from them.
`,t+=`;
`,t+=`; Super set (SABNF) additions:
`,t+=`;   1. Look-ahead (syntactic predicate) operators are accepted as element prefixes.
`,t+=`;      & is the positive look-ahead operator, succeeds and backtracks if the look-ahead phrase is found
`,t+=`;      ! is the negative look-ahead operator, succeeds and backtracks if the look-ahead phrase is NOT found
`,t+=`;      e.g. &%d13 or &rule or !(A / B)
`,t+=`;   2. User-Defined Terminals (UDT) of the form, u_name and e_name are accepted.
`,t+=`;      'name' is alpha followed by alpha/num/hyphen just like a rule name.
`,t+=`;      u_name may be used as an element but no rule definition is given.
`,t+=`;      e.g. rule = A / u_myUdt
`,t+=`;           A = "a"
`,t+=`;      would be a valid grammar.
`,t+=`;   3. Case-sensitive, single-quoted strings are accepted.
`,t+=`;      e.g. 'abc' would be equivalent to %d97.98.99
`,t+=`;      (kept for backward compatibility, but superseded by %s"abc")  
`,t+=`; New 12/26/2015
`,t+=`;   4. Look-behind operators are accepted as element prefixes.
`,t+=`;      && is the positive look-behind operator, succeeds and backtracks if the look-behind phrase is found
`,t+=`;      !! is the negative look-behind operator, succeeds and backtracks if the look-behind phrase is NOT found
`,t+=`;      e.g. &&%d13 or &&rule or !!(A / B)
`,t+=`;   5. Back reference operators, i.e. \\rulename, are accepted.
`,t+=`;      A back reference operator acts like a TLS or TBS terminal except that the phrase it attempts
`,t+=`;      to match is a phrase previously matched by the rule 'rulename'.
`,t+=`;      There are two modes of previous phrase matching - the parent-frame mode and the universal mode.
`,t+=`;      In universal mode, \\rulename matches the last match to 'rulename' regardless of where it was found.
`,t+=`;      In parent-frame mode, \\rulename matches only the last match found on the parent's frame or parse tree level.
`,t+=`;      Back reference modifiers can be used to specify case and mode.
`,t+=`;      \\A defaults to case-insensitive and universal mode, e.g. \\A === \\%i%uA
`,t+=`;      Modifiers %i and %s determine case-insensitive and case-sensitive mode, respectively.
`,t+=`;      Modifiers %u and %p determine universal mode and parent frame mode, respectively.
`,t+=`;      Case and mode modifiers can appear in any order, e.g. \\%s%pA === \\%p%sA. 
`,t+=`;   7. String begin anchor, ABG(%^) matches the beginning of the input string location.
`,t+=`;      Returns EMPTY or NOMATCH. Never consumes any characters.
`,t+=`;   8. String end anchor, AEN(%$) matches the end of the input string location.
`,t+=`;      Returns EMPTY or NOMATCH. Never consumes any characters.
`,t+=`;
`,t+=`File            = *(BlankLine / Rule / RuleError)
`,t+=`BlankLine       = *(%d32/%d9) [comment] LineEnd
`,t+=`Rule            = RuleLookup owsp Alternation ((owsp LineEnd)
`,t+=`                / (LineEndError LineEnd))
`,t+=`RuleLookup      = RuleNameTest owsp DefinedAsTest
`,t+=`RuleNameTest    = RuleName/RuleNameError
`,t+=`RuleName        = alphanum
`,t+=`RuleNameError   = 1*(%d33-60/%d62-126)
`,t+=`DefinedAsTest   = DefinedAs / DefinedAsError
`,t+=`DefinedAsError  = 1*2%d33-126
`,t+=`DefinedAs       = IncAlt / Defined
`,t+=`Defined         = %d61
`,t+=`IncAlt          = %d61.47
`,t+=`RuleError       = 1*(%d32-126 / %d9  / LineContinue) LineEnd
`,t+=`LineEndError    = 1*(%d32-126 / %d9  / LineContinue)
`,t+=`Alternation     = Concatenation *(owsp AltOp Concatenation)
`,t+=`Concatenation   = Repetition *(CatOp Repetition)
`,t+=`Repetition      = [Modifier] (Group / Option / BasicElement / BasicElementErr)
`,t+=`Modifier        = (Predicate [RepOp])
`,t+=`                / RepOp
`,t+=`Predicate       = BkaOp
`,t+=`                / BknOp
`,t+=`                / AndOp
`,t+=`                / NotOp
`,t+=`BasicElement    = UdtOp
`,t+=`                / RnmOp
`,t+=`                / TrgOp
`,t+=`                / TbsOp
`,t+=`                / TlsOp
`,t+=`                / ClsOp
`,t+=`                / BkrOp
`,t+=`                / AbgOp
`,t+=`                / AenOp
`,t+=`                / ProsVal
`,t+=`BasicElementErr = 1*(%d33-40/%d42-46/%d48-92/%d94-126)
`,t+=`Group           = GroupOpen  Alternation (GroupClose / GroupError)
`,t+=`GroupError      = 1*(%d33-40/%d42-46/%d48-92/%d94-126) ; same as BasicElementErr
`,t+=`GroupOpen       = %d40 owsp
`,t+=`GroupClose      = owsp %d41
`,t+=`Option          = OptionOpen Alternation (OptionClose / OptionError)
`,t+=`OptionError     = 1*(%d33-40/%d42-46/%d48-92/%d94-126) ; same as BasicElementErr
`,t+=`OptionOpen      = %d91 owsp
`,t+=`OptionClose     = owsp %d93
`,t+=`RnmOp           = alphanum
`,t+=`BkrOp           = %d92 [bkrModifier] bkr-name
`,t+=`bkrModifier     = (cs [um / pm]) / (ci [um / pm]) / (um [cs /ci]) / (pm [cs / ci])
`,t+=`cs              = '%s'
`,t+=`ci              = '%i'
`,t+=`um              = '%u'
`,t+=`pm              = '%p'
`,t+=`bkr-name        = uname / ename / rname
`,t+=`rname           = alphanum
`,t+=`uname           = %d117.95 alphanum
`,t+=`ename           = %d101.95 alphanum
`,t+=`UdtOp           = udt-empty
`,t+=`                / udt-non-empty
`,t+=`udt-non-empty   = %d117.95 alphanum
`,t+=`udt-empty       = %d101.95 alphanum
`,t+=`RepOp           = (rep-min StarOp rep-max)
`,t+=`                / (rep-min StarOp)
`,t+=`                / (StarOp rep-max)
`,t+=`                / StarOp
`,t+=`                / rep-min-max
`,t+=`AltOp           = %d47 owsp
`,t+=`CatOp           = wsp
`,t+=`StarOp          = %d42
`,t+=`AndOp           = %d38
`,t+=`NotOp           = %d33
`,t+=`BkaOp           = %d38.38
`,t+=`BknOp           = %d33.33
`,t+=`AbgOp           = %d37.94
`,t+=`AenOp           = %d37.36
`,t+=`TrgOp           = %d37 ((Dec dmin %d45 dmax) / (Hex xmin %d45 xmax) / (Bin bmin %d45 bmax))
`,t+=`TbsOp           = %d37 ((Dec dString *(%d46 dString)) / (Hex xString *(%d46 xString)) / (Bin bString *(%d46 bString)))
`,t+=`TlsOp           = TlsCase TlsOpen TlsString TlsClose
`,t+=`TlsCase         = ["%i" / "%s"]
`,t+=`TlsOpen         = %d34
`,t+=`TlsClose        = %d34
`,t+=`TlsString       = *(%d32-33/%d35-126/StringTab)
`,t+=`StringTab       = %d9
`,t+=`ClsOp           = ClsOpen ClsString ClsClose
`,t+=`ClsOpen         = %d39
`,t+=`ClsClose        = %d39
`,t+=`ClsString       = *(%d32-38/%d40-126/StringTab)
`,t+=`ProsVal         = ProsValOpen ProsValString ProsValClose
`,t+=`ProsValOpen     = %d60
`,t+=`ProsValString   = *(%d32-61/%d63-126/StringTab)
`,t+=`ProsValClose    = %d62
`,t+=`rep-min         = rep-num
`,t+=`rep-min-max     = rep-num
`,t+=`rep-max         = rep-num
`,t+=`rep-num         = 1*(%d48-57)
`,t+=`dString         = dnum
`,t+=`xString         = xnum
`,t+=`bString         = bnum
`,t+=`Dec             = (%d68/%d100)
`,t+=`Hex             = (%d88/%d120)
`,t+=`Bin             = (%d66/%d98)
`,t+=`dmin            = dnum
`,t+=`dmax            = dnum
`,t+=`bmin            = bnum
`,t+=`bmax            = bnum
`,t+=`xmin            = xnum
`,t+=`xmax            = xnum
`,t+=`dnum            = 1*(%d48-57)
`,t+=`bnum            = 1*%d48-49
`,t+=`xnum            = 1*(%d48-57 / %d65-70 / %d97-102)
`,t+=`;
`,t+=`; Basics
`,t+=`alphanum        = (%d97-122/%d65-90) *(%d97-122/%d65-90/%d48-57/%d45)
`,t+=`owsp            = *space
`,t+=`wsp             = 1*space
`,t+=`space           = %d32
`,t+=`                / %d9
`,t+=`                / comment
`,t+=`                / LineContinue
`,t+=`comment         = %d59 *(%d32-126 / %d9)
`,t+=`LineEnd         = %d13.10
`,t+=`                / %d10
`,t+=`                / %d13
`,t+=`LineContinue    = (%d13.10 / %d10 / %d13) (%d32 / %d9)
`,t}}),Da}var Ua,Wu;function q2(){return Wu||(Wu=1,Ua=function(){const e="parser: ",t=Si,n=t.ids,i=new(K2()),s=new(G2()),o=new(z2()),a=new t.parser;a.ast=new t.ast,a.callbacks=i.callbacks,a.ast.callbacks=s.callbacks;const c=function(h,g,b){if(g<0||g>=b)return-1;for(let y=0;y<h.length;y+=1)if(g>=h[y].beginChar&&g<h[y].beginChar+h[y].length)return y;return-1},l=function(h,g){let b=-1;if(g<h.length){for(let y=g;y<h.length;y+=1)if(h[y]!==null){b=h[y];break}}return b},u=function(h){h.forEach(g=>{const b=[],y=[];let T=0;g.opcodes.forEach(w=>{w.type===n.ALT&&w.children.length===1||w.type===n.CAT&&w.children.length===1||w.type===n.REP&&w.min===1&&w.max===1?y.push(null):(y.push(T),b.push(w),T+=1)}),y.push(T),b.forEach(w=>{if(w.type===n.ALT||w.type===n.CAT)for(let _=0;_<w.children.length;_+=1)w.children[_]=l(y,w.children[_])}),g.opcodes=b})};this.syntax=function(h,g,b,y,T,w){if(w){if(w.traceObject!=="traceObject")throw new TypeError(`${e}trace argument is not a trace object`);a.trace=w}const _={};_.errors=b,_.strict=!!y,_.lite=!!T,_.lines=g,_.findLine=c,_.charsLength=h.length,_.ruleCount=0,a.parse(o,"file",h,_).success||b.push({line:0,char:0,msg:"syntax analysis of input grammar failed"})},this.semantic=function(h,g,b){const y={};return y.errors=b,y.lines=g,y.findLine=c,y.charsLength=h.length,a.ast.translate(y),b.length?null:(u(y.rules),{rules:y.rules,udts:y.udts,lineMap:y.rulesLineMap})},this.generateSource=function(h,g,b,y,T){let w="",_=!1,P=!1;T&&(T.typescript?(_=!0,P=!1):T.lite&&(_=!1,P=!0));let D,I,B,V=0,z=1/0,he=0;const X=[],Q=[];let Z=0,N=0,p=0,v=0,C=0,R=0,L=0,G=0,j=0,k=0,m=0,S=0,q=0,E=0,J=0;b.forEach(F=>{X.push(F.lower),V+=F.opcodes.length,F.opcodes.forEach(U=>{switch(U.type){case n.ALT:Z+=1;break;case n.CAT:N+=1;break;case n.RNM:p+=1;break;case n.UDT:v+=1;break;case n.REP:C+=1;break;case n.AND:R+=1;break;case n.NOT:L+=1;break;case n.BKA:S+=1;break;case n.BKN:q+=1;break;case n.BKR:m+=1;break;case n.ABG:E+=1;break;case n.AEN:J+=1;break;case n.TLS:for(G+=1,D=0;D<U.string.length;D+=1)U.string[D]<z&&(z=U.string[D]),U.string[D]>he&&(he=U.string[D]);break;case n.TBS:for(j+=1,D=0;D<U.string.length;D+=1)U.string[D]<z&&(z=U.string[D]),U.string[D]>he&&(he=U.string[D]);break;case n.TRG:k+=1,U.min<z&&(z=U.min),U.max>he&&(he=U.max);break;default:throw new Error("generateSource: unrecognized opcode")}})}),X.sort(),y.length>0&&(y.forEach(F=>{Q.push(F.lower)}),Q.sort()),w+=`// copyright: Copyright (c) 2024 Lowell D. Thomas, all rights reserved<br>
`,w+=`//   license: BSD-2-Clause (https://opensource.org/licenses/BSD-2-Clause)<br>
`,w+=`//
`,w+=`// Generated by apg-js, Version 4.4.0 [apg-js](https://github.com/ldthomas/apg-js)
`,T?T.funcName?w+=`const ${T.funcName} = function grammar(){
`:_?w+=`export function grammar(){
`:P?w+=`export default function grammar(){
`:w+=`module.exports = function grammar(){
`:w+=`module.exports = function grammar(){
`,w+="  // ```\n",w+=`  // SUMMARY
`,w+=`  //      rules = ${b.length}
`,w+=`  //       udts = ${y.length}
`,w+=`  //    opcodes = ${V}
`,w+=`  //        ---   ABNF original opcodes
`,w+=`  //        ALT = ${Z}
`,w+=`  //        CAT = ${N}
`,w+=`  //        REP = ${C}
`,w+=`  //        RNM = ${p}
`,w+=`  //        TLS = ${G}
`,w+=`  //        TBS = ${j}
`,w+=`  //        TRG = ${k}
`,w+=`  //        ---   SABNF superset opcodes
`,w+=`  //        UDT = ${v}
`,w+=`  //        AND = ${R}
`,w+=`  //        NOT = ${L}
`,P||(w+=`  //        BKA = ${S}
`,w+=`  //        BKN = ${q}
`,w+=`  //        BKR = ${m}
`,w+=`  //        ABG = ${E}
`,w+=`  //        AEN = ${J}
`),w+="  // characters = [",G+j+k===0?w+=" none defined ]":w+=`${z} - ${he}]`,v>0&&(w+=" + user defined"),w+=`
`,w+="  // ```\n",w+=`  /* OBJECT IDENTIFIER (for internal parser use) */
`,w+=`  this.grammarObject = 'grammarObject';
`,w+=`
`,w+=`  /* RULES */
`,w+=`  this.rules = [];
`,b.forEach((F,U)=>{let H="  this.rules[";H+=U,H+="] = { name: '",H+=F.name,H+="', lower: '",H+=F.lower,H+="', index: ",H+=F.index,H+=", isBkr: ",H+=F.isBkr,H+=` };
`,w+=H}),w+=`
`,w+=`  /* UDTS */
`,w+=`  this.udts = [];
`,y.length>0&&y.forEach((F,U)=>{let H="  this.udts[";H+=U,H+="] = { name: '",H+=F.name,H+="', lower: '",H+=F.lower,H+="', index: ",H+=F.index,H+=", empty: ",H+=F.empty,H+=", isBkr: ",H+=F.isBkr,H+=` };
`,w+=H}),w+=`
`,w+=`  /* OPCODES */
`,b.forEach((F,U)=>{U>0&&(w+=`
`),w+=`  /* ${F.name} */
`,w+=`  this.rules[${U}].opcodes = [];
`,F.opcodes.forEach((H,ee)=>{let ae;switch(H.type){case n.ALT:w+=`  this.rules[${U}].opcodes[${ee}] = { type: ${H.type}, children: [${H.children.toString()}] };// ALT
`;break;case n.CAT:w+=`  this.rules[${U}].opcodes[${ee}] = { type: ${H.type}, children: [${H.children.toString()}] };// CAT
`;break;case n.RNM:w+=`  this.rules[${U}].opcodes[${ee}] = { type: ${H.type}, index: ${H.index} };// RNM(${b[H.index].name})
`;break;case n.BKR:H.index>=b.length?(I=y[H.index-b.length].name,B=y[H.index-b.length].lower):(I=b[H.index].name,B=b[H.index].lower),ae="%i",H.bkrCase===n.BKR_MODE_CS&&(ae="%s"),H.bkrMode===n.BKR_MODE_UM?ae+="%u":ae+="%p",I=ae+I,w+=`  this.rules[${U}].opcodes[${ee}] = { type: ${H.type}, index: ${H.index}, lower: '${B}', bkrCase: ${H.bkrCase}, bkrMode: ${H.bkrMode} };// BKR(\\${I})
`;break;case n.UDT:w+=`  this.rules[${U}].opcodes[${ee}] = { type: ${H.type}, empty: ${H.empty}, index: ${H.index} };// UDT(${y[H.index].name})
`;break;case n.REP:w+=`  this.rules[${U}].opcodes[${ee}] = { type: ${H.type}, min: ${H.min}, max: ${H.max} };// REP
`;break;case n.AND:w+=`  this.rules[${U}].opcodes[${ee}] = { type: ${H.type} };// AND
`;break;case n.NOT:w+=`  this.rules[${U}].opcodes[${ee}] = { type: ${H.type} };// NOT
`;break;case n.ABG:w+=`  this.rules[${U}].opcodes[${ee}] = { type: ${H.type} };// ABG(%^)
`;break;case n.AEN:w+=`  this.rules[${U}].opcodes[${ee}] = { type: ${H.type} };// AEN(%$)
`;break;case n.BKA:w+=`  this.rules[${U}].opcodes[${ee}] = { type: ${H.type} };// BKA
`;break;case n.BKN:w+=`  this.rules[${U}].opcodes[${ee}] = { type: ${H.type} };// BKN
`;break;case n.TLS:w+=`  this.rules[${U}].opcodes[${ee}] = { type: ${H.type}, string: [${H.string.toString()}] };// TLS
`;break;case n.TBS:w+=`  this.rules[${U}].opcodes[${ee}] = { type: ${H.type}, string: [${H.string.toString()}] };// TBS
`;break;case n.TRG:w+=`  this.rules[${U}].opcodes[${ee}] = { type: ${H.type}, min: ${H.min}, max: ${H.max} };// TRG
`;break;default:throw new Error("parser.js: ~143: unrecognized opcode")}})}),w+=`
`,w+="  // The `toString()` function will display the original grammar file(s) that produced these opcodes.\n",w+=`  this.toString = function toString(){
`,w+=`    let str = "";
`;let oe;return g.forEach(F=>{const U=F.beginChar+F.length;oe="",w+='    str += "';for(let H=F.beginChar;H<U;H+=1){switch(h[H]){case 9:oe=" ";break;case 10:oe="\\n";break;case 13:oe="\\r";break;case 34:oe='\\"';break;case 92:oe="\\\\";break;default:oe=String.fromCharCode(h[H]);break}w+=oe}w+=`";
`}),w+=`    return str;
`,w+=`  }
`,w+=`}
`,w},this.generateObject=function(h,g,b){const y={},T=[],w=[],_=h.slice(0);return y.grammarObject="grammarObject",g.forEach(P=>{T.push(P.lower)}),T.sort(),b.length>0&&(b.forEach(P=>{w.push(P.lower)}),w.sort()),y.callbacks=[],T.forEach(P=>{y.callbacks[P]=!1}),b.length>0&&w.forEach(P=>{y.callbacks[P]=!1}),y.rules=g,y.udts=b,y.toString=function(){return _},y}}),Ua}var $a,Yu;function W2(){return Yu||(Yu=1,$a=function(){const e=Rr,t="rule-attributes.js";let n=null;function i(X){return X.left||X.nested||X.right||X.cyclic?!1:X.empty}function s(X){return!!(X.left||X.nested||X.right||X.cyclic)}function o(X,Q){let Z=0,N=0,p=0;for(Z=0;Z<Q;Z+=1)if(X[Z].nested)return!0;for(Z=0;Z<Q;Z+=1)if(X[Z].right&&!X[Z].leaf){for(N=Z+1;N<Q;N+=1)if(!i(X[N]))return!0}for(Z=Q-1;Z>=0;Z-=1)if(X[Z].left&&!X[Z].leaf){for(N=Z-1;N>=0;N-=1)if(!i(X[N]))return!0}for(Z=0;Z<Q;Z+=1)if(!X[Z].empty&&!s(X[Z])){for(N=Z+1;N<Q;N+=1)if(s(X[N])){for(p=N+1;p<Q;p+=1)if(!X[p].empty&&!s(X[p]))return!0}}return!1}function a(X,Q){for(let Z=0;Z<Q;Z+=1)if(!X[Z].cyclic)return!1;return!0}function c(X,Q){for(let Z=0;Z<Q;Z+=1){if(X[Z].left)return!0;if(!X[Z].empty)return!1}return!1}function l(X,Q){for(let Z=Q-1;Z>=0;Z-=1){if(X[Z].right)return!0;if(!X[Z].empty)return!1}return!1}function u(X,Q){for(let Z=0;Z<Q;Z+=1)if(!X[Z].empty)return!1;return!0}function d(X,Q){for(let Z=0;Z<Q;Z+=1)if(!X[Z].finite)return!1;return!0}function h(X,Q,Z,N){let p=0;const v=Q[Z],C=v.children.length,R=[];for(p=0;p<C;p+=1)R.push(X.attrGen());for(p=0;p<C;p+=1)y(X,Q,v.children[p],R[p]);N.left=c(R,C),N.right=l(R,C),N.nested=o(R,C),N.empty=u(R,C),N.finite=d(R,C),N.cyclic=a(R,C)}function g(X,Q,Z,N){let p=0;const v=Q[Z],C=v.children.length,R=[];for(p=0;p<C;p+=1)R.push(X.attrGen());for(p=0;p<C;p+=1)y(X,Q,v.children[p],R[p]);for(N.left=!1,N.right=!1,N.nested=!1,N.empty=!1,N.finite=!1,N.cyclic=!1,p=0;p<C;p+=1)R[p].left&&(N.left=!0),R[p].nested&&(N.nested=!0),R[p].right&&(N.right=!0),R[p].empty&&(N.empty=!0),R[p].finite&&(N.finite=!0),R[p].cyclic&&(N.cyclic=!0)}function b(X,Q,Z,N){const p=Q[Z];p.index>=X.ruleCount?(N.empty=X.udts[p.index-X.ruleCount].empty,N.finite=!0):(T(X,p.index,N),N.left=!1,N.nested=!1,N.right=!1,N.cyclic=!1)}function y(X,Q,Z,N){X.attrInit(N);const p=Q[Z];switch(p.type){case e.ALT:g(X,Q,Z,N);break;case e.CAT:h(X,Q,Z,N);break;case e.REP:y(X,Q,Z+1,N),p.min===0&&(N.empty=!0,N.finite=!0);break;case e.RNM:T(X,Q[Z].index,N);break;case e.BKR:b(X,Q,Z,N);break;case e.AND:case e.NOT:case e.BKA:case e.BKN:y(X,Q,Z+1,N),N.empty=!0;break;case e.TLS:N.empty=!Q[Z].string.length,N.finite=!0,N.cyclic=!1;break;case e.TBS:case e.TRG:N.empty=!1,N.finite=!0,N.cyclic=!1;break;case e.UDT:N.empty=p.empty,N.finite=!0,N.cyclic=!1;break;case e.ABG:case e.AEN:N.empty=!0,N.finite=!0,N.cyclic=!1;break;default:throw new Error(`unknown opcode type: ${p}`)}}function T(X,Q,Z){const N=X.attrsWorking[Q];N.isComplete?X.attrCopy(Z,N):N.isOpen?Q===X.startRule?Q===X.startRule&&(Z.left=!0,Z.right=!0,Z.cyclic=!0,Z.leaf=!0):Z.finite=!0:(N.isOpen=!0,y(X,N.rule.opcodes,0,Z),N.left=Z.left,N.right=Z.right,N.nested=Z.nested,N.empty=Z.empty,N.finite=Z.finite,N.cyclic=Z.cyclic,N.leaf=!1,N.isOpen=!1,N.isComplete=!0)}const w=X=>{n=X;let Q=0,Z=0;const N=n.attrGen();for(Q=0;Q<n.ruleCount;Q+=1){for(Z=0;Z<n.ruleCount;Z+=1)n.attrInit(n.attrsWorking[Z]);n.startRule=Q,T(n,Q,N),n.attrCopy(n.attrs[Q],n.attrsWorking[Q])}n.attributesComplete=!0;let p=null;for(Q=0;Q<n.ruleCount;Q+=1)if(p=n.attrs[Q],p.left||!p.finite||p.cyclic){const v=n.attrGen(p.rule);n.attrCopy(v,p),n.attrsErrors.push(v),n.attrsErrorCount+=1}},_=X=>X?"t":"f",P=X=>X?"e":"f",D=X=>X?"t":"e",I=(X,Q,Z,N)=>{let p=`${X}:${Q}:`;return p+=`${P(Z.left)} `,p+=`${_(Z.nested)} `,p+=`${_(Z.right)} `,p+=`${P(Z.cyclic)} `,p+=`${D(Z.finite)} `,p+=`${_(Z.empty)}:`,p+=`${n.typeToString(N.recursiveType)}:`,p+=N.recursiveType===e.ATTR_MR?N.groupNumber:"-",p+=`:${Z.rule.name}
`,p},B=()=>{let X=`LEGEND - t=true, f=false, e=error
`;return X+=`sequence:rule index:left nested right cyclic finite empty:type:group number:rule name
`,X},V=()=>{let X=null,Q=null,Z="";if(Z+=`RULE ATTRIBUTES WITH ERRORS
`,Z+=B(),n.attrsErrorCount)for(let N=0;N<n.attrsErrorCount;N+=1)X=n.attrsErrors[N],Q=n.ruleDeps[X.rule.index],Z+=I(N,X.rule.index,X,Q);else Z+=`<none>
`;return Z},z=X=>{let Q=0,Z=0,N=null,p=null,v="",{ruleIndexes:C}=n;for(X===97?C=n.ruleAlphaIndexes:X===116&&(C=n.ruleTypeIndexes),Q=0;Q<n.ruleCount;Q+=1)Z=C[Q],N=n.attrs[Z],p=n.ruleDeps[Z],v+=I(Q,Z,N,p);return v};return{ruleAttributes:w,showAttributes:(X="index")=>{if(!n.attributesComplete)throw new Error(`${t}:showAttributes: attributes not available`);let Q="";const Z=`RULE ATTRIBUTES
`;return X.charCodeAt(0)===97?(Q+=`alphabetical by rule name
`,Q+=Z,Q+=B(),Q+=z(97)):X.charCodeAt(0)===116?(Q+=`ordered by rule type
`,Q+=Z,Q+=B(),Q+=z(116)):(Q+=`ordered by rule index
`,Q+=Z,Q+=B(),Q+=z()),Q},showAttributeErrors:V}}()),$a}var ja,Ju;function Y2(){return Ju||(Ju=1,ja=(()=>{const r=Rr;let e=null;const t=(o,a,c,l)=>{let u=0,d=0;const h=a[c];l[c]=!0;const g=h.rule.opcodes;for(u=0;u<g.length;u+=1){const b=g[u];if(b.type===r.RNM)for(h.refersTo[b.index]=!0,l[b.index]||t(o,a,b.index,l),d=0;d<o;d+=1)a[b.index].refersTo[d]&&(h.refersTo[d]=!0);else b.type===r.UDT?h.refersToUdt[b.index]=!0:b.type===r.BKR&&(b.index<o?(h.refersTo[b.index]=!0,l[b.index]||t(o,a,b.index,l)):h.refersToUdt[o-b.index]=!0)}},n=o=>{e=o;let a=0,c=0,l=0,u=null,d=null,h=!1;e.dependenciesComplete=!1;const g=e.falseArray(e.ruleCount);for(a=0;a<e.ruleCount;a+=1)e.falsifyArray(g),t(e.ruleCount,e.ruleDeps,a,g);for(a=0;a<e.ruleCount;a+=1)for(c=0;c<e.ruleCount;c+=1)a!==c&&e.ruleDeps[c].refersTo[a]&&(e.ruleDeps[a].referencedBy[c]=!0);for(a=0;a<e.ruleCount;a+=1)e.ruleDeps[a].recursiveType=r.ATTR_N,e.ruleDeps[a].refersTo[a]&&(e.ruleDeps[a].recursiveType=r.ATTR_R);for(l=-1,a=0;a<e.ruleCount;a+=1)if(u=e.ruleDeps[a],u.recursiveType===r.ATTR_R)for(h=!0,c=0;c<e.ruleCount;c+=1)a!==c&&(d=e.ruleDeps[c],d.recursiveType===r.ATTR_R&&u.refersTo[c]&&d.refersTo[a]&&(h&&(l+=1,u.recursiveType=r.ATTR_MR,u.groupNumber=l,h=!1),d.recursiveType=r.ATTR_MR,d.groupNumber=l));e.isMutuallyRecursive=l>-1,e.ruleAlphaIndexes.sort(e.compRulesAlpha),e.ruleTypeIndexes.sort(e.compRulesAlpha),e.ruleTypeIndexes.sort(e.compRulesType),e.isMutuallyRecursive&&e.ruleTypeIndexes.sort(e.compRulesGroup),e.udtCount&&e.udtAlphaIndexes.sort(e.compUdtsAlpha),e.dependenciesComplete=!0},i=(o=null)=>{let a=0,c=0,l=0,u=0;const d=e.ruleCount-1,h=e.udtCount-1,g=100;let b="",y="";const T="=> ",w="<= ";let _=!1,P=null,{ruleIndexes:D}=e,{udtIndexes:I}=e;for(o===97?(D=e.ruleAlphaIndexes,I=e.udtAlphaIndexes):o===116&&(D=e.ruleTypeIndexes,I=e.udtAlphaIndexes),a=0;a<e.ruleCount;a+=1){for(P=e.ruleDeps[D[a]],y=`${D[a]}:${e.typeToString(P.recursiveType)}:`,e.isMutuallyRecursive&&(y+=P.groupNumber>-1?P.groupNumber:"-",y+=":"),y+=" ",b+=`${y+e.rules[D[a]].name}
`,_=!0,l=0,u=b.length,b+=y,c=0;c<e.ruleCount;c+=1)P.refersTo[D[c]]&&(_?(b+=T,_=!1,b+=e.ruleDeps[D[c]].rule.name):b+=`, ${e.ruleDeps[D[c]].rule.name}`,l+=1),b.length-u>g&&c!==d&&(b+=`
${y}${T}`,u=b.length);if(e.udtCount)for(c=0;c<e.udtCount;c+=1)P.refersToUdt[I[c]]&&(_?(b+=T,_=!1,b+=e.udts[I[c]].name):b+=`, ${e.udts[I[c]].name}`,l+=1),b.length-u>g&&c!==h&&(b+=`
${y}${T}`,u=b.length);for(l===0&&(b+=`=> <none>
`),_===!1&&(b+=`
`),_=!0,l=0,u=b.length,b+=y,c=0;c<e.ruleCount;c+=1)P.referencedBy[D[c]]&&(_?(b+=w,_=!1,b+=e.ruleDeps[D[c]].rule.name):b+=`, ${e.ruleDeps[D[c]].rule.name}`,l+=1),b.length-u>g&&c!==d&&(b+=`
${y}${T}`,u=b.length);l===0&&(b+=`<= <none>
`),_===!1&&(b+=`
`),b+=`
`}return b};return{ruleDependencies:n,showRuleDependencies:(o="index")=>{let a=`RULE DEPENDENCIES(index:type:[group number:])
`;return a+=`=> refers to rule names
`,a+=`<= referenced by rule names
`,e.dependenciesComplete&&(o.charCodeAt(0)===97?(a+=`alphabetical by rule name
`,a+=i(97)):o.charCodeAt(0)===116?(a+=`ordered by rule type
`,a+=i(116)):(a+=`ordered by rule index
`,a+=i(null))),a}}})()),ja}var Va,Xu;function J2(){return Xu||(Xu=1,Va=function(){const e=Rr,{ruleAttributes:t,showAttributes:n,showAttributeErrors:i}=W2(),{ruleDependencies:s,showRuleDependencies:o}=Y2();class a{constructor(u,d){this.rules=u,this.udts=d,this.ruleCount=u.length,this.udtCount=d.length,this.startRule=0,this.dependenciesComplete=!1,this.attributesComplete=!1,this.isMutuallyRecursive=!1,this.ruleIndexes=this.indexArray(this.ruleCount),this.ruleAlphaIndexes=this.indexArray(this.ruleCount),this.ruleTypeIndexes=this.indexArray(this.ruleCount),this.udtIndexes=this.indexArray(this.udtCount),this.udtAlphaIndexes=this.indexArray(this.udtCount),this.attrsErrorCount=0,this.attrs=[],this.attrsErrors=[],this.attrsWorking=[],this.ruleDeps=[];for(let h=0;h<this.ruleCount;h+=1)this.attrs.push(this.attrGen(this.rules[h])),this.attrsWorking.push(this.attrGen(this.rules[h])),this.ruleDeps.push(this.rdGen(u[h],this.ruleCount,this.udtCount));this.compRulesAlpha=this.compRulesAlpha.bind(this),this.compUdtsAlpha=this.compUdtsAlpha.bind(this),this.compRulesType=this.compRulesType.bind(this),this.compRulesGroup=this.compRulesGroup.bind(this)}attrGen(u){return{left:!1,nested:!1,right:!1,empty:!1,finite:!1,cyclic:!1,leaf:!1,isOpen:!1,isComplete:!1,rule:u}}attrInit(u){u.left=!1,u.nested=!1,u.right=!1,u.empty=!1,u.finite=!1,u.cyclic=!1,u.leaf=!1,u.isOpen=!1,u.isComplete=!1}attrCopy(u,d){u.left=d.left,u.nested=d.nested,u.right=d.right,u.empty=d.empty,u.finite=d.finite,u.cyclic=d.cyclic,u.leaf=d.leaf,u.isOpen=d.isOpen,u.isComplete=d.isComplete,u.rule=d.rule}rdGen(u,d,h){return{rule:u,recursiveType:e.ATTR_N,groupNumber:-1,refersTo:this.falseArray(d),refersToUdt:this.falseArray(h),referencedBy:this.falseArray(d)}}typeToString(u){switch(u){case e.ATTR_N:return" N";case e.ATTR_R:return" R";case e.ATTR_MR:return"MR";default:return"UNKNOWN"}}falseArray(u){const d=[];if(u>0)for(let h=0;h<u;h+=1)d.push(!1);return d}falsifyArray(u){for(let d=0;d<u.length;d+=1)u[d]=!1}indexArray(u){const d=[];if(u>0)for(let h=0;h<u;h+=1)d.push(h);return d}compRulesAlpha(u,d){return this.rules[u].lower<this.rules[d].lower?-1:this.rules[u].lower>this.rules[d].lower?1:0}compUdtsAlpha(u,d){return this.udts[u].lower<this.udts[d].lower?-1:this.udts[u].lower>this.udts[d].lower?1:0}compRulesType(u,d){return this.ruleDeps[u].recursiveType<this.ruleDeps[d].recursiveType?-1:this.ruleDeps[u].recursiveType>this.ruleDeps[d].recursiveType?1:0}compRulesGroup(u,d){if(this.ruleDeps[u].recursiveType===e.ATTR_MR&&this.ruleDeps[d].recursiveType===e.ATTR_MR){if(this.ruleDeps[u].groupNumber<this.ruleDeps[d].groupNumber)return-1;if(this.ruleDeps[u].groupNumber>this.ruleDeps[d].groupNumber)return 1}return 0}}return{attributes:function(u=[],d=[],h=[],g=[]){const b=new a(u,d);return s(b),t(b),b.attrsErrorCount&&g.push({line:0,char:0,msg:`${b.attrsErrorCount} attribute errors`}),b.attrsErrorCount},showAttributes:n,showAttributeErrors:i,showRuleDependencies:o}}()),Va}var Ha,Qu;function X2(){return Qu||(Qu=1,Ha=function(){const e="show-rules.js";return function(i=[],s=[],o="index"){const a="showRules";let c=[],l=[];const u=[],d=[],h=i,g=s,b=i.length,y=s.length;let T="RULE/UDT NAMES",w;function _(D,I){return h[D].lower<h[I].lower?-1:h[D].lower>h[I].lower?1:0}function P(D,I){return g[D].lower<g[I].lower?-1:g[D].lower>g[I].lower?1:0}if(!(Array.isArray(i)&&i.length))throw new Error(`${e}:${a}: rules arg must be array with length > 0`);if(!Array.isArray(s))throw new Error(`${e}:${a}: udts arg must be array`);for(w=0;w<b;w+=1)u.push(w);if(c=u.slice(0),c.sort(_),y){for(w=0;w<y;w+=1)d.push(w);l=d.slice(0),l.sort(P)}if(o.charCodeAt(0)===97){for(T+=` - alphabetical by rule/UDT name
`,w=0;w<b;w+=1)T+=`${w}: ${c[w]}: ${h[c[w]].name}
`;if(y)for(w=0;w<y;w+=1)T+=`${w}: ${l[w]}: ${g[l[w]].name}
`}else{for(T+=` - ordered by rule/UDT index
`,w=0;w<b;w+=1)T+=`${w}: ${h[w].name}
`;if(y)for(w=0;w<y;w+=1)T+=`${w}: ${g[w].name}
`}return T}}()),Ha}var Q2=function(e){const{Buffer:t}=rl(),n="api.js: ",i=this,s=Si,o=Dl,a=H2(),c=new(q2()),{attributes:l,showAttributes:u,showAttributeErrors:d,showRuleDependencies:h}=J2(),g=X2(),b=function(Q,Z,N){const R=`<span class="${s.style.CLASS_CTRLCHAR}">`,L="</span>",G=`<span class="${s.style.CLASS_NOMATCH}">`,j="</span>";let k,m="";const S=!0;for(;S&&!(!Array.isArray(Q)||Q.length===0);){if(typeof Z!="number")throw new Error("abnfToHtml: beg must be type number");if(Z>=Q.length)break;typeof N!="number"||Z+N>=Q.length?k=Q.length:k=Z+N;let q=0;for(let E=Z;E<k;E+=1){const J=Q[E];if(J>=32&&J<=126)switch(q===1?(m+=L,q=0):q===2&&(m+=j,q=0),J){case 32:m+="&nbsp;";break;case 60:m+="&lt;";break;case 62:m+="&gt;";break;case 38:m+="&amp;";break;case 34:m+="&quot;";break;case 39:m+="&#039;";break;case 92:m+="&#092;";break;default:m+=String.fromCharCode(J);break}else J===9||J===10||J===13?(q===0?(m+=R,q=1):q===2&&(m+=j+R,q=1),J===9&&(m+="TAB"),J===10&&(m+="LF"),J===13&&(m+="CR")):(q===0?(m+=G,q=2):q===1&&(m+=L+G,q=2),m+=`\\x${s.utils.charToHex(J)}`)}q===2&&(m+=j),q===1&&(m+=L);break}return m},y=function(Q,Z,N){let p="";for(let v=Z;v<Z+N;v+=1){const C=Q[v];if(C>=32&&C<=126)p+=String.fromCharCode(C);else switch(C){case 9:p+="\\t";break;case 10:p+="\\n";break;case 13:p+="\\r";break;default:p+="\\unknown";break}}return p},T=function(Q){let Z="Annotated Input Grammar";return Q.forEach(N=>{Z+=`
`,Z+=`line no: ${N.lineNo}`,Z+=` : char index: ${N.beginChar}`,Z+=` : length: ${N.length}`,Z+=` : abnf: ${y(i.chars,N.beginChar,N.length)}`}),Z+=`
`,Z},w=function(Q){let Z="";return Z+=`<table class="${s.style.CLASS_GRAMMAR}">
`,Z+=`<caption>Annotated Input Grammar</caption>
`,Z+="<tr>",Z+="<th>line<br>no.</th><th>first<br>char</th><th><br>length</th><th><br>text</th>",Z+=`</tr>
`,Q.forEach(p=>{Z+="<tr>",Z+=`<td>${p.lineNo}`,Z+=`</td><td>${p.beginChar}`,Z+=`</td><td>${p.length}`,Z+=`</td><td>${b(i.chars,p.beginChar,p.length)}`,Z+="</td>",Z+=`</tr>
`}),Z+=`</table>
`,Z},_=function(Q,Z,N,p){const[v]=s;let C="";const R=`<span class="${v.CLASS_NOMATCH}">&raquo;</span>`;return C+=`<p><table class="${v.CLASS_GRAMMAR}">
`,p&&typeof p=="string"&&(C+=`<caption>${p}</caption>
`),C+=`<tr><th>line<br>no.</th><th>line<br>offset</th><th>error<br>offset</th><th><br>text</th></tr>
`,Q.forEach(L=>{let G,j,k,m,S,q="",E="";Z.length===0?(S=R,j=0):(G=Z[L.line],k=G.beginChar,L.char>k&&(q=b(N,k,L.char-k)),k=L.char,m=G.beginChar+G.length,k<m&&(E=b(N,k,m-k)),S=q+R+E,j=L.char-G.beginChar,C+="<tr>",C+=`<td>${L.line}</td><td>${G.beginChar}</td><td>${j}</td><td>${S}</td>`,C+=`</tr>
`,C+="<tr>",C+=`<td colspan="3"></td><td>&uarr;:&nbsp;${s.utils.stringToAsciiHtml(L.msg)}</td>`,C+=`</tr>
`)}),C+=`</table></p>
`,C},P=function(Q,Z,N){let p,v,C,R;return p="",Q.forEach(L=>{v=Z[L.line],p+=`${v.lineNo}: `,p+=`${v.beginChar}: `,p+=`${L.char-v.beginChar}: `,C=v.beginChar,R=L.char-v.beginChar,p+=y(N,C,R),p+=" >> ",C=L.char,R=v.beginChar+v.length-L.char,p+=y(N,C,R),p+=`
`,p+=`${v.lineNo}: `,p+=`${v.beginChar}: `,p+=`${L.char-v.beginChar}: `,p+="error: ",p+=L.msg,p+=`
`}),p};let D=!1,I=!1,B=!1,V=!1,z=0,he;if(this.errors=[],t.isBuffer(e))this.chars=o.decode("BINARY",e);else if(Array.isArray(e))this.chars=e.slice();else if(typeof e=="string")this.chars=o.decode("STRING",e);else throw new Error(`${n}input source is not a string, byte Buffer or character array`);this.sabnf=o.encode("STRING",this.chars),this.scan=function(Q,Z){this.lines=a(this.chars,this.errors,Q,Z),D=!0},this.parse=function(Q,Z,N){if(!D)throw new Error(`${n}grammar not scanned`);c.syntax(this.chars,this.lines,this.errors,Q,Z,N),I=!0},this.translate=function(){if(!I)throw new Error(`${n}grammar not scanned and parsed`);const Q=c.semantic(this.chars,this.lines,this.errors);this.errors.length===0&&(this.rules=Q.rules,this.udts=Q.udts,he=Q.lineMap,B=!0)},this.attributes=function(){if(!B)throw new Error(`${n}grammar not scanned, parsed and translated`);return z=l(this.rules,this.udts,he,this.errors),V=!0,z},this.generate=function(Q){if(this.lines=a(this.chars,this.errors,Q),this.errors.length||(c.syntax(this.chars,this.lines,this.errors,Q),this.errors.length))return;const Z=c.semantic(this.chars,this.lines,this.errors);this.errors.length||(this.rules=Z.rules,this.udts=Z.udts,he=Z.lineMap,z=l(this.rules,this.udts,he,this.errors),V=!0)},this.displayRules=function(Q="index"){if(!B)throw new Error(`${n}grammar not scanned, parsed and translated`);return g(this.rules,this.udts,Q)},this.displayRuleDependencies=function(Q="index"){if(!V)throw new Error(`${n}no attributes - must be preceeded by call to attributes()`);return h(Q)},this.displayAttributes=function(Q="index"){if(!V)throw new Error(`${n}no attributes - must be preceeded by call to attributes()`);return z&&d(Q),u(Q)},this.displayAttributeErrors=function(){if(!V)throw new Error(`${n}no attributes - must be preceeded by call to attributes()`);return d()},this.toSource=function(Q=void 0){if(!V)throw new Error(`${n}can't generate parser source - must be preceeded by call to attributes()`);if(z)throw new Error(`${n}can't generate parser source - attributes have ${z} errors`);return c.generateSource(this.chars,this.lines,this.rules,this.udts,Q)},this.toObject=function(){if(!V)throw new Error(`${n}can't generate parser source - must be preceeded by call to attributes()`);if(z)throw new Error(`${n}can't generate parser source - attributes have ${z} errors`);return c.generateObject(this.sabnf,this.rules,this.udts)},this.errorsToAscii=function(){return P(this.errors,this.lines,this.chars)},this.errorsToHtml=function(Q){return _(this.errors,this.lines,this.chars,Q)},this.linesToAscii=function(){return T(this.lines)},this.linesToHtml=function(){return w(this.lines)}},In={};const Z2=No(wx),ew=No(vx);Object.defineProperty(In,"__esModule",{value:!0});In.parseIntegerNumber=In.isEIP55Address=void 0;const tw=Z2,rw=ew,nw=r=>{if(r.length!=42)return!1;const e=`${r}`.toLowerCase().replace("0x",""),t=(0,rw.bytesToHex)((0,tw.keccak_256)(e));let n="0x";for(let i=0;i<e.length;i++)parseInt(t[i],16)>=8?n+=e[i].toUpperCase():n+=e[i];return r===n};In.isEIP55Address=nw;const iw=r=>{const e=parseInt(r);if(isNaN(e))throw new Error("Invalid number.");if(e===1/0)throw new Error("Invalid number.");return e};In.parseIntegerNumber=iw;var np=mt&&mt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},ip;Object.defineProperty(Do,"__esModule",{value:!0});Do.ParsedMessage=void 0;const sw=np(Q2),Nt=np(Si),Zu=In,ow=`
sign-in-with-ethereum =
    [ scheme "://" ] domain %s" wants you to sign in with your Ethereum account:" LF
    address LF
    LF
    [ statement LF ]
    LF
    %s"URI: " URI LF
    %s"Version: " version LF
    %s"Chain ID: " chain-id LF
    %s"Nonce: " nonce LF
    %s"Issued At: " issued-at
    [ LF %s"Expiration Time: " expiration-time ]
    [ LF %s"Not Before: " not-before ]
    [ LF %s"Request ID: " request-id ]
    [ LF %s"Resources:"
    resources ]

domain = authority

address = "0x" 40*40HEXDIG
    ; Must also conform to captilization
    ; checksum encoding specified in EIP-55
    ; where applicable (EOAs).

statement = 1*( reserved / unreserved / " " )
    ; The purpose is to exclude LF (line breaks).

version = "1"

nonce = 8*( ALPHA / DIGIT )

issued-at = date-time
expiration-time = date-time
not-before = date-time

request-id = *pchar

chain-id = 1*DIGIT
    ; See EIP-155 for valid CHAIN_IDs.

resources = *( LF resource )

resource = "- " URI

; ------------------------------------------------------------------------------
; RFC 3986

URI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]

hier-part     = "//" authority path-abempty
              / path-absolute
              / path-rootless
              / path-empty

scheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )

authority     = [ userinfo "@" ] host [ ":" port ]
userinfo      = *( unreserved / pct-encoded / sub-delims / ":" )
host          = IP-literal / IPv4address / reg-name
port          = *DIGIT

IP-literal    = "[" ( IPv6address / IPvFuture  ) "]"

IPvFuture     = "v" 1*HEXDIG "." 1*( unreserved / sub-delims / ":" )

IPv6address   =                            6( h16 ":" ) ls32
              /                       "::" 5( h16 ":" ) ls32
              / [               h16 ] "::" 4( h16 ":" ) ls32
              / [ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32
              / [ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32
              / [ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32
              / [ *4( h16 ":" ) h16 ] "::"              ls32
              / [ *5( h16 ":" ) h16 ] "::"              h16
              / [ *6( h16 ":" ) h16 ] "::"

h16           = 1*4HEXDIG
ls32          = ( h16 ":" h16 ) / IPv4address
IPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet
dec-octet     = DIGIT                 ; 0-9
                 / %x31-39 DIGIT         ; 10-99
                 / "1" 2DIGIT            ; 100-199
                 / "2" %x30-34 DIGIT     ; 200-249
                 / "25" %x30-35          ; 250-255

reg-name      = *( unreserved / pct-encoded / sub-delims )

path-abempty  = *( "/" segment )
path-absolute = "/" [ segment-nz *( "/" segment ) ]
path-rootless = segment-nz *( "/" segment )
path-empty    = 0pchar

segment       = *pchar
segment-nz    = 1*pchar

pchar         = unreserved / pct-encoded / sub-delims / ":" / "@"

query         = *( pchar / "/" / "?" )

fragment      = *( pchar / "/" / "?" )

pct-encoded   = "%" HEXDIG HEXDIG

unreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"
reserved      = gen-delims / sub-delims
gen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"
sub-delims    = "!" / "$" / "&" / "'" / "(" / ")"
              / "*" / "+" / "," / ";" / "="

; ------------------------------------------------------------------------------
; RFC 3339

date-fullyear   = 4DIGIT
date-month      = 2DIGIT  ; 01-12
date-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on
                          ; month/year
time-hour       = 2DIGIT  ; 00-23
time-minute     = 2DIGIT  ; 00-59
time-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second
                          ; rules
time-secfrac    = "." 1*DIGIT
time-numoffset  = ("+" / "-") time-hour ":" time-minute
time-offset     = "Z" / time-numoffset

partial-time    = time-hour ":" time-minute ":" time-second
                  [time-secfrac]
full-date       = date-fullyear "-" date-month "-" date-mday
full-time       = partial-time time-offset

date-time       = full-date "T" full-time

; ------------------------------------------------------------------------------
; RFC 5234

ALPHA          =  %x41-5A / %x61-7A   ; A-Z / a-z
LF             =  %x0A
                  ; linefeed
DIGIT          =  %x30-39
                  ; 0-9
HEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"
`;class Ul{static generateApi(){const e=new sw.default(ow);if(e.generate(),e.errors.length)throw console.error(e.errorsToAscii()),console.error(e.linesToAscii()),console.log(e.displayAttributeErrors()),new Error("ABNF grammar has errors");return e.toObject()}}ip=Ul;Ul.grammarObj=ip.generateApi();class aw{constructor(e){const t=new Nt.default.parser;t.ast=new Nt.default.ast;const n=Nt.default.ids,i=function(P,D,I,B,V){const z=n.SEM_OK;return P===n.SEM_PRE&&I===0&&(V.scheme=Nt.default.utils.charsToString(D,I,B)),z};t.ast.callbacks.scheme=i;const s=function(P,D,I,B,V){const z=n.SEM_OK;return P===n.SEM_PRE&&(V.domain=Nt.default.utils.charsToString(D,I,B)),z};t.ast.callbacks.domain=s;const o=function(P,D,I,B,V){const z=n.SEM_OK;return P===n.SEM_PRE&&(V.address=Nt.default.utils.charsToString(D,I,B)),z};t.ast.callbacks.address=o;const a=function(P,D,I,B,V){const z=n.SEM_OK;return P===n.SEM_PRE&&(V.statement=Nt.default.utils.charsToString(D,I,B)),z};t.ast.callbacks.statement=a;const c=function(P,D,I,B,V){const z=n.SEM_OK;return P===n.SEM_PRE&&(V.uri||(V.uri=Nt.default.utils.charsToString(D,I,B))),z};t.ast.callbacks.uri=c;const l=function(P,D,I,B,V){const z=n.SEM_OK;return P===n.SEM_PRE&&(V.version=Nt.default.utils.charsToString(D,I,B)),z};t.ast.callbacks.version=l;const u=function(P,D,I,B,V){const z=n.SEM_OK;return P===n.SEM_PRE&&(V.chainId=(0,Zu.parseIntegerNumber)(Nt.default.utils.charsToString(D,I,B))),z};t.ast.callbacks["chain-id"]=u;const d=function(P,D,I,B,V){const z=n.SEM_OK;return P===n.SEM_PRE&&(V.nonce=Nt.default.utils.charsToString(D,I,B)),z};t.ast.callbacks.nonce=d;const h=function(P,D,I,B,V){const z=n.SEM_OK;return P===n.SEM_PRE&&(V.issuedAt=Nt.default.utils.charsToString(D,I,B)),z};t.ast.callbacks["issued-at"]=h;const g=function(P,D,I,B,V){const z=n.SEM_OK;return P===n.SEM_PRE&&(V.expirationTime=Nt.default.utils.charsToString(D,I,B)),z};t.ast.callbacks["expiration-time"]=g;const b=function(P,D,I,B,V){const z=n.SEM_OK;return P===n.SEM_PRE&&(V.notBefore=Nt.default.utils.charsToString(D,I,B)),z};t.ast.callbacks["not-before"]=b;const y=function(P,D,I,B,V){const z=n.SEM_OK;return P===n.SEM_PRE&&(V.requestId=Nt.default.utils.charsToString(D,I,B)),z};t.ast.callbacks["request-id"]=y;const T=function(P,D,I,B,V){const z=n.SEM_OK;return P===n.SEM_PRE&&(V.resources=Nt.default.utils.charsToString(D,I,B).slice(3).split(`
- `)),z};t.ast.callbacks.resources=T;const w=t.parse(Ul.grammarObj,"sign-in-with-ethereum",e);if(!w.success)throw new Error(`Invalid message: ${JSON.stringify(w)}`);const _={};t.ast.translate(_);for(const[P,D]of Object.entries(_))this[P]=D;if(this.domain.length===0)throw new Error("Domain cannot be empty.");if(!(0,Zu.isEIP55Address)(this.address))throw new Error("Address not conformant to EIP-55.")}}Do.ParsedMessage=aw;(function(r){var e=mt&&mt.__createBinding||(Object.create?function(i,s,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(s,o);(!c||("get"in c?!s.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(i,a,c)}:function(i,s,o,a){a===void 0&&(a=o),i[a]=s[o]}),t=mt&&mt.__exportStar||function(i,s){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&e(s,i,o)};Object.defineProperty(r,"__esModule",{value:!0}),r.ParsedMessage=void 0;const n=Do;Object.defineProperty(r,"ParsedMessage",{enumerable:!0,get:function(){return n.ParsedMessage}}),t(In,r)})(Zd);var sp={exports:{}};(function(r){(function(e){e.exports.is_uri=n,e.exports.is_http_uri=i,e.exports.is_https_uri=s,e.exports.is_web_uri=o,e.exports.isUri=n,e.exports.isHttpUri=i,e.exports.isHttpsUri=s,e.exports.isWebUri=o;var t=function(a){var c=a.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/);return c};function n(a){if(a&&!/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(a)&&!/%[^0-9a-f]/i.test(a)&&!/%[0-9a-f](:?[^0-9a-f]|$)/i.test(a)){var c=[],l="",u="",d="",h="",g="",b="";if(c=t(a),l=c[1],u=c[2],d=c[3],h=c[4],g=c[5],!!(l&&l.length&&d.length>=0)){if(u&&u.length){if(!(d.length===0||/^\//.test(d)))return}else if(/^\/\//.test(d))return;if(/^[a-z][a-z0-9\+\-\.]*$/.test(l.toLowerCase()))return b+=l+":",u&&u.length&&(b+="//"+u),b+=d,h&&h.length&&(b+="?"+h),g&&g.length&&(b+="#"+g),b}}}function i(a,c){if(n(a)){var l=[],u="",d="",h="",g="",b="",y="",T="";if(l=t(a),u=l[1],d=l[2],h=l[3],b=l[4],y=l[5],!!u){if(c){if(u.toLowerCase()!="https")return}else if(u.toLowerCase()!="http")return;if(d)return/:(\d+)$/.test(d)&&(g=d.match(/:(\d+)$/)[0],d=d.replace(/:\d+$/,"")),T+=u+":",T+="//"+d,g&&(T+=g),T+=h,b&&b.length&&(T+="?"+b),y&&y.length&&(T+="#"+y),T}}}function s(a){return i(a,!0)}function o(a){return i(a)||s(a)}})(r)})(sp);var cw=sp.exports,Ur={};const lw="logger/5.8.0";let e0=!1,t0=!1;const Ys={debug:1,default:2,info:2,warning:3,error:4,off:5};let r0=Ys.default,Ka=null;function fw(){try{const r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{r.push(e)}}),r.length)throw new Error("missing "+r.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(r){return r.message}return null}const n0=fw();var Nc;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(Nc||(Nc={}));var Kt;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"})(Kt||(Kt={}));const i0="0123456789abcdef";class Y{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const n=e.toLowerCase();Ys[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(r0>Ys[n])&&console.log.apply(console,t)}debug(...e){this._log(Y.levels.DEBUG,e)}info(...e){this._log(Y.levels.INFO,e)}warn(...e){this._log(Y.levels.WARNING,e)}makeError(e,t,n){if(t0)return this.makeError("censored error",t,{});t||(t=Y.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let d=0;d<l.length;d++)u+=i0[l[d]>>4],u+=i0[l[d]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${t}`),i.push(`version=${this.version}`);const s=e;let o="";switch(t){case Kt.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Kt.CALL_EXCEPTION:case Kt.INSUFFICIENT_FUNDS:case Kt.MISSING_NEW:case Kt.NONCE_EXPIRED:case Kt.REPLACEMENT_UNDERPRICED:case Kt.TRANSACTION_REPLACED:case Kt.UNPREDICTABLE_GAS_LIMIT:o=t;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=t,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,Y.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,i){e||this.throwError(t,n,i)}assertArgument(e,t,n,i){e||this.throwArgumentError(t,n,i)}checkNormalize(e){n0&&this.throwError("platform missing String.prototype.normalize",Y.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:n0})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Y.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Y.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n?n=": "+n:n="",e<t&&this.throwError("missing argument"+n,Y.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,Y.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",Y.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Y.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Y.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return Ka||(Ka=new Y(lw)),Ka}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Y.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),e0){if(!e)return;this.globalLogger().throwError("error censorship permanent",Y.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}t0=!!e,e0=!!t}static setLogLevel(e){const t=Ys[e.toLowerCase()];if(t==null){Y.globalLogger().warn("invalid log level - "+e);return}r0=t}static from(e){return new Y(e)}}Y.errors=Kt;Y.levels=Nc;const uw="bytes/5.8.0",ht=new Y(uw);function op(r){return!!r.toHexString}function li(r){return r.slice||(r.slice=function(){const e=Array.prototype.slice.call(arguments);return li(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function vs(r){return Ne(r)&&!(r.length%2)||hn(r)}function s0(r){return typeof r=="number"&&r==r&&r%1===0}function hn(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!s0(r.length)||r.length<0)return!1;for(let e=0;e<r.length;e++){const t=r[e];if(!s0(t)||t<0||t>=256)return!1}return!0}function me(r,e){if(e||(e={}),typeof r=="number"){ht.checkSafeUint53(r,"invalid arrayify value");const t=[];for(;r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),li(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),op(r)&&(r=r.toHexString()),Ne(r)){let t=r.substring(2);t.length%2&&(e.hexPad==="left"?t="0"+t:e.hexPad==="right"?t+="0":ht.throwArgumentError("hex data is odd-length","value",r));const n=[];for(let i=0;i<t.length;i+=2)n.push(parseInt(t.substring(i,i+2),16));return li(new Uint8Array(n))}return hn(r)?li(new Uint8Array(r)):ht.throwArgumentError("invalid arrayify value","value",r)}function He(r){const e=r.map(i=>me(i)),t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),li(n)}function Ar(r){let e=me(r);if(e.length===0)return e;let t=0;for(;t<e.length&&e[t]===0;)t++;return t&&(e=e.slice(t)),e}function Yi(r,e){r=me(r),r.length>e&&ht.throwArgumentError("value out of range","value",arguments[0]);const t=new Uint8Array(e);return t.set(r,e-r.length),li(t)}function Ne(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}const Ga="0123456789abcdef";function xe(r,e){if(e||(e={}),typeof r=="number"){ht.checkSafeUint53(r,"invalid hexlify value");let t="";for(;r;)t=Ga[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),op(r))return r.toHexString();if(Ne(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":ht.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(hn(r)){let t="0x";for(let n=0;n<r.length;n++){let i=r[n];t+=Ga[(i&240)>>4]+Ga[i&15]}return t}return ht.throwArgumentError("invalid hexlify value","value",r)}function kr(r){if(typeof r!="string")r=xe(r);else if(!Ne(r)||r.length%2)return null;return(r.length-2)/2}function yt(r,e,t){return typeof r!="string"?r=xe(r):(!Ne(r)||r.length%2)&&ht.throwArgumentError("invalid hexData","value",r),e=2+2*e,t!=null?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}function Ft(r){let e="0x";return r.forEach(t=>{e+=xe(t).substring(2)}),e}function As(r){const e=ap(xe(r,{hexPad:"left"}));return e==="0x"?"0x0":e}function ap(r){typeof r!="string"&&(r=xe(r)),Ne(r)||ht.throwArgumentError("invalid hex string","value",r),r=r.substring(2);let e=0;for(;e<r.length&&r[e]==="0";)e++;return"0x"+r.substring(e)}function Ke(r,e){for(typeof r!="string"?r=xe(r):Ne(r)||ht.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&ht.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}function jn(r){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(vs(r)){let t=me(r);t.length===64?(e.v=27+(t[32]>>7),t[32]&=127,e.r=xe(t.slice(0,32)),e.s=xe(t.slice(32,64))):t.length===65?(e.r=xe(t.slice(0,32)),e.s=xe(t.slice(32,64)),e.v=t[64]):ht.throwArgumentError("invalid signature string","signature",r),e.v<27&&(e.v===0||e.v===1?e.v+=27:ht.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=xe(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){const i=Yi(me(e._vs),32);e._vs=xe(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&ht.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),i[0]&=127;const o=xe(i);e.s==null?e.s=o:e.s!==o&&ht.throwArgumentError("signature v mismatch _vs","signature",r)}if(e.recoveryParam==null)e.v==null?ht.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&ht.throwArgumentError("signature recoveryParam mismatch v","signature",r)}e.r==null||!Ne(e.r)?ht.throwArgumentError("signature missing or invalid r","signature",r):e.r=Ke(e.r,32),e.s==null||!Ne(e.s)?ht.throwArgumentError("signature missing or invalid s","signature",r):e.s=Ke(e.s,32);const t=me(e.s);t[0]>=128&&ht.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(t[0]|=128);const n=xe(t);e._vs&&(Ne(e._vs)||ht.throwArgumentError("signature invalid _vs","signature",r),e._vs=Ke(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&ht.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function Rc(r){return r=jn(r),xe(He([r.r,r.s,r.recoveryParam?"0x1c":"0x1b"]))}const cp="bignumber/5.8.0";var cs=Me.BN;const Ir=new Y(cp),za={},o0=9007199254740991;function hw(r){return r!=null&&(pe.isBigNumber(r)||typeof r=="number"&&r%1===0||typeof r=="string"&&!!r.match(/^-?[0-9]+$/)||Ne(r)||typeof r=="bigint"||hn(r))}let a0=!1;class pe{constructor(e,t){e!==za&&Ir.throwError("cannot call constructor directly; use BigNumber.from",Y.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return $t(Be(this).fromTwos(e))}toTwos(e){return $t(Be(this).toTwos(e))}abs(){return this._hex[0]==="-"?pe.from(this._hex.substring(1)):this}add(e){return $t(Be(this).add(Be(e)))}sub(e){return $t(Be(this).sub(Be(e)))}div(e){return pe.from(e).isZero()&&Xt("division-by-zero","div"),$t(Be(this).div(Be(e)))}mul(e){return $t(Be(this).mul(Be(e)))}mod(e){const t=Be(e);return t.isNeg()&&Xt("division-by-zero","mod"),$t(Be(this).umod(t))}pow(e){const t=Be(e);return t.isNeg()&&Xt("negative-power","pow"),$t(Be(this).pow(t))}and(e){const t=Be(e);return(this.isNegative()||t.isNeg())&&Xt("unbound-bitwise-result","and"),$t(Be(this).and(t))}or(e){const t=Be(e);return(this.isNegative()||t.isNeg())&&Xt("unbound-bitwise-result","or"),$t(Be(this).or(t))}xor(e){const t=Be(e);return(this.isNegative()||t.isNeg())&&Xt("unbound-bitwise-result","xor"),$t(Be(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&Xt("negative-width","mask"),$t(Be(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Xt("negative-width","shl"),$t(Be(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Xt("negative-width","shr"),$t(Be(this).shrn(e))}eq(e){return Be(this).eq(Be(e))}lt(e){return Be(this).lt(Be(e))}lte(e){return Be(this).lte(Be(e))}gt(e){return Be(this).gt(Be(e))}gte(e){return Be(this).gte(Be(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Be(this).isZero()}toNumber(){try{return Be(this).toNumber()}catch{Xt("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Ir.throwError("this platform does not support BigInt",Y.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?a0||(a0=!0,Ir.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Ir.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Y.errors.UNEXPECTED_ARGUMENT,{}):Ir.throwError("BigNumber.toString does not accept parameters",Y.errors.UNEXPECTED_ARGUMENT,{})),Be(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof pe)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new pe(za,ls(e)):e.match(/^-?[0-9]+$/)?new pe(za,ls(new cs(e))):Ir.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Xt("underflow","BigNumber.from",e),(e>=o0||e<=-o0)&&Xt("overflow","BigNumber.from",e),pe.from(String(e));const t=e;if(typeof t=="bigint")return pe.from(t.toString());if(hn(t))return pe.from(xe(t));if(t)if(t.toHexString){const n=t.toHexString();if(typeof n=="string")return pe.from(n)}else{let n=t._hex;if(n==null&&t.type==="BigNumber"&&(n=t.hex),typeof n=="string"&&(Ne(n)||n[0]==="-"&&Ne(n.substring(1))))return pe.from(n)}return Ir.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function ls(r){if(typeof r!="string")return ls(r.toString(16));if(r[0]==="-")return r=r.substring(1),r[0]==="-"&&Ir.throwArgumentError("invalid hex","value",r),r=ls(r),r==="0x00"?r:"-"+r;if(r.substring(0,2)!=="0x"&&(r="0x"+r),r==="0x")return"0x00";for(r.length%2&&(r="0x0"+r.substring(2));r.length>4&&r.substring(0,4)==="0x00";)r="0x"+r.substring(4);return r}function $t(r){return pe.from(ls(r))}function Be(r){const e=pe.from(r).toHexString();return e[0]==="-"?new cs("-"+e.substring(3),16):new cs(e.substring(2),16)}function Xt(r,e,t){const n={fault:r,operation:e};return t!=null&&(n.value=t),Ir.throwError(r,Y.errors.NUMERIC_FAULT,n)}function dw(r){return new cs(r,36).toString(16)}function pw(r){return new cs(r,16).toString(36)}const Dt=new Y(cp),Ji={},lp=pe.from(0),fp=pe.from(-1);function up(r,e,t,n){const i={fault:e,operation:t};return n!==void 0&&(i.value=n),Dt.throwError(r,Y.errors.NUMERIC_FAULT,i)}let Xi="0";for(;Xi.length<256;)Xi+=Xi;function $l(r){if(typeof r!="number")try{r=pe.from(r).toNumber()}catch{}return typeof r=="number"&&r>=0&&r<=256&&!(r%1)?"1"+Xi.substring(0,r):Dt.throwArgumentError("invalid decimal size","decimals",r)}function Js(r,e){e==null&&(e=0);const t=$l(e);r=pe.from(r);const n=r.lt(lp);n&&(r=r.mul(fp));let i=r.mod(t).toString();for(;i.length<t.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=r.div(t).toString();return t.length===1?r=s:r=s+"."+i,n&&(r="-"+r),r}function pr(r,e){e==null&&(e=0);const t=$l(e);(typeof r!="string"||!r.match(/^-?[0-9.]+$/))&&Dt.throwArgumentError("invalid decimal value","value",r);const n=r.substring(0,1)==="-";n&&(r=r.substring(1)),r==="."&&Dt.throwArgumentError("missing value","value",r);const i=r.split(".");i.length>2&&Dt.throwArgumentError("too many decimal points","value",r);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>t.length-1&&up("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<t.length-1;)o+="0";const a=pe.from(s),c=pe.from(o);let l=a.mul(t).add(c);return n&&(l=l.mul(fp)),l}class fi{constructor(e,t,n,i){e!==Ji&&Dt.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Y.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=n,this.decimals=i,this.name=(t?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=$l(i),Object.freeze(this)}static from(e){if(e instanceof fi)return e;typeof e=="number"&&(e=`fixed128x${e}`);let t=!0,n=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")t=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||Dt.throwArgumentError("invalid fixed format","format",e),t=s[1]!=="u",n=parseInt(s[2]),i=parseInt(s[3])}}else if(e){const s=(o,a,c)=>e[o]==null?c:(typeof e[o]!==a&&Dt.throwArgumentError("invalid fixed format ("+o+" not "+a+")","format."+o,e[o]),e[o]);t=s("signed","boolean",t),n=s("width","number",n),i=s("decimals","number",i)}return n%8&&Dt.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&Dt.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new fi(Ji,t,n,i)}}class At{constructor(e,t,n,i){e!==Ji&&Dt.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Y.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=t,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&Dt.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const t=pr(this._value,this.format.decimals),n=pr(e._value,e.format.decimals);return At.fromValue(t.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const t=pr(this._value,this.format.decimals),n=pr(e._value,e.format.decimals);return At.fromValue(t.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const t=pr(this._value,this.format.decimals),n=pr(e._value,e.format.decimals);return At.fromValue(t.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const t=pr(this._value,this.format.decimals),n=pr(e._value,e.format.decimals);return At.fromValue(t.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let t=At.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(t=t.subUnsafe(c0.toFormat(t.format))),t}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let t=At.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(t=t.addUnsafe(c0.toFormat(t.format))),t}round(e){e==null&&(e=0);const t=this.toString().split(".");if(t.length===1&&t.push("0"),(e<0||e>80||e%1)&&Dt.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;const n=At.from("1"+Xi.substring(0,e),this.format),i=mw.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&Dt.throwArgumentError("invalid byte width","width",e);const t=pe.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return Ke(t,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return At.fromString(this._value,e)}static fromValue(e,t,n){return n==null&&t!=null&&!hw(t)&&(n=t,t=null),t==null&&(t=0),n==null&&(n="fixed"),At.fromString(Js(e,t),fi.from(n))}static fromString(e,t){t==null&&(t="fixed");const n=fi.from(t),i=pr(e,n.decimals);!n.signed&&i.lt(lp)&&up("unsigned value cannot be negative","overflow","value",e);let s=null;n.signed?s=i.toTwos(n.width).toHexString():(s=i.toHexString(),s=Ke(s,n.width/8));const o=Js(i,n.decimals);return new At(Ji,s,o,n)}static fromBytes(e,t){t==null&&(t="fixed");const n=fi.from(t);if(me(e).length>n.width/8)throw new Error("overflow");let i=pe.from(e);n.signed&&(i=i.fromTwos(n.width));const s=i.toTwos((n.signed?0:1)+n.width).toHexString(),o=Js(i,n.decimals);return new At(Ji,s,o,n)}static from(e,t){if(typeof e=="string")return At.fromString(e,t);if(hn(e))return At.fromBytes(e,t);try{return At.fromValue(e,0,t)}catch(n){if(n.code!==Y.errors.INVALID_ARGUMENT)throw n}return Dt.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const c0=At.from(1),mw=At.from("0.5"),xw="properties/5.8.0";var gw=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(r,e||[])).next())})};const ho=new Y(xw);function ce(r,e,t){Object.defineProperty(r,e,{enumerable:!0,value:t,writable:!1})}function Ct(r,e){for(let t=0;t<32;t++){if(r[e])return r[e];if(!r.prototype||typeof r.prototype!="object")break;r=Object.getPrototypeOf(r.prototype).constructor}return null}function pt(r){return gw(this,void 0,void 0,function*(){const e=Object.keys(r).map(n=>{const i=r[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function jl(r,e){(!r||typeof r!="object")&&ho.throwArgumentError("invalid object","object",r),Object.keys(r).forEach(t=>{e[t]||ho.throwArgumentError("invalid object key - "+t,"transaction:"+t,r)})}function Ge(r){const e={};for(const t in r)e[t]=r[t];return e}const bw={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function hp(r){if(r==null||bw[typeof r])return!0;if(Array.isArray(r)||typeof r=="object"){if(!Object.isFrozen(r))return!1;const e=Object.keys(r);for(let t=0;t<e.length;t++){let n=null;try{n=r[e[t]]}catch{continue}if(!hp(n))return!1}return!0}return ho.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function yw(r){if(hp(r))return r;if(Array.isArray(r))return Object.freeze(r.map(e=>Ut(e)));if(typeof r=="object"){const e={};for(const t in r){const n=r[t];n!==void 0&&ce(e,t,Ut(n))}return e}return ho.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function Ut(r){return yw(r)}class Vn{constructor(e){for(const t in e)this[t]=Ut(e[t])}}const Es="abi/5.8.0",Oe=new Y(Es),On={};let l0={calldata:!0,memory:!0,storage:!0},ww={calldata:!0,memory:!0};function Bs(r,e){if(r==="bytes"||r==="string"){if(l0[e])return!0}else if(r==="address"){if(e==="payable")return!0}else if((r.indexOf("[")>=0||r==="tuple")&&ww[e])return!0;return(l0[e]||e==="payable")&&Oe.throwArgumentError("invalid modifier","name",e),!1}function vw(r,e){let t=r;function n(a){Oe.throwArgumentError(`unexpected character at position ${a}`,"param",r)}r=r.replace(/\s/g," ");function i(a){let c={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(c.indexed=!1),c}let s={type:"",name:"",state:{allowType:!0}},o=s;for(let a=0;a<r.length;a++){let c=r[a];switch(c){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||n(a),o.state.allowType=!1,o.type=Xn(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),Bs(o.type,o.name)&&(o.name=""),o.type=Xn(o.type);let l=o;o=o.parent,o||n(a),delete l.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),Bs(o.type,o.name)&&(o.name=""),o.type=Xn(o.type);let u=i(o.parent);o.parent.components.push(u),delete o.parent,o=u;break;case" ":o.state.allowType&&o.type!==""&&(o.type=Xn(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||n(a),o.indexed&&n(a),o.indexed=!0,o.name=""):Bs(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(a),o.type+=c,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(a),o.type+=c,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=c,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=c,delete o.state.allowArray):o.state.readArray?o.type+=c:n(a)}}return o.parent&&Oe.throwArgumentError("unexpected eof","param",r),delete s.state,o.name==="indexed"?(e||n(t.length-7),o.indexed&&n(t.length-7),o.indexed=!0,o.name=""):Bs(o.type,o.name)&&(o.name=""),s.type=Xn(s.type),s}function Xs(r,e){for(let t in e)ce(r,t,e[t])}const Fe=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),Aw=new RegExp(/^(.*)\[([0-9]*)\]$/);class Et{constructor(e,t){e!==On&&Oe.throwError("use fromString",Y.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Xs(this,t);let n=this.type.match(Aw);n?Xs(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:Et.fromObject({type:n[1],components:this.components}),baseType:"array"}):Xs(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=Fe.sighash),Fe[e]||Oe.throwArgumentError("invalid format type","format",e),e===Fe.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let t="";return this.baseType==="array"?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==Fe.sighash&&(t+=this.type),t+="("+this.components.map(n=>n.format(e)).join(e===Fe.full?", ":",")+")"):t+=this.type,e!==Fe.sighash&&(this.indexed===!0&&(t+=" indexed"),e===Fe.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return typeof e=="string"?Et.fromString(e,t):Et.fromObject(e)}static fromObject(e){return Et.isParamType(e)?e:new Et(On,{name:e.name||null,type:Xn(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(Et.fromObject):null})}static fromString(e,t){function n(i){return Et.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(vw(e,!!t))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function fs(r,e){return Tw(r).map(t=>Et.fromString(t,e))}class br{constructor(e,t){e!==On&&Oe.throwError("use a static from method",Y.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Xs(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return br.isFragment(e)?e:typeof e=="string"?br.fromString(e):br.fromObject(e)}static fromObject(e){if(br.isFragment(e))return e;switch(e.type){case"function":return fr.fromObject(e);case"event":return gr.fromObject(e);case"constructor":return lr.fromObject(e);case"error":return Lr.fromObject(e);case"fallback":case"receive":return null}return Oe.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?gr.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?fr.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?lr.fromString(e.trim()):e.split(" ")[0]==="error"?Lr.fromString(e.substring(5).trim()):Oe.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class gr extends br{format(e){if(e||(e=Fe.sighash),Fe[e]||Oe.throwArgumentError("invalid format type","format",e),e===Fe.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==Fe.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Fe.full?", ":",")+") ",e!==Fe.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return typeof e=="string"?gr.fromString(e):gr.fromObject(e)}static fromObject(e){if(gr.isEventFragment(e))return e;e.type!=="event"&&Oe.throwArgumentError("invalid event object","value",e);const t={name:us(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(Et.fromObject):[],type:"event"};return new gr(On,t)}static fromString(e){let t=e.match(hs);t||Oe.throwArgumentError("invalid event string","value",e);let n=!1;return t[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:Oe.warn("unknown modifier: "+i)}}),gr.fromObject({name:t[1].trim(),anonymous:n,inputs:fs(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function dp(r,e){e.gas=null;let t=r.split("@");return t.length!==1?(t.length>2&&Oe.throwArgumentError("invalid human-readable ABI signature","value",r),t[1].match(/^[0-9]+$/)||Oe.throwArgumentError("invalid human-readable ABI signature gas","value",r),e.gas=pe.from(t[1]),t[0]):r}function pp(r,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",r.split(" ").forEach(t=>{switch(t.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+t)}})}function mp(r){let e={constant:!1,payable:!0,stateMutability:"payable"};return r.stateMutability!=null?(e.stateMutability=r.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",r.constant!=null&&!!r.constant!==e.constant&&Oe.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",r),e.payable=e.stateMutability==="payable",r.payable!=null&&!!r.payable!==e.payable&&Oe.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",r)):r.payable!=null?(e.payable=!!r.payable,r.constant==null&&!e.payable&&r.type!=="constructor"&&Oe.throwArgumentError("unable to determine stateMutability","value",r),e.constant=!!r.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&Oe.throwArgumentError("cannot have constant payable function","value",r)):r.constant!=null?(e.constant=!!r.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):r.type!=="constructor"&&Oe.throwArgumentError("unable to determine stateMutability","value",r),e}class lr extends br{format(e){if(e||(e=Fe.sighash),Fe[e]||Oe.throwArgumentError("invalid format type","format",e),e===Fe.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===Fe.sighash&&Oe.throwError("cannot format a constructor for sighash",Y.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map(n=>n.format(e)).join(e===Fe.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "),t.trim()}static from(e){return typeof e=="string"?lr.fromString(e):lr.fromObject(e)}static fromObject(e){if(lr.isConstructorFragment(e))return e;e.type!=="constructor"&&Oe.throwArgumentError("invalid constructor object","value",e);let t=mp(e);t.constant&&Oe.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(Et.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?pe.from(e.gas):null};return new lr(On,n)}static fromString(e){let t={type:"constructor"};e=dp(e,t);let n=e.match(hs);return(!n||n[1].trim()!=="constructor")&&Oe.throwArgumentError("invalid constructor string","value",e),t.inputs=fs(n[2].trim(),!1),pp(n[3].trim(),t),lr.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class fr extends lr{format(e){if(e||(e=Fe.sighash),Fe[e]||Oe.throwArgumentError("invalid format type","format",e),e===Fe.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==Fe.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Fe.full?", ":",")+") ",e!==Fe.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return typeof e=="string"?fr.fromString(e):fr.fromObject(e)}static fromObject(e){if(fr.isFunctionFragment(e))return e;e.type!=="function"&&Oe.throwArgumentError("invalid function object","value",e);let t=mp(e);const n={type:e.type,name:us(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(Et.fromObject):[],outputs:e.outputs?e.outputs.map(Et.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?pe.from(e.gas):null};return new fr(On,n)}static fromString(e){let t={type:"function"};e=dp(e,t);let n=e.split(" returns ");n.length>2&&Oe.throwArgumentError("invalid function string","value",e);let i=n[0].match(hs);if(i||Oe.throwArgumentError("invalid function signature","value",e),t.name=i[1].trim(),t.name&&us(t.name),t.inputs=fs(i[2],!1),pp(i[3].trim(),t),n.length>1){let s=n[1].match(hs);(s[1].trim()!=""||s[3].trim()!="")&&Oe.throwArgumentError("unexpected tokens","value",e),t.outputs=fs(s[2],!1)}else t.outputs=[];return fr.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function f0(r){const e=r.format();return(e==="Error(string)"||e==="Panic(uint256)")&&Oe.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",r),r}class Lr extends br{format(e){if(e||(e=Fe.sighash),Fe[e]||Oe.throwArgumentError("invalid format type","format",e),e===Fe.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==Fe.sighash&&(t+="error "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Fe.full?", ":",")+") ",t.trim()}static from(e){return typeof e=="string"?Lr.fromString(e):Lr.fromObject(e)}static fromObject(e){if(Lr.isErrorFragment(e))return e;e.type!=="error"&&Oe.throwArgumentError("invalid error object","value",e);const t={type:e.type,name:us(e.name),inputs:e.inputs?e.inputs.map(Et.fromObject):[]};return f0(new Lr(On,t))}static fromString(e){let t={type:"error"},n=e.match(hs);return n||Oe.throwArgumentError("invalid error signature","value",e),t.name=n[1].trim(),t.name&&us(t.name),t.inputs=fs(n[2],!1),f0(Lr.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function Xn(r){return r.match(/^uint($|[^1-9])/)?r="uint256"+r.substring(4):r.match(/^int($|[^1-9])/)&&(r="int256"+r.substring(3)),r}const Ew=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function us(r){return(!r||!r.match(Ew))&&Oe.throwArgumentError(`invalid identifier "${r}"`,"value",r),r}const hs=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function Tw(r){r=r.trim();let e=[],t="",n=0;for(let i=0;i<r.length;i++){let s=r[i];s===","&&n===0?(e.push(t),t=""):(t+=s,s==="("?n++:s===")"&&(n--,n===-1&&Oe.throwArgumentError("unbalanced parenthesis","value",r)))}return t&&e.push(t),e}const Vl=new Y(Es);function xp(r){const e=[],t=function(n,i){if(Array.isArray(i))for(let s in i){const o=n.slice();o.push(s);try{t(o,i[s])}catch(a){e.push({path:o,error:a})}}};return t([],r),e}class Kr{constructor(e,t,n,i){this.name=e,this.type=t,this.localName=n,this.dynamic=i}_throwError(e,t){Vl.throwArgumentError(e,this.localName,t)}}class Pc{constructor(e){ce(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return Ft(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(He(e._data))}writeBytes(e){let t=me(e);const n=t.length%this.wordSize;return n&&(t=He([t,this._padding.slice(n)])),this._writeData(t)}_getValue(e){let t=me(pe.from(e));return t.length>this.wordSize&&Vl.throwError("value out-of-bounds",Y.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=He([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class po{constructor(e,t,n,i){ce(this,"_data",me(e)),ce(this,"wordSize",t||32),ce(this,"_coerceFunc",n),ce(this,"allowLoose",i),this._offset=0}get data(){return xe(this._data)}get consumed(){return this._offset}static coerce(e,t){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):po.coerce(e,t)}_peekBytes(e,t,n){let i=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+t<=this._data.length?i=t:Vl.throwError("data out-of-bounds",Y.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new po(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let n=this._peekBytes(0,e,!!t);return this._offset+=n.length,n.slice(0,e)}readValue(){return pe.from(this.readBytes(this.wordSize))}}var gp={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(r){(function(){var e="input is invalid type",t="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=mt:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&r.exports,c=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",l="0123456789abcdef".split(""),u=[31,7936,2031616,520093696],d=[4,1024,262144,67108864],h=[1,256,65536,16777216],g=[6,1536,393216,100663296],b=[0,8,16,24],y=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],T=[224,256,384,512],w=[128,256],_=["hex","buffer","arrayBuffer","array","digest"],P={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(E){return Object.prototype.toString.call(E)==="[object Array]"}),c&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(E){return typeof E=="object"&&E.buffer&&E.buffer.constructor===ArrayBuffer});for(var D=function(E,J,oe){return function(F){return new m(E,J,E).update(F)[oe]()}},I=function(E,J,oe){return function(F,U){return new m(E,J,U).update(F)[oe]()}},B=function(E,J,oe){return function(F,U,H,ee){return p["cshake"+E].update(F,U,H,ee)[oe]()}},V=function(E,J,oe){return function(F,U,H,ee){return p["kmac"+E].update(F,U,H,ee)[oe]()}},z=function(E,J,oe,F){for(var U=0;U<_.length;++U){var H=_[U];E[H]=J(oe,F,H)}return E},he=function(E,J){var oe=D(E,J,"hex");return oe.create=function(){return new m(E,J,E)},oe.update=function(F){return oe.create().update(F)},z(oe,D,E,J)},X=function(E,J){var oe=I(E,J,"hex");return oe.create=function(F){return new m(E,J,F)},oe.update=function(F,U){return oe.create(U).update(F)},z(oe,I,E,J)},Q=function(E,J){var oe=P[E],F=B(E,J,"hex");return F.create=function(U,H,ee){return!H&&!ee?p["shake"+E].create(U):new m(E,J,U).bytepad([H,ee],oe)},F.update=function(U,H,ee,ae){return F.create(H,ee,ae).update(U)},z(F,B,E,J)},Z=function(E,J){var oe=P[E],F=V(E,J,"hex");return F.create=function(U,H,ee){return new S(E,J,H).bytepad(["KMAC",ee],oe).bytepad([U],oe)},F.update=function(U,H,ee,ae){return F.create(U,ee,ae).update(H)},z(F,V,E,J)},N=[{name:"keccak",padding:h,bits:T,createMethod:he},{name:"sha3",padding:g,bits:T,createMethod:he},{name:"shake",padding:u,bits:w,createMethod:X},{name:"cshake",padding:d,bits:w,createMethod:Q},{name:"kmac",padding:d,bits:w,createMethod:Z}],p={},v=[],C=0;C<N.length;++C)for(var R=N[C],L=R.bits,G=0;G<L.length;++G){var j=R.name+"_"+L[G];if(v.push(j),p[j]=R.createMethod(L[G],R.padding),R.name!=="sha3"){var k=R.name+L[G];v.push(k),p[k]=p[j]}}function m(E,J,oe){this.blocks=[],this.s=[],this.padding=J,this.outputBits=oe,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(E<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=oe>>5,this.extraBytes=(oe&31)>>3;for(var F=0;F<50;++F)this.s[F]=0}m.prototype.update=function(E){if(this.finalized)throw new Error(t);var J,oe=typeof E;if(oe!=="string"){if(oe==="object"){if(E===null)throw new Error(e);if(c&&E.constructor===ArrayBuffer)E=new Uint8Array(E);else if(!Array.isArray(E)&&(!c||!ArrayBuffer.isView(E)))throw new Error(e)}else throw new Error(e);J=!0}for(var F=this.blocks,U=this.byteCount,H=E.length,ee=this.blockCount,ae=0,be=this.s,ue,ie;ae<H;){if(this.reset)for(this.reset=!1,F[0]=this.block,ue=1;ue<ee+1;++ue)F[ue]=0;if(J)for(ue=this.start;ae<H&&ue<U;++ae)F[ue>>2]|=E[ae]<<b[ue++&3];else for(ue=this.start;ae<H&&ue<U;++ae)ie=E.charCodeAt(ae),ie<128?F[ue>>2]|=ie<<b[ue++&3]:ie<2048?(F[ue>>2]|=(192|ie>>6)<<b[ue++&3],F[ue>>2]|=(128|ie&63)<<b[ue++&3]):ie<55296||ie>=57344?(F[ue>>2]|=(224|ie>>12)<<b[ue++&3],F[ue>>2]|=(128|ie>>6&63)<<b[ue++&3],F[ue>>2]|=(128|ie&63)<<b[ue++&3]):(ie=65536+((ie&1023)<<10|E.charCodeAt(++ae)&1023),F[ue>>2]|=(240|ie>>18)<<b[ue++&3],F[ue>>2]|=(128|ie>>12&63)<<b[ue++&3],F[ue>>2]|=(128|ie>>6&63)<<b[ue++&3],F[ue>>2]|=(128|ie&63)<<b[ue++&3]);if(this.lastByteIndex=ue,ue>=U){for(this.start=ue-U,this.block=F[ee],ue=0;ue<ee;++ue)be[ue]^=F[ue];q(be),this.reset=!0}else this.start=ue}return this},m.prototype.encode=function(E,J){var oe=E&255,F=1,U=[oe];for(E=E>>8,oe=E&255;oe>0;)U.unshift(oe),E=E>>8,oe=E&255,++F;return J?U.push(F):U.unshift(F),this.update(U),U.length},m.prototype.encodeString=function(E){var J,oe=typeof E;if(oe!=="string"){if(oe==="object"){if(E===null)throw new Error(e);if(c&&E.constructor===ArrayBuffer)E=new Uint8Array(E);else if(!Array.isArray(E)&&(!c||!ArrayBuffer.isView(E)))throw new Error(e)}else throw new Error(e);J=!0}var F=0,U=E.length;if(J)F=U;else for(var H=0;H<E.length;++H){var ee=E.charCodeAt(H);ee<128?F+=1:ee<2048?F+=2:ee<55296||ee>=57344?F+=3:(ee=65536+((ee&1023)<<10|E.charCodeAt(++H)&1023),F+=4)}return F+=this.encode(F*8),this.update(E),F},m.prototype.bytepad=function(E,J){for(var oe=this.encode(J),F=0;F<E.length;++F)oe+=this.encodeString(E[F]);var U=J-oe%J,H=[];return H.length=U,this.update(H),this},m.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var E=this.blocks,J=this.lastByteIndex,oe=this.blockCount,F=this.s;if(E[J>>2]|=this.padding[J&3],this.lastByteIndex===this.byteCount)for(E[0]=E[oe],J=1;J<oe+1;++J)E[J]=0;for(E[oe-1]|=2147483648,J=0;J<oe;++J)F[J]^=E[J];q(F)}},m.prototype.toString=m.prototype.hex=function(){this.finalize();for(var E=this.blockCount,J=this.s,oe=this.outputBlocks,F=this.extraBytes,U=0,H=0,ee="",ae;H<oe;){for(U=0;U<E&&H<oe;++U,++H)ae=J[U],ee+=l[ae>>4&15]+l[ae&15]+l[ae>>12&15]+l[ae>>8&15]+l[ae>>20&15]+l[ae>>16&15]+l[ae>>28&15]+l[ae>>24&15];H%E===0&&(q(J),U=0)}return F&&(ae=J[U],ee+=l[ae>>4&15]+l[ae&15],F>1&&(ee+=l[ae>>12&15]+l[ae>>8&15]),F>2&&(ee+=l[ae>>20&15]+l[ae>>16&15])),ee},m.prototype.arrayBuffer=function(){this.finalize();var E=this.blockCount,J=this.s,oe=this.outputBlocks,F=this.extraBytes,U=0,H=0,ee=this.outputBits>>3,ae;F?ae=new ArrayBuffer(oe+1<<2):ae=new ArrayBuffer(ee);for(var be=new Uint32Array(ae);H<oe;){for(U=0;U<E&&H<oe;++U,++H)be[H]=J[U];H%E===0&&q(J)}return F&&(be[U]=J[U],ae=ae.slice(0,ee)),ae},m.prototype.buffer=m.prototype.arrayBuffer,m.prototype.digest=m.prototype.array=function(){this.finalize();for(var E=this.blockCount,J=this.s,oe=this.outputBlocks,F=this.extraBytes,U=0,H=0,ee=[],ae,be;H<oe;){for(U=0;U<E&&H<oe;++U,++H)ae=H<<2,be=J[U],ee[ae]=be&255,ee[ae+1]=be>>8&255,ee[ae+2]=be>>16&255,ee[ae+3]=be>>24&255;H%E===0&&q(J)}return F&&(ae=H<<2,be=J[U],ee[ae]=be&255,F>1&&(ee[ae+1]=be>>8&255),F>2&&(ee[ae+2]=be>>16&255)),ee};function S(E,J,oe){m.call(this,E,J,oe)}S.prototype=new m,S.prototype.finalize=function(){return this.encode(this.outputBits,!0),m.prototype.finalize.call(this)};var q=function(E){var J,oe,F,U,H,ee,ae,be,ue,ie,de,re,le,$,se,ye,ve,Se,Le,xt,ne,A,f,x,M,O,K,te,Ae,we,ge,ke,Te,$e,mn,ze,qe,xn,We,Ye,gn,Je,Xe,bn,Qe,Ze,yn,et,tt,wn,rt,nt,vn,it,st,An,ot,at,zr,qr,Wr,Yr,Jr;for(F=0;F<48;F+=2)U=E[0]^E[10]^E[20]^E[30]^E[40],H=E[1]^E[11]^E[21]^E[31]^E[41],ee=E[2]^E[12]^E[22]^E[32]^E[42],ae=E[3]^E[13]^E[23]^E[33]^E[43],be=E[4]^E[14]^E[24]^E[34]^E[44],ue=E[5]^E[15]^E[25]^E[35]^E[45],ie=E[6]^E[16]^E[26]^E[36]^E[46],de=E[7]^E[17]^E[27]^E[37]^E[47],re=E[8]^E[18]^E[28]^E[38]^E[48],le=E[9]^E[19]^E[29]^E[39]^E[49],J=re^(ee<<1|ae>>>31),oe=le^(ae<<1|ee>>>31),E[0]^=J,E[1]^=oe,E[10]^=J,E[11]^=oe,E[20]^=J,E[21]^=oe,E[30]^=J,E[31]^=oe,E[40]^=J,E[41]^=oe,J=U^(be<<1|ue>>>31),oe=H^(ue<<1|be>>>31),E[2]^=J,E[3]^=oe,E[12]^=J,E[13]^=oe,E[22]^=J,E[23]^=oe,E[32]^=J,E[33]^=oe,E[42]^=J,E[43]^=oe,J=ee^(ie<<1|de>>>31),oe=ae^(de<<1|ie>>>31),E[4]^=J,E[5]^=oe,E[14]^=J,E[15]^=oe,E[24]^=J,E[25]^=oe,E[34]^=J,E[35]^=oe,E[44]^=J,E[45]^=oe,J=be^(re<<1|le>>>31),oe=ue^(le<<1|re>>>31),E[6]^=J,E[7]^=oe,E[16]^=J,E[17]^=oe,E[26]^=J,E[27]^=oe,E[36]^=J,E[37]^=oe,E[46]^=J,E[47]^=oe,J=ie^(U<<1|H>>>31),oe=de^(H<<1|U>>>31),E[8]^=J,E[9]^=oe,E[18]^=J,E[19]^=oe,E[28]^=J,E[29]^=oe,E[38]^=J,E[39]^=oe,E[48]^=J,E[49]^=oe,$=E[0],se=E[1],Ze=E[11]<<4|E[10]>>>28,yn=E[10]<<4|E[11]>>>28,te=E[20]<<3|E[21]>>>29,Ae=E[21]<<3|E[20]>>>29,qr=E[31]<<9|E[30]>>>23,Wr=E[30]<<9|E[31]>>>23,Je=E[40]<<18|E[41]>>>14,Xe=E[41]<<18|E[40]>>>14,$e=E[2]<<1|E[3]>>>31,mn=E[3]<<1|E[2]>>>31,ye=E[13]<<12|E[12]>>>20,ve=E[12]<<12|E[13]>>>20,et=E[22]<<10|E[23]>>>22,tt=E[23]<<10|E[22]>>>22,we=E[33]<<13|E[32]>>>19,ge=E[32]<<13|E[33]>>>19,Yr=E[42]<<2|E[43]>>>30,Jr=E[43]<<2|E[42]>>>30,it=E[5]<<30|E[4]>>>2,st=E[4]<<30|E[5]>>>2,ze=E[14]<<6|E[15]>>>26,qe=E[15]<<6|E[14]>>>26,Se=E[25]<<11|E[24]>>>21,Le=E[24]<<11|E[25]>>>21,wn=E[34]<<15|E[35]>>>17,rt=E[35]<<15|E[34]>>>17,ke=E[45]<<29|E[44]>>>3,Te=E[44]<<29|E[45]>>>3,x=E[6]<<28|E[7]>>>4,M=E[7]<<28|E[6]>>>4,An=E[17]<<23|E[16]>>>9,ot=E[16]<<23|E[17]>>>9,xn=E[26]<<25|E[27]>>>7,We=E[27]<<25|E[26]>>>7,xt=E[36]<<21|E[37]>>>11,ne=E[37]<<21|E[36]>>>11,nt=E[47]<<24|E[46]>>>8,vn=E[46]<<24|E[47]>>>8,bn=E[8]<<27|E[9]>>>5,Qe=E[9]<<27|E[8]>>>5,O=E[18]<<20|E[19]>>>12,K=E[19]<<20|E[18]>>>12,at=E[29]<<7|E[28]>>>25,zr=E[28]<<7|E[29]>>>25,Ye=E[38]<<8|E[39]>>>24,gn=E[39]<<8|E[38]>>>24,A=E[48]<<14|E[49]>>>18,f=E[49]<<14|E[48]>>>18,E[0]=$^~ye&Se,E[1]=se^~ve&Le,E[10]=x^~O&te,E[11]=M^~K&Ae,E[20]=$e^~ze&xn,E[21]=mn^~qe&We,E[30]=bn^~Ze&et,E[31]=Qe^~yn&tt,E[40]=it^~An&at,E[41]=st^~ot&zr,E[2]=ye^~Se&xt,E[3]=ve^~Le&ne,E[12]=O^~te&we,E[13]=K^~Ae&ge,E[22]=ze^~xn&Ye,E[23]=qe^~We&gn,E[32]=Ze^~et&wn,E[33]=yn^~tt&rt,E[42]=An^~at&qr,E[43]=ot^~zr&Wr,E[4]=Se^~xt&A,E[5]=Le^~ne&f,E[14]=te^~we&ke,E[15]=Ae^~ge&Te,E[24]=xn^~Ye&Je,E[25]=We^~gn&Xe,E[34]=et^~wn&nt,E[35]=tt^~rt&vn,E[44]=at^~qr&Yr,E[45]=zr^~Wr&Jr,E[6]=xt^~A&$,E[7]=ne^~f&se,E[16]=we^~ke&x,E[17]=ge^~Te&M,E[26]=Ye^~Je&$e,E[27]=gn^~Xe&mn,E[36]=wn^~nt&bn,E[37]=rt^~vn&Qe,E[46]=qr^~Yr&it,E[47]=Wr^~Jr&st,E[8]=A^~$&ye,E[9]=f^~se&ve,E[18]=ke^~x&O,E[19]=Te^~M&K,E[28]=Je^~$e&ze,E[29]=Xe^~mn&qe,E[38]=nt^~bn&Ze,E[39]=vn^~Qe&yn,E[48]=Yr^~it&An,E[49]=Jr^~st&ot,E[0]^=y[F],E[1]^=y[F+1]};if(a)r.exports=p;else for(C=0;C<v.length;++C)i[v[C]]=p[v[C]]})()})(gp);var Sw=gp.exports;const kw=Ai(Sw);function Ve(r){return"0x"+kw.keccak_256(me(r))}const Cw="rlp/5.8.0",mr=new Y(Cw);function u0(r){const e=[];for(;r;)e.unshift(r&255),r>>=8;return e}function h0(r,e,t){let n=0;for(let i=0;i<t;i++)n=n*256+r[e+i];return n}function bp(r){if(Array.isArray(r)){let n=[];if(r.forEach(function(s){n=n.concat(bp(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=u0(n.length);return i.unshift(247+i.length),i.concat(n)}vs(r)||mr.throwArgumentError("RLP object must be BytesLike","object",r);const e=Array.prototype.slice.call(me(r));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=u0(e.length);return t.unshift(183+t.length),t.concat(e)}function Ln(r){return xe(bp(r))}function d0(r,e,t,n){const i=[];for(;t<e+1+n;){const s=yp(r,t);i.push(s.result),t+=s.consumed,t>e+1+n&&mr.throwError("child data too short",Y.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function yp(r,e){if(r.length===0&&mr.throwError("data too short",Y.errors.BUFFER_OVERRUN,{}),r[e]>=248){const t=r[e]-247;e+1+t>r.length&&mr.throwError("data short segment too short",Y.errors.BUFFER_OVERRUN,{});const n=h0(r,e+1,t);return e+1+t+n>r.length&&mr.throwError("data long segment too short",Y.errors.BUFFER_OVERRUN,{}),d0(r,e,e+1+t,t+n)}else if(r[e]>=192){const t=r[e]-192;return e+1+t>r.length&&mr.throwError("data array too short",Y.errors.BUFFER_OVERRUN,{}),d0(r,e,e+1,t)}else if(r[e]>=184){const t=r[e]-183;e+1+t>r.length&&mr.throwError("data array too short",Y.errors.BUFFER_OVERRUN,{});const n=h0(r,e+1,t);e+1+t+n>r.length&&mr.throwError("data array too short",Y.errors.BUFFER_OVERRUN,{});const i=xe(r.slice(e+1+t,e+1+t+n));return{consumed:1+t+n,result:i}}else if(r[e]>=128){const t=r[e]-128;e+1+t>r.length&&mr.throwError("data too short",Y.errors.BUFFER_OVERRUN,{});const n=xe(r.slice(e+1,e+1+t));return{consumed:1+t,result:n}}return{consumed:1,result:xe(r[e])}}function $o(r){const e=me(r),t=yp(e,0);return t.consumed!==e.length&&mr.throwArgumentError("invalid rlp data","data",r),t.result}const Mw=Object.freeze(Object.defineProperty({__proto__:null,decode:$o,encode:Ln},Symbol.toStringTag,{value:"Module"})),_w="address/5.8.0",nn=new Y(_w);function p0(r){Ne(r,20)||nn.throwArgumentError("invalid address","address",r),r=r.toLowerCase();const e=r.substring(2).split(""),t=new Uint8Array(40);for(let i=0;i<40;i++)t[i]=e[i].charCodeAt(0);const n=me(Ve(t));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const Nw=9007199254740991;function Rw(r){return Math.log10?Math.log10(r):Math.log(r)/Math.LN10}const Hl={};for(let r=0;r<10;r++)Hl[String(r)]=String(r);for(let r=0;r<26;r++)Hl[String.fromCharCode(65+r)]=String(10+r);const m0=Math.floor(Rw(Nw));function wp(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(n=>Hl[n]).join("");for(;e.length>=m0;){let n=e.substring(0,m0);e=parseInt(n,10)%97+e.substring(n.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}function Ue(r){let e=null;if(typeof r!="string"&&nn.throwArgumentError("invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/))r.substring(0,2)!=="0x"&&(r="0x"+r),e=p0(r),r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==r&&nn.throwArgumentError("bad address checksum","address",r);else if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(r.substring(2,4)!==wp(r)&&nn.throwArgumentError("bad icap checksum","address",r),e=dw(r.substring(4));e.length<40;)e="0"+e;e=p0("0x"+e)}else nn.throwArgumentError("invalid address","address",r);return e}function Pw(r){try{return Ue(r),!0}catch{}return!1}function Bw(r){let e=pw(Ue(r).substring(2)).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+wp("XE00"+e)+e}function jo(r){let e=null;try{e=Ue(r.from)}catch{nn.throwArgumentError("missing from address","transaction",r)}const t=Ar(me(pe.from(r.nonce).toHexString()));return Ue(yt(Ve(Ln([e,t])),12))}function Iw(r,e,t){return kr(e)!==32&&nn.throwArgumentError("salt must be 32 bytes","salt",e),kr(t)!==32&&nn.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",t),Ue(yt(Ve(He(["0xff",Ue(r),e,t])),12))}class Ow extends Kr{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=Ue(t)}catch(n){this._throwError(n.message,t)}return e.writeValue(t)}decode(e){return Ue(Ke(e.readValue().toHexString(),20))}}class Lw extends Kr{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const si=new Y(Es);function vp(r,e,t){let n=null;if(Array.isArray(t))n=t;else if(t&&typeof t=="object"){let c={};n=e.map(l=>{const u=l.localName;return u||si.throwError("cannot encode object for signature with missing names",Y.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:t}),c[u]&&si.throwError("cannot encode object for signature with duplicate names",Y.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:t}),c[u]=!0,t[u]})}else si.throwArgumentError("invalid tuple value","tuple",t);e.length!==n.length&&si.throwArgumentError("types/value length mismatch","tuple",t);let i=new Pc(r.wordSize),s=new Pc(r.wordSize),o=[];e.forEach((c,l)=>{let u=n[l];if(c.dynamic){let d=s.length;c.encode(s,u);let h=i.writeUpdatableValue();o.push(g=>{h(g+d)})}else c.encode(i,u)}),o.forEach(c=>{c(i.length)});let a=r.appendWriter(i);return a+=r.appendWriter(s),a}function Ap(r,e){let t=[],n=r.subReader(0);e.forEach(s=>{let o=null;if(s.dynamic){let a=r.readValue(),c=n.subReader(a.toNumber());try{o=s.decode(c)}catch(l){if(l.code===Y.errors.BUFFER_OVERRUN)throw l;o=l,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(r)}catch(a){if(a.code===Y.errors.BUFFER_OVERRUN)throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}o!=null&&t.push(o)});const i=e.reduce((s,o)=>{const a=o.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});e.forEach((s,o)=>{let a=s.localName;if(!a||i[a]!==1||(a==="length"&&(a="_length"),t[a]!=null))return;const c=t[o];c instanceof Error?Object.defineProperty(t,a,{enumerable:!0,get:()=>{throw c}}):t[a]=c});for(let s=0;s<t.length;s++){const o=t[s];o instanceof Error&&Object.defineProperty(t,s,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(t)}class Fw extends Kr{constructor(e,t,n){const i=e.type+"["+(t>=0?t:"")+"]",s=t===-1||e.dynamic;super("array",i,n,s),this.coder=e,this.length=t}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let n=this.length;n===-1&&(n=t.length,e.writeValue(t.length)),si.checkArgumentCount(t.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<t.length;s++)i.push(this.coder);return vp(e,i,t)}decode(e){let t=this.length;t===-1&&(t=e.readValue().toNumber(),t*32>e._data.length&&si.throwError("insufficient data length",Y.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}));let n=[];for(let i=0;i<t;i++)n.push(new Lw(this.coder));return e.coerce(this.name,Ap(e,n))}}class Dw extends Kr{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class Ep extends Kr{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=me(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class Uw extends Ep{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,xe(super.decode(e)))}}class $w extends Kr{constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,t){let n=me(t);return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return e.coerce(this.name,xe(e.readBytes(this.size)))}}class jw extends Kr{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const Tp="0x0000000000000000000000000000000000000000",Sp=pe.from(-1),Kl=pe.from(0),kp=pe.from(1),Vw=pe.from(2),Hw=pe.from("1000000000000000000"),Cp=pe.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Kw=pe.from("-0x8000000000000000000000000000000000000000000000000000000000000000"),Gw=pe.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Gl="0x0000000000000000000000000000000000000000000000000000000000000000",zw="",Mp=Object.freeze(Object.defineProperty({__proto__:null,AddressZero:Tp,EtherSymbol:zw,HashZero:Gl,MaxInt256:Gw,MaxUint256:Cp,MinInt256:Kw,NegativeOne:Sp,One:kp,Two:Vw,WeiPerEther:Hw,Zero:Kl},Symbol.toStringTag,{value:"Module"}));class qw extends Kr{constructor(e,t,n){const i=(t?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let n=pe.from(t),i=Cp.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(n.gt(s)||n.lt(s.add(kp).mul(Sp)))&&this._throwError("value out-of-bounds",t)}else(n.lt(Kl)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",t);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let t=e.readValue().mask(this.size*8);return this.signed&&(t=t.fromTwos(this.size*8)),e.coerce(this.name,t)}}const Ww="strings/5.8.0",_p=new Y(Ww);var Cr;(function(r){r.current="",r.NFC="NFC",r.NFD="NFD",r.NFKC="NFKC",r.NFKD="NFKD"})(Cr||(Cr={}));var Vt;(function(r){r.UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation"})(Vt||(Vt={}));function Yw(r,e,t,n,i){return _p.throwArgumentError(`invalid codepoint at offset ${e}; ${r}`,"bytes",t)}function Np(r,e,t,n,i){if(r===Vt.BAD_PREFIX||r===Vt.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<t.length&&t[o]>>6===2;o++)s++;return s}return r===Vt.OVERRUN?t.length-e-1:0}function Jw(r,e,t,n,i){return r===Vt.OVERLONG?(n.push(i),0):(n.push(65533),Np(r,e,t))}const Rp=Object.freeze({error:Yw,ignore:Np,replace:Jw});function zl(r,e){e==null&&(e=Rp.error),r=me(r);const t=[];let n=0;for(;n<r.length;){const i=r[n++];if(!(i>>7)){t.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(Vt.UNEXPECTED_CONTINUE,n-1,r,t):n+=e(Vt.BAD_PREFIX,n-1,r,t);continue}if(n-1+s>=r.length){n+=e(Vt.OVERRUN,n-1,r,t);continue}let a=i&(1<<8-s-1)-1;for(let c=0;c<s;c++){let l=r[n];if((l&192)!=128){n+=e(Vt.MISSING_CONTINUE,n,r,t),a=null;break}a=a<<6|l&63,n++}if(a!==null){if(a>1114111){n+=e(Vt.OUT_OF_RANGE,n-1-s,r,t,a);continue}if(a>=55296&&a<=57343){n+=e(Vt.UTF16_SURROGATE,n-1-s,r,t,a);continue}if(a<=o){n+=e(Vt.OVERLONG,n-1-s,r,t,a);continue}t.push(a)}}return t}function wt(r,e=Cr.current){e!=Cr.current&&(_p.checkNormalize(),r=r.normalize(e));let t=[];for(let n=0;n<r.length;n++){const i=r.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192),t.push(i&63|128);else if((i&64512)==55296){n++;const s=r.charCodeAt(n);if(n>=r.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(o&63|128)}else t.push(i>>12|224),t.push(i>>6&63|128),t.push(i&63|128)}return me(t)}function qa(r){const e="0000"+r.toString(16);return"\\u"+e.substring(e.length-4)}function Xw(r,e){return'"'+zl(r,e).map(t=>{if(t<256){switch(t){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(t>=32&&t<127)return String.fromCharCode(t)}return t<=65535?qa(t):(t-=65536,qa((t>>10&1023)+55296)+qa((t&1023)+56320))}).join("")+'"'}function Bc(r){return r.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Hn(r,e){return Bc(zl(r,e))}function mo(r,e=Cr.current){return zl(wt(r,e))}function Qw(r){const e=wt(r);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return xe(He([e,Gl]).slice(0,32))}function Zw(r){const e=me(r);if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let t=31;for(;e[t-1]===0;)t--;return Hn(e.slice(0,t))}function e3(r){if(r.length%4!==0)throw new Error("bad data");let e=[];for(let t=0;t<r.length;t+=4)e.push(parseInt(r.substring(t,t+4),16));return e}function ql(r,e){e||(e=function(i){return[parseInt(i,16)]});let t=0,n={};return r.split(",").forEach(i=>{let s=i.split(":");t+=parseInt(s[0],16),n[t]=e(s[1])}),n}function Pp(r){let e=0;return r.split(",").map(t=>{let n=t.split("-");n.length===1?n[1]="0":n[1]===""&&(n[1]="1");let i=e+parseInt(n[0],16);return e=parseInt(n[1],16),{l:i,h:e}})}function Wl(r,e){let t=0;for(let n=0;n<e.length;n++){let i=e[n];if(t+=i.l,r>=t&&r<=t+i.h&&(r-t)%(i.d||1)===0){if(i.e&&i.e.indexOf(r-t)!==-1)continue;return i}}return null}const t3=Pp("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),r3="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(r=>parseInt(r,16)),n3=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],i3=ql("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),s3=ql("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),o3=ql("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",e3),a3=Pp("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function c3(r){return r.reduce((e,t)=>(t.forEach(n=>{e.push(n)}),e),[])}function l3(r){return!!Wl(r,t3)}function f3(r){let e=Wl(r,n3);if(e)return[r+e.s];let t=i3[r];if(t)return t;let n=s3[r];if(n)return[r+n[0]];let i=o3[r];return i||null}function u3(r){return!!Wl(r,a3)}function h3(r){if(r.match(/^[a-z0-9-]*$/i)&&r.length<=59)return r.toLowerCase();let e=mo(r);e=c3(e.map(n=>{if(r3.indexOf(n)>=0)return[];if(n>=65024&&n<=65039)return[];let i=f3(n);return i||[n]})),e=mo(Bc(e),Cr.NFKC),e.forEach(n=>{if(u3(n))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),e.forEach(n=>{if(l3(n))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let t=Bc(e);if(t.substring(0,1)==="-"||t.substring(2,4)==="--"||t.substring(t.length-1)==="-")throw new Error("invalid hyphen");return t}class d3 extends Ep{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,wt(t))}decode(e){return Hn(super.decode(e))}}class Is extends Kr{constructor(e,t){let n=!1;const i=[];e.forEach(o=>{o.dynamic&&(n=!0),i.push(o.type)});const s="tuple("+i.join(",")+")";super("tuple",s,t,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const t=this.coders.reduce((n,i)=>{const s=i.localName;return s&&(n[s]||(n[s]=0),n[s]++),n},{});return this.coders.forEach((n,i)=>{let s=n.localName;!s||t[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,t){return vp(e,this.coders,t)}decode(e){return e.coerce(this.name,Ap(e,this.coders))}}const Os=new Y(Es),p3=new RegExp(/^bytes([0-9]*)$/),m3=new RegExp(/^(u?int)([0-9]*)$/);class Bp{constructor(e){ce(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new Ow(e.name);case"bool":return new Dw(e.name);case"string":return new d3(e.name);case"bytes":return new Uw(e.name);case"array":return new Fw(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Is((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new jw(e.name)}let t=e.type.match(m3);if(t){let n=parseInt(t[2]||"256");return(n===0||n>256||n%8!==0)&&Os.throwArgumentError("invalid "+t[1]+" bit length","param",e),new qw(n/8,t[1]==="int",e.name)}if(t=e.type.match(p3),t){let n=parseInt(t[1]);return(n===0||n>32)&&Os.throwArgumentError("invalid bytes length","param",e),new $w(n,e.name)}return Os.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new po(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new Pc(this._getWordSize())}getDefaultValue(e){const t=e.map(i=>this._getCoder(Et.from(i)));return new Is(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&Os.throwError("types/values length mismatch",Y.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const n=e.map(o=>this._getCoder(Et.from(o))),i=new Is(n,"_"),s=this._getWriter();return i.encode(s,t),s.data}decode(e,t,n){const i=e.map(o=>this._getCoder(Et.from(o)));return new Is(i,"_").decode(this._getReader(me(t),n))}}const Ip=new Bp;function sn(r){return Ve(wt(r))}const Op="hash/5.8.0";function Yl(r){r=atob(r);const e=[];for(let t=0;t<r.length;t++)e.push(r.charCodeAt(t));return me(e)}function Jl(r){r=me(r);let e="";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return btoa(e)}const x3=Object.freeze(Object.defineProperty({__proto__:null,decode:Yl,encode:Jl},Symbol.toStringTag,{value:"Module"}));function Lp(r,e){e==null&&(e=1);const t=[],n=t.forEach,i=function(s,o){n.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):t.push(a)})};return i(r,e),t}function g3(r){const e={};for(let t=0;t<r.length;t++){const n=r[t];e[n[0]]=n[1]}return e}function b3(r){let e=0;function t(){return r[e++]<<8|r[e++]}let n=t(),i=1,s=[0,1];for(let I=1;I<n;I++)s.push(i+=t());let o=t(),a=e;e+=o;let c=0,l=0;function u(){return c==0&&(l=l<<8|r[e++],c=8),l>>--c&1}const d=31,h=Math.pow(2,d),g=h>>>1,b=g>>1,y=h-1;let T=0;for(let I=0;I<d;I++)T=T<<1|u();let w=[],_=0,P=h;for(;;){let I=Math.floor(((T-_+1)*i-1)/P),B=0,V=n;for(;V-B>1;){let X=B+V>>>1;I<s[X]?V=X:B=X}if(B==0)break;w.push(B);let z=_+Math.floor(P*s[B]/i),he=_+Math.floor(P*s[B+1]/i)-1;for(;!((z^he)&g);)T=T<<1&y|u(),z=z<<1&y,he=he<<1&y|1;for(;z&~he&b;)T=T&g|T<<1&y>>>1|u(),z=z<<1^g,he=(he^g)<<1|g|1;_=z,P=1+he-z}let D=n-4;return w.map(I=>{switch(I-D){case 3:return D+65792+(r[a++]<<16|r[a++]<<8|r[a++]);case 2:return D+256+(r[a++]<<8|r[a++]);case 1:return D+r[a++];default:return I-1}})}function y3(r){let e=0;return()=>r[e++]}function w3(r){return y3(b3(r))}function v3(r){return r&1?~r>>1:r>>1}function A3(r,e){let t=Array(r);for(let n=0;n<r;n++)t[n]=1+e();return t}function x0(r,e){let t=Array(r);for(let n=0,i=-1;n<r;n++)t[n]=i+=1+e();return t}function E3(r,e){let t=Array(r);for(let n=0,i=0;n<r;n++)t[n]=i+=v3(e());return t}function xo(r,e){let t=x0(r(),r),n=r(),i=x0(n,r),s=A3(n,r);for(let o=0;o<n;o++)for(let a=0;a<s[o];a++)t.push(i[o]+a);return e?t.map(o=>e[o]):t}function T3(r){let e=[];for(;;){let t=r();if(t==0)break;e.push(k3(t,r))}for(;;){let t=r()-1;if(t<0)break;e.push(C3(t,r))}return g3(Lp(e))}function S3(r){let e=[];for(;;){let t=r();if(t==0)break;e.push(t)}return e}function Fp(r,e,t){let n=Array(r).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)E3(r,t).forEach((s,o)=>n[o].push(s));return n}function k3(r,e){let t=1+e(),n=e(),i=S3(e),s=Fp(i.length,1+r,e);return Lp(s.map((o,a)=>{const c=o[0],l=o.slice(1);return Array(i[a]).fill(void 0).map((u,d)=>{let h=d*n;return[c+d*t,l.map(g=>g+h)]})}))}function C3(r,e){let t=1+e();return Fp(t,1+r,e).map(i=>[i[0],i.slice(1)])}function M3(r){let e=xo(r).sort((n,i)=>n-i);return t();function t(){let n=[];for(;;){let l=xo(r,e);if(l.length==0)break;n.push({set:new Set(l),node:t()})}n.sort((l,u)=>u.set.size-l.set.size);let i=r(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,c=i==2;return{branches:n,valid:s,fe0f:o,save:a,check:c}}}function _3(){return w3(Yl("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const Vo=_3(),N3=new Set(xo(Vo)),R3=new Set(xo(Vo)),P3=T3(Vo),B3=M3(Vo),g0=45,b0=95;function Dp(r){return mo(r)}function I3(r){return r.filter(e=>e!=65039)}function Up(r){for(let e of r.split(".")){let t=Dp(e);try{for(let n=t.lastIndexOf(b0)-1;n>=0;n--)if(t[n]!==b0)throw new Error("underscore only allowed at start");if(t.length>=4&&t.every(n=>n<128)&&t[2]===g0&&t[3]===g0)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return r}function O3(r){return Up(L3(r,I3))}function L3(r,e){let t=Dp(r).reverse(),n=[];for(;t.length;){let i=D3(t);if(i){n.push(...e(i));continue}let s=t.pop();if(N3.has(s)){n.push(s);continue}if(R3.has(s))continue;let o=P3[s];if(o){n.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return Up(F3(String.fromCodePoint(...n)))}function F3(r){return r.normalize("NFC")}function D3(r,e){var t;let n=B3,i,s,o=[],a=r.length;for(;a;){let c=r[--a];if(n=(t=n.branches.find(l=>l.set.has(c)))===null||t===void 0?void 0:t.node,!n)break;if(n.save)s=c;else if(n.check&&c===s)break;o.push(c),n.fe0f&&(o.push(65039),a>0&&r[a-1]==65039&&a--),n.valid&&(i=o.slice(),n.valid==2&&i.splice(1,1),r.length=a)}return i}const U3=new Y(Op),$p=new Uint8Array(32);$p.fill(0);function y0(r){if(r.length===0)throw new Error("invalid ENS name; empty component");return r}function Xl(r){const e=wt(O3(r)),t=[];if(r.length===0)return t;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(t.push(y0(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return t.push(y0(e.slice(n))),t}function $3(r){try{return Xl(r).length!==0}catch{}return!1}function Qi(r){typeof r!="string"&&U3.throwArgumentError("invalid ENS name; not a string","name",r);let e=$p;const t=Xl(r);for(;t.length;)e=Ve(He([e,Ve(t.pop())]));return xe(e)}function jp(r){return xe(He(Xl(r).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t})))+"00"}const j3=`Ethereum Signed Message:
`;function Ql(r){return typeof r=="string"&&(r=wt(r)),Ve(He([wt(j3),wt(String(r.length)),r]))}var V3=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(r,e||[])).next())})};const ft=new Y(Op),Vp=new Uint8Array(32);Vp.fill(0);const H3=pe.from(-1),Hp=pe.from(0),Kp=pe.from(1),K3=pe.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function G3(r){const e=me(r),t=e.length%32;return t?Ft([e,Vp.slice(t)]):xe(e)}const z3=Ke(Kp.toHexString(),32),q3=Ke(Hp.toHexString(),32),w0={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Wa=["name","version","chainId","verifyingContract","salt"];function v0(r){return function(e){return typeof e!="string"&&ft.throwArgumentError(`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,e),e}}const W3={name:v0("name"),version:v0("version"),chainId:function(r){try{return pe.from(r).toString()}catch{}return ft.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",r)},verifyingContract:function(r){try{return Ue(r).toLowerCase()}catch{}return ft.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){try{const e=me(r);if(e.length!==32)throw new Error("bad length");return xe(e)}catch{}return ft.throwArgumentError('invalid domain value "salt"',"domain.salt",r)}};function Ya(r){{const e=r.match(/^(u?)int(\d*)$/);if(e){const t=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&ft.throwArgumentError("invalid numeric width","type",r);const i=K3.mask(t?n-1:n),s=t?i.add(Kp).mul(H3):Hp;return function(o){const a=pe.from(o);return(a.lt(s)||a.gt(i))&&ft.throwArgumentError(`value out-of-bounds for ${r}`,"value",o),Ke(a.toTwos(256).toHexString(),32)}}}{const e=r.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return(t===0||t>32||e[1]!==String(t))&&ft.throwArgumentError("invalid bytes width","type",r),function(n){return me(n).length!==t&&ft.throwArgumentError(`invalid length for ${r}`,"value",n),G3(n)}}}switch(r){case"address":return function(e){return Ke(Ue(e),32)};case"bool":return function(e){return e?z3:q3};case"bytes":return function(e){return Ve(e)};case"string":return function(e){return sn(e)}}return null}function A0(r,e){return`${r}(${e.map(({name:t,type:n})=>n+" "+t).join(",")})`}class kt{constructor(e){ce(this,"types",Object.freeze(Ut(e))),ce(this,"_encoderCache",{}),ce(this,"_types",{});const t={},n={},i={};Object.keys(e).forEach(a=>{t[a]={},n[a]=[],i[a]={}});for(const a in e){const c={};e[a].forEach(l=>{c[l.name]&&ft.throwArgumentError(`duplicate variable name ${JSON.stringify(l.name)} in ${JSON.stringify(a)}`,"types",e),c[l.name]=!0;const u=l.type.match(/^([^\x5b]*)(\x5b|$)/)[1];u===a&&ft.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",e),!Ya(u)&&(n[u]||ft.throwArgumentError(`unknown type ${JSON.stringify(u)}`,"types",e),n[u].push(a),t[a][u]=!0)})}const s=Object.keys(n).filter(a=>n[a].length===0);s.length===0?ft.throwArgumentError("missing primary type","types",e):s.length>1&&ft.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),ce(this,"primaryType",s[0]);function o(a,c){c[a]&&ft.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),c[a]=!0,Object.keys(t[a]).forEach(l=>{n[l]&&(o(l,c),Object.keys(c).forEach(u=>{i[u][l]=!0}))}),delete c[a]}o(this.primaryType,{});for(const a in i){const c=Object.keys(i[a]);c.sort(),this._types[a]=A0(a,e[a])+c.map(l=>A0(l,e[l])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const i=Ya(e);if(i)return i}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const i=t[1],s=this.getEncoder(i),o=parseInt(t[3]);return a=>{o>=0&&a.length!==o&&ft.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let c=a.map(s);return this._types[i]&&(c=c.map(Ve)),Ve(Ft(c))}}const n=this.types[e];if(n){const i=sn(this._types[e]);return s=>{const o=n.map(({name:a,type:c})=>{const l=this.getEncoder(c)(s[a]);return this._types[c]?Ve(l):l});return o.unshift(i),Ft(o)}}return ft.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];return t||ft.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Ve(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(Ya(e))return n(e,t);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&t.length!==a&&ft.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(c=>this._visit(o,c,n))}const s=this.types[e];return s?s.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,t[a],n),o),{}):ft.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new kt(e)}static getPrimaryType(e){return kt.from(e).primaryType}static hashStruct(e,t,n){return kt.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){const i=w0[n];i||ft.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:i})}return t.sort((n,i)=>Wa.indexOf(n.name)-Wa.indexOf(i.name)),kt.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return Ft(["0x1901",kt.hashDomain(e),kt.from(t).hash(n)])}static hash(e,t,n){return Ve(kt.encode(e,t,n))}static resolveNames(e,t,n,i){return V3(this,void 0,void 0,function*(){e=Ge(e);const s={};e.verifyingContract&&!Ne(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=kt.from(t);o.visit(n,(a,c)=>(a==="address"&&!Ne(c,20)&&(s[c]="0x"),c));for(const a in s)s[a]=yield i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=o.visit(n,(a,c)=>a==="address"&&s[c]?s[c]:c),{domain:e,value:n}})}static getPayload(e,t,n){kt.hashDomain(e);const i={},s=[];Wa.forEach(c=>{const l=e[c];l!=null&&(i[c]=W3[c](l),s.push({name:c,type:w0[c]}))});const o=kt.from(t),a=Ge(t);return a.EIP712Domain?ft.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):a.EIP712Domain=s,o.encode(n),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(n,(c,l)=>{if(c.match(/^bytes(\d*)/))return xe(me(l));if(c.match(/^u?int/))return pe.from(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return typeof l!="string"&&ft.throwArgumentError("invalid string","value",l),l}return ft.throwArgumentError("unsupported type","type",c)})}}}const lt=new Y(Es);class Gp extends Vn{}class zp extends Vn{}class Y3 extends Vn{}class go extends Vn{static isIndexed(e){return!!(e&&e._isIndexed)}}const J3={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function E0(r,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${r}`);return t.error=e,t}class Ic{constructor(e){let t=[];typeof e=="string"?t=JSON.parse(e):t=e,ce(this,"fragments",t.map(n=>br.from(n)).filter(n=>n!=null)),ce(this,"_abiCoder",Ct(new.target,"getAbiCoder")()),ce(this,"functions",{}),ce(this,"errors",{}),ce(this,"events",{}),ce(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){lt.warn("duplicate definition - constructor");return}ce(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=n.format();if(i[s]){lt.warn("duplicate definition - "+s);return}i[s]=n}),this.deploy||ce(this,"deploy",lr.from({payable:!1,type:"constructor"})),ce(this,"_isInterface",!0)}format(e){e||(e=Fe.full),e===Fe.sighash&&lt.throwArgumentError("interface does not support formatting sighash","format",e);const t=this.fragments.map(n=>n.format(e));return e===Fe.json?JSON.stringify(t.map(n=>JSON.parse(n))):t}static getAbiCoder(){return Ip}static getAddress(e){return Ue(e)}static getSighash(e){return yt(sn(e.format()),0,4)}static getEventTopic(e){return sn(e.format())}getFunction(e){if(Ne(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];lt.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===n);return i.length===0?lt.throwArgumentError("no matching function","name",n):i.length>1&&lt.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const t=this.functions[fr.fromString(e).format()];return t||lt.throwArgumentError("no matching function","signature",e),t}getEvent(e){if(Ne(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];lt.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===n);return i.length===0?lt.throwArgumentError("no matching event","name",n):i.length>1&&lt.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const t=this.events[gr.fromString(e).format()];return t||lt.throwArgumentError("no matching event","signature",e),t}getError(e){if(Ne(e)){const n=Ct(this.constructor,"getSighash");for(const i in this.errors){const s=this.errors[i];if(e===n(s))return this.errors[i]}lt.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===n);return i.length===0?lt.throwArgumentError("no matching error","name",n):i.length>1&&lt.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const t=this.errors[fr.fromString(e).format()];return t||lt.throwArgumentError("no matching error","signature",e),t}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch{throw t}}return Ct(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Ct(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){typeof e=="string"&&(e=this.getError(e));const n=me(t);return xe(n.slice(0,4))!==this.getSighash(e)&&lt.throwArgumentError(`data signature does not match error ${e.name}.`,"data",xe(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,t){return typeof e=="string"&&(e=this.getError(e)),xe(He([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){typeof e=="string"&&(e=this.getFunction(e));const n=me(t);return xe(n.slice(0,4))!==this.getSighash(e)&&lt.throwArgumentError(`data signature does not match function ${e.name}.`,"data",xe(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,t){return typeof e=="string"&&(e=this.getFunction(e)),xe(He([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){typeof e=="string"&&(e=this.getFunction(e));let n=me(t),i=null,s="",o=null,a=null,c=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const l=xe(n.slice(0,4)),u=J3[l];if(u)o=this._abiCoder.decode(u.inputs,n.slice(4)),a=u.name,c=u.signature,u.reason&&(i=o[0]),a==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:a==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{const d=this.getError(l);o=this._abiCoder.decode(d.inputs,n.slice(4)),a=d.name,c=d.format()}catch{}break}}return lt.throwError("call revert exception"+s,Y.errors.CALL_EXCEPTION,{method:e.format(),data:xe(t),errorArgs:o,errorName:a,errorSignature:c,reason:i})}encodeFunctionResult(e,t){return typeof e=="string"&&(e=this.getFunction(e)),xe(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){typeof e=="string"&&(e=this.getEvent(e)),t.length>e.inputs.length&&lt.throwError("too many arguments for "+e.format(),Y.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(s,o)=>s.type==="string"?sn(o):s.type==="bytes"?Ve(xe(o)):(s.type==="bool"&&typeof o=="boolean"&&(o=o?"0x01":"0x00"),s.type.match(/^u?int/)&&(o=pe.from(o).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[o]),Ke(xe(o),32));for(t.forEach((s,o)=>{let a=e.inputs[o];if(!a.indexed){s!=null&&lt.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?lt.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?n.push(s.map(c=>i(a,c))):n.push(i(a,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,t){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],s=[];return e.anonymous||n.push(this.getEventTopic(e)),t.length!==e.inputs.length&&lt.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((o,a)=>{const c=t[a];if(o.indexed)if(o.type==="string")n.push(sn(c));else if(o.type==="bytes")n.push(Ve(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([o.type],[c]))}else i.push(o),s.push(c)}),{data:this._abiCoder.encode(i,s),topics:n}}decodeEventLog(e,t,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let h=this.getEventTopic(e);(!Ne(n[0],32)||n[0].toLowerCase()!==h)&&lt.throwError("fragment/topic mismatch",Y.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:h,value:n[0]}),n=n.slice(1)}let i=[],s=[],o=[];e.inputs.forEach((h,g)=>{h.indexed?h.type==="string"||h.type==="bytes"||h.baseType==="tuple"||h.baseType==="array"?(i.push(Et.fromObject({type:"bytes32",name:h.name})),o.push(!0)):(i.push(h),o.push(!1)):(s.push(h),o.push(!1))});let a=n!=null?this._abiCoder.decode(i,He(n)):null,c=this._abiCoder.decode(s,t,!0),l=[],u=0,d=0;e.inputs.forEach((h,g)=>{if(h.indexed)if(a==null)l[g]=new go({_isIndexed:!0,hash:null});else if(o[g])l[g]=new go({_isIndexed:!0,hash:a[d++]});else try{l[g]=a[d++]}catch(b){l[g]=b}else try{l[g]=c[u++]}catch(b){l[g]=b}if(h.name&&l[h.name]==null){const b=l[g];b instanceof Error?Object.defineProperty(l,h.name,{enumerable:!0,get:()=>{throw E0(`property ${JSON.stringify(h.name)}`,b)}}):l[h.name]=b}});for(let h=0;h<l.length;h++){const g=l[h];g instanceof Error&&Object.defineProperty(l,h,{enumerable:!0,get:()=>{throw E0(`index ${h}`,g)}})}return Object.freeze(l)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new zp({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:pe.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new Gp({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){const t=xe(e);let n=this.getError(t.substring(0,10).toLowerCase());return n?new Y3({args:this._abiCoder.decode(n.inputs,"0x"+t.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const X3="abstract-provider/5.8.0";var Q3=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(r,e||[])).next())})};const Z3=new Y(X3);class ev extends Vn{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class Kn{constructor(){Z3.checkAbstract(new.target,Kn),ce(this,"_isProvider",!0)}getFeeData(){return Q3(this,void 0,void 0,function*(){const{block:e,gasPrice:t}=yield pt({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let n=null,i=null,s=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,s=pe.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:t}})}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}}const tv="abstract-signer/5.8.0";var ir=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(r,e||[])).next())})};const Qt=new Y(tv),rv=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],nv=[Y.errors.INSUFFICIENT_FUNDS,Y.errors.NONCE_EXPIRED,Y.errors.REPLACEMENT_UNDERPRICED];class Gr{constructor(){Qt.checkAbstract(new.target,Gr),ce(this,"_isSigner",!0)}getBalance(e){return ir(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return ir(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return ir(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const t=yield pt(this.checkTransaction(e));return yield this.provider.estimateGas(t)})}call(e,t){return ir(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield pt(this.checkTransaction(e));return yield this.provider.call(n,t)})}sendTransaction(e){return ir(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e),n=yield this.signTransaction(t);return yield this.provider.sendTransaction(n)})}getChainId(){return ir(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return ir(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return ir(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return ir(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)rv.indexOf(n)===-1&&Qt.throwArgumentError("invalid transaction key: "+n,"transaction",e);const t=Ge(e);return t.from==null?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&Qt.throwArgumentError("from address mismatch","transaction",e),n[0])),t}populateTransaction(e){return ir(this,void 0,void 0,function*(){const t=yield pt(this.checkTransaction(e));t.to!=null&&(t.to=Promise.resolve(t.to).then(i=>ir(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&Qt.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),t.to.catch(i=>{}));const n=t.maxFeePerGas!=null||t.maxPriorityFeePerGas!=null;if(t.gasPrice!=null&&(t.type===2||n)?Qt.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(t.type===0||t.type===1)&&n&&Qt.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(t.type===2||t.type==null)&&t.maxFeePerGas!=null&&t.maxPriorityFeePerGas!=null)t.type=2;else if(t.type===0||t.type===1)t.gasPrice==null&&(t.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(t.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(t.type=2,t.gasPrice!=null){const s=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=s,t.maxPriorityFeePerGas=s}else t.maxFeePerGas==null&&(t.maxFeePerGas=i.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&Qt.throwError("network does not support EIP-1559",Y.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),t.gasPrice==null&&(t.gasPrice=i.gasPrice),t.type=0):Qt.throwError("failed to get consistent fee data",Y.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else t.type===2&&(t.maxFeePerGas==null&&(t.maxFeePerGas=i.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return t.nonce==null&&(t.nonce=this.getTransactionCount("pending")),t.gasLimit==null&&(t.gasLimit=this.estimateGas(t).catch(i=>{if(nv.indexOf(i.code)>=0)throw i;return Qt.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Y.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:t})})),t.chainId==null?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&Qt.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield pt(t)})}_checkProvider(e){this.provider||Qt.throwError("missing provider",Y.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class Ts extends Gr{constructor(e,t){super(),ce(this,"address",e),ce(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then(()=>{Qt.throwError(e,Y.errors.UNSUPPORTED_OPERATION,{operation:t})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new Ts(this.address,e)}}var qp={},Ie={},Ss=Wp;function Wp(r,e){if(!r)throw new Error(e||"Assertion failed")}Wp.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var iv=Ss,sv=qx;Ie.inherits=sv;function ov(r,e){return(r.charCodeAt(e)&64512)!==55296||e<0||e+1>=r.length?!1:(r.charCodeAt(e+1)&64512)===56320}function av(r,e){if(Array.isArray(r))return r.slice();if(!r)return[];var t=[];if(typeof r=="string")if(e){if(e==="hex")for(r=r.replace(/[^a-z0-9]+/ig,""),r.length%2!==0&&(r="0"+r),i=0;i<r.length;i+=2)t.push(parseInt(r[i]+r[i+1],16))}else for(var n=0,i=0;i<r.length;i++){var s=r.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):ov(r,i)?(s=65536+((s&1023)<<10)+(r.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}else for(i=0;i<r.length;i++)t[i]=r[i]|0;return t}Ie.toArray=av;function cv(r){for(var e="",t=0;t<r.length;t++)e+=Jp(r[t].toString(16));return e}Ie.toHex=cv;function Yp(r){var e=r>>>24|r>>>8&65280|r<<8&16711680|(r&255)<<24;return e>>>0}Ie.htonl=Yp;function lv(r,e){for(var t="",n=0;n<r.length;n++){var i=r[n];e==="little"&&(i=Yp(i)),t+=Xp(i.toString(16))}return t}Ie.toHex32=lv;function Jp(r){return r.length===1?"0"+r:r}Ie.zero2=Jp;function Xp(r){return r.length===7?"0"+r:r.length===6?"00"+r:r.length===5?"000"+r:r.length===4?"0000"+r:r.length===3?"00000"+r:r.length===2?"000000"+r:r.length===1?"0000000"+r:r}Ie.zero8=Xp;function fv(r,e,t,n){var i=t-e;iv(i%4===0);for(var s=new Array(i/4),o=0,a=e;o<s.length;o++,a+=4){var c;n==="big"?c=r[a]<<24|r[a+1]<<16|r[a+2]<<8|r[a+3]:c=r[a+3]<<24|r[a+2]<<16|r[a+1]<<8|r[a],s[o]=c>>>0}return s}Ie.join32=fv;function uv(r,e){for(var t=new Array(r.length*4),n=0,i=0;n<r.length;n++,i+=4){var s=r[n];e==="big"?(t[i]=s>>>24,t[i+1]=s>>>16&255,t[i+2]=s>>>8&255,t[i+3]=s&255):(t[i+3]=s>>>24,t[i+2]=s>>>16&255,t[i+1]=s>>>8&255,t[i]=s&255)}return t}Ie.split32=uv;function hv(r,e){return r>>>e|r<<32-e}Ie.rotr32=hv;function dv(r,e){return r<<e|r>>>32-e}Ie.rotl32=dv;function pv(r,e){return r+e>>>0}Ie.sum32=pv;function mv(r,e,t){return r+e+t>>>0}Ie.sum32_3=mv;function xv(r,e,t,n){return r+e+t+n>>>0}Ie.sum32_4=xv;function gv(r,e,t,n,i){return r+e+t+n+i>>>0}Ie.sum32_5=gv;function bv(r,e,t,n){var i=r[e],s=r[e+1],o=n+s>>>0,a=(o<n?1:0)+t+i;r[e]=a>>>0,r[e+1]=o}Ie.sum64=bv;function yv(r,e,t,n){var i=e+n>>>0,s=(i<e?1:0)+r+t;return s>>>0}Ie.sum64_hi=yv;function wv(r,e,t,n){var i=e+n;return i>>>0}Ie.sum64_lo=wv;function vv(r,e,t,n,i,s,o,a){var c=0,l=e;l=l+n>>>0,c+=l<e?1:0,l=l+s>>>0,c+=l<s?1:0,l=l+a>>>0,c+=l<a?1:0;var u=r+t+i+o+c;return u>>>0}Ie.sum64_4_hi=vv;function Av(r,e,t,n,i,s,o,a){var c=e+n+s+a;return c>>>0}Ie.sum64_4_lo=Av;function Ev(r,e,t,n,i,s,o,a,c,l){var u=0,d=e;d=d+n>>>0,u+=d<e?1:0,d=d+s>>>0,u+=d<s?1:0,d=d+a>>>0,u+=d<a?1:0,d=d+l>>>0,u+=d<l?1:0;var h=r+t+i+o+c+u;return h>>>0}Ie.sum64_5_hi=Ev;function Tv(r,e,t,n,i,s,o,a,c,l){var u=e+n+s+a+l;return u>>>0}Ie.sum64_5_lo=Tv;function Sv(r,e,t){var n=e<<32-t|r>>>t;return n>>>0}Ie.rotr64_hi=Sv;function kv(r,e,t){var n=r<<32-t|e>>>t;return n>>>0}Ie.rotr64_lo=kv;function Cv(r,e,t){return r>>>t}Ie.shr64_hi=Cv;function Mv(r,e,t){var n=r<<32-t|e>>>t;return n>>>0}Ie.shr64_lo=Mv;var ki={},T0=Ie,_v=Ss;function Ho(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}ki.BlockHash=Ho;Ho.prototype.update=function(e,t){if(e=T0.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=T0.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};Ho.prototype.digest=function(e){return this.update(this._pad()),_v(this.pending===null),this._digest(e)};Ho.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,i=new Array(n+this.padLength);i[0]=128;for(var s=1;s<n;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,o=8;o<this.padLength;o++)i[s++]=0;return i};var Ci={},Pr={},Nv=Ie,Er=Nv.rotr32;function Rv(r,e,t,n){if(r===0)return Qp(e,t,n);if(r===1||r===3)return em(e,t,n);if(r===2)return Zp(e,t,n)}Pr.ft_1=Rv;function Qp(r,e,t){return r&e^~r&t}Pr.ch32=Qp;function Zp(r,e,t){return r&e^r&t^e&t}Pr.maj32=Zp;function em(r,e,t){return r^e^t}Pr.p32=em;function Pv(r){return Er(r,2)^Er(r,13)^Er(r,22)}Pr.s0_256=Pv;function Bv(r){return Er(r,6)^Er(r,11)^Er(r,25)}Pr.s1_256=Bv;function Iv(r){return Er(r,7)^Er(r,18)^r>>>3}Pr.g0_256=Iv;function Ov(r){return Er(r,17)^Er(r,19)^r>>>10}Pr.g1_256=Ov;var xi=Ie,Lv=ki,Fv=Pr,Ja=xi.rotl32,Bi=xi.sum32,Dv=xi.sum32_5,Uv=Fv.ft_1,tm=Lv.BlockHash,$v=[1518500249,1859775393,2400959708,3395469782];function Mr(){if(!(this instanceof Mr))return new Mr;tm.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}xi.inherits(Mr,tm);var jv=Mr;Mr.blockSize=512;Mr.outSize=160;Mr.hmacStrength=80;Mr.padLength=64;Mr.prototype._update=function(e,t){for(var n=this.W,i=0;i<16;i++)n[i]=e[t+i];for(;i<n.length;i++)n[i]=Ja(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var s=this.h[0],o=this.h[1],a=this.h[2],c=this.h[3],l=this.h[4];for(i=0;i<n.length;i++){var u=~~(i/20),d=Dv(Ja(s,5),Uv(u,o,a,c),l,n[i],$v[u]);l=c,c=a,a=Ja(o,30),o=s,s=d}this.h[0]=Bi(this.h[0],s),this.h[1]=Bi(this.h[1],o),this.h[2]=Bi(this.h[2],a),this.h[3]=Bi(this.h[3],c),this.h[4]=Bi(this.h[4],l)};Mr.prototype._digest=function(e){return e==="hex"?xi.toHex32(this.h,"big"):xi.split32(this.h,"big")};var gi=Ie,Vv=ki,Mi=Pr,Hv=Ss,sr=gi.sum32,Kv=gi.sum32_4,Gv=gi.sum32_5,zv=Mi.ch32,qv=Mi.maj32,Wv=Mi.s0_256,Yv=Mi.s1_256,Jv=Mi.g0_256,Xv=Mi.g1_256,rm=Vv.BlockHash,Qv=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function _r(){if(!(this instanceof _r))return new _r;rm.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Qv,this.W=new Array(64)}gi.inherits(_r,rm);var nm=_r;_r.blockSize=512;_r.outSize=256;_r.hmacStrength=192;_r.padLength=64;_r.prototype._update=function(e,t){for(var n=this.W,i=0;i<16;i++)n[i]=e[t+i];for(;i<n.length;i++)n[i]=Kv(Xv(n[i-2]),n[i-7],Jv(n[i-15]),n[i-16]);var s=this.h[0],o=this.h[1],a=this.h[2],c=this.h[3],l=this.h[4],u=this.h[5],d=this.h[6],h=this.h[7];for(Hv(this.k.length===n.length),i=0;i<n.length;i++){var g=Gv(h,Yv(l),zv(l,u,d),this.k[i],n[i]),b=sr(Wv(s),qv(s,o,a));h=d,d=u,u=l,l=sr(c,g),c=a,a=o,o=s,s=sr(g,b)}this.h[0]=sr(this.h[0],s),this.h[1]=sr(this.h[1],o),this.h[2]=sr(this.h[2],a),this.h[3]=sr(this.h[3],c),this.h[4]=sr(this.h[4],l),this.h[5]=sr(this.h[5],u),this.h[6]=sr(this.h[6],d),this.h[7]=sr(this.h[7],h)};_r.prototype._digest=function(e){return e==="hex"?gi.toHex32(this.h,"big"):gi.split32(this.h,"big")};var Oc=Ie,im=nm;function jr(){if(!(this instanceof jr))return new jr;im.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Oc.inherits(jr,im);var Zv=jr;jr.blockSize=512;jr.outSize=224;jr.hmacStrength=192;jr.padLength=64;jr.prototype._digest=function(e){return e==="hex"?Oc.toHex32(this.h.slice(0,7),"big"):Oc.split32(this.h.slice(0,7),"big")};var Ht=Ie,e6=ki,t6=Ss,Tr=Ht.rotr64_hi,Sr=Ht.rotr64_lo,sm=Ht.shr64_hi,om=Ht.shr64_lo,Xr=Ht.sum64,Xa=Ht.sum64_hi,Qa=Ht.sum64_lo,r6=Ht.sum64_4_hi,n6=Ht.sum64_4_lo,i6=Ht.sum64_5_hi,s6=Ht.sum64_5_lo,am=e6.BlockHash,o6=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function dr(){if(!(this instanceof dr))return new dr;am.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=o6,this.W=new Array(160)}Ht.inherits(dr,am);var cm=dr;dr.blockSize=1024;dr.outSize=512;dr.hmacStrength=192;dr.padLength=128;dr.prototype._prepareBlock=function(e,t){for(var n=this.W,i=0;i<32;i++)n[i]=e[t+i];for(;i<n.length;i+=2){var s=g6(n[i-4],n[i-3]),o=b6(n[i-4],n[i-3]),a=n[i-14],c=n[i-13],l=m6(n[i-30],n[i-29]),u=x6(n[i-30],n[i-29]),d=n[i-32],h=n[i-31];n[i]=r6(s,o,a,c,l,u,d,h),n[i+1]=n6(s,o,a,c,l,u,d,h)}};dr.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],c=this.h[4],l=this.h[5],u=this.h[6],d=this.h[7],h=this.h[8],g=this.h[9],b=this.h[10],y=this.h[11],T=this.h[12],w=this.h[13],_=this.h[14],P=this.h[15];t6(this.k.length===n.length);for(var D=0;D<n.length;D+=2){var I=_,B=P,V=d6(h,g),z=p6(h,g),he=a6(h,g,b,y,T),X=c6(h,g,b,y,T,w),Q=this.k[D],Z=this.k[D+1],N=n[D],p=n[D+1],v=i6(I,B,V,z,he,X,Q,Z,N,p),C=s6(I,B,V,z,he,X,Q,Z,N,p);I=u6(i,s),B=h6(i,s),V=l6(i,s,o,a,c),z=f6(i,s,o,a,c,l);var R=Xa(I,B,V,z),L=Qa(I,B,V,z);_=T,P=w,T=b,w=y,b=h,y=g,h=Xa(u,d,v,C),g=Qa(d,d,v,C),u=c,d=l,c=o,l=a,o=i,a=s,i=Xa(v,C,R,L),s=Qa(v,C,R,L)}Xr(this.h,0,i,s),Xr(this.h,2,o,a),Xr(this.h,4,c,l),Xr(this.h,6,u,d),Xr(this.h,8,h,g),Xr(this.h,10,b,y),Xr(this.h,12,T,w),Xr(this.h,14,_,P)};dr.prototype._digest=function(e){return e==="hex"?Ht.toHex32(this.h,"big"):Ht.split32(this.h,"big")};function a6(r,e,t,n,i){var s=r&t^~r&i;return s<0&&(s+=4294967296),s}function c6(r,e,t,n,i,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function l6(r,e,t,n,i){var s=r&t^r&i^t&i;return s<0&&(s+=4294967296),s}function f6(r,e,t,n,i,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function u6(r,e){var t=Tr(r,e,28),n=Tr(e,r,2),i=Tr(e,r,7),s=t^n^i;return s<0&&(s+=4294967296),s}function h6(r,e){var t=Sr(r,e,28),n=Sr(e,r,2),i=Sr(e,r,7),s=t^n^i;return s<0&&(s+=4294967296),s}function d6(r,e){var t=Tr(r,e,14),n=Tr(r,e,18),i=Tr(e,r,9),s=t^n^i;return s<0&&(s+=4294967296),s}function p6(r,e){var t=Sr(r,e,14),n=Sr(r,e,18),i=Sr(e,r,9),s=t^n^i;return s<0&&(s+=4294967296),s}function m6(r,e){var t=Tr(r,e,1),n=Tr(r,e,8),i=sm(r,e,7),s=t^n^i;return s<0&&(s+=4294967296),s}function x6(r,e){var t=Sr(r,e,1),n=Sr(r,e,8),i=om(r,e,7),s=t^n^i;return s<0&&(s+=4294967296),s}function g6(r,e){var t=Tr(r,e,19),n=Tr(e,r,29),i=sm(r,e,6),s=t^n^i;return s<0&&(s+=4294967296),s}function b6(r,e){var t=Sr(r,e,19),n=Sr(e,r,29),i=om(r,e,6),s=t^n^i;return s<0&&(s+=4294967296),s}var Lc=Ie,lm=cm;function Vr(){if(!(this instanceof Vr))return new Vr;lm.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Lc.inherits(Vr,lm);var y6=Vr;Vr.blockSize=1024;Vr.outSize=384;Vr.hmacStrength=192;Vr.padLength=128;Vr.prototype._digest=function(e){return e==="hex"?Lc.toHex32(this.h.slice(0,12),"big"):Lc.split32(this.h.slice(0,12),"big")};Ci.sha1=jv;Ci.sha224=Zv;Ci.sha256=nm;Ci.sha384=y6;Ci.sha512=cm;var fm={},Fn=Ie,w6=ki,Ls=Fn.rotl32,S0=Fn.sum32,Ii=Fn.sum32_3,k0=Fn.sum32_4,um=w6.BlockHash;function Nr(){if(!(this instanceof Nr))return new Nr;um.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Fn.inherits(Nr,um);fm.ripemd160=Nr;Nr.blockSize=512;Nr.outSize=160;Nr.hmacStrength=192;Nr.padLength=64;Nr.prototype._update=function(e,t){for(var n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],c=n,l=i,u=s,d=o,h=a,g=0;g<80;g++){var b=S0(Ls(k0(n,C0(g,i,s,o),e[E6[g]+t],v6(g)),S6[g]),a);n=a,a=o,o=Ls(s,10),s=i,i=b,b=S0(Ls(k0(c,C0(79-g,l,u,d),e[T6[g]+t],A6(g)),k6[g]),h),c=h,h=d,d=Ls(u,10),u=l,l=b}b=Ii(this.h[1],s,d),this.h[1]=Ii(this.h[2],o,h),this.h[2]=Ii(this.h[3],a,c),this.h[3]=Ii(this.h[4],n,l),this.h[4]=Ii(this.h[0],i,u),this.h[0]=b};Nr.prototype._digest=function(e){return e==="hex"?Fn.toHex32(this.h,"little"):Fn.split32(this.h,"little")};function C0(r,e,t,n){return r<=15?e^t^n:r<=31?e&t|~e&n:r<=47?(e|~t)^n:r<=63?e&n|t&~n:e^(t|~n)}function v6(r){return r<=15?0:r<=31?1518500249:r<=47?1859775393:r<=63?2400959708:2840853838}function A6(r){return r<=15?1352829926:r<=31?1548603684:r<=47?1836072691:r<=63?2053994217:0}var E6=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],T6=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],S6=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],k6=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],C6=Ie,M6=Ss;function bi(r,e,t){if(!(this instanceof bi))return new bi(r,e,t);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(C6.toArray(e,t))}var _6=bi;bi.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),M6(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)};bi.prototype.update=function(e,t){return this.inner.update(e,t),this};bi.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(r){var e=r;e.utils=Ie,e.common=ki,e.sha=Ci,e.ripemd=fm,e.hmac=_6,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(qp);const jt=Ai(qp);function _i(r,e,t){return t={path:e,exports:{},require:function(n,i){return N6(n,i??t.path)}},r(t,t.exports),t.exports}function N6(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Zl=hm;function hm(r,e){if(!r)throw new Error(e||"Assertion failed")}hm.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var ur=_i(function(r,e){var t=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var l=0;l<o.length;l++)c[l]=o[l]|0;return c}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var l=0;l<o.length;l+=2)c.push(parseInt(o[l]+o[l+1],16))}else for(var l=0;l<o.length;l++){var u=o.charCodeAt(l),d=u>>8,h=u&255;d?c.push(d,h):c.push(h)}return c}t.toArray=n;function i(o){return o.length===1?"0"+o:o}t.zero2=i;function s(o){for(var a="",c=0;c<o.length;c++)a+=i(o[c].toString(16));return a}t.toHex=s,t.encode=function(a,c){return c==="hex"?s(a):a}}),Yt=_i(function(r,e){var t=e;t.assert=Zl,t.toArray=ur.toArray,t.zero2=ur.zero2,t.toHex=ur.toHex,t.encode=ur.encode;function n(c,l,u){var d=new Array(Math.max(c.bitLength(),u)+1),h;for(h=0;h<d.length;h+=1)d[h]=0;var g=1<<l+1,b=c.clone();for(h=0;h<d.length;h++){var y,T=b.andln(g-1);b.isOdd()?(T>(g>>1)-1?y=(g>>1)-T:y=T,b.isubn(y)):y=0,d[h]=y,b.iushrn(1)}return d}t.getNAF=n;function i(c,l){var u=[[],[]];c=c.clone(),l=l.clone();for(var d=0,h=0,g;c.cmpn(-d)>0||l.cmpn(-h)>0;){var b=c.andln(3)+d&3,y=l.andln(3)+h&3;b===3&&(b=-1),y===3&&(y=-1);var T;b&1?(g=c.andln(7)+d&7,(g===3||g===5)&&y===2?T=-b:T=b):T=0,u[0].push(T);var w;y&1?(g=l.andln(7)+h&7,(g===3||g===5)&&b===2?w=-y:w=y):w=0,u[1].push(w),2*d===T+1&&(d=1-d),2*h===w+1&&(h=1-h),c.iushrn(1),l.iushrn(1)}return u}t.getJSF=i;function s(c,l,u){var d="_"+l;c.prototype[l]=function(){return this[d]!==void 0?this[d]:this[d]=u.call(this)}}t.cachedProperty=s;function o(c){return typeof c=="string"?t.toArray(c,"hex"):c}t.parseBytes=o;function a(c){return new Me(c,"hex","le")}t.intFromLE=a}),bo=Yt.getNAF,R6=Yt.getJSF,yo=Yt.assert;function dn(r,e){this.type=r,this.p=new Me(e.p,16),this.red=e.prime?Me.red(e.prime):Me.mont(this.p),this.zero=new Me(0).toRed(this.red),this.one=new Me(1).toRed(this.red),this.two=new Me(2).toRed(this.red),this.n=e.n&&new Me(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Gn=dn;dn.prototype.point=function(){throw new Error("Not implemented")};dn.prototype.validate=function(){throw new Error("Not implemented")};dn.prototype._fixedNafMul=function(e,t){yo(e.precomputed);var n=e._getDoubles(),i=bo(t,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var l=a+n.step-1;l>=a;l--)c=(c<<1)+i[l];o.push(c)}for(var u=this.jpoint(null,null,null),d=this.jpoint(null,null,null),h=s;h>0;h--){for(a=0;a<o.length;a++)c=o[a],c===h?d=d.mixedAdd(n.points[a]):c===-h&&(d=d.mixedAdd(n.points[a].neg()));u=u.add(d)}return u.toP()};dn.prototype._wnafMul=function(e,t){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=bo(t,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var l=0;c>=0&&o[c]===0;c--)l++;if(c>=0&&l++,a=a.dblp(l),c<0)break;var u=o[c];yo(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(s[u-1>>1]):a=a.mixedAdd(s[-u-1>>1].neg()):u>0?a=a.add(s[u-1>>1]):a=a.add(s[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};dn.prototype._wnafMulAdd=function(e,t,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,l=0,u,d,h;for(u=0;u<i;u++){h=t[u];var g=h._getNAFPoints(e);o[u]=g.wnd,a[u]=g.points}for(u=i-1;u>=1;u-=2){var b=u-1,y=u;if(o[b]!==1||o[y]!==1){c[b]=bo(n[b],o[b],this._bitLength),c[y]=bo(n[y],o[y],this._bitLength),l=Math.max(c[b].length,l),l=Math.max(c[y].length,l);continue}var T=[t[b],null,null,t[y]];t[b].y.cmp(t[y].y)===0?(T[1]=t[b].add(t[y]),T[2]=t[b].toJ().mixedAdd(t[y].neg())):t[b].y.cmp(t[y].y.redNeg())===0?(T[1]=t[b].toJ().mixedAdd(t[y]),T[2]=t[b].add(t[y].neg())):(T[1]=t[b].toJ().mixedAdd(t[y]),T[2]=t[b].toJ().mixedAdd(t[y].neg()));var w=[-3,-1,-5,-7,0,7,5,1,3],_=R6(n[b],n[y]);for(l=Math.max(_[0].length,l),c[b]=new Array(l),c[y]=new Array(l),d=0;d<l;d++){var P=_[0][d]|0,D=_[1][d]|0;c[b][d]=w[(P+1)*3+(D+1)],c[y][d]=0,a[b]=T}}var I=this.jpoint(null,null,null),B=this._wnafT4;for(u=l;u>=0;u--){for(var V=0;u>=0;){var z=!0;for(d=0;d<i;d++)B[d]=c[d][u]|0,B[d]!==0&&(z=!1);if(!z)break;V++,u--}if(u>=0&&V++,I=I.dblp(V),u<0)break;for(d=0;d<i;d++){var he=B[d];he!==0&&(he>0?h=a[d][he-1>>1]:he<0&&(h=a[d][-he-1>>1].neg()),h.type==="affine"?I=I.mixedAdd(h):I=I.add(h))}}for(u=0;u<i;u++)a[u]=null;return s?I:I.toP()};function rr(r,e){this.curve=r,this.type=e,this.precomputed=null}dn.BasePoint=rr;rr.prototype.eq=function(){throw new Error("Not implemented")};rr.prototype.validate=function(){return this.curve.validate(this)};dn.prototype.decodePoint=function(e,t){e=Yt.toArray(e,t);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?yo(e[e.length-1]%2===0):e[0]===7&&yo(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};rr.prototype.encodeCompressed=function(e){return this.encode(e,!0)};rr.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))};rr.prototype.encode=function(e,t){return Yt.encode(this._encode(t),e)};rr.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this};rr.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1};rr.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<t;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};rr.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)t[s]=t[s-1].add(i);return{wnd:e,points:t}};rr.prototype._getBeta=function(){return null};rr.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t};var ef=_i(function(r){typeof Object.create=="function"?r.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:r.exports=function(t,n){if(n){t.super_=n;var i=function(){};i.prototype=n.prototype,t.prototype=new i,t.prototype.constructor=t}}}),P6=Yt.assert;function nr(r){Gn.call(this,"short",r),this.a=new Me(r.a,16).toRed(this.red),this.b=new Me(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}ef(nr,Gn);var B6=nr;nr.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,n;if(e.beta)t=new Me(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)n=new Me(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(t))===0?n=s[0]:(n=s[1],P6(this.g.mul(n).x.cmp(this.g.x.redMul(t))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new Me(a.a,16),b:new Me(a.b,16)}}):o=this._getEndoBasis(n),{beta:t,lambda:n,basis:o}}};nr.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Me.mont(e),n=new Me(2).toRed(t).redInvm(),i=n.redNeg(),s=new Me(3).toRed(t).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};nr.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new Me(1),o=new Me(0),a=new Me(0),c=new Me(1),l,u,d,h,g,b,y,T=0,w,_;n.cmpn(0)!==0;){var P=i.div(n);w=i.sub(P.mul(n)),_=a.sub(P.mul(s));var D=c.sub(P.mul(o));if(!d&&w.cmp(t)<0)l=y.neg(),u=s,d=w.neg(),h=_;else if(d&&++T===2)break;y=w,i=n,n=w,a=s,s=_,c=o,o=D}g=w.neg(),b=_;var I=d.sqr().add(h.sqr()),B=g.sqr().add(b.sqr());return B.cmp(I)>=0&&(g=l,b=u),d.negative&&(d=d.neg(),h=h.neg()),g.negative&&(g=g.neg(),b=b.neg()),[{a:d,b:h},{a:g,b}]};nr.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],i=t[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),l=s.mul(n.b),u=o.mul(i.b),d=e.sub(a).sub(c),h=l.add(u).neg();return{k1:d,k2:h}};nr.prototype.pointFromX=function(e,t){e=new Me(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(t&&!s||!t&&s)&&(i=i.redNeg()),this.point(e,i)};nr.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,i=this.a.redMul(t),s=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};nr.prototype._endoWnafMulAdd=function(e,t,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),c=e[o],l=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[o*2]=c,i[o*2+1]=l,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,s,o*2,n),d=0;d<o*2;d++)i[d]=null,s[d]=null;return u};function Tt(r,e,t,n){Gn.BasePoint.call(this,r,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Me(e,16),this.y=new Me(t,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}ef(Tt,Gn.BasePoint);nr.prototype.point=function(e,t,n){return new Tt(this,e,t,n)};nr.prototype.pointFromJSON=function(e,t){return Tt.fromJSON(this,e,t)};Tt.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}};Tt.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Tt.fromJSON=function(e,t,n){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],n);if(!t[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=t[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};Tt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Tt.prototype.isInfinity=function(){return this.inf};Tt.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Tt.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Tt.prototype.getX=function(){return this.x.fromRed()};Tt.prototype.getY=function(){return this.y.fromRed()};Tt.prototype.mul=function(e){return e=new Me(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Tt.prototype.mulAdd=function(e,t,n){var i=[this,t],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Tt.prototype.jmulAdd=function(e,t,n){var i=[this,t],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Tt.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Tt.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return t};Tt.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Mt(r,e,t,n){Gn.BasePoint.call(this,r,"jacobian"),e===null&&t===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Me(0)):(this.x=new Me(e,16),this.y=new Me(t,16),this.z=new Me(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}ef(Mt,Gn.BasePoint);nr.prototype.jpoint=function(e,t,n){return new Mt(this,e,t,n)};Mt.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(n,i)};Mt.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Mt.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(t),s=e.x.redMul(n),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),l=o.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),d=u.redMul(c),h=i.redMul(u),g=l.redSqr().redIAdd(d).redISub(h).redISub(h),b=l.redMul(h.redISub(g)).redISub(o.redMul(d)),y=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(g,b,y)};Mt.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,i=e.x.redMul(t),s=this.y,o=e.y.redMul(t).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),d=n.redMul(l),h=c.redSqr().redIAdd(u).redISub(d).redISub(d),g=c.redMul(d.redISub(h)).redISub(s.redMul(u)),b=this.z.redMul(a);return this.curve.jpoint(h,g,b)};Mt.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,l=c.redSqr().redSqr(),u=a.redAdd(a);for(t=0;t<e;t++){var d=o.redSqr(),h=u.redSqr(),g=h.redSqr(),b=d.redAdd(d).redIAdd(d).redIAdd(i.redMul(l)),y=o.redMul(h),T=b.redSqr().redISub(y.redAdd(y)),w=y.redISub(T),_=b.redMul(w);_=_.redIAdd(_).redISub(g);var P=u.redMul(c);t+1<e&&(l=l.redMul(g)),o=T,c=P,u=_}return this.curve.jpoint(o,u.redMul(s),c)};Mt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Mt.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),l=c.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=l,t=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var d=this.x.redSqr(),h=this.y.redSqr(),g=h.redSqr(),b=this.x.redAdd(h).redSqr().redISub(d).redISub(g);b=b.redIAdd(b);var y=d.redAdd(d).redIAdd(d),T=y.redSqr(),w=g.redIAdd(g);w=w.redIAdd(w),w=w.redIAdd(w),e=T.redISub(b).redISub(b),t=y.redMul(b.redISub(e)).redISub(w),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,t,n)};Mt.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=c.redSqr().redISub(a).redISub(a);e=l;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),t=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var d=this.z.redSqr(),h=this.y.redSqr(),g=this.x.redMul(h),b=this.x.redSub(d).redMul(this.x.redAdd(d));b=b.redAdd(b).redIAdd(b);var y=g.redIAdd(g);y=y.redIAdd(y);var T=y.redAdd(y);e=b.redSqr().redISub(T),n=this.y.redAdd(this.z).redSqr().redISub(h).redISub(d);var w=h.redSqr();w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w),t=b.redMul(y.redISub(e)).redISub(w)}return this.curve.jpoint(e,t,n)};Mt.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=t.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),l=t.redAdd(t);l=l.redIAdd(l);var u=l.redMul(a),d=c.redSqr().redISub(u.redAdd(u)),h=u.redISub(d),g=a.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var b=c.redMul(h).redISub(g),y=n.redAdd(n).redMul(i);return this.curve.jpoint(d,b,y)};Mt.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),i=t.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(l),d=t.redMul(u);d=d.redIAdd(d),d=d.redIAdd(d);var h=this.x.redMul(c).redISub(d);h=h.redIAdd(h),h=h.redIAdd(h);var g=this.y.redMul(u.redMul(l.redISub(u)).redISub(a.redMul(c)));g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var b=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(h,g,b)};Mt.prototype.mul=function(e,t){return e=new Me(e,t),this.curve._wnafMul(this,e)};Mt.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};Mt.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};Mt.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Mt.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Qs=_i(function(r,e){var t=e;t.base=Gn,t.short=B6,t.mont=null,t.edwards=null}),Zs=_i(function(r,e){var t=e,n=Yt.assert;function i(a){a.type==="short"?this.curve=new Qs.short(a):a.type==="edwards"?this.curve=new Qs.edwards(a):this.curve=new Qs.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=i;function s(a,c){Object.defineProperty(t,a,{configurable:!0,enumerable:!0,get:function(){var l=new i(c);return Object.defineProperty(t,a,{configurable:!0,enumerable:!0,value:l}),l}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:jt.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:jt.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:jt.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:jt.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:jt.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:jt.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:jt.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:jt.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function ln(r){if(!(this instanceof ln))return new ln(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=ur.toArray(r.entropy,r.entropyEnc||"hex"),t=ur.toArray(r.nonce,r.nonceEnc||"hex"),n=ur.toArray(r.pers,r.persEnc||"hex");Zl(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,n)}var dm=ln;ln.prototype._init=function(e,t,n){var i=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};ln.prototype._hmac=function(){return new jt.hmac(this.hash,this.K)};ln.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};ln.prototype.reseed=function(e,t,n,i){typeof t!="string"&&(i=n,n=t,t=null),e=ur.toArray(e,t),n=ur.toArray(n,i),Zl(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};ln.prototype.generate=function(e,t,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=n,n=t,t=null),n&&(n=ur.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,ur.encode(o,t)};var Fc=Yt.assert;function Lt(r,e){this.ec=r,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var tf=Lt;Lt.fromPublic=function(e,t,n){return t instanceof Lt?t:new Lt(e,{pub:t,pubEnc:n})};Lt.fromPrivate=function(e,t,n){return t instanceof Lt?t:new Lt(e,{priv:t,privEnc:n})};Lt.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Lt.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub};Lt.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Lt.prototype._importPrivate=function(e,t){this.priv=new Me(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)};Lt.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?Fc(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Fc(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};Lt.prototype.derive=function(e){return e.validate()||Fc(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Lt.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)};Lt.prototype.verify=function(e,t,n){return this.ec.verify(e,t,this,void 0,n)};Lt.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var I6=Yt.assert;function Ko(r,e){if(r instanceof Ko)return r;this._importDER(r,e)||(I6(r.r&&r.s,"Signature without r or s"),this.r=new Me(r.r,16),this.s=new Me(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}var Go=Ko;function O6(){this.place=0}function Za(r,e){var t=r[e.place++];if(!(t&128))return t;var n=t&15;if(n===0||n>4||r[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=r[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function M0(r){for(var e=0,t=r.length-1;!r[e]&&!(r[e+1]&128)&&e<t;)e++;return e===0?r:r.slice(e)}Ko.prototype._importDER=function(e,t){e=Yt.toArray(e,t);var n=new O6;if(e[n.place++]!==48)return!1;var i=Za(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=Za(e,n);if(s===!1||e[n.place]&128)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=Za(e,n);if(a===!1||e.length!==a+n.place||e[n.place]&128)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new Me(o),this.s=new Me(c),this.recoveryParam=null,!0};function ec(r,e){if(e<128){r.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(r.push(t|128);--t;)r.push(e>>>(t<<3)&255);r.push(e)}Ko.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),n[0]&128&&(n=[0].concat(n)),t=M0(t),n=M0(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];ec(i,t.length),i=i.concat(t),i.push(2),ec(i,n.length);var s=i.concat(n),o=[48];return ec(o,s.length),o=o.concat(s),Yt.encode(o,e)};var L6=function(){throw new Error("unsupported")},Cn=Yt.assert;function tr(r){if(!(this instanceof tr))return new tr(r);typeof r=="string"&&(Cn(Object.prototype.hasOwnProperty.call(Zs,r),"Unknown curve "+r),r=Zs[r]),r instanceof Zs.PresetCurve&&(r={curve:r}),this.curve=r.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=r.curve.g,this.g.precompute(r.curve.n.bitLength()+1),this.hash=r.hash||r.curve.hash}var F6=tr;tr.prototype.keyPair=function(e){return new tf(this,e)};tr.prototype.keyFromPrivate=function(e,t){return tf.fromPrivate(this,e,t)};tr.prototype.keyFromPublic=function(e,t){return tf.fromPublic(this,e,t)};tr.prototype.genKeyPair=function(e){e||(e={});for(var t=new dm({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||L6(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Me(2));;){var s=new Me(t.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};tr.prototype._truncateToN=function(e,t,n){var i;if(Me.isBN(e)||typeof e=="number")e=new Me(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new Me(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new Me(s,16)}typeof n!="number"&&(n=i*8);var o=n-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e};tr.prototype.sign=function(e,t,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!Me.isBN(e)){Cn(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),Cn(e.length>>>0===e.length);for(var s=0;s<e.length;s++)Cn((e[s]&255)===e[s])}t=this.keyFromPrivate(t,n),e=this._truncateToN(e,!1,i.msgBitLength),Cn(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=t.getPrivate().toArray("be",o),c=e.toArray("be",o);Cn(new Me(c).eq(e),"Can not sign message");for(var l=new dm({hash:this.hash,entropy:a,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new Me(1)),d=0;;d++){var h=i.k?i.k(d):new Me(l.generate(this.n.byteLength()));if(h=this._truncateToN(h,!0),!(h.cmpn(1)<=0||h.cmp(u)>=0)){var g=this.g.mul(h);if(!g.isInfinity()){var b=g.getX(),y=b.umod(this.n);if(y.cmpn(0)!==0){var T=h.invm(this.n).mul(y.mul(t.getPrivate()).iadd(e));if(T=T.umod(this.n),T.cmpn(0)!==0){var w=(g.getY().isOdd()?1:0)|(b.cmp(y)!==0?2:0);return i.canonical&&T.cmp(this.nh)>0&&(T=this.n.sub(T),w^=1),new Go({r:y,s:T,recoveryParam:w})}}}}}};tr.prototype.verify=function(e,t,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),t=new Go(t,"hex");var o=t.r,a=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var c=a.invm(this.n),l=c.mul(e).umod(this.n),u=c.mul(o).umod(this.n),d;return this.curve._maxwellTrick?(d=this.g.jmulAdd(l,n.getPublic(),u),d.isInfinity()?!1:d.eqXToP(o)):(d=this.g.mulAdd(l,n.getPublic(),u),d.isInfinity()?!1:d.getX().umod(this.n).cmp(o)===0)};tr.prototype.recoverPubKey=function(r,e,t,n){Cn((3&t)===t,"The recovery param is more than two bits"),e=new Go(e,n);var i=this.n,s=new Me(r),o=e.r,a=e.s,c=t&1,l=t>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var u=e.r.invm(i),d=i.sub(s).mul(u).umod(i),h=a.mul(u).umod(i);return this.g.mulAdd(d,o,h)};tr.prototype.getKeyRecoveryParam=function(r,e,t,n){if(e=new Go(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(r,e,i)}catch{continue}if(s.eq(t))return i}throw new Error("Unable to find valid recovery factor")};var D6=_i(function(r,e){var t=e;t.version="6.6.1",t.utils=Yt,t.rand=function(){throw new Error("unsupported")},t.curve=Qs,t.curves=Zs,t.ec=F6,t.eddsa=null}),U6=D6.ec;const $6="signing-key/5.8.0",Dc=new Y($6);let tc=null;function xr(){return tc||(tc=new U6("secp256k1")),tc}class Pn{constructor(e){ce(this,"curve","secp256k1"),ce(this,"privateKey",xe(e)),kr(this.privateKey)!==32&&Dc.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=xr().keyFromPrivate(me(this.privateKey));ce(this,"publicKey","0x"+t.getPublic(!1,"hex")),ce(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),ce(this,"_isSigningKey",!0)}_addPoint(e){const t=xr().keyFromPublic(me(this.publicKey)),n=xr().keyFromPublic(me(e));return"0x"+t.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const t=xr().keyFromPrivate(me(this.privateKey)),n=me(e);n.length!==32&&Dc.throwArgumentError("bad digest length","digest",e);const i=t.sign(n,{canonical:!0});return jn({recoveryParam:i.recoveryParam,r:Ke("0x"+i.r.toString(16),32),s:Ke("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const t=xr().keyFromPrivate(me(this.privateKey)),n=xr().keyFromPublic(me(rf(e)));return Ke("0x"+t.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function pm(r,e){const t=jn(e),n={r:me(t.r),s:me(t.s)};return"0x"+xr().recoverPubKey(me(r),n,t.recoveryParam).encode("hex",!1)}function rf(r,e){const t=me(r);if(t.length===32){const n=new Pn(t);return e?"0x"+xr().keyFromPrivate(t).getPublic(!0,"hex"):n.publicKey}else{if(t.length===33)return e?xe(t):"0x"+xr().keyFromPublic(t).getPublic(!1,"hex");if(t.length===65)return e?"0x"+xr().keyFromPublic(t).getPublic(!0,"hex"):xe(t)}return Dc.throwArgumentError("invalid public or private key","key","[REDACTED]")}const j6="transactions/5.8.0",It=new Y(j6);var Uc;(function(r){r[r.legacy=0]="legacy",r[r.eip2930=1]="eip2930",r[r.eip1559=2]="eip1559"})(Uc||(Uc={}));function nf(r){return r==="0x"?null:Ue(r)}function Bt(r){return r==="0x"?Kl:pe.from(r)}const V6=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],H6={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function on(r){const e=rf(r);return Ue(yt(Ve(yt(e,1)),12))}function ks(r,e){return on(pm(me(r),e))}function Gt(r,e){const t=Ar(pe.from(r).toHexString());return t.length>32&&It.throwArgumentError("invalid length for "+e,"transaction:"+e,r),t}function rc(r,e){return{address:Ue(r),storageKeys:(e||[]).map((t,n)=>(kr(t)!==32&&It.throwArgumentError("invalid access list storageKey",`accessList[${r}:${n}]`,t),t.toLowerCase()))}}function pn(r){if(Array.isArray(r))return r.map((t,n)=>Array.isArray(t)?(t.length>2&&It.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,t),rc(t[0],t[1])):rc(t.address,t.storageKeys));const e=Object.keys(r).map(t=>{const n=r[t].reduce((i,s)=>(i[s]=!0,i),{});return rc(t,Object.keys(n).sort())});return e.sort((t,n)=>t.address.localeCompare(n.address)),e}function mm(r){return pn(r).map(e=>[e.address,e.storageKeys])}function xm(r,e){if(r.gasPrice!=null){const n=pe.from(r.gasPrice),i=pe.from(r.maxFeePerGas||0);n.eq(i)||It.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const t=[Gt(r.chainId||0,"chainId"),Gt(r.nonce||0,"nonce"),Gt(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Gt(r.maxFeePerGas||0,"maxFeePerGas"),Gt(r.gasLimit||0,"gasLimit"),r.to!=null?Ue(r.to):"0x",Gt(r.value||0,"value"),r.data||"0x",mm(r.accessList||[])];if(e){const n=jn(e);t.push(Gt(n.recoveryParam,"recoveryParam")),t.push(Ar(n.r)),t.push(Ar(n.s))}return Ft(["0x02",Ln(t)])}function gm(r,e){const t=[Gt(r.chainId||0,"chainId"),Gt(r.nonce||0,"nonce"),Gt(r.gasPrice||0,"gasPrice"),Gt(r.gasLimit||0,"gasLimit"),r.to!=null?Ue(r.to):"0x",Gt(r.value||0,"value"),r.data||"0x",mm(r.accessList||[])];if(e){const n=jn(e);t.push(Gt(n.recoveryParam,"recoveryParam")),t.push(Ar(n.r)),t.push(Ar(n.s))}return Ft(["0x01",Ln(t)])}function K6(r,e){jl(r,H6);const t=[];V6.forEach(function(o){let a=r[o.name]||[];const c={};o.numeric&&(c.hexPad="left"),a=me(xe(a,c)),o.length&&a.length!==o.length&&a.length>0&&It.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a),o.maxLength&&(a=Ar(a),a.length>o.maxLength&&It.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a)),t.push(xe(a))});let n=0;if(r.chainId!=null?(n=r.chainId,typeof n!="number"&&It.throwArgumentError("invalid transaction.chainId","transaction",r)):e&&!vs(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(t.push(xe(n)),t.push("0x"),t.push("0x")),!e)return Ln(t);const i=jn(e);let s=27+i.recoveryParam;return n!==0?(t.pop(),t.pop(),t.pop(),s+=n*2+8,i.v>28&&i.v!==s&&It.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==s&&It.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),t.push(xe(s)),t.push(Ar(me(i.r))),t.push(Ar(me(i.s))),Ln(t)}function $c(r,e){if(r.type==null||r.type===0)return r.accessList!=null&&It.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",r),K6(r,e);switch(r.type){case 1:return gm(r,e);case 2:return xm(r,e)}return It.throwError(`unsupported transaction type: ${r.type}`,Y.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:r.type})}function bm(r,e,t){try{const n=Bt(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");r.v=n}catch{It.throwArgumentError("invalid v for transaction type: 1","v",e[0])}r.r=Ke(e[1],32),r.s=Ke(e[2],32);try{const n=Ve(t(r));r.from=ks(n,{r:r.r,s:r.s,recoveryParam:r.v})}catch{}}function G6(r){const e=$o(r.slice(1));e.length!==9&&e.length!==12&&It.throwArgumentError("invalid component count for transaction type: 2","payload",xe(r));const t=Bt(e[2]),n=Bt(e[3]),i={type:2,chainId:Bt(e[0]).toNumber(),nonce:Bt(e[1]).toNumber(),maxPriorityFeePerGas:t,maxFeePerGas:n,gasPrice:null,gasLimit:Bt(e[4]),to:nf(e[5]),value:Bt(e[6]),data:e[7],accessList:pn(e[8])};return e.length===9||(i.hash=Ve(r),bm(i,e.slice(9),xm)),i}function z6(r){const e=$o(r.slice(1));e.length!==8&&e.length!==11&&It.throwArgumentError("invalid component count for transaction type: 1","payload",xe(r));const t={type:1,chainId:Bt(e[0]).toNumber(),nonce:Bt(e[1]).toNumber(),gasPrice:Bt(e[2]),gasLimit:Bt(e[3]),to:nf(e[4]),value:Bt(e[5]),data:e[6],accessList:pn(e[7])};return e.length===8||(t.hash=Ve(r),bm(t,e.slice(8),gm)),t}function q6(r){const e=$o(r);e.length!==9&&e.length!==6&&It.throwArgumentError("invalid raw transaction","rawTransaction",r);const t={nonce:Bt(e[0]).toNumber(),gasPrice:Bt(e[1]),gasLimit:Bt(e[2]),to:nf(e[3]),value:Bt(e[4]),data:e[5],chainId:0};if(e.length===6)return t;try{t.v=pe.from(e[6]).toNumber()}catch{return t}if(t.r=Ke(e[7],32),t.s=Ke(e[8],32),pe.from(t.r).isZero()&&pe.from(t.s).isZero())t.chainId=t.v,t.v=0;else{t.chainId=Math.floor((t.v-35)/2),t.chainId<0&&(t.chainId=0);let n=t.v-27;const i=e.slice(0,6);t.chainId!==0&&(i.push(xe(t.chainId)),i.push("0x"),i.push("0x"),n-=t.chainId*2+8);const s=Ve(Ln(i));try{t.from=ks(s,{r:xe(t.r),s:xe(t.s),recoveryParam:n})}catch{}t.hash=Ve(r)}return t.type=null,t}function ym(r){const e=me(r);if(e[0]>127)return q6(e);switch(e[0]){case 1:return z6(e);case 2:return G6(e)}return It.throwError(`unsupported transaction type: ${e[0]}`,Y.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const W6="contracts/5.8.0";var fn=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(r,e||[])).next())})};const je=new Y(W6),Y6={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function wo(r,e){return fn(this,void 0,void 0,function*(){const t=yield e;typeof t!="string"&&je.throwArgumentError("invalid address or ENS name","name",t);try{return Ue(t)}catch{}r||je.throwError("a provider or signer is needed to resolve ENS names",Y.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield r.resolveName(t);return n==null&&je.throwArgumentError("resolver or addr is not configured for ENS name","name",t),n})}function Zi(r,e,t){return fn(this,void 0,void 0,function*(){return Array.isArray(t)?yield Promise.all(t.map((n,i)=>Zi(r,Array.isArray(e)?e[i]:e[n.name],n))):t.type==="address"?yield wo(r,e):t.type==="tuple"?yield Zi(r,e,t.components):t.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>Zi(r,n,t.arrayChildren))):Promise.reject(je.makeError("invalid value for array",Y.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function zo(r,e,t){return fn(this,void 0,void 0,function*(){let n={};t.length===e.inputs.length+1&&typeof t[t.length-1]=="object"&&(n=Ge(t.pop())),je.checkArgumentCount(t.length,e.inputs.length,"passed to contract"),r.signer?n.from?n.from=pt({override:wo(r.signer,n.from),signer:r.signer.getAddress()}).then(l=>fn(this,void 0,void 0,function*(){return Ue(l.signer)!==l.override&&je.throwError("Contract with a Signer cannot override from",Y.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),l.override})):n.from=r.signer.getAddress():n.from&&(n.from=wo(r.provider,n.from));const i=yield pt({args:Zi(r.signer||r.provider,t,e.inputs),address:r.resolvedAddress,overrides:pt(n)||{}}),s=r.interface.encodeFunctionData(e,i.args),o={data:s,to:i.address},a=i.overrides;if(a.nonce!=null&&(o.nonce=pe.from(a.nonce).toNumber()),a.gasLimit!=null&&(o.gasLimit=pe.from(a.gasLimit)),a.gasPrice!=null&&(o.gasPrice=pe.from(a.gasPrice)),a.maxFeePerGas!=null&&(o.maxFeePerGas=pe.from(a.maxFeePerGas)),a.maxPriorityFeePerGas!=null&&(o.maxPriorityFeePerGas=pe.from(a.maxPriorityFeePerGas)),a.from!=null&&(o.from=a.from),a.type!=null&&(o.type=a.type),a.accessList!=null&&(o.accessList=pn(a.accessList)),o.gasLimit==null&&e.gas!=null){let l=21e3;const u=me(s);for(let d=0;d<u.length;d++)l+=4,u[d]&&(l+=64);o.gasLimit=pe.from(e.gas).add(l)}if(a.value){const l=pe.from(a.value);!l.isZero()&&!e.payable&&je.throwError("non-payable method cannot override value",Y.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),o.value=l}a.customData&&(o.customData=Ge(a.customData)),a.ccipReadEnabled&&(o.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const c=Object.keys(n).filter(l=>n[l]!=null);return c.length&&je.throwError(`cannot override ${c.map(l=>JSON.stringify(l)).join(",")}`,Y.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:c}),o})}function J6(r,e){return function(...t){return zo(r,e,t)}}function X6(r,e){const t=r.signer||r.provider;return function(...n){return fn(this,void 0,void 0,function*(){t||je.throwError("estimate require a provider or signer",Y.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield zo(r,e,n);return yield t.estimateGas(i)})}}function wm(r,e){const t=e.wait.bind(e);e.wait=n=>t(n).then(i=>(i.events=i.logs.map(s=>{let o=Ut(s),a=null;try{a=r.interface.parseLog(s)}catch{}return a&&(o.args=a.args,o.decode=(c,l)=>r.interface.decodeEventLog(a.eventFragment,c,l),o.event=a.name,o.eventSignature=a.signature),o.removeListener=()=>r.provider,o.getBlock=()=>r.provider.getBlock(i.blockHash),o.getTransaction=()=>r.provider.getTransaction(i.transactionHash),o.getTransactionReceipt=()=>Promise.resolve(i),o}),i))}function vm(r,e,t){const n=r.signer||r.provider;return function(...i){return fn(this,void 0,void 0,function*(){let s;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const c=Ge(i.pop());c.blockTag!=null&&(s=yield c.blockTag),delete c.blockTag,i.push(c)}r.deployTransaction!=null&&(yield r._deployed(s));const o=yield zo(r,e,i),a=yield n.call(o,s);try{let c=r.interface.decodeFunctionResult(e,a);return t&&e.outputs.length===1&&(c=c[0]),c}catch(c){throw c.code===Y.errors.CALL_EXCEPTION&&(c.address=r.address,c.args=i,c.transaction=o),c}})}}function Q6(r,e){return function(...t){return fn(this,void 0,void 0,function*(){r.signer||je.throwError("sending a transaction requires a signer",Y.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),r.deployTransaction!=null&&(yield r._deployed());const n=yield zo(r,e,t),i=yield r.signer.sendTransaction(n);return wm(r,i),i})}}function _0(r,e,t){return e.constant?vm(r,e,t):Q6(r,e)}function Am(r){return r.address&&(r.topics==null||r.topics.length===0)?"*":(r.address||"*")+"@"+(r.topics?r.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class ds{constructor(e,t){ce(this,"tag",e),ce(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter(n=>t||n.listener!==e?!0:(t=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),t}prepareEvent(e){}getEmit(e){return[e]}}class Z6 extends ds{constructor(){super("error",null)}}class N0 extends ds{constructor(e,t,n,i){const s={address:e};let o=t.getEventTopic(n);i?(o!==i[0]&&je.throwArgumentError("topic mismatch","topics",i),s.topics=i.slice()):s.topics=[o],super(Am(s),s),ce(this,"address",e),ce(this,"interface",t),ce(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(t,n)=>this.interface.decodeEventLog(this.fragment,t,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=xp(e.args);if(t.length)throw t[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class R0 extends ds{constructor(e,t){super("*",{address:e}),ce(this,"address",e),ce(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(n,i)=>this.interface.decodeEventLog(t.eventFragment,n,i),e.args=t.args}catch{}}}class sf{constructor(e,t,n){ce(this,"interface",Ct(new.target,"getInterface")(t)),n==null?(ce(this,"provider",null),ce(this,"signer",null)):Gr.isSigner(n)?(ce(this,"provider",n.provider||null),ce(this,"signer",n)):Kn.isProvider(n)?(ce(this,"provider",n),ce(this,"signer",null)):je.throwArgumentError("invalid signer or provider","signerOrProvider",n),ce(this,"callStatic",{}),ce(this,"estimateGas",{}),ce(this,"functions",{}),ce(this,"populateTransaction",{}),ce(this,"filters",{});{const o={};Object.keys(this.interface.events).forEach(a=>{const c=this.interface.events[a];ce(this.filters,a,(...l)=>({address:this.address,topics:this.interface.encodeFilterTopics(c,l)})),o[c.name]||(o[c.name]=[]),o[c.name].push(a)}),Object.keys(o).forEach(a=>{const c=o[a];c.length===1?ce(this.filters,a,this.filters[c[0]]):je.warn(`Duplicate definition of ${a} (${c.join(", ")})`)})}if(ce(this,"_runningEvents",{}),ce(this,"_wrappedEmits",{}),e==null&&je.throwArgumentError("invalid contract address or ENS name","addressOrName",e),ce(this,"address",e),this.provider)ce(this,"resolvedAddress",wo(this.provider,e));else try{ce(this,"resolvedAddress",Promise.resolve(Ue(e)))}catch{je.throwError("provider is required to use ENS name as contract address",Y.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(o=>{});const i={},s={};Object.keys(this.interface.functions).forEach(o=>{const a=this.interface.functions[o];if(s[o]){je.warn(`Duplicate ABI entry for ${JSON.stringify(o)}`);return}s[o]=!0;{const c=a.name;i[`%${c}`]||(i[`%${c}`]=[]),i[`%${c}`].push(o)}this[o]==null&&ce(this,o,_0(this,a,!0)),this.functions[o]==null&&ce(this.functions,o,_0(this,a,!1)),this.callStatic[o]==null&&ce(this.callStatic,o,vm(this,a,!0)),this.populateTransaction[o]==null&&ce(this.populateTransaction,o,J6(this,a)),this.estimateGas[o]==null&&ce(this.estimateGas,o,X6(this,a))}),Object.keys(i).forEach(o=>{const a=i[o];if(a.length>1)return;o=o.substring(1);const c=a[0];try{this[o]==null&&ce(this,o,this[c])}catch{}this.functions[o]==null&&ce(this.functions,o,this.functions[c]),this.callStatic[o]==null&&ce(this.callStatic,o,this.callStatic[c]),this.populateTransaction[o]==null&&ce(this.populateTransaction,o,this.populateTransaction[c]),this.estimateGas[o]==null&&ce(this.estimateGas,o,this.estimateGas[c])})}static getContractAddress(e){return jo(e)}static getInterface(e){return Ic.isInterface(e)?e:new Ic(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(t=>(t==="0x"&&je.throwError("contract not deployed",Y.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||je.throwError("sending a transactions require a signer",Y.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=Ge(e||{});return["from","to"].forEach(function(n){t[n]!=null&&je.throwError("cannot override "+n,Y.errors.UNSUPPORTED_OPERATION,{operation:n})}),t.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(t))}connect(e){typeof e=="string"&&(e=new Ts(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&ce(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return go.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new Z6);if(e==="event")return this._normalizeRunningEvent(new ds("event",null));if(e==="*")return this._normalizeRunningEvent(new R0(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new N0(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new N0(this.address,this.interface,i,e.topics))}catch{}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new ds(Am(t),t))}return this._normalizeRunningEvent(new R0(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,n){const i=Ut(t);return i.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(t.blockHash),i.getTransaction=()=>this.provider.getTransaction(t.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(i),i}_addEventListener(e,t,n){if(this.provider||je.throwError("events require a provider or a signer with a provider",Y.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=s=>{let o=this._wrapEvent(e,s,t);if(o.decodeError==null)try{const a=e.getEmit(o);this.emit(e.filter,...a)}catch(a){o.decodeError=a.error}e.filter!=null&&this.emit("event",o),o.decodeError!=null&&this.emit("error",o.decodeError,o)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,t,n){const i=this._getRunningEvent(e),s=Ge(i.filter);return typeof t=="string"&&Ne(t,32)?(n!=null&&je.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),s.blockHash=t):(s.fromBlock=t??0,s.toBlock=n??"latest"),this.provider.getLogs(s).then(o=>o.map(a=>this._wrapEvent(i,a,null)))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;const n=this._getRunningEvent(e),i=n.run(t)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((t,n)=>t+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const t=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{t.push(i)});return t}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(t),this._checkRunningEvents(n),this}removeListener(e,t){return this.off(e,t)}}class vo extends sf{}class Em{constructor(e,t,n){let i=null;typeof t=="string"?i=t:hn(t)?i=xe(t):t&&typeof t.object=="string"?i=t.object:i="!",i.substring(0,2)!=="0x"&&(i="0x"+i),(!Ne(i)||i.length%2)&&je.throwArgumentError("invalid bytecode","bytecode",t),n&&!Gr.isSigner(n)&&je.throwArgumentError("invalid signer","signer",n),ce(this,"bytecode",i),ce(this,"interface",Ct(new.target,"getInterface")(e)),ce(this,"signer",n||null)}getDeployTransaction(...e){let t={};if(e.length===this.interface.deploy.inputs.length+1&&typeof e[e.length-1]=="object"){t=Ge(e.pop());for(const n in t)if(!Y6[n])throw new Error("unknown transaction override "+n)}return["data","from","to"].forEach(n=>{t[n]!=null&&je.throwError("cannot override "+n,Y.errors.UNSUPPORTED_OPERATION,{operation:n})}),t.value&&!pe.from(t.value).isZero()&&!this.interface.deploy.payable&&je.throwError("non-payable constructor cannot override value",Y.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:t.value}),je.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),t.data=xe(He([this.bytecode,this.interface.encodeDeploy(e)])),t}deploy(...e){return fn(this,void 0,void 0,function*(){let t={};e.length===this.interface.deploy.inputs.length+1&&(t=e.pop()),je.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const n=yield Zi(this.signer,e,this.interface.deploy.inputs);n.push(t);const i=this.getDeployTransaction(...n),s=yield this.signer.sendTransaction(i),o=Ct(this.constructor,"getContractAddress")(s),a=Ct(this.constructor,"getContract")(o,this.interface,this.signer);return wm(a,s),ce(a,"deployTransaction",s),a})}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,t){e==null&&je.throwError("missing compiler output",Y.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof e=="string"&&(e=JSON.parse(e));const n=e.abi;let i=null;return e.bytecode?i=e.bytecode:e.evm&&e.evm.bytecode&&(i=e.evm.bytecode),new this(n,i,t)}static getInterface(e){return vo.getInterface(e)}static getContractAddress(e){return jo(e)}static getContract(e,t,n){return new vo(e,t,n)}}class Tm{constructor(e){ce(this,"alphabet",e),ce(this,"base",e.length),ce(this,"_alphabetMap",{}),ce(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=me(e);if(t.length===0)return"";let n=[0];for(let s=0;s<t.length;++s){let o=t[s];for(let a=0;a<n.length;++a)o+=n[a]<<8,n[a]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;t[s]===0&&s<t.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let t=[];if(e.length===0)return new Uint8Array(t);t.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<t.length;++o)s+=t[o]*this.base,t[o]=s&255,s>>=8;for(;s>0;)t.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)t.push(0);return me(new Uint8Array(t.reverse()))}}new Tm("abcdefghijklmnopqrstuvwxyz234567");const yi=new Tm("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var wi;(function(r){r.sha256="sha256",r.sha512="sha512"})(wi||(wi={}));const e4="sha2/5.8.0",t4=new Y(e4);function Sm(r){return"0x"+jt.ripemd160().update(me(r)).digest("hex")}function Hr(r){return"0x"+jt.sha256().update(me(r)).digest("hex")}function r4(r){return"0x"+jt.sha512().update(me(r)).digest("hex")}function ps(r,e,t){return wi[r]||t4.throwError("unsupported algorithm "+r,Y.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:r}),"0x"+jt.hmac(jt[r],me(e)).update(me(t)).digest("hex")}function of(r,e,t,n,i){r=me(r),e=me(e);let s,o=1;const a=new Uint8Array(n),c=new Uint8Array(e.length+4);c.set(e);let l,u;for(let d=1;d<=o;d++){c[e.length]=d>>24&255,c[e.length+1]=d>>16&255,c[e.length+2]=d>>8&255,c[e.length+3]=d&255;let h=me(ps(i,r,c));s||(s=h.length,u=new Uint8Array(s),o=Math.ceil(n/s),l=n-(o-1)*s),u.set(h);for(let y=1;y<t;y++){h=me(ps(i,r,h));for(let T=0;T<s;T++)u[T]^=h[T]}const g=(d-1)*s,b=d===o?l:s;a.set(me(u).slice(0,b),g)}return xe(a)}const n4="wordlists/5.8.0",i4=new Y(n4);class zn{constructor(e){i4.checkAbstract(new.target,zn),ce(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const t=[];for(let n=0;n<2048;n++){const i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";t.push(i)}return sn(t.join(`
`)+`
`)}static register(e,t){t||(t=e.locale)}}const s4="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let es=null;function P0(r){if(es==null&&(es=s4.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),zn.check(r)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw es=null,new Error("BIP39 Wordlist for en (English) FAILED")}class o4 extends zn{constructor(){super("en")}getWord(e){return P0(this),es[e]}getWordIndex(e){return P0(this),es.indexOf(e)}}const km=new o4;zn.register(km);const Ao={en:km},a4="hdnode/5.8.0",ms=new Y(a4),c4=pe.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),l4=wt("Bitcoin seed"),Qn=2147483648;function Cm(r){return(1<<r)-1<<8-r}function f4(r){return(1<<r)-1}function Fs(r){return Ke(xe(r),32)}function B0(r){return yi.encode(He([r,yt(Hr(Hr(r)),0,4)]))}function af(r){if(r==null)return Ao.en;if(typeof r=="string"){const e=Ao[r];return e==null&&ms.throwArgumentError("unknown locale","wordlist",r),e}return r}const qn={},vi="m/44'/60'/0'/0/0";class zt{constructor(e,t,n,i,s,o,a,c){if(e!==qn)throw new Error("HDNode constructor cannot be called directly");if(t){const l=new Pn(t);ce(this,"privateKey",l.privateKey),ce(this,"publicKey",l.compressedPublicKey)}else ce(this,"privateKey",null),ce(this,"publicKey",xe(n));ce(this,"parentFingerprint",i),ce(this,"fingerprint",yt(Sm(Hr(this.publicKey)),0,4)),ce(this,"address",on(this.publicKey)),ce(this,"chainCode",s),ce(this,"index",o),ce(this,"depth",a),c==null?(ce(this,"mnemonic",null),ce(this,"path",null)):typeof c=="string"?(ce(this,"mnemonic",null),ce(this,"path",c)):(ce(this,"mnemonic",c),ce(this,"path",c.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return B0(He([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",xe(this.depth),this.parentFingerprint,Ke(xe(this.index),4),this.chainCode,this.privateKey!=null?He(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new zt(qn,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(e&~Qn));const n=new Uint8Array(37);if(e&Qn){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(me(this.privateKey),1),t&&(t+="'")}else n.set(me(this.publicKey));for(let d=24;d>=0;d-=8)n[33+(d>>3)]=e>>24-d&255;const i=me(ps(wi.sha512,this.chainCode,n)),s=i.slice(0,32),o=i.slice(32);let a=null,c=null;this.privateKey?a=Fs(pe.from(s).add(this.privateKey).mod(c4)):c=new Pn(xe(s))._addPoint(this.publicKey);let l=t;const u=this.mnemonic;return u&&(l=Object.freeze({phrase:u.phrase,path:t,locale:u.locale||"en"})),new zt(qn,a,c,this.fingerprint,Fs(o),e,this.depth+1,l)}derivePath(e){const t=e.split("/");if(t.length===0||t[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);t[0]==="m"&&t.shift();let n=this;for(let i=0;i<t.length;i++){const s=t[i];if(s.match(/^[0-9]+'$/)){const o=parseInt(s.substring(0,s.length-1));if(o>=Qn)throw new Error("invalid path index - "+s);n=n._derive(Qn+o)}else if(s.match(/^[0-9]+$/)){const o=parseInt(s);if(o>=Qn)throw new Error("invalid path index - "+s);n=n._derive(o)}else throw new Error("invalid path component - "+s)}return n}static _fromSeed(e,t){const n=me(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const i=me(ps(wi.sha512,l4,n));return new zt(qn,Fs(i.slice(0,32)),null,"0x00000000",Fs(i.slice(32)),0,0,t)}static fromMnemonic(e,t,n){return n=af(n),e=Wo(qo(e,n),n),zt._fromSeed(Mm(e,t),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return zt._fromSeed(e,null)}static fromExtendedKey(e){const t=yi.decode(e);(t.length!==82||B0(t.slice(0,78))!==e)&&ms.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=t[4],i=xe(t.slice(5,9)),s=parseInt(xe(t.slice(9,13)).substring(2),16),o=xe(t.slice(13,45)),a=t.slice(45,78);switch(xe(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new zt(qn,null,xe(a),i,o,s,n,null);case"0x0488ade4":case"0x04358394 ":if(a[0]!==0)break;return new zt(qn,xe(a.slice(1)),null,i,o,s,n,null)}return ms.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function Mm(r,e){e||(e="");const t=wt("mnemonic"+e,Cr.NFKD);return of(wt(r,Cr.NFKD),t,2048,64,"sha512")}function qo(r,e){e=af(e),ms.checkNormalize();const t=e.split(r);if(t.length%3!==0)throw new Error("invalid mnemonic");const n=me(new Uint8Array(Math.ceil(11*t.length/8)));let i=0;for(let l=0;l<t.length;l++){let u=e.getWordIndex(t[l].normalize("NFKD"));if(u===-1)throw new Error("invalid mnemonic");for(let d=0;d<11;d++)u&1<<10-d&&(n[i>>3]|=1<<7-i%8),i++}const s=32*t.length/3,o=t.length/3,a=Cm(o);if((me(Hr(n.slice(0,s/8)))[0]&a)!==(n[n.length-1]&a))throw new Error("invalid checksum");return xe(n.slice(0,s/8))}function Wo(r,e){if(e=af(e),r=me(r),r.length%4!==0||r.length<16||r.length>32)throw new Error("invalid entropy");const t=[0];let n=11;for(let o=0;o<r.length;o++)n>8?(t[t.length-1]<<=8,t[t.length-1]|=r[o],n-=8):(t[t.length-1]<<=n,t[t.length-1]|=r[o]>>8-n,t.push(r[o]&f4(8-n)),n+=3);const i=r.length/4,s=me(Hr(r))[0]&Cm(i);return t[t.length-1]<<=i,t[t.length-1]|=s>>8-i,e.join(t.map(o=>e.getWord(o)))}function u4(r,e){try{return qo(r,e),!0}catch{}return!1}function h4(r){return(typeof r!="number"||r<0||r>=Qn||r%1)&&ms.throwArgumentError("invalid account index","index",r),`m/44'/60'/${r}'/0/0`}const d4="random/5.8.0",jc=new Y(d4);function p4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const I0=p4();let eo=I0.crypto||I0.msCrypto;(!eo||!eo.getRandomValues)&&(jc.warn("WARNING: Missing strong random number source"),eo={getRandomValues:function(r){return jc.throwError("no secure random source avaialble",Y.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function oi(r){(r<=0||r>1024||r%1||r!=r)&&jc.throwArgumentError("invalid length","length",r);const e=new Uint8Array(r);return eo.getRandomValues(e),me(e)}function _m(r){r=r.slice();for(let e=r.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1)),n=r[e];r[e]=r[t],r[t]=n}return r}var Nm={exports:{}};(function(r,e){(function(t){function n(k){return parseInt(k)===k}function i(k){if(!n(k.length))return!1;for(var m=0;m<k.length;m++)if(!n(k[m])||k[m]<0||k[m]>255)return!1;return!0}function s(k,m){if(k.buffer&&ArrayBuffer.isView(k)&&k.name==="Uint8Array")return m&&(k.slice?k=k.slice():k=Array.prototype.slice.call(k)),k;if(Array.isArray(k)){if(!i(k))throw new Error("Array contains invalid value: "+k);return new Uint8Array(k)}if(n(k.length)&&i(k))return new Uint8Array(k);throw new Error("unsupported array-like object")}function o(k){return new Uint8Array(k)}function a(k,m,S,q,E){(q!=null||E!=null)&&(k.slice?k=k.slice(q,E):k=Array.prototype.slice.call(k,q,E)),m.set(k,S)}var c=function(){function k(S){var q=[],E=0;for(S=encodeURI(S);E<S.length;){var J=S.charCodeAt(E++);J===37?(q.push(parseInt(S.substr(E,2),16)),E+=2):q.push(J)}return s(q)}function m(S){for(var q=[],E=0;E<S.length;){var J=S[E];J<128?(q.push(String.fromCharCode(J)),E++):J>191&&J<224?(q.push(String.fromCharCode((J&31)<<6|S[E+1]&63)),E+=2):(q.push(String.fromCharCode((J&15)<<12|(S[E+1]&63)<<6|S[E+2]&63)),E+=3)}return q.join("")}return{toBytes:k,fromBytes:m}}(),l=function(){function k(q){for(var E=[],J=0;J<q.length;J+=2)E.push(parseInt(q.substr(J,2),16));return E}var m="0123456789abcdef";function S(q){for(var E=[],J=0;J<q.length;J++){var oe=q[J];E.push(m[(oe&240)>>4]+m[oe&15])}return E.join("")}return{toBytes:k,fromBytes:S}}(),u={16:10,24:12,32:14},d=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],h=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],g=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],b=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],y=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],T=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],w=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],_=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],P=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],D=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],I=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],B=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],V=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],z=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],he=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function X(k){for(var m=[],S=0;S<k.length;S+=4)m.push(k[S]<<24|k[S+1]<<16|k[S+2]<<8|k[S+3]);return m}var Q=function(k){if(!(this instanceof Q))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:s(k,!0)}),this._prepare()};Q.prototype._prepare=function(){var k=u[this.key.length];if(k==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var m=0;m<=k;m++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var S=(k+1)*4,q=this.key.length/4,E=X(this.key),J,m=0;m<q;m++)J=m>>2,this._Ke[J][m%4]=E[m],this._Kd[k-J][m%4]=E[m];for(var oe=0,F=q,U;F<S;){if(U=E[q-1],E[0]^=h[U>>16&255]<<24^h[U>>8&255]<<16^h[U&255]<<8^h[U>>24&255]^d[oe]<<24,oe+=1,q!=8)for(var m=1;m<q;m++)E[m]^=E[m-1];else{for(var m=1;m<q/2;m++)E[m]^=E[m-1];U=E[q/2-1],E[q/2]^=h[U&255]^h[U>>8&255]<<8^h[U>>16&255]<<16^h[U>>24&255]<<24;for(var m=q/2+1;m<q;m++)E[m]^=E[m-1]}for(var m=0,H,ee;m<q&&F<S;)H=F>>2,ee=F%4,this._Ke[H][ee]=E[m],this._Kd[k-H][ee]=E[m++],F++}for(var H=1;H<k;H++)for(var ee=0;ee<4;ee++)U=this._Kd[H][ee],this._Kd[H][ee]=B[U>>24&255]^V[U>>16&255]^z[U>>8&255]^he[U&255]},Q.prototype.encrypt=function(k){if(k.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var m=this._Ke.length-1,S=[0,0,0,0],q=X(k),E=0;E<4;E++)q[E]^=this._Ke[0][E];for(var J=1;J<m;J++){for(var E=0;E<4;E++)S[E]=b[q[E]>>24&255]^y[q[(E+1)%4]>>16&255]^T[q[(E+2)%4]>>8&255]^w[q[(E+3)%4]&255]^this._Ke[J][E];q=S.slice()}for(var oe=o(16),F,E=0;E<4;E++)F=this._Ke[m][E],oe[4*E]=(h[q[E]>>24&255]^F>>24)&255,oe[4*E+1]=(h[q[(E+1)%4]>>16&255]^F>>16)&255,oe[4*E+2]=(h[q[(E+2)%4]>>8&255]^F>>8)&255,oe[4*E+3]=(h[q[(E+3)%4]&255]^F)&255;return oe},Q.prototype.decrypt=function(k){if(k.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var m=this._Kd.length-1,S=[0,0,0,0],q=X(k),E=0;E<4;E++)q[E]^=this._Kd[0][E];for(var J=1;J<m;J++){for(var E=0;E<4;E++)S[E]=_[q[E]>>24&255]^P[q[(E+3)%4]>>16&255]^D[q[(E+2)%4]>>8&255]^I[q[(E+1)%4]&255]^this._Kd[J][E];q=S.slice()}for(var oe=o(16),F,E=0;E<4;E++)F=this._Kd[m][E],oe[4*E]=(g[q[E]>>24&255]^F>>24)&255,oe[4*E+1]=(g[q[(E+3)%4]>>16&255]^F>>16)&255,oe[4*E+2]=(g[q[(E+2)%4]>>8&255]^F>>8)&255,oe[4*E+3]=(g[q[(E+1)%4]&255]^F)&255;return oe};var Z=function(k){if(!(this instanceof Z))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new Q(k)};Z.prototype.encrypt=function(k){if(k=s(k),k.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var m=o(k.length),S=o(16),q=0;q<k.length;q+=16)a(k,S,0,q,q+16),S=this._aes.encrypt(S),a(S,m,q);return m},Z.prototype.decrypt=function(k){if(k=s(k),k.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var m=o(k.length),S=o(16),q=0;q<k.length;q+=16)a(k,S,0,q,q+16),S=this._aes.decrypt(S),a(S,m,q);return m};var N=function(k,m){if(!(this instanceof N))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!m)m=o(16);else if(m.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=s(m,!0),this._aes=new Q(k)};N.prototype.encrypt=function(k){if(k=s(k),k.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var m=o(k.length),S=o(16),q=0;q<k.length;q+=16){a(k,S,0,q,q+16);for(var E=0;E<16;E++)S[E]^=this._lastCipherblock[E];this._lastCipherblock=this._aes.encrypt(S),a(this._lastCipherblock,m,q)}return m},N.prototype.decrypt=function(k){if(k=s(k),k.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var m=o(k.length),S=o(16),q=0;q<k.length;q+=16){a(k,S,0,q,q+16),S=this._aes.decrypt(S);for(var E=0;E<16;E++)m[q+E]=S[E]^this._lastCipherblock[E];a(k,this._lastCipherblock,0,q,q+16)}return m};var p=function(k,m,S){if(!(this instanceof p))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!m)m=o(16);else if(m.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");S||(S=1),this.segmentSize=S,this._shiftRegister=s(m,!0),this._aes=new Q(k)};p.prototype.encrypt=function(k){if(k.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var m=s(k,!0),S,q=0;q<m.length;q+=this.segmentSize){S=this._aes.encrypt(this._shiftRegister);for(var E=0;E<this.segmentSize;E++)m[q+E]^=S[E];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(m,this._shiftRegister,16-this.segmentSize,q,q+this.segmentSize)}return m},p.prototype.decrypt=function(k){if(k.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var m=s(k,!0),S,q=0;q<m.length;q+=this.segmentSize){S=this._aes.encrypt(this._shiftRegister);for(var E=0;E<this.segmentSize;E++)m[q+E]^=S[E];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(k,this._shiftRegister,16-this.segmentSize,q,q+this.segmentSize)}return m};var v=function(k,m){if(!(this instanceof v))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!m)m=o(16);else if(m.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=s(m,!0),this._lastPrecipherIndex=16,this._aes=new Q(k)};v.prototype.encrypt=function(k){for(var m=s(k,!0),S=0;S<m.length;S++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),m[S]^=this._lastPrecipher[this._lastPrecipherIndex++];return m},v.prototype.decrypt=v.prototype.encrypt;var C=function(k){if(!(this instanceof C))throw Error("Counter must be instanitated with `new`");k!==0&&!k&&(k=1),typeof k=="number"?(this._counter=o(16),this.setValue(k)):this.setBytes(k)};C.prototype.setValue=function(k){if(typeof k!="number"||parseInt(k)!=k)throw new Error("invalid counter value (must be an integer)");for(var m=15;m>=0;--m)this._counter[m]=k%256,k=k>>8},C.prototype.setBytes=function(k){if(k=s(k,!0),k.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=k},C.prototype.increment=function(){for(var k=15;k>=0;k--)if(this._counter[k]===255)this._counter[k]=0;else{this._counter[k]++;break}};var R=function(k,m){if(!(this instanceof R))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",m instanceof C||(m=new C(m)),this._counter=m,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new Q(k)};R.prototype.encrypt=function(k){for(var m=s(k,!0),S=0;S<m.length;S++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),m[S]^=this._remainingCounter[this._remainingCounterIndex++];return m},R.prototype.decrypt=R.prototype.encrypt;function L(k){k=s(k,!0);var m=16-k.length%16,S=o(k.length+m);a(k,S);for(var q=k.length;q<S.length;q++)S[q]=m;return S}function G(k){if(k=s(k,!0),k.length<16)throw new Error("PKCS#7 invalid length");var m=k[k.length-1];if(m>16)throw new Error("PKCS#7 padding byte out of range");for(var S=k.length-m,q=0;q<m;q++)if(k[S+q]!==m)throw new Error("PKCS#7 invalid padding byte");var E=o(S);return a(k,E,0,0,S),E}var j={AES:Q,Counter:C,ModeOfOperation:{ecb:Z,cbc:N,cfb:p,ofb:v,ctr:R},utils:{hex:l,utf8:c},padding:{pkcs7:{pad:L,strip:G}},_arrayTest:{coerceArray:s,createArray:o,copyArray:a}};r.exports=j})()})(Nm);var m4=Nm.exports;const yr=Ai(m4),Rm="json-wallets/5.8.0";function Bn(r){return typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),me(r)}function Oi(r,e){for(r=String(r);r.length<e;)r="0"+r;return r}function cf(r){return typeof r=="string"?wt(r,Cr.NFKC):me(r)}function bt(r,e){let t=r;const n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let s=null;for(const o in t)if(o.toLowerCase()===n[i]){s=t[o];break}if(s===null)return null;t=s}return t}function x4(r){const e=me(r);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=xe(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}const g4=new Y(Rm);class b4 extends Vn{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function Pm(r,e){const t=JSON.parse(r);e=cf(e);const n=Ue(bt(t,"ethaddr")),i=Bn(bt(t,"encseed"));(!i||i.length%16!==0)&&g4.throwArgumentError("invalid encseed","json",r);const s=me(of(e,e,2e3,32,"sha256")).slice(0,16),o=i.slice(0,16),a=i.slice(16),c=new yr.ModeOfOperation.cbc(s,o),l=yr.padding.pkcs7.strip(me(c.decrypt(a)));let u="";for(let g=0;g<l.length;g++)u+=String.fromCharCode(l[g]);const d=wt(u),h=Ve(d);return new b4({_isCrowdsaleAccount:!0,address:n,privateKey:h})}function lf(r){let e=null;try{e=JSON.parse(r)}catch{return!1}return e.encseed&&e.ethaddr}function ff(r){let e=null;try{e=JSON.parse(r)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}function y4(r){if(lf(r))try{return Ue(JSON.parse(r).ethaddr)}catch{return null}if(ff(r))try{return Ue(JSON.parse(r).address)}catch{return null}return null}var Bm={exports:{}};(function(r,e){(function(t){function i(y){const T=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let w=1779033703,_=3144134277,P=1013904242,D=2773480762,I=1359893119,B=2600822924,V=528734635,z=1541459225;const he=new Uint32Array(64);function X(R){let L=0,G=R.length;for(;G>=64;){let j=w,k=_,m=P,S=D,q=I,E=B,J=V,oe=z,F,U,H,ee,ae;for(U=0;U<16;U++)H=L+U*4,he[U]=(R[H]&255)<<24|(R[H+1]&255)<<16|(R[H+2]&255)<<8|R[H+3]&255;for(U=16;U<64;U++)F=he[U-2],ee=(F>>>17|F<<15)^(F>>>19|F<<13)^F>>>10,F=he[U-15],ae=(F>>>7|F<<25)^(F>>>18|F<<14)^F>>>3,he[U]=(ee+he[U-7]|0)+(ae+he[U-16]|0)|0;for(U=0;U<64;U++)ee=(((q>>>6|q<<26)^(q>>>11|q<<21)^(q>>>25|q<<7))+(q&E^~q&J)|0)+(oe+(T[U]+he[U]|0)|0)|0,ae=((j>>>2|j<<30)^(j>>>13|j<<19)^(j>>>22|j<<10))+(j&k^j&m^k&m)|0,oe=J,J=E,E=q,q=S+ee|0,S=m,m=k,k=j,j=ee+ae|0;w=w+j|0,_=_+k|0,P=P+m|0,D=D+S|0,I=I+q|0,B=B+E|0,V=V+J|0,z=z+oe|0,L+=64,G-=64}}X(y);let Q,Z=y.length%64,N=y.length/536870912|0,p=y.length<<3,v=Z<56?56:120,C=y.slice(y.length-Z,y.length);for(C.push(128),Q=Z+1;Q<v;Q++)C.push(0);return C.push(N>>>24&255),C.push(N>>>16&255),C.push(N>>>8&255),C.push(N>>>0&255),C.push(p>>>24&255),C.push(p>>>16&255),C.push(p>>>8&255),C.push(p>>>0&255),X(C),[w>>>24&255,w>>>16&255,w>>>8&255,w>>>0&255,_>>>24&255,_>>>16&255,_>>>8&255,_>>>0&255,P>>>24&255,P>>>16&255,P>>>8&255,P>>>0&255,D>>>24&255,D>>>16&255,D>>>8&255,D>>>0&255,I>>>24&255,I>>>16&255,I>>>8&255,I>>>0&255,B>>>24&255,B>>>16&255,B>>>8&255,B>>>0&255,V>>>24&255,V>>>16&255,V>>>8&255,V>>>0&255,z>>>24&255,z>>>16&255,z>>>8&255,z>>>0&255]}function s(y,T,w){y=y.length<=64?y:i(y);const _=64+T.length+4,P=new Array(_),D=new Array(64);let I,B=[];for(I=0;I<64;I++)P[I]=54;for(I=0;I<y.length;I++)P[I]^=y[I];for(I=0;I<T.length;I++)P[64+I]=T[I];for(I=_-4;I<_;I++)P[I]=0;for(I=0;I<64;I++)D[I]=92;for(I=0;I<y.length;I++)D[I]^=y[I];function V(){for(let z=_-1;z>=_-4;z--){if(P[z]++,P[z]<=255)return;P[z]=0}}for(;w>=32;)V(),B=B.concat(i(D.concat(i(P)))),w-=32;return w>0&&(V(),B=B.concat(i(D.concat(i(P))).slice(0,w))),B}function o(y,T,w,_,P){let D;for(u(y,(2*w-1)*16,P,0,16),D=0;D<2*w;D++)l(y,D*16,P,16),c(P,_),u(P,0,y,T+D*16,16);for(D=0;D<w;D++)u(y,T+D*2*16,y,D*16,16);for(D=0;D<w;D++)u(y,T+(D*2+1)*16,y,(D+w)*16,16)}function a(y,T){return y<<T|y>>>32-T}function c(y,T){u(y,0,T,0,16);for(let w=8;w>0;w-=2)T[4]^=a(T[0]+T[12],7),T[8]^=a(T[4]+T[0],9),T[12]^=a(T[8]+T[4],13),T[0]^=a(T[12]+T[8],18),T[9]^=a(T[5]+T[1],7),T[13]^=a(T[9]+T[5],9),T[1]^=a(T[13]+T[9],13),T[5]^=a(T[1]+T[13],18),T[14]^=a(T[10]+T[6],7),T[2]^=a(T[14]+T[10],9),T[6]^=a(T[2]+T[14],13),T[10]^=a(T[6]+T[2],18),T[3]^=a(T[15]+T[11],7),T[7]^=a(T[3]+T[15],9),T[11]^=a(T[7]+T[3],13),T[15]^=a(T[11]+T[7],18),T[1]^=a(T[0]+T[3],7),T[2]^=a(T[1]+T[0],9),T[3]^=a(T[2]+T[1],13),T[0]^=a(T[3]+T[2],18),T[6]^=a(T[5]+T[4],7),T[7]^=a(T[6]+T[5],9),T[4]^=a(T[7]+T[6],13),T[5]^=a(T[4]+T[7],18),T[11]^=a(T[10]+T[9],7),T[8]^=a(T[11]+T[10],9),T[9]^=a(T[8]+T[11],13),T[10]^=a(T[9]+T[8],18),T[12]^=a(T[15]+T[14],7),T[13]^=a(T[12]+T[15],9),T[14]^=a(T[13]+T[12],13),T[15]^=a(T[14]+T[13],18);for(let w=0;w<16;++w)y[w]+=T[w]}function l(y,T,w,_){for(let P=0;P<_;P++)w[P]^=y[T+P]}function u(y,T,w,_,P){for(;P--;)w[_++]=y[T++]}function d(y){if(!y||typeof y.length!="number")return!1;for(let T=0;T<y.length;T++){const w=y[T];if(typeof w!="number"||w%1||w<0||w>=256)return!1}return!0}function h(y,T){if(typeof y!="number"||y%1)throw new Error("invalid "+T);return y}function g(y,T,w,_,P,D,I){if(w=h(w,"N"),_=h(_,"r"),P=h(P,"p"),D=h(D,"dkLen"),w===0||w&w-1)throw new Error("N must be power of 2");if(w>2147483647/128/_)throw new Error("N too large");if(_>2147483647/128/P)throw new Error("r too large");if(!d(y))throw new Error("password must be an array or buffer");if(y=Array.prototype.slice.call(y),!d(T))throw new Error("salt must be an array or buffer");T=Array.prototype.slice.call(T);let B=s(y,T,P*128*_);const V=new Uint32Array(P*32*_);for(let q=0;q<V.length;q++){const E=q*4;V[q]=(B[E+3]&255)<<24|(B[E+2]&255)<<16|(B[E+1]&255)<<8|(B[E+0]&255)<<0}const z=new Uint32Array(64*_),he=new Uint32Array(32*_*w),X=32*_,Q=new Uint32Array(16),Z=new Uint32Array(16),N=P*w*2;let p=0,v=null,C=!1,R=0,L=0,G,j;const k=I?parseInt(1e3/_):4294967295,m=typeof setImmediate<"u"?setImmediate:setTimeout,S=function(){if(C)return I(new Error("cancelled"),p/N);let q;switch(R){case 0:j=L*32*_,u(V,j,z,0,X),R=1,G=0;case 1:q=w-G,q>k&&(q=k);for(let J=0;J<q;J++)u(z,0,he,(G+J)*X,X),o(z,X,_,Q,Z);if(G+=q,p+=q,I){const J=parseInt(1e3*p/N);if(J!==v){if(C=I(null,p/N),C)break;v=J}}if(G<w)break;G=0,R=2;case 2:q=w-G,q>k&&(q=k);for(let J=0;J<q;J++){const oe=(2*_-1)*16,F=z[oe]&w-1;l(he,F*X,z,X),o(z,X,_,Q,Z)}if(G+=q,p+=q,I){const J=parseInt(1e3*p/N);if(J!==v){if(C=I(null,p/N),C)break;v=J}}if(G<w)break;if(u(z,0,V,j,X),L++,L<P){R=0;break}B=[];for(let J=0;J<V.length;J++)B.push(V[J]>>0&255),B.push(V[J]>>8&255),B.push(V[J]>>16&255),B.push(V[J]>>24&255);const E=s(y,B,D);return I&&I(null,1,E),E}I&&m(S)};if(!I)for(;;){const q=S();if(q!=null)return q}S()}const b={scrypt:function(y,T,w,_,P,D,I){return new Promise(function(B,V){let z=0;I&&I(0),g(y,T,w,_,P,D,function(he,X,Q){if(he)V(he);else if(Q)I&&z!==1&&I(1),B(new Uint8Array(Q));else if(I&&X!==z)return z=X,I(X)})})},syncScrypt:function(y,T,w,_,P,D){return new Uint8Array(g(y,T,w,_,P,D))}};r.exports=b})()})(Bm);var w4=Bm.exports;const uf=Ai(w4);var v4=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(r,e||[])).next())})};const Vc=new Y(Rm);function O0(r){return r!=null&&r.mnemonic&&r.mnemonic.phrase}class A4 extends Vn{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function E4(r,e,t){if(bt(r,"crypto/cipher")==="aes-128-ctr"){const i=Bn(bt(r,"crypto/cipherparams/iv")),s=new yr.Counter(i),o=new yr.ModeOfOperation.ctr(e,s);return me(o.decrypt(t))}return null}function Im(r,e){const t=Bn(bt(r,"crypto/ciphertext"));if(xe(Ve(He([e.slice(16,32),t]))).substring(2)!==bt(r,"crypto/mac").toLowerCase())throw new Error("invalid password");const i=E4(r,e.slice(0,16),t);i||Vc.throwError("unsupported cipher",Y.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const s=e.slice(32,64),o=on(i);if(r.address){let c=r.address.toLowerCase();if(c.substring(0,2)!=="0x"&&(c="0x"+c),Ue(c)!==o)throw new Error("address mismatch")}const a={_isKeystoreAccount:!0,address:o,privateKey:xe(i)};if(bt(r,"x-ethers/version")==="0.1"){const c=Bn(bt(r,"x-ethers/mnemonicCiphertext")),l=Bn(bt(r,"x-ethers/mnemonicCounter")),u=new yr.Counter(l),d=new yr.ModeOfOperation.ctr(s,u),h=bt(r,"x-ethers/path")||vi,g=bt(r,"x-ethers/locale")||"en",b=me(d.decrypt(c));try{const y=Wo(b,g),T=zt.fromMnemonic(y,null,g).derivePath(h);if(T.privateKey!=a.privateKey)throw new Error("mnemonic mismatch");a.mnemonic=T.mnemonic}catch(y){if(y.code!==Y.errors.INVALID_ARGUMENT||y.argument!=="wordlist")throw y}}return new A4(a)}function Om(r,e,t,n,i){return me(of(r,e,t,n,i))}function T4(r,e,t,n,i){return Promise.resolve(Om(r,e,t,n,i))}function Lm(r,e,t,n,i){const s=cf(e),o=bt(r,"crypto/kdf");if(o&&typeof o=="string"){const a=function(c,l){return Vc.throwArgumentError("invalid key-derivation function parameters",c,l)};if(o.toLowerCase()==="scrypt"){const c=Bn(bt(r,"crypto/kdfparams/salt")),l=parseInt(bt(r,"crypto/kdfparams/n")),u=parseInt(bt(r,"crypto/kdfparams/r")),d=parseInt(bt(r,"crypto/kdfparams/p"));(!l||!u||!d)&&a("kdf",o),l&l-1&&a("N",l);const h=parseInt(bt(r,"crypto/kdfparams/dklen"));return h!==32&&a("dklen",h),n(s,c,l,u,d,64,i)}else if(o.toLowerCase()==="pbkdf2"){const c=Bn(bt(r,"crypto/kdfparams/salt"));let l=null;const u=bt(r,"crypto/kdfparams/prf");u==="hmac-sha256"?l="sha256":u==="hmac-sha512"?l="sha512":a("prf",u);const d=parseInt(bt(r,"crypto/kdfparams/c")),h=parseInt(bt(r,"crypto/kdfparams/dklen"));return h!==32&&a("dklen",h),t(s,c,d,h,l)}}return Vc.throwArgumentError("unsupported key-derivation function","kdf",o)}function S4(r,e){const t=JSON.parse(r),n=Lm(t,e,Om,uf.syncScrypt);return Im(t,n)}function k4(r,e,t){return v4(this,void 0,void 0,function*(){const n=JSON.parse(r),i=yield Lm(n,e,T4,uf.scrypt,t);return Im(n,i)})}function C4(r,e,t,n){try{if(Ue(r.address)!==on(r.privateKey))throw new Error("address/privateKey mismatch");if(O0(r)){const T=r.mnemonic;if(zt.fromMnemonic(T.phrase,null,T.locale).derivePath(T.path||vi).privateKey!=r.privateKey)throw new Error("mnemonic mismatch")}}catch(T){return Promise.reject(T)}typeof t=="function"&&!n&&(n=t,t={}),t||(t={});const i=me(r.privateKey),s=cf(e);let o=null,a=null,c=null;if(O0(r)){const T=r.mnemonic;o=me(qo(T.phrase,T.locale||"en")),a=T.path||vi,c=T.locale||"en"}let l=t.client;l||(l="ethers.js");let u=null;t.salt?u=me(t.salt):u=oi(32);let d=null;if(t.iv){if(d=me(t.iv),d.length!==16)throw new Error("invalid iv")}else d=oi(16);let h=null;if(t.uuid){if(h=me(t.uuid),h.length!==16)throw new Error("invalid uuid")}else h=oi(16);let g=1<<17,b=8,y=1;return t.scrypt&&(t.scrypt.N&&(g=t.scrypt.N),t.scrypt.r&&(b=t.scrypt.r),t.scrypt.p&&(y=t.scrypt.p)),uf.scrypt(s,u,g,b,y,64,n).then(T=>{T=me(T);const w=T.slice(0,16),_=T.slice(16,32),P=T.slice(32,64),D=new yr.Counter(d),I=new yr.ModeOfOperation.ctr(w,D),B=me(I.encrypt(i)),V=Ve(He([_,B])),z={address:r.address.substring(2).toLowerCase(),id:x4(h),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:xe(d).substring(2)},ciphertext:xe(B).substring(2),kdf:"scrypt",kdfparams:{salt:xe(u).substring(2),n:g,dklen:32,p:y,r:b},mac:V.substring(2)}};if(o){const he=oi(16),X=new yr.Counter(he),Q=new yr.ModeOfOperation.ctr(P,X),Z=me(Q.encrypt(o)),N=new Date,p=N.getUTCFullYear()+"-"+Oi(N.getUTCMonth()+1,2)+"-"+Oi(N.getUTCDate(),2)+"T"+Oi(N.getUTCHours(),2)+"-"+Oi(N.getUTCMinutes(),2)+"-"+Oi(N.getUTCSeconds(),2)+".0Z";z["x-ethers"]={client:l,gethFilename:"UTC--"+p+"--"+z.address,mnemonicCounter:xe(he).substring(2),mnemonicCiphertext:xe(Z).substring(2),path:a,locale:c,version:"0.1"}}return JSON.stringify(z)})}function M4(r,e,t){if(lf(r)){t&&t(0);const n=Pm(r,e);return t&&t(1),Promise.resolve(n)}return ff(r)?k4(r,e,t):Promise.reject(new Error("invalid JSON wallet"))}function _4(r,e){if(lf(r))return Pm(r,e);if(ff(r))return S4(r,e);throw new Error("invalid JSON wallet")}const N4="wallet/5.8.0";var L0=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(r,e||[])).next())})};const Wn=new Y(N4);function R4(r){return r!=null&&Ne(r.privateKey,32)&&r.address!=null}function P4(r){const e=r.mnemonic;return e&&e.phrase}class tn extends Gr{constructor(e,t){if(super(),R4(e)){const n=new Pn(e.privateKey);if(ce(this,"_signingKey",()=>n),ce(this,"address",on(this.publicKey)),this.address!==Ue(e.address)&&Wn.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),P4(e)){const i=e.mnemonic;ce(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||vi,locale:i.locale||"en"}));const s=this.mnemonic,o=zt.fromMnemonic(s.phrase,null,s.locale).derivePath(s.path);on(o.privateKey)!==this.address&&Wn.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else ce(this,"_mnemonic",()=>null)}else{if(Pn.isSigningKey(e))e.curve!=="secp256k1"&&Wn.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),ce(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);const n=new Pn(e);ce(this,"_signingKey",()=>n)}ce(this,"_mnemonic",()=>null),ce(this,"address",on(this.publicKey))}t&&!Kn.isProvider(t)&&Wn.throwArgumentError("invalid provider","provider",t),ce(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new tn(this,e)}signTransaction(e){return pt(e).then(t=>{t.from!=null&&(Ue(t.from)!==this.address&&Wn.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);const n=this._signingKey().signDigest(Ve($c(t)));return $c(t,n)})}signMessage(e){return L0(this,void 0,void 0,function*(){return Rc(this._signingKey().signDigest(Ql(e)))})}_signTypedData(e,t,n){return L0(this,void 0,void 0,function*(){const i=yield kt.resolveNames(e,t,n,s=>(this.provider==null&&Wn.throwError("cannot resolve ENS names without a provider",Y.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:s}),this.provider.resolveName(s)));return Rc(this._signingKey().signDigest(kt.hash(i.domain,t,i.value)))})}encrypt(e,t,n){if(typeof t=="function"&&!n&&(n=t,t={}),n&&typeof n!="function")throw new Error("invalid callback");return t||(t={}),C4(this,e,t,n)}static createRandom(e){let t=oi(16);e||(e={}),e.extraEntropy&&(t=me(yt(Ve(He([t,e.extraEntropy])),0,16)));const n=Wo(t,e.locale);return tn.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,t,n){return M4(e,t,n).then(i=>new tn(i))}static fromEncryptedJsonSync(e,t){return new tn(_4(e,t))}static fromMnemonic(e,t,n){return t||(t=vi),new tn(zt.fromMnemonic(e,null,n).derivePath(t))}}function B4(r,e){return ks(Ql(r),e)}function I4(r,e,t,n){return ks(kt.hash(r,e,t),n)}const O4="networks/5.8.0",F0=new Y(O4);function L4(r){return r&&typeof r.renetwork=="function"}function cr(r){const e=function(t,n){n==null&&(n={});const i=[];if(t.InfuraProvider&&n.infura!=="-")try{i.push(new t.InfuraProvider(r,n.infura))}catch{}if(t.EtherscanProvider&&n.etherscan!=="-")try{i.push(new t.EtherscanProvider(r,n.etherscan))}catch{}if(t.AlchemyProvider&&n.alchemy!=="-")try{i.push(new t.AlchemyProvider(r,n.alchemy))}catch{}if(t.PocketProvider&&n.pocket!=="-"){const s=["goerli","ropsten","rinkeby","sepolia"];try{const o=new t.PocketProvider(r,n.pocket);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}}if(t.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new t.CloudflareProvider(r))}catch{}if(t.AnkrProvider&&n.ankr!=="-")try{const s=["ropsten"],o=new t.AnkrProvider(r,n.ankr);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}if(t.QuickNodeProvider&&n.quicknode!=="-")try{i.push(new t.QuickNodeProvider(r,n.quicknode))}catch{}if(i.length===0)return null;if(t.FallbackProvider){let s=1;return n.quorum!=null?s=n.quorum:r==="homestead"&&(s=2),new t.FallbackProvider(i,s)}return i[0]};return e.renetwork=function(t){return cr(t)},e}function Eo(r,e){const t=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(r,e):null};return t.renetwork=function(n){return Eo(r,n)},t}const D0={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:cr("homestead")},U0={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:cr("ropsten")},$0={chainId:63,name:"classicMordor",_defaultProvider:Eo("https://www.ethercluster.com/mordor","classicMordor")},Ds={unspecified:{chainId:0,name:"unspecified"},homestead:D0,mainnet:D0,morden:{chainId:2,name:"morden"},ropsten:U0,testnet:U0,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:cr("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:cr("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:cr("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:cr("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:cr("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:Eo("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:$0,classicTestnet:$0,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:Eo("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:cr("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:cr("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:cr("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function hf(r){if(r==null)return null;if(typeof r=="number"){for(const n in Ds){const i=Ds[n];if(i.chainId===r)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:r,name:"unknown"}}if(typeof r=="string"){const n=Ds[r];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=Ds[r.name];if(!e)return typeof r.chainId!="number"&&F0.throwArgumentError("invalid network chainId","network",r),r;r.chainId!==0&&r.chainId!==e.chainId&&F0.throwArgumentError("network chainId mismatch","network",r);let t=r._defaultProvider||null;return t==null&&e._defaultProvider&&(L4(e._defaultProvider)?t=e._defaultProvider.renetwork(r):t=e._defaultProvider),{name:r.name,chainId:e.chainId,ensAddress:r.ensAddress||e.ensAddress||null,_defaultProvider:t}}const F4="web/5.8.0";var D4=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(r,e||[])).next())})};function U4(r,e){return D4(this,void 0,void 0,function*(){e==null&&(e={});const t={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(t.mode="cors",t.cache="no-cache",t.credentials="same-origin",t.redirect="follow",t.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(t.mode=o.mode),o.cache&&(t.cache=o.cache),o.credentials&&(t.credentials=o.credentials),o.redirect&&(t.redirect=o.redirect),o.referrer&&(t.referrer=o.referrer)}const n=yield fetch(r,t),i=yield n.arrayBuffer(),s={};return n.headers.forEach?n.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):n.headers.keys().forEach(o=>{s[o.toLowerCase()]=n.headers.get(o)}),{headers:s,statusCode:n.status,statusMessage:n.statusText,body:me(new Uint8Array(i))}})}var $4=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(r,e||[])).next())})};const or=new Y(F4);function j0(r){return new Promise(e=>{setTimeout(e,r)})}function Qr(r,e){if(r==null)return null;if(typeof r=="string")return r;if(vs(r)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return Hn(r)}catch{}return xe(r)}return r}function j4(r){return wt(r.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function Fm(r,e,t){const n=typeof r=="object"&&r.throttleLimit!=null?r.throttleLimit:12;or.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof r=="object"?r.throttleCallback:null,s=typeof r=="object"&&typeof r.throttleSlotInterval=="number"?r.throttleSlotInterval:100;or.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof r=="object"?!!r.errorPassThrough:!1,a={};let c=null;const l={method:"GET"};let u=!1,d=2*60*1e3;if(typeof r=="string")c=r;else if(typeof r=="object"){if((r==null||r.url==null)&&or.throwArgumentError("missing URL","connection.url",r),c=r.url,typeof r.timeout=="number"&&r.timeout>0&&(d=r.timeout),r.headers)for(const w in r.headers)a[w.toLowerCase()]={key:w,value:String(r.headers[w])},["if-none-match","if-modified-since"].indexOf(w.toLowerCase())>=0&&(u=!0);if(l.allowGzip=!!r.allowGzip,r.user!=null&&r.password!=null){c.substring(0,6)!=="https:"&&r.allowInsecureAuthentication!==!0&&or.throwError("basic authentication requires a secure https url",Y.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:r.user,password:"[REDACTED]"});const w=r.user+":"+r.password;a.authorization={key:"Authorization",value:"Basic "+Jl(wt(w))}}r.skipFetchSetup!=null&&(l.skipFetchSetup=!!r.skipFetchSetup),r.fetchOptions!=null&&(l.fetchOptions=Ge(r.fetchOptions))}const h=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),g=c?c.match(h):null;if(g)try{const w={statusCode:200,statusMessage:"OK",headers:{"content-type":g[1]||"text/plain"},body:g[2]?Yl(g[3]):j4(g[3])};let _=w.body;return t&&(_=t(w.body,w)),Promise.resolve(_)}catch(w){or.throwError("processing response error",Y.errors.SERVER_ERROR,{body:Qr(g[1],g[2]),error:w,requestBody:null,requestMethod:"GET",url:c})}e&&(l.method="POST",l.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const b={};Object.keys(a).forEach(w=>{const _=a[w];b[_.key]=_.value}),l.headers=b;const y=function(){let w=null;return{promise:new Promise(function(D,I){d&&(w=setTimeout(()=>{w!=null&&(w=null,I(or.makeError("timeout",Y.errors.TIMEOUT,{requestBody:Qr(l.body,b["content-type"]),requestMethod:l.method,timeout:d,url:c})))},d))}),cancel:function(){w!=null&&(clearTimeout(w),w=null)}}}(),T=function(){return $4(this,void 0,void 0,function*(){for(let w=0;w<n;w++){let _=null;try{if(_=yield U4(c,l),w<n){if(_.statusCode===301||_.statusCode===302){const D=_.headers.location||"";if(l.method==="GET"&&D.match(/^https:/)){c=_.headers.location;continue}}else if(_.statusCode===429){let D=!0;if(i&&(D=yield i(w,c)),D){let I=0;const B=_.headers["retry-after"];typeof B=="string"&&B.match(/^[1-9][0-9]*$/)?I=parseInt(B)*1e3:I=s*parseInt(String(Math.random()*Math.pow(2,w))),yield j0(I);continue}}}}catch(D){_=D.response,_==null&&(y.cancel(),or.throwError("missing response",Y.errors.SERVER_ERROR,{requestBody:Qr(l.body,b["content-type"]),requestMethod:l.method,serverError:D,url:c}))}let P=_.body;if(u&&_.statusCode===304?P=null:!o&&(_.statusCode<200||_.statusCode>=300)&&(y.cancel(),or.throwError("bad response",Y.errors.SERVER_ERROR,{status:_.statusCode,headers:_.headers,body:Qr(P,_.headers?_.headers["content-type"]:null),requestBody:Qr(l.body,b["content-type"]),requestMethod:l.method,url:c})),t)try{const D=yield t(P,_);return y.cancel(),D}catch(D){if(D.throttleRetry&&w<n){let I=!0;if(i&&(I=yield i(w,c)),I){const B=s*parseInt(String(Math.random()*Math.pow(2,w)));yield j0(B);continue}}y.cancel(),or.throwError("processing response error",Y.errors.SERVER_ERROR,{body:Qr(P,_.headers?_.headers["content-type"]:null),error:D,requestBody:Qr(l.body,b["content-type"]),requestMethod:l.method,url:c})}return y.cancel(),P}return or.throwError("failed response",Y.errors.SERVER_ERROR,{requestBody:Qr(l.body,b["content-type"]),requestMethod:l.method,url:c})})}();return Promise.race([y.promise,T])}function Ni(r,e,t){let n=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(Hn(s))}catch(c){or.throwError("invalid JSON",Y.errors.SERVER_ERROR,{body:s,error:c})}return t&&(a=t(a,o)),a},i=null;if(e!=null){i=wt(e);const s=typeof r=="string"?{url:r}:Ge(r);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=Ge(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},r=s}return Fm(r,i,n)}function Nn(r,e){return e||(e={}),e=Ge(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(t,n){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&n(new Error("timeout"))},e.timeout));const a=e.retryLimit;let c=0;function l(){return r().then(function(u){if(u!==void 0)o()&&t(u);else if(e.oncePoll)e.oncePoll.once("poll",l);else if(e.onceBlock)e.onceBlock.once("block",l);else if(!s){if(c++,c>a){o()&&n(new Error("retry limit reached"));return}let d=e.interval*parseInt(String(Math.random()*Math.pow(2,c)));d<e.floor&&(d=e.floor),d>e.ceiling&&(d=e.ceiling),setTimeout(l,d)}return null},function(u){o()&&n(u)})}l()})}var To="qpzry9x8gf2tvdw0s3jn54khce6mua7l",Hc={};for(var Us=0;Us<To.length;Us++){var nc=To.charAt(Us);if(Hc[nc]!==void 0)throw new TypeError(nc+" is ambiguous");Hc[nc]=Us}function ui(r){var e=r>>25;return(r&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function Dm(r){for(var e=1,t=0;t<r.length;++t){var n=r.charCodeAt(t);if(n<33||n>126)return"Invalid prefix ("+r+")";e=ui(e)^n>>5}for(e=ui(e),t=0;t<r.length;++t){var i=r.charCodeAt(t);e=ui(e)^i&31}return e}function V4(r,e,t){if(t=t||90,r.length+7+e.length>t)throw new TypeError("Exceeds length limit");r=r.toLowerCase();var n=Dm(r);if(typeof n=="string")throw new Error(n);for(var i=r+"1",s=0;s<e.length;++s){var o=e[s];if(o>>5)throw new Error("Non 5-bit word");n=ui(n)^o,i+=To.charAt(o)}for(s=0;s<6;++s)n=ui(n);for(n^=1,s=0;s<6;++s){var a=n>>(5-s)*5&31;i+=To.charAt(a)}return i}function Um(r,e){if(e=e||90,r.length<8)return r+" too short";if(r.length>e)return"Exceeds length limit";var t=r.toLowerCase(),n=r.toUpperCase();if(r!==t&&r!==n)return"Mixed-case string "+r;r=t;var i=r.lastIndexOf("1");if(i===-1)return"No separator character for "+r;if(i===0)return"Missing prefix for "+r;var s=r.slice(0,i),o=r.slice(i+1);if(o.length<6)return"Data too short";var a=Dm(s);if(typeof a=="string")return a;for(var c=[],l=0;l<o.length;++l){var u=o.charAt(l),d=Hc[u];if(d===void 0)return"Unknown character "+u;a=ui(a)^d,!(l+6>=o.length)&&c.push(d)}return a!==1?"Invalid checksum for "+r:{prefix:s,words:c}}function H4(){var r=Um.apply(null,arguments);if(typeof r=="object")return r}function K4(r){var e=Um.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function Yo(r,e,t,n){for(var i=0,s=0,o=(1<<t)-1,a=[],c=0;c<r.length;++c)for(i=i<<e|r[c],s+=e;s>=t;)s-=t,a.push(i>>s&o);if(n)s>0&&a.push(i<<t-s&o);else{if(s>=e)return"Excess padding";if(i<<t-s&o)return"Non-zero padding"}return a}function G4(r){var e=Yo(r,8,5,!0);if(Array.isArray(e))return e}function z4(r){var e=Yo(r,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function q4(r){var e=Yo(r,5,8,!1);if(Array.isArray(e))return e}function W4(r){var e=Yo(r,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var Y4={decodeUnsafe:H4,decode:K4,encode:V4,toWordsUnsafe:G4,toWords:z4,fromWordsUnsafe:q4,fromWords:W4};const V0=Ai(Y4),_t="providers/5.8.0",Li=new Y(_t);class Ee{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},t=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),s=this.data.bind(this),o=this.hash.bind(this),a=this.hex.bind(this),c=this.number.bind(this),l=this.type.bind(this),u=d=>this.data(d,!0);return e.transaction={hash:o,type:l,accessList:Ee.allowNull(this.accessList.bind(this),null),blockHash:Ee.allowNull(o,null),blockNumber:Ee.allowNull(c,null),transactionIndex:Ee.allowNull(c,null),confirmations:Ee.allowNull(c,null),from:t,gasPrice:Ee.allowNull(n),maxPriorityFeePerGas:Ee.allowNull(n),maxFeePerGas:Ee.allowNull(n),gasLimit:n,to:Ee.allowNull(t,null),value:n,nonce:c,data:s,r:Ee.allowNull(this.uint256),s:Ee.allowNull(this.uint256),v:Ee.allowNull(c),creates:Ee.allowNull(t,null),raw:Ee.allowNull(s)},e.transactionRequest={from:Ee.allowNull(t),nonce:Ee.allowNull(c),gasLimit:Ee.allowNull(n),gasPrice:Ee.allowNull(n),maxPriorityFeePerGas:Ee.allowNull(n),maxFeePerGas:Ee.allowNull(n),to:Ee.allowNull(t),value:Ee.allowNull(n),data:Ee.allowNull(u),type:Ee.allowNull(c),accessList:Ee.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:c,blockNumber:c,transactionHash:o,address:t,topics:Ee.arrayOf(o),data:s,logIndex:c,blockHash:o},e.receipt={to:Ee.allowNull(this.address,null),from:Ee.allowNull(this.address,null),contractAddress:Ee.allowNull(t,null),transactionIndex:c,root:Ee.allowNull(a),gasUsed:n,logsBloom:Ee.allowNull(s),blockHash:o,transactionHash:o,logs:Ee.arrayOf(this.receiptLog.bind(this)),blockNumber:c,confirmations:Ee.allowNull(c,null),cumulativeGasUsed:n,effectiveGasPrice:Ee.allowNull(n),status:Ee.allowNull(c),type:l},e.block={hash:Ee.allowNull(o),parentHash:o,number:c,timestamp:c,nonce:Ee.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:Ee.allowNull(t),extraData:s,transactions:Ee.allowNull(Ee.arrayOf(o)),baseFeePerGas:Ee.allowNull(n)},e.blockWithTransactions=Ge(e.block),e.blockWithTransactions.transactions=Ee.allowNull(Ee.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:Ee.allowNull(i,void 0),toBlock:Ee.allowNull(i,void 0),blockHash:Ee.allowNull(o,void 0),address:Ee.allowNull(t,void 0),topics:Ee.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:Ee.allowNull(c),blockHash:Ee.allowNull(o),transactionIndex:c,removed:Ee.allowNull(this.boolean.bind(this)),address:t,data:Ee.allowFalsish(s,"0x"),topics:Ee.arrayOf(o),transactionHash:o,logIndex:c},e}accessList(e){return pn(e||[])}number(e){return e==="0x"?0:pe.from(e).toNumber()}type(e){return e==="0x"||e==null?0:pe.from(e).toNumber()}bigNumber(e){return pe.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,t){return typeof e=="string"&&(!t&&e.substring(0,2)!=="0x"&&(e="0x"+e),Ne(e))?e.toLowerCase():Li.throwArgumentError("invalid hash","value",e)}data(e,t){const n=this.hex(e,t);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return Ue(e)}callAddress(e){if(!Ne(e,32))return null;const t=Ue(yt(e,12));return t===Tp?null:t}contractAddress(e){return jo(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||Ne(e))return As(e);throw new Error("invalid blockTag")}hash(e,t){const n=this.hex(e,t);return kr(n)!==32?Li.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const t=pe.from(e);try{return t.toNumber()}catch{}return null}uint256(e){if(!Ne(e))throw new Error("invalid uint256");return Ke(e,32)}_block(e,t){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=Ee.check(t,e);return i._difficulty=n==null?null:pe.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return Ee.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&pe.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const t=Ee.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;Ne(n)&&(n=pe.from(n).toNumber()),t.chainId=n}else{let n=e.networkId;n==null&&t.v==null&&(n=e.chainId),Ne(n)&&(n=pe.from(n).toNumber()),typeof n!="number"&&t.v!=null&&(n=(t.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),t.chainId=n}return t.blockHash&&t.blockHash.replace(/0/g,"")==="x"&&(t.blockHash=null),t}transaction(e){return ym(e)}receiptLog(e){return Ee.check(this.formats.receiptLog,e)}receipt(e){const t=Ee.check(this.formats.receipt,e);if(t.root!=null)if(t.root.length<=4){const n=pe.from(t.root).toNumber();n===0||n===1?(t.status!=null&&t.status!==n&&Li.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=n,delete t.root):Li.throwArgumentError("invalid alt-root-status","value.root",t.root)}else t.root.length!==66&&Li.throwArgumentError("invalid root hash","value.root",t.root);return t.status!=null&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map(t=>this.topics(t)):e!=null?this.hash(e,!0):null}filter(e){return Ee.check(this.formats.filter,e)}filterLog(e){return Ee.check(this.formats.filterLog,e)}static check(e,t){const n={};for(const i in e)try{const s=e[i](t[i]);s!==void 0&&(n[i]=s)}catch(s){throw s.checkKey=i,s.checkValue=t[i],s}return n}static allowNull(e,t){return function(n){return n==null?t:e(n)}}static allowFalsish(e,t){return function(n){return n?e(n):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");const n=[];return t.forEach(function(i){n.push(e(i))}),n}}}function $m(r){return r&&typeof r.isCommunityResource=="function"}function Kc(r){return $m(r)&&r.isCommunityResource()}let H0=!1;function Cs(){H0||(H0=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var _e=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(r,e||[])).next())})};const Re=new Y(_t),J4=10;function K0(r){return r==null?"null":(kr(r)!==32&&Re.throwArgumentError("invalid topic","topic",r),r.toLowerCase())}function G0(r){for(r=r.slice();r.length>0&&r[r.length-1]==null;)r.pop();return r.map(e=>{if(Array.isArray(e)){const t={};e.forEach(i=>{t[K0(i)]=!0});const n=Object.keys(t);return n.sort(),n.join("|")}else return K0(e)}).join("&")}function X4(r){return r===""?[]:r.split(/&/g).map(e=>{if(e==="")return[];const t=e.split("|").map(n=>n==="null"?null:n);return t.length===1?t[0]:t})}function Yn(r){if(typeof r=="string"){if(r=r.toLowerCase(),kr(r)===32)return"tx:"+r;if(r.indexOf(":")===-1)return r}else{if(Array.isArray(r))return"filter:*:"+G0(r);if(ev.isForkEvent(r))throw Re.warn("not implemented"),new Error("not implemented");if(r&&typeof r=="object")return"filter:"+(r.address||"*")+":"+G0(r.topics||[])}throw new Error("invalid event - "+r)}function Fi(){return new Date().getTime()}function z0(r){return new Promise(e=>{setTimeout(e,r)})}const Q4=["block","network","pending","poll"];class Z4{constructor(e,t,n){ce(this,"tag",e),ce(this,"listener",t),ce(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const t=e[1],n=X4(e[2]),i={};return n.length>0&&(i.topics=n),t&&t!=="*"&&(i.address=t),i}pollable(){return this.tag.indexOf(":")>=0||Q4.indexOf(this.tag)>=0}}const e5={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function ic(r){return Ke(pe.from(r).toHexString(),32)}function q0(r){return yi.encode(He([r,yt(Hr(Hr(r)),0,4)]))}const jm=new RegExp("^(ipfs)://(.*)$","i"),W0=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),jm,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function to(r,e){try{return Hn(xs(r,e))}catch{}return null}function xs(r,e){if(r==="0x")return null;const t=pe.from(yt(r,e,e+32)).toNumber(),n=pe.from(yt(r,t,t+32)).toNumber();return yt(r,t+32,t+32+n)}function sc(r){return r.match(/^ipfs:\/\/ipfs\//i)?r=r.substring(12):r.match(/^ipfs:\/\//i)?r=r.substring(7):Re.throwArgumentError("unsupported IPFS format","link",r),`https://gateway.ipfs.io/ipfs/${r}`}function Y0(r){const e=me(r);if(e.length>32)throw new Error("internal; should not happen");const t=new Uint8Array(32);return t.set(e,32-e.length),t}function t5(r){if(r.length%32===0)return r;const e=new Uint8Array(Math.ceil(r.length/32)*32);return e.set(r),e}function Vm(r){const e=[];let t=0;for(let n=0;n<r.length;n++)e.push(null),t+=32;for(let n=0;n<r.length;n++){const i=me(r[n]);e[n]=Y0(t),e.push(Y0(i.length)),e.push(t5(i)),t+=32+Math.ceil(i.length/32)*32}return Ft(e)}class Gc{constructor(e,t,n,i){ce(this,"provider",e),ce(this,"name",n),ce(this,"address",e.formatter.address(t)),ce(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>pe.from(e).eq(1)).catch(e=>{if(e.code===Y.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,t){return _e(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:Ft([e,Qi(this.name),t||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=Ft(["0x9061b923",Vm([jp(this.name),n.data])]));try{let s=yield this.provider.call(n);return me(s).length%32===4&&Re.throwError("resolver threw error",Y.errors.CALL_EXCEPTION,{transaction:n,data:s}),i&&(s=xs(s,0)),s}catch(s){if(s.code===Y.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,t){return _e(this,void 0,void 0,function*(){const n=yield this._fetch(e,t);return n!=null?xs(n,0):null})}_getAddress(e,t){const n=e5[String(e)];if(n==null&&Re.throwError(`unsupported coin type: ${e}`,Y.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(t);const i=me(t);if(n.p2pkh!=null){const s=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return q0(He([[n.p2pkh],"0x"+s[2]]))}}if(n.p2sh!=null){const s=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return q0(He([[n.p2sh],"0x"+s[2]]))}}if(n.prefix!=null){const s=i[1];let o=i[0];if(o===0?s!==20&&s!==32&&(o=-1):o=-1,o>=0&&i.length===2+s&&s>=1&&s<=75){const a=V0.toWords(i.slice(2));return a.unshift(o),V0.encode(n.prefix,a)}}return null}getAddress(e){return _e(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===Gl?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===Y.errors.CALL_EXCEPTION)return null;throw i}const t=yield this._fetchBytes("0xf1cb7e06",ic(e));if(t==null||t==="0x")return null;const n=this._getAddress(e,t);return n==null&&Re.throwError("invalid or unsupported coin data",Y.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t}),n})}getAvatar(){return _e(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const t=yield this.getText("avatar");if(t==null)return null;for(let n=0;n<W0.length;n++){const i=t.match(W0[n]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:sc(t)};case"erc721":case"erc1155":{const o=s==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:s,content:t});const a=this._resolvedAddress||(yield this.getAddress()),c=(i[2]||"").split("/");if(c.length!==2)return null;const l=yield this.provider.formatter.address(c[0]),u=Ke(pe.from(c[1]).toHexString(),32);if(s==="erc721"){const y=this.provider.formatter.callAddress(yield this.provider.call({to:l,data:Ft(["0x6352211e",u])}));if(a!==y)return null;e.push({type:"owner",content:y})}else if(s==="erc1155"){const y=pe.from(yield this.provider.call({to:l,data:Ft(["0x00fdd58e",Ke(a,32),u])}));if(y.isZero())return null;e.push({type:"balance",content:y.toString()})}const d={to:this.provider.formatter.address(c[0]),data:Ft([o,u])};let h=to(yield this.provider.call(d),0);if(h==null)return null;e.push({type:"metadata-url-base",content:h}),s==="erc1155"&&(h=h.replace("{id}",u.substring(2)),e.push({type:"metadata-url-expanded",content:h})),h.match(/^ipfs:/i)&&(h=sc(h)),e.push({type:"metadata-url",content:h});const g=yield Ni(h);if(!g)return null;e.push({type:"metadata",content:JSON.stringify(g)});let b=g.image;if(typeof b!="string")return null;if(!b.match(/^(https:\/\/|data:)/i)){if(b.match(jm)==null)return null;e.push({type:"url-ipfs",content:b}),b=sc(b)}return e.push({type:"url",content:b}),{linkage:e,url:b}}}}}catch{}return null})}getContentHash(){return _e(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const o=parseInt(t[3],16);if(t[4].length===o*2)return"ipfs://"+yi.encode("0x"+t[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const o=parseInt(n[3],16);if(n[4].length===o*2)return"ipns://"+yi.encode("0x"+n[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];const s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===34*2){const o={"=":"","+":"-","/":"_"};return"sia://"+Jl("0x"+s[1]).replace(/[=+\/]/g,c=>o[c])}return Re.throwError("invalid or unsupported content hash data",Y.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return _e(this,void 0,void 0,function*(){let t=wt(e);t=He([ic(64),ic(t.length),t]),t.length%32!==0&&(t=He([t,Ke("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",xe(t));return n==null||n==="0x"?null:Hn(n)})}}let oc=null,r5=1;class Jo extends Kn{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),ce(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(t=>{}),this._ready().catch(t=>{});else{const t=Ct(new.target,"getNetwork")(e);t?(ce(this,"_network",t),this.emit("network",t,null)):Re.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return _e(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||Re.throwError("no network detected",Y.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:ce(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return Nn(()=>this._ready().then(e=>e,e=>{if(!(e.code===Y.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return oc==null&&(oc=new Ee),oc}static getNetwork(e){return hf(e??"homestead")}ccipReadFetch(e,t,n){return _e(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=e.to.toLowerCase(),s=t.toLowerCase(),o=[];for(let a=0;a<n.length;a++){const c=n[a],l=c.replace("{sender}",i).replace("{data}",s),u=c.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:i}),d=yield Ni({url:l,errorPassThrough:!0},u,(g,b)=>(g.status=b.statusCode,g));if(d.data)return d.data;const h=d.message||"unknown error";if(d.status>=400&&d.status<500)return Re.throwError(`response not found during CCIP fetch: ${h}`,Y.errors.SERVER_ERROR,{url:c,errorMessage:h});o.push(h)}return Re.throwError(`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,Y.errors.SERVER_ERROR,{urls:n,errorMessages:o})})}_getInternalBlockNumber(e){return _e(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const s=yield i;if(Fi()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const t=Fi(),n=pt({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:s})=>{if(s)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),s;const o=Fi();return i=pe.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:t,respTime:o}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return _e(this,void 0,void 0,function*(){const e=r5++,t=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)Re.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",Re.makeError("network block skew detected",Y.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const s=this._emitted[i];s!=="pending"&&n-s>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const s=i.hash;let o=this.getTransactionReceipt(s).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+s]=a.blockNumber,this.emit(s,a)),null)).catch(a=>{this.emit("error",a)});t.push(o);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const s=i.filter;s.fromBlock=i._lastBlockNumber+1,s.toBlock=n;const o=s.toBlock-this._maxFilterBlockRange;o>s.fromBlock&&(s.fromBlock=o),s.fromBlock<0&&(s.fromBlock=0);const a=this.getLogs(s).then(c=>{i._inflight=!1,c.length!==0&&c.forEach(l=>{l.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=l.blockNumber),this._emitted["b:"+l.blockHash]=l.blockNumber,this._emitted["t:"+l.transactionHash]=l.blockNumber,this.emit(s,l)})}).catch(c=>{this.emit("error",c),i._inflight=!1});t.push(a)}break}}}),this._lastBlockNumber=n,Promise.all(t).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return _e(this,void 0,void 0,function*(){return Re.throwError("provider does not support network detection",Y.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return _e(this,void 0,void 0,function*(){const e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield z0(0),this._network;const n=Re.makeError("underlying network changed",Y.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=Fi();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(t=>((this._fastBlockNumber==null||t>this._fastBlockNumber)&&(this._fastBlockNumber=t),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=Fi(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,n){return _e(this,void 0,void 0,function*(){return this._waitForTransaction(e,t??1,n||0,null)})}_waitForTransaction(e,t,n,i){return _e(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=t?s:new Promise((o,a)=>{const c=[];let l=!1;const u=function(){return l?!0:(l=!0,c.forEach(h=>{h()}),!1)},d=h=>{h.confirmations<t||u()||o(h)};if(this.on(e,d),c.push(()=>{this.removeListener(e,d)}),i){let h=i.startBlock,g=null;const b=y=>_e(this,void 0,void 0,function*(){l||(yield z0(1e3),this.getTransactionCount(i.from).then(T=>_e(this,void 0,void 0,function*(){if(!l){if(T<=i.nonce)h=y;else{{const w=yield this.getTransaction(e);if(w&&w.blockNumber!=null)return}for(g==null&&(g=h-3,g<i.startBlock&&(g=i.startBlock));g<=y;){if(l)return;const w=yield this.getBlockWithTransactions(g);for(let _=0;_<w.transactions.length;_++){const P=w.transactions[_];if(P.hash===e)return;if(P.from===i.from&&P.nonce===i.nonce){if(l)return;const D=yield this.waitForTransaction(P.hash,t);if(u())return;let I="replaced";P.data===i.data&&P.to===i.to&&P.value.eq(i.value)?I="repriced":P.data==="0x"&&P.from===P.to&&P.value.isZero()&&(I="cancelled"),a(Re.makeError("transaction was replaced",Y.errors.TRANSACTION_REPLACED,{cancelled:I==="replaced"||I==="cancelled",reason:I,replacement:this._wrapTransaction(P),hash:e,receipt:D}));return}}g++}}l||this.once("block",b)}}),T=>{l||this.once("block",b)}))});if(l)return;this.once("block",b),c.push(()=>{this.removeListener("block",b)})}if(typeof n=="number"&&n>0){const h=setTimeout(()=>{u()||a(Re.makeError("timeout exceeded",Y.errors.TIMEOUT,{timeout:n}))},n);h.unref&&h.unref(),c.push(()=>{clearTimeout(h)})}})})}getBlockNumber(){return _e(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return _e(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return pe.from(e)}catch(t){return Re.throwError("bad result from backend",Y.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}})}getBalance(e,t){return _e(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield pt({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getBalance",n);try{return pe.from(i)}catch(s){return Re.throwError("bad result from backend",Y.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:s})}})}getTransactionCount(e,t){return _e(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield pt({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getTransactionCount",n);try{return pe.from(i).toNumber()}catch(s){return Re.throwError("bad result from backend",Y.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:s})}})}getCode(e,t){return _e(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield pt({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getCode",n);try{return xe(i)}catch(s){return Re.throwError("bad result from backend",Y.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:s})}})}getStorageAt(e,t,n){return _e(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield pt({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(t).then(o=>As(o))}),s=yield this.perform("getStorageAt",i);try{return xe(s)}catch(o){return Re.throwError("bad result from backend",Y.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:s,error:o})}})}_wrapTransaction(e,t,n){if(t!=null&&kr(t)!==32)throw new Error("invalid response - sendTransaction");const i=e;return t!=null&&e.hash!==t&&Re.throwError("Transaction hash mismatch from Provider.sendTransaction.",Y.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),i.wait=(s,o)=>_e(this,void 0,void 0,function*(){s==null&&(s=1),o==null&&(o=0);let a;s!==0&&n!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const c=yield this._waitForTransaction(e.hash,s,o,a);return c==null&&s===0?null:(this._emitted["t:"+e.hash]=c.blockNumber,c.status===0&&Re.throwError("transaction failed",Y.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:c}),c)}),i}sendTransaction(e){return _e(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield Promise.resolve(e).then(s=>xe(s)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(n,s,i)}catch(s){throw s.transaction=n,s.transactionHash=n.hash,s}})}_getTransactionRequest(e){return _e(this,void 0,void 0,function*(){const t=yield e,n={};return["from","to"].forEach(i=>{t[i]!=null&&(n[i]=Promise.resolve(t[i]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{t[i]!=null&&(n[i]=Promise.resolve(t[i]).then(s=>s?pe.from(s):null))}),["type"].forEach(i=>{t[i]!=null&&(n[i]=Promise.resolve(t[i]).then(s=>s??null))}),t.accessList&&(n.accessList=this.formatter.accessList(t.accessList)),["data"].forEach(i=>{t[i]!=null&&(n[i]=Promise.resolve(t[i]).then(s=>s?xe(s):null))}),this.formatter.transactionRequest(yield pt(n))})}_getFilter(e){return _e(this,void 0,void 0,function*(){e=yield e;const t={};return e.address!=null&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(t[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(t[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield pt(t))})}_call(e,t,n){return _e(this,void 0,void 0,function*(){n>=J4&&Re.throwError("CCIP read exceeded maximum redirections",Y.errors.SERVER_ERROR,{redirects:n,transaction:e});const i=e.to,s=yield this.perform("call",{transaction:e,blockTag:t});if(n>=0&&t==="latest"&&i!=null&&s.substring(0,10)==="0x556f1830"&&kr(s)%32===4)try{const o=yt(s,4),a=yt(o,0,32);pe.from(a).eq(i)||Re.throwError("CCIP Read sender did not match",Y.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const c=[],l=pe.from(yt(o,32,64)).toNumber(),u=pe.from(yt(o,l,l+32)).toNumber(),d=yt(o,l+32);for(let w=0;w<u;w++){const _=to(d,w*32);_==null&&Re.throwError("CCIP Read contained corrupt URL string",Y.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s}),c.push(_)}const h=xs(o,64);pe.from(yt(o,100,128)).isZero()||Re.throwError("CCIP Read callback selector included junk",Y.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const g=yt(o,96,100),b=xs(o,128),y=yield this.ccipReadFetch(e,h,c);y==null&&Re.throwError("CCIP Read disabled or provided no URLs",Y.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const T={to:i,data:Ft([g,Vm([y,b])])};return this._call(T,t,n+1)}catch(o){if(o.code===Y.errors.SERVER_ERROR)throw o}try{return xe(s)}catch(o){return Re.throwError("bad result from backend",Y.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:s,error:o})}})}call(e,t){return _e(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield pt({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return _e(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield pt({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",t);try{return pe.from(n)}catch(i){return Re.throwError("bad result from backend",Y.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:n,error:i})}})}_getAddress(e){return _e(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&Re.throwArgumentError("invalid address or ENS name","name",e);const t=yield this.resolveName(e);return t==null&&Re.throwError("ENS name not configured",Y.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t})}_getBlock(e,t){return _e(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!t};if(Ne(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),Ne(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{Re.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return Nn(()=>_e(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",i);if(s==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(t){let o=null;for(let c=0;c<s.transactions.length;c++){const l=s.transactions[c];if(l.blockNumber==null)l.confirmations=0;else if(l.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let u=o-l.blockNumber+1;u<=0&&(u=1),l.confirmations=u}}const a=this.formatter.blockWithTransactions(s);return a.transactions=a.transactions.map(c=>this._wrapTransaction(c)),a}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return _e(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return Nn(()=>_e(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",t);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return _e(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return Nn(()=>_e(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",t);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return i}),{oncePoll:this})})}getLogs(e){return _e(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield pt({filter:this._getFilter(e)}),n=yield this.perform("getLogs",t);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),Ee.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return _e(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return _e(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&Re.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return t+=e,t<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)})}getResolver(e){return _e(this,void 0,void 0,function*(){let t=e;for(;;){if(t===""||t==="."||e!=="eth"&&t==="eth")return null;const n=yield this._getResolver(t,"getResolver");if(n!=null){const i=new Gc(this,n,e);return t!==e&&!(yield i.supportsWildcard())?null:i}t=t.split(".").slice(1).join(".")}})}_getResolver(e,t){return _e(this,void 0,void 0,function*(){t==null&&(t="ENS");const n=yield this.getNetwork();n.ensAddress||Re.throwError("network does not support ENS",Y.errors.UNSUPPORTED_OPERATION,{operation:t,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+Qi(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return _e(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(Ne(e))throw n}typeof e!="string"&&Re.throwArgumentError("invalid ENS name","name",e);const t=yield this.getResolver(e);return t?yield t.getAddress():null})}lookupAddress(e){return _e(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const t=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(t,"lookupAddress");if(n==null)return null;const i=to(yield this.call({to:n,data:"0x691f3431"+Qi(t).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return _e(this,void 0,void 0,function*(){let t=null;if(Ne(e)){const s=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(s,"getAvatar");if(!o)return null;t=new Gc(this,o,s);try{const a=yield t.getAvatar();if(a)return a.url}catch(a){if(a.code!==Y.errors.CALL_EXCEPTION)throw a}try{const a=to(yield this.call({to:o,data:"0x691f3431"+Qi(s).substring(2)}),0);t=yield this.getResolver(a)}catch(a){if(a.code!==Y.errors.CALL_EXCEPTION)throw a;return null}}else if(t=yield this.getResolver(e),!t)return null;const n=yield t.getAvatar();return n==null?null:n.url})}perform(e,t){return Re.throwError(e+" not implemented",Y.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(t=>t.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(t=>t.pollable()).length>0}_addEventListener(e,t,n){const i=new Z4(Yn(e),t,n);return this._events.push(i),this._startEvent(i),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let n=!1,i=[],s=Yn(e);return this._events=this._events.filter(o=>o.tag!==s?!0:(setTimeout(()=>{o.listener.apply(this,t)},0),n=!0,o.once?(i.push(o),!1):!0)),i.forEach(o=>{this._stopEvent(o)}),n}listenerCount(e){if(!e)return this._events.length;let t=Yn(e);return this._events.filter(n=>n.tag===t).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let t=Yn(e);return this._events.filter(n=>n.tag===t).map(n=>n.listener)}off(e,t){if(t==null)return this.removeAllListeners(e);const n=[];let i=!1,s=Yn(e);return this._events=this._events.filter(o=>o.tag!==s||o.listener!=t||i?!0:(i=!0,n.push(o),!1)),n.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let t=[];if(e==null)t=this._events,this._events=[];else{const n=Yn(e);this._events=this._events.filter(i=>i.tag!==n?!0:(t.push(i),!1))}return t.forEach(n=>{this._stopEvent(n)}),this}}var Or=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(r,e||[])).next())})};const vt=new Y(_t),n5=["call","estimateGas"];function ts(r,e){if(r==null)return null;if(typeof r.message=="string"&&r.message.match("reverted")){const t=Ne(r.data)?r.data:null;if(!e||t)return{message:r.message,data:t}}if(typeof r=="object"){for(const t in r){const n=ts(r[t],e);if(n)return n}return null}if(typeof r=="string")try{return ts(JSON.parse(r),e)}catch{}return null}function Hm(r,e,t){const n=t.transaction||t.signedTransaction;if(r==="call"){const s=ts(e,!0);if(s)return s.data;vt.throwError("missing revert data in call exception; Transaction reverted without a reason string",Y.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(r==="estimateGas"){let s=ts(e.body,!1);s==null&&(s=ts(e,!1)),s&&vt.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Y.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:r,transaction:n,error:e})}let i=e.message;throw e.code===Y.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&vt.throwError("insufficient funds for intrinsic transaction cost",Y.errors.INSUFFICIENT_FUNDS,{error:e,method:r,transaction:n}),i.match(/nonce (is )?too low/i)&&vt.throwError("nonce has already been used",Y.errors.NONCE_EXPIRED,{error:e,method:r,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&vt.throwError("replacement fee too low",Y.errors.REPLACEMENT_UNDERPRICED,{error:e,method:r,transaction:n}),i.match(/only replay-protected/i)&&vt.throwError("legacy pre-eip-155 transactions not supported",Y.errors.UNSUPPORTED_OPERATION,{error:e,method:r,transaction:n}),n5.indexOf(r)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&vt.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Y.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:r,transaction:n}),e}function J0(r){return new Promise(function(e){setTimeout(e,r)})}function i5(r){if(r.error){const e=new Error(r.error.message);throw e.code=r.error.code,e.data=r.error.data,e}return r.result}function Di(r){return r&&r.toLowerCase()}const zc={};class df extends Gr{constructor(e,t,n){if(super(),e!==zc)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");ce(this,"provider",t),n==null&&(n=0),typeof n=="string"?(ce(this,"_address",this.provider.formatter.address(n)),ce(this,"_index",null)):typeof n=="number"?(ce(this,"_index",n),ce(this,"_address",null)):vt.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return vt.throwError("cannot alter JSON-RPC Signer connection",Y.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new s5(zc,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&vt.throwError("unknown account #"+this._index,Y.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=Ge(e);const t=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=Ge(e);n.from=t,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>Or(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&vt.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),pt({tx:pt(e),sender:t}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&vt.throwArgumentError("from address mismatch","transaction",e):n.from=i;const s=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&vt.throwError("user rejected transaction",Y.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),Hm("sendTransaction",o,s)))})}signTransaction(e){return vt.throwError("signing transactions is unsupported",Y.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Or(this,void 0,void 0,function*(){const t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield Nn(()=>Or(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,t)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return Or(this,void 0,void 0,function*(){const t=typeof e=="string"?wt(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[xe(t),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&vt.throwError("user rejected signing",Y.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),i}})}_legacySignMessage(e){return Or(this,void 0,void 0,function*(){const t=typeof e=="string"?wt(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),xe(t)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&vt.throwError("user rejected signing",Y.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),i}})}_signTypedData(e,t,n){return Or(this,void 0,void 0,function*(){const i=yield kt.resolveNames(e,t,n,o=>this.provider.resolveName(o)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(kt.getPayload(i.domain,t,i.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&vt.throwError("user rejected signing",Y.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:i.domain,types:t,value:i.value}}),o}})}unlock(e){return Or(this,void 0,void 0,function*(){const t=this.provider,n=yield this.getAddress();return t.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class s5 extends df{sendTransaction(e){return this.sendUncheckedTransaction(e).then(t=>({hash:t,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(t,n)}))}}const o5={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Dn extends Jo{constructor(e,t){let n=t;n==null&&(n=new Promise((i,s)=>{setTimeout(()=>{this.detectNetwork().then(o=>{i(o)},o=>{s(o)})},0)})),super(n),e||(e=Ct(this.constructor,"defaultUrl")()),typeof e=="string"?ce(this,"connection",Object.freeze({url:e})):ce(this,"connection",Object.freeze(Ge(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Or(this,void 0,void 0,function*(){yield J0(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const t=Ct(this.constructor,"getNetwork");try{return t(pe.from(e).toNumber())}catch(n){return vt.throwError("could not detect network",Y.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return vt.throwError("could not detect network",Y.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new df(zc,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(t=>this.formatter.address(t)))}send(e,t){const n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Ut(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const s=Ni(this.connection,JSON.stringify(n),i5).then(o=>(this.emit("debug",{action:"response",request:n,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:n,provider:this}),o});return i&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Di(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Di(t.address),t.blockTag]];case"getCode":return["eth_getCode",[Di(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Di(t.address),Ke(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[Ct(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[Ct(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&t.filter.address!=null&&(t.filter.address=Di(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return Or(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=t.transaction;if(i&&i.type!=null&&pe.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(t=Ge(t),t.transaction=Ge(i),delete t.transaction.type)}}const n=this.prepareRequest(e,t);n==null&&vt.throwError(e+" not implemented",Y.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return Hm(e,i,t)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(s){if(e._pendingFilter!=t)return null;let o=Promise.resolve();return s.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(a).then(function(c){return e.emit("pending",c),null})})}),o.then(function(){return J0(1e3)})}).then(function(){if(e._pendingFilter!=t){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(s=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){const n=Ge(o5);if(t)for(const s in t)t[s]&&(n[s]=!0);jl(e,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;const o=As(pe.from(e[s]));s==="gasLimit"&&(s="gas"),i[s]=o}),["from","to","data"].forEach(function(s){e[s]!=null&&(i[s]=xe(e[s]))}),e.accessList&&(i.accessList=pn(e.accessList)),i}}let rs=null;try{if(rs=WebSocket,rs==null)throw new Error("inject please")}catch{const e=new Y(_t);rs=function(){e.throwError("WebSockets not supported in this environment",Y.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var ac=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(r,e||[])).next())})};const $s=new Y(_t);let a5=1;class Xo extends Dn{constructor(e,t){t==="any"&&$s.throwError("WebSocketProvider does not support 'any' network yet",Y.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),typeof e=="string"?super(e,t):super("_websocket",t),this._pollingInterval=-1,this._wsReady=!1,typeof e=="string"?ce(this,"_websocket",new rs(this.connection.url)):ce(this,"_websocket",e),ce(this,"_requests",{}),ce(this,"_subs",{}),ce(this,"_subIds",{}),ce(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(i=>{this.websocket.send(this._requests[i].payload)})},this.websocket.onmessage=i=>{const s=i.data,o=JSON.parse(s);if(o.id!=null){const a=String(o.id),c=this._requests[a];if(delete this._requests[a],o.result!==void 0)c.callback(null,o.result),this.emit("debug",{action:"response",request:JSON.parse(c.payload),response:o.result,provider:this});else{let l=null;o.error?(l=new Error(o.error.message||"unknown error"),ce(l,"code",o.error.code||null),ce(l,"response",s)):l=new Error("unknown error"),c.callback(l,void 0),this.emit("debug",{action:"response",error:l,request:JSON.parse(c.payload),provider:this})}}else if(o.method==="eth_subscription"){const a=this._subs[o.params.subscription];a&&a.processFunc(o.params.result)}else console.warn("this should not happen")};const n=setInterval(()=>{this.emit("poll")},1e3);n.unref&&n.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){$s.throwError("cannot reset events block on WebSocketProvider",Y.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){$s.throwError("cannot set polling interval on WebSocketProvider",Y.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return ac(this,void 0,void 0,function*(){return null})}set polling(e){e&&$s.throwError("cannot set polling on WebSocketProvider",Y.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,t){const n=a5++;return new Promise((i,s)=>{function o(c,l){return c?s(c):i(l)}const a=JSON.stringify({method:e,params:t,id:n,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(a),provider:this}),this._requests[String(n)]={callback:o,payload:a},this._wsReady&&this.websocket.send(a)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,t,n){return ac(this,void 0,void 0,function*(){let i=this._subIds[e];i==null&&(i=Promise.all(t).then(o=>this.send("eth_subscribe",o)),this._subIds[e]=i);const s=yield i;this._subs[s]={tag:e,processFunc:n}})}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],t=>{const n=pe.from(t.number).toNumber();this._emitted.block=n,this.emit("block",n)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],t=>{this.emit("pending",t)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],t=>{t.removed==null&&(t.removed=!1),this.emit(e.filter,this.formatter.filterLog(t))});break;case"tx":{const t=n=>{const i=n.hash;this.getTransactionReceipt(i).then(s=>{s&&this.emit(i,s)})};t(e),this._subscribe("tx",["newHeads"],n=>{this._events.filter(i=>i.type==="tx").forEach(t)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e);break}}_stopEvent(e){let t=e.tag;if(e.type==="tx"){if(this._events.filter(i=>i.type==="tx").length)return;t="tx"}else if(this.listenerCount(e.event))return;const n=this._subIds[t];n&&(delete this._subIds[t],n.then(i=>{this._subs[i]&&(delete this._subs[i],this.send("eth_unsubscribe",[i]))}))}destroy(){return ac(this,void 0,void 0,function*(){this.websocket.readyState===rs.CONNECTING&&(yield new Promise(e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}})),this.websocket.close(1e3)})}}var c5=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(r,e||[])).next())})};const Hi=new Y(_t);class Km extends Dn{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return c5(this,void 0,void 0,function*(){let t=this.network;return t==null&&(t=yield e.detectNetwork.call(this),t||Hi.throwError("no network detected",Y.errors.UNKNOWN_ERROR,{}),this._network==null&&(ce(this,"_network",t),this.emit("network",t,null))),t})}}class Br extends Km{constructor(e,t){Hi.checkAbstract(new.target,Br),e=Ct(new.target,"getNetwork")(e),t=Ct(new.target,"getApiKey")(t);const n=Ct(new.target,"getUrl")(e,t);super(n,e),typeof t=="string"?ce(this,"apiKey",t):t!=null&&Object.keys(t).forEach(i=>{ce(this,i,t[i])})}_startPending(){Hi.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return Hi.throwError("API provider does not support signing",Y.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,t){return Hi.throwError("not implemented; sub-classes must override getUrl",Y.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const X0=new Y(_t),ro="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class Gm extends Xo{constructor(e,t){const n=new pf(e,t),i=n.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(i,n.network),ce(this,"apiKey",n.apiKey)}isCommunityResource(){return this.apiKey===ro}}class pf extends Br{static getWebSocketProvider(e,t){return new Gm(e,t)}static getApiKey(e){return e==null?ro:(e&&typeof e!="string"&&X0.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,t){let n=null;switch(e.name){case"homestead":n="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":n="eth-goerli.g.alchemy.com/v2/";break;case"sepolia":n="eth-sepolia.g.alchemy.com/v2/";break;case"matic":n="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":n="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":n="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":n="arb-goerli.g.alchemy.com/v2/";break;case"arbitrum-sepolia":n="arb-sepolia.g.alchemy.com/v2/";break;case"optimism":n="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":n="opt-goerli.g.alchemy.com/v2/";break;case"optimism-sepolia":n="opt-sepolia.g.alchemy.com/v2/";break;default:X0.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+n+t,throttleCallback:(i,s)=>(t===ro&&Cs(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===ro}}const l5=new Y(_t),js="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function f5(r){switch(r){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"sepolia":return"rpc.ankr.com/eth_sepolia/";case"matic":return"rpc.ankr.com/polygon/";case"maticmum":return"rpc.ankr.com/polygon_mumbai/";case"optimism":return"rpc.ankr.com/optimism/";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet/";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return l5.throwArgumentError("unsupported network","name",r)}class zm extends Br{isCommunityResource(){return this.apiKey===js}static getApiKey(e){return e??js}static getUrl(e,t){t==null&&(t=js);const n={allowGzip:!0,url:"https://"+f5(e.name)+t,throttleCallback:(i,s)=>(t.apiKey===js&&Cs(),Promise.resolve(!0))};return t.projectSecret!=null&&(n.user="",n.password=t.projectSecret),n}}var u5=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(r,e||[])).next())})};const Q0=new Y(_t);class qm extends Br{static getApiKey(e){return e!=null&&Q0.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,t){let n=null;switch(e.name){case"homestead":n="https://cloudflare-eth.com/";break;default:Q0.throwArgumentError("unsupported network","network",arguments[0])}return n}perform(e,t){const n=Object.create(null,{perform:{get:()=>super.perform}});return u5(this,void 0,void 0,function*(){return e==="getBlockNumber"?(yield n.perform.call(this,"getBlock",{blockTag:"latest"})).number:n.perform.call(this,e,t)})}}var Vs=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(r,e||[])).next())})};const rn=new Y(_t);function Z0(r){const e={};for(let t in r){if(r[t]==null)continue;let n=r[t];t==="type"&&n===0||({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[t]?n=As(xe(n)):t==="accessList"?n="["+pn(n).map(i=>`{address:"${i.address}",storageKeys:["${i.storageKeys.join('","')}"]}`).join(",")+"]":n=xe(n),e[t]=n)}return e}function h5(r){if(r.status==0&&(r.message==="No records found"||r.message==="No transactions found"))return r.result;if(r.status!=1||typeof r.message!="string"||!r.message.match(/^OK/)){const e=new Error("invalid response");throw e.result=JSON.stringify(r),(r.result||"").toLowerCase().indexOf("rate limit")>=0&&(e.throttleRetry=!0),e}return r.result}function eh(r){if(r&&r.status==0&&r.message=="NOTOK"&&(r.result||"").toLowerCase().indexOf("rate limit")>=0){const e=new Error("throttled response");throw e.result=JSON.stringify(r),e.throttleRetry=!0,e}if(r.jsonrpc!="2.0"){const e=new Error("invalid response");throw e.result=JSON.stringify(r),e}if(r.error){const e=new Error(r.error.message||"unknown error");throw r.error.code&&(e.code=r.error.code),r.error.data&&(e.data=r.error.data),e}return r.result}function th(r){if(r==="pending")throw new Error("pending not supported");return r==="latest"?r:parseInt(r.substring(2),16)}function cc(r,e,t){if(r==="call"&&e.code===Y.errors.SERVER_ERROR){const i=e.error;if(i&&(i.message.match(/reverted/i)||i.message.match(/VM execution error/i))){let s=i.data;if(s&&(s="0x"+s.replace(/^.*0x/i,"")),Ne(s))return s;rn.throwError("missing revert data in call exception",Y.errors.CALL_EXCEPTION,{error:e,data:"0x"})}}let n=e.message;throw e.code===Y.errors.SERVER_ERROR&&(e.error&&typeof e.error.message=="string"?n=e.error.message:typeof e.body=="string"?n=e.body:typeof e.responseText=="string"&&(n=e.responseText)),n=(n||"").toLowerCase(),n.match(/insufficient funds/)&&rn.throwError("insufficient funds for intrinsic transaction cost",Y.errors.INSUFFICIENT_FUNDS,{error:e,method:r,transaction:t}),n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&rn.throwError("nonce has already been used",Y.errors.NONCE_EXPIRED,{error:e,method:r,transaction:t}),n.match(/another transaction with same nonce/)&&rn.throwError("replacement fee too low",Y.errors.REPLACEMENT_UNDERPRICED,{error:e,method:r,transaction:t}),n.match(/execution failed due to an exception|execution reverted/)&&rn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Y.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:r,transaction:t}),e}class Wm extends Jo{constructor(e,t){super(e),ce(this,"baseUrl",this.getBaseUrl()),ce(this,"apiKey",t||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return rn.throwArgumentError("unsupported network","network",this.network.name)}getUrl(e,t){const n=Object.keys(t).reduce((s,o)=>{const a=t[o];return a!=null&&(s+=`&${o}=${a}`),s},""),i=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${n}${i}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t}fetch(e,t,n){return Vs(this,void 0,void 0,function*(){const i=n?this.getPostUrl():this.getUrl(e,t),s=n?this.getPostData(e,t):null,o=e==="proxy"?eh:h5;this.emit("debug",{action:"request",request:i,provider:this});const a={url:i,throttleSlotInterval:1e3,throttleCallback:(u,d)=>(this.isCommunityResource()&&Cs(),Promise.resolve(!0))};let c=null;s&&(a.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},c=Object.keys(s).map(u=>`${u}=${s[u]}`).join("&"));const l=yield Ni(a,c,o||eh);return this.emit("debug",{action:"response",request:i,response:Ut(l),provider:this}),l})}detectNetwork(){return Vs(this,void 0,void 0,function*(){return this.network})}perform(e,t){const n=Object.create(null,{perform:{get:()=>super.perform}});return Vs(this,void 0,void 0,function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},!0).catch(i=>cc("sendTransaction",i,t.signedTransaction));case"getBlock":if(t.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.transactionHash});case"call":{if(t.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const i=Z0(t.transaction);i.module="proxy",i.action="eth_call";try{return yield this.fetch("proxy",i,!0)}catch(s){return cc("call",s,t.transaction)}}case"estimateGas":{const i=Z0(t.transaction);i.module="proxy",i.action="eth_estimateGas";try{return yield this.fetch("proxy",i,!0)}catch(s){return cc("estimateGas",s,t.transaction)}}case"getLogs":{const i={action:"getLogs"};if(t.filter.fromBlock&&(i.fromBlock=th(t.filter.fromBlock)),t.filter.toBlock&&(i.toBlock=th(t.filter.toBlock)),t.filter.address&&(i.address=t.filter.address),t.filter.topics&&t.filter.topics.length>0&&(t.filter.topics.length>1&&rn.throwError("unsupported topic count",Y.errors.UNSUPPORTED_OPERATION,{topics:t.filter.topics}),t.filter.topics.length===1)){const a=t.filter.topics[0];(typeof a!="string"||a.length!==66)&&rn.throwError("unsupported topic format",Y.errors.UNSUPPORTED_OPERATION,{topic0:a}),i.topic0=a}const s=yield this.fetch("logs",i);let o={};for(let a=0;a<s.length;a++){const c=s[a];if(c.blockHash==null){if(o[c.blockNumber]==null){const l=yield this.getBlock(c.blockNumber);l&&(o[c.blockNumber]=l.hash)}c.blockHash=o[c.blockNumber]}}return s}case"getEtherPrice":return this.network.name!=="homestead"?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return n.perform.call(this,e,t)})}getHistory(e,t,n){return Vs(this,void 0,void 0,function*(){const i={action:"txlist",address:yield this.resolveName(e),startblock:t??0,endblock:n??99999999,sort:"asc"};return(yield this.fetch("account",i)).map(o=>{["contractAddress","to"].forEach(function(c){o[c]==""&&delete o[c]}),o.creates==null&&o.contractAddress!=null&&(o.creates=o.contractAddress);const a=this.formatter.transactionResponse(o);return o.timeStamp&&(a.timestamp=parseInt(o.timeStamp)),a})})}isCommunityResource(){return this.apiKey==null}}var So=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(r,e||[])).next())})};const Mn=new Y(_t);function Hs(){return new Date().getTime()}function rh(r){let e=null;for(let t=0;t<r.length;t++){const n=r[t];if(n==null)return null;e?e.name===n.name&&e.chainId===n.chainId&&(e.ensAddress===n.ensAddress||e.ensAddress==null&&n.ensAddress==null)||Mn.throwArgumentError("provider mismatch","networks",r):e=n}return e}function nh(r,e){r=r.slice().sort();const t=Math.floor(r.length/2);if(r.length%2)return r[t];const n=r[t-1],i=r[t];return e!=null&&Math.abs(n-i)>e?null:(n+i)/2}function ai(r){if(r===null)return"null";if(typeof r=="number"||typeof r=="boolean")return JSON.stringify(r);if(typeof r=="string")return r;if(pe.isBigNumber(r))return r.toString();if(Array.isArray(r))return JSON.stringify(r.map(e=>ai(e)));if(typeof r=="object"){const e=Object.keys(r);return e.sort(),"{"+e.map(t=>{let n=r[t];return typeof n=="function"?n="[function]":n=ai(n),JSON.stringify(t)+":"+n}).join(",")+"}"}throw new Error("unknown value type: "+typeof r)}let d5=1;function ih(r){let e=null,t=null,n=new Promise(o=>{e=function(){t&&(clearTimeout(t),t=null),o()},t=setTimeout(e,r)});const i=o=>(n=n.then(o),n);function s(){return n}return{cancel:e,getPromise:s,wait:i}}const p5=[Y.errors.CALL_EXCEPTION,Y.errors.INSUFFICIENT_FUNDS,Y.errors.NONCE_EXPIRED,Y.errors.REPLACEMENT_UNDERPRICED,Y.errors.UNPREDICTABLE_GAS_LIMIT],m5=["address","args","errorArgs","errorSignature","method","transaction"];function Ks(r,e){const t={weight:r.weight};return Object.defineProperty(t,"provider",{get:()=>r.provider}),r.start&&(t.start=r.start),e&&(t.duration=e-r.start),r.done&&(r.error?t.error=r.error:t.result=r.result||null),t}function x5(r,e){return function(t){const n={};t.forEach(s=>{const o=r(s.result);n[o]||(n[o]={count:0,result:s.result}),n[o].count++});const i=Object.keys(n);for(let s=0;s<i.length;s++){const o=n[i[s]];if(o.count>=e)return o.result}}}function g5(r,e,t){let n=ai;switch(e){case"getBlockNumber":return function(i){const s=i.map(a=>a.result);let o=nh(i.map(a=>a.result),2);if(o!=null)return o=Math.ceil(o),s.indexOf(o+1)>=0&&o++,o>=r._highestBlockNumber&&(r._highestBlockNumber=o),r._highestBlockNumber};case"getGasPrice":return function(i){const s=i.map(o=>o.result);return s.sort(),s[Math.floor(s.length/2)]};case"getEtherPrice":return function(i){return nh(i.map(s=>s.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(i){return i==null?null:(i=Ge(i),i.confirmations=-1,ai(i))};break;case"getBlock":t.includeTransactions?n=function(i){return i==null?null:(i=Ge(i),i.transactions=i.transactions.map(s=>(s=Ge(s),s.confirmations=-1,s)),ai(i))}:n=function(i){return i==null?null:ai(i)};break;default:throw new Error("unknown method: "+e)}return x5(n,r.quorum)}function Ui(r,e){return So(this,void 0,void 0,function*(){const t=r.provider;return t.blockNumber!=null&&t.blockNumber>=e||e===-1?t:Nn(()=>new Promise((n,i)=>{setTimeout(function(){return t.blockNumber>=e?n(t):r.cancelled?n(null):n(void 0)},0)}),{oncePoll:t})})}function b5(r,e,t,n){return So(this,void 0,void 0,function*(){let i=r.provider;switch(t){case"getBlockNumber":case"getGasPrice":return i[t]();case"getEtherPrice":if(i.getEtherPrice)return i.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return n.blockTag&&Ne(n.blockTag)&&(i=yield Ui(r,e)),i[t](n.address,n.blockTag||"latest");case"getStorageAt":return n.blockTag&&Ne(n.blockTag)&&(i=yield Ui(r,e)),i.getStorageAt(n.address,n.position,n.blockTag||"latest");case"getBlock":return n.blockTag&&Ne(n.blockTag)&&(i=yield Ui(r,e)),i[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash);case"call":case"estimateGas":return n.blockTag&&Ne(n.blockTag)&&(i=yield Ui(r,e)),t==="call"&&n.blockTag?i[t](n.transaction,n.blockTag):i[t](n.transaction);case"getTransaction":case"getTransactionReceipt":return i[t](n.transactionHash);case"getLogs":{let s=n.filter;return(s.fromBlock&&Ne(s.fromBlock)||s.toBlock&&Ne(s.toBlock))&&(i=yield Ui(r,e)),i.getLogs(s)}}return Mn.throwError("unknown method error",Y.errors.UNKNOWN_ERROR,{method:t,params:n})})}class Ym extends Jo{constructor(e,t){e.length===0&&Mn.throwArgumentError("missing providers","providers",e);const n=e.map((o,a)=>{if(Kn.isProvider(o)){const u=Kc(o)?2e3:750;return Object.freeze({provider:o,weight:1,stallTimeout:u,priority:1})}const c=Ge(o);c.priority==null&&(c.priority=1),c.stallTimeout==null&&(c.stallTimeout=Kc(o)?2e3:750),c.weight==null&&(c.weight=1);const l=c.weight;return(l%1||l>512||l<1)&&Mn.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${a}].weight`,l),Object.freeze(c)}),i=n.reduce((o,a)=>o+a.weight,0);t==null?t=i/2:t>i&&Mn.throwArgumentError("quorum will always fail; larger than total weight","quorum",t);let s=rh(n.map(o=>o.provider.network));s==null&&(s=new Promise((o,a)=>{setTimeout(()=>{this.detectNetwork().then(o,a)},0)})),super(s),ce(this,"providerConfigs",Object.freeze(n)),ce(this,"quorum",t),this._highestBlockNumber=-1}detectNetwork(){return So(this,void 0,void 0,function*(){const e=yield Promise.all(this.providerConfigs.map(t=>t.provider.getNetwork()));return rh(e)})}perform(e,t){return So(this,void 0,void 0,function*(){if(e==="sendTransaction"){const c=yield Promise.all(this.providerConfigs.map(l=>l.provider.sendTransaction(t.signedTransaction).then(u=>u.hash,u=>u)));for(let l=0;l<c.length;l++){const u=c[l];if(typeof u=="string")return u}throw c[0]}this._highestBlockNumber===-1&&e!=="getBlockNumber"&&(yield this.getBlockNumber());const n=g5(this,e,t),i=_m(this.providerConfigs.map(Ge));i.sort((c,l)=>c.priority-l.priority);const s=this._highestBlockNumber;let o=0,a=!0;for(;;){const c=Hs();let l=i.filter(g=>g.runner&&c-g.start<g.stallTimeout).reduce((g,b)=>g+b.weight,0);for(;l<this.quorum&&o<i.length;){const g=i[o++],b=d5++;g.start=Hs(),g.staller=ih(g.stallTimeout),g.staller.wait(()=>{g.staller=null}),g.runner=b5(g,s,e,t).then(y=>{g.done=!0,g.result=y,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:b,backend:Ks(g,Hs()),request:{method:e,params:Ut(t)},provider:this})},y=>{g.done=!0,g.error=y,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:b,backend:Ks(g,Hs()),request:{method:e,params:Ut(t)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:b,backend:Ks(g,null),request:{method:e,params:Ut(t)},provider:this}),l+=g.weight}const u=[];i.forEach(g=>{g.done||!g.runner||(u.push(g.runner),g.staller&&u.push(g.staller.getPromise()))}),u.length&&(yield Promise.race(u));const d=i.filter(g=>g.done&&g.error==null);if(d.length>=this.quorum){const g=n(d);if(g!==void 0)return i.forEach(b=>{b.staller&&b.staller.cancel(),b.cancelled=!0}),g;a||(yield ih(100).getPromise()),a=!1}const h=i.reduce((g,b)=>{if(!b.done||b.error==null)return g;const y=b.error.code;return p5.indexOf(y)>=0&&(g[y]||(g[y]={error:b.error,weight:0}),g[y].weight+=b.weight),g},{});if(Object.keys(h).forEach(g=>{const b=h[g];if(b.weight<this.quorum)return;i.forEach(w=>{w.staller&&w.staller.cancel(),w.cancelled=!0});const y=b.error,T={};m5.forEach(w=>{y[w]!=null&&(T[w]=y[w])}),Mn.throwError(y.reason||y.message,g,T)}),i.filter(g=>!g.done).length===0)break}return i.forEach(c=>{c.staller&&c.staller.cancel(),c.cancelled=!0}),Mn.throwError("failed to meet quorum",Y.errors.SERVER_ERROR,{method:e,params:t,results:i.map(c=>Ks(c)),provider:this})})}}const Jm=null,no=new Y(_t),Ki="84842078b09946638c03157f83405213";class Xm extends Xo{constructor(e,t){const n=new mf(e,t),i=n.connection;i.password&&no.throwError("INFURA WebSocket project secrets unsupported",Y.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});const s=i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(s,e),ce(this,"apiKey",n.projectId),ce(this,"projectId",n.projectId),ce(this,"projectSecret",n.projectSecret)}isCommunityResource(){return this.projectId===Ki}}class mf extends Br{static getWebSocketProvider(e,t){return new Xm(e,t)}static getApiKey(e){const t={apiKey:Ki,projectId:Ki,projectSecret:null};return e==null||(typeof e=="string"?t.projectId=e:e.projectSecret!=null?(no.assertArgument(typeof e.projectId=="string","projectSecret requires a projectId","projectId",e.projectId),no.assertArgument(typeof e.projectSecret=="string","invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t}static getUrl(e,t){let n=null;switch(e?e.name:"unknown"){case"homestead":n="mainnet.infura.io";break;case"goerli":n="goerli.infura.io";break;case"sepolia":n="sepolia.infura.io";break;case"matic":n="polygon-mainnet.infura.io";break;case"maticmum":n="polygon-mumbai.infura.io";break;case"optimism":n="optimism-mainnet.infura.io";break;case"optimism-goerli":n="optimism-goerli.infura.io";break;case"optimism-sepolia":n="optimism-sepolia.infura.io";break;case"arbitrum":n="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":n="arbitrum-goerli.infura.io";break;case"arbitrum-sepolia":n="arbitrum-sepolia.infura.io";break;default:no.throwError("unsupported network",Y.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const i={allowGzip:!0,url:"https://"+n+"/v3/"+t.projectId,throttleCallback:(s,o)=>(t.projectId===Ki&&Cs(),Promise.resolve(!0))};return t.projectSecret!=null&&(i.user="",i.password=t.projectSecret),i}isCommunityResource(){return this.projectId===Ki}}class y5 extends Dn{send(e,t){const n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this._pendingBatch==null&&(this._pendingBatch=[]);const i={request:n,resolve:null,reject:null},s=new Promise((o,a)=>{i.resolve=o,i.reject=a});return this._pendingBatch.push(i),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{const o=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const a=o.map(c=>c.request);return this.emit("debug",{action:"requestBatch",request:Ut(a),provider:this}),Ni(this.connection,JSON.stringify(a)).then(c=>{this.emit("debug",{action:"response",request:a,response:c,provider:this}),o.forEach((l,u)=>{const d=c[u];if(d.error){const h=new Error(d.error.message);h.code=d.error.code,h.data=d.error.data,l.reject(h)}else l.resolve(d.result)})},c=>{this.emit("debug",{action:"response",error:c,request:a,provider:this}),o.forEach(l=>{l.reject(c)})})},10)),s}}const lc=new Y(_t),w5="ETHERS_JS_SHARED";class Qm extends Br{static getApiKey(e){return e&&typeof e!="string"&&lc.throwArgumentError("invalid apiKey","apiKey",e),e||w5}static getUrl(e,t){lc.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let n=null;switch(e.name){case"homestead":n="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":n="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":n="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":n="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":n="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:lc.throwArgumentError("unsupported network","network",arguments[0])}return n+"?apiKey="+t}}const sh=new Y(_t),oh="62e1ad51b37b8e00394bda3b";class Zm extends Br{static getApiKey(e){const t={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return e==null?t.applicationId=oh:typeof e=="string"?t.applicationId=e:e.applicationSecretKey!=null?(t.applicationId=e.applicationId,t.applicationSecretKey=e.applicationSecretKey):e.applicationId?t.applicationId=e.applicationId:sh.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),t}static getUrl(e,t){let n=null;switch(e?e.name:"unknown"){case"goerli":n="eth-goerli.gateway.pokt.network";break;case"homestead":n="eth-mainnet.gateway.pokt.network";break;case"kovan":n="poa-kovan.gateway.pokt.network";break;case"matic":n="poly-mainnet.gateway.pokt.network";break;case"maticmum":n="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":n="eth-rinkeby.gateway.pokt.network";break;case"ropsten":n="eth-ropsten.gateway.pokt.network";break;default:sh.throwError("unsupported network",Y.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const i=`https://${n}/v1/lb/${t.applicationId}`,s={headers:{},url:i};return t.applicationSecretKey!=null&&(s.user="",s.password=t.applicationSecretKey),s}isCommunityResource(){return this.applicationId===oh}}const ah=new Y(_t),v5="919b412a057b5e9c9b6dce193c5a60242d6efadb";class ex extends Br{static getApiKey(e){return e&&typeof e!="string"&&ah.throwArgumentError("invalid apiKey","apiKey",e),e||v5}static getUrl(e,t){let n=null;switch(e.name){case"homestead":n="ethers.quiknode.pro";break;case"goerli":n="ethers.ethereum-goerli.quiknode.pro";break;case"sepolia":n="ethers.ethereum-sepolia.quiknode.pro";break;case"holesky":n="ethers.ethereum-holesky.quiknode.pro";break;case"arbitrum":n="ethers.arbitrum-mainnet.quiknode.pro";break;case"arbitrum-goerli":n="ethers.arbitrum-goerli.quiknode.pro";break;case"arbitrum-sepolia":n="ethers.arbitrum-sepolia.quiknode.pro";break;case"base":n="ethers.base-mainnet.quiknode.pro";break;case"base-goerli":n="ethers.base-goerli.quiknode.pro";break;case"base-spolia":n="ethers.base-sepolia.quiknode.pro";break;case"bnb":n="ethers.bsc.quiknode.pro";break;case"bnbt":n="ethers.bsc-testnet.quiknode.pro";break;case"matic":n="ethers.matic.quiknode.pro";break;case"maticmum":n="ethers.matic-testnet.quiknode.pro";break;case"optimism":n="ethers.optimism.quiknode.pro";break;case"optimism-goerli":n="ethers.optimism-goerli.quiknode.pro";break;case"optimism-sepolia":n="ethers.optimism-sepolia.quiknode.pro";break;case"xdai":n="ethers.xdai.quiknode.pro";break;default:ah.throwArgumentError("unsupported network","network",arguments[0])}return"https://"+n+"/"+t}}const ch=new Y(_t);let A5=1;function lh(r,e){const t="Web3LegacyFetcher";return function(n,i){const s={method:n,params:i,id:A5++,jsonrpc:"2.0"};return new Promise((o,a)=>{this.emit("debug",{action:"request",fetcher:t,request:Ut(s),provider:this}),e(s,(c,l)=>{if(c)return this.emit("debug",{action:"response",fetcher:t,error:c,request:s,provider:this}),a(c);if(this.emit("debug",{action:"response",fetcher:t,request:s,response:l,provider:this}),l.error){const u=new Error(l.error.message);return u.code=l.error.code,u.data=l.error.data,a(u)}o(l.result)})})}}function E5(r){return function(e,t){t==null&&(t=[]);const n={method:e,params:t};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Ut(n),provider:this}),r.request(n).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:i,provider:this}),i})}}class tx extends Dn{constructor(e,t){e==null&&ch.throwArgumentError("missing provider","provider",e);let n=null,i=null,s=null;typeof e=="function"?(n="unknown:",i=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),s=e,e.request?(n===""&&(n="eip-1193:"),i=E5(e)):e.sendAsync?i=lh(e,e.sendAsync.bind(e)):e.send?i=lh(e,e.send.bind(e)):ch.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,t),ce(this,"jsonRpcFetchFunc",i),ce(this,"provider",s)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}const fh=new Y(_t);function xf(r,e){if(r==null&&(r="homestead"),typeof r=="string"){const n=r.match(/^(ws|http)s?:/i);if(n)switch(n[1].toLowerCase()){case"http":case"https":return new Dn(r);case"ws":case"wss":return new Xo(r);default:fh.throwArgumentError("unsupported URL scheme","network",r)}}const t=hf(r);return(!t||!t._defaultProvider)&&fh.throwError("unsupported getDefaultProvider network",Y.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:r}),t._defaultProvider({FallbackProvider:Ym,AlchemyProvider:pf,AnkrProvider:zm,CloudflareProvider:qm,EtherscanProvider:Wm,InfuraProvider:mf,JsonRpcProvider:Dn,NodesmithProvider:Qm,PocketProvider:Zm,QuickNodeProvider:ex,Web3Provider:tx,IpcProvider:Jm},e)}const rx=Object.freeze(Object.defineProperty({__proto__:null,AlchemyProvider:pf,AlchemyWebSocketProvider:Gm,AnkrProvider:zm,BaseProvider:Jo,CloudflareProvider:qm,EtherscanProvider:Wm,FallbackProvider:Ym,Formatter:Ee,InfuraProvider:mf,InfuraWebSocketProvider:Xm,IpcProvider:Jm,JsonRpcBatchProvider:y5,JsonRpcProvider:Dn,JsonRpcSigner:df,NodesmithProvider:Qm,PocketProvider:Zm,Provider:Kn,QuickNodeProvider:ex,Resolver:Gc,StaticJsonRpcProvider:Km,UrlJsonRpcProvider:Br,Web3Provider:tx,WebSocketProvider:Xo,getDefaultProvider:xf,getNetwork:hf,isCommunityResourcable:$m,isCommunityResource:Kc,showThrottleMessage:Cs},Symbol.toStringTag,{value:"Module"})),T5="solidity/5.8.0",S5=new RegExp("^bytes([0-9]+)$"),k5=new RegExp("^(u?int)([0-9]*)$"),C5=new RegExp("^(.*)\\[([0-9]*)\\]$"),M5="0000000000000000000000000000000000000000000000000000000000000000",Zn=new Y(T5);function nx(r,e,t){switch(r){case"address":return t?Yi(e,32):me(e);case"string":return wt(e);case"bytes":return me(e);case"bool":return e=e?"0x01":"0x00",t?Yi(e,32):me(e)}let n=r.match(k5);if(n){let i=parseInt(n[2]||"256");return(n[2]&&String(i)!==n[2]||i%8!==0||i===0||i>256)&&Zn.throwArgumentError("invalid number type","type",r),t&&(i=256),e=pe.from(e).toTwos(i),Yi(e,i/8)}if(n=r.match(S5),n){const i=parseInt(n[1]);return(String(i)!==n[1]||i===0||i>32)&&Zn.throwArgumentError("invalid bytes type","type",r),me(e).byteLength!==i&&Zn.throwArgumentError(`invalid value for ${r}`,"value",e),t?me((e+M5).substring(0,66)):e}if(n=r.match(C5),n&&Array.isArray(e)){const i=n[1];parseInt(n[2]||String(e.length))!=e.length&&Zn.throwArgumentError(`invalid array length for ${r}`,"value",e);const o=[];return e.forEach(function(a){o.push(nx(i,a,!0))}),He(o)}return Zn.throwArgumentError("invalid type","type",r)}function gf(r,e){r.length!=e.length&&Zn.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);const t=[];return r.forEach(function(n,i){t.push(nx(n,e[i]))}),xe(He(t))}function _5(r,e){return Ve(gf(r,e))}function N5(r,e){return Hr(gf(r,e))}const R5="units/5.8.0",ix=new Y(R5),sx=["wei","kwei","mwei","gwei","szabo","finney","ether"];function P5(r){const e=String(r).split(".");(e.length>2||!e[0].match(/^-?[0-9]*$/)||e[1]&&!e[1].match(/^[0-9]*$/)||r==="."||r==="-.")&&ix.throwArgumentError("invalid value","value",r);let t=e[0],n="";for(t.substring(0,1)==="-"&&(n="-",t=t.substring(1));t.substring(0,1)==="0";)t=t.substring(1);t===""&&(t="0");let i="";for(e.length===2&&(i="."+(e[1]||"0"));i.length>2&&i[i.length-1]==="0";)i=i.substring(0,i.length-1);const s=[];for(;t.length;)if(t.length<=3){s.unshift(t);break}else{const o=t.length-3;s.unshift(t.substring(o)),t=t.substring(0,o)}return n+s.join(",")+i}function ox(r,e){if(typeof e=="string"){const t=sx.indexOf(e);t!==-1&&(e=3*t)}return Js(r,e??18)}function ax(r,e){if(typeof r!="string"&&ix.throwArgumentError("value must be a string","value",r),typeof e=="string"){const t=sx.indexOf(e);t!==-1&&(e=3*t)}return pr(r,e??18)}function B5(r){return ox(r,18)}function I5(r){return ax(r,18)}const cx=Object.freeze(Object.defineProperty({__proto__:null,AbiCoder:Bp,ConstructorFragment:lr,ErrorFragment:Lr,EventFragment:gr,FormatTypes:Fe,Fragment:br,FunctionFragment:fr,HDNode:zt,Indexed:go,Interface:Ic,LogDescription:Gp,Logger:Y,ParamType:Et,RLP:Mw,SigningKey:Pn,get SupportedAlgorithm(){return wi},TransactionDescription:zp,get TransactionTypes(){return Uc},get UnicodeNormalizationForm(){return Cr},Utf8ErrorFuncs:Rp,get Utf8ErrorReason(){return Vt},_TypedDataEncoder:kt,_fetchData:Fm,_toEscapedUtf8String:Xw,accessListify:pn,arrayify:me,base58:yi,base64:x3,checkProperties:jl,checkResultErrors:xp,commify:P5,computeAddress:on,computeHmac:ps,computePublicKey:rf,concat:He,deepCopy:Ut,defaultAbiCoder:Ip,defaultPath:vi,defineReadOnly:ce,dnsEncode:jp,entropyToMnemonic:Wo,fetchJson:Ni,formatBytes32String:Qw,formatEther:B5,formatUnits:ox,getAccountPath:h4,getAddress:Ue,getContractAddress:jo,getCreate2Address:Iw,getIcapAddress:Bw,getJsonWalletAddress:y4,getStatic:Ct,hashMessage:Ql,hexConcat:Ft,hexDataLength:kr,hexDataSlice:yt,hexStripZeros:ap,hexValue:As,hexZeroPad:Ke,hexlify:xe,id:sn,isAddress:Pw,isBytes:hn,isBytesLike:vs,isHexString:Ne,isValidMnemonic:u4,isValidName:$3,joinSignature:Rc,keccak256:Ve,mnemonicToEntropy:qo,mnemonicToSeed:Mm,namehash:Qi,nameprep:h3,parseBytes32String:Zw,parseEther:I5,parseTransaction:ym,parseUnits:ax,poll:Nn,randomBytes:oi,recoverAddress:ks,recoverPublicKey:pm,resolveProperties:pt,ripemd160:Sm,serializeTransaction:$c,sha256:Hr,sha512:r4,shallowCopy:Ge,shuffled:_m,solidityKeccak256:_5,solidityPack:gf,soliditySha256:N5,splitSignature:jn,stripZeros:Ar,toUtf8Bytes:wt,toUtf8CodePoints:mo,toUtf8String:Hn,verifyMessage:B4,verifyTypedData:I4,zeroPad:Yi},Symbol.toStringTag,{value:"Module"})),bf="ethers/5.8.0",lx=new Y(bf),fx=Object.freeze(Object.defineProperty({__proto__:null,BaseContract:sf,BigNumber:pe,Contract:vo,ContractFactory:Em,FixedNumber:At,Signer:Gr,VoidSigner:Ts,Wallet:tn,Wordlist:zn,constants:Mp,get errors(){return Kt},getDefaultProvider:xf,logger:lx,providers:rx,utils:cx,version:bf,wordlists:Ao},Symbol.toStringTag,{value:"Module"}));try{const r=window;r._ethers==null&&(r._ethers=fx)}catch{}const O5=Object.freeze(Object.defineProperty({__proto__:null,BaseContract:sf,BigNumber:pe,Contract:vo,ContractFactory:Em,FixedNumber:At,Signer:Gr,VoidSigner:Ts,Wallet:tn,Wordlist:zn,constants:Mp,get errors(){return Kt},ethers:fx,getDefaultProvider:xf,logger:lx,providers:rx,utils:cx,version:bf,wordlists:Ao},Symbol.toStringTag,{value:"Module"})),ux=No(O5);Object.defineProperty(Ur,"__esModule",{value:!0});Ur.getAddress=Ur.hashMessage=Ur.verifyMessage=void 0;const Jn=ux;let qc=null,Wc=null,Yc=null;try{qc=Jn.ethers.utils.verifyMessage,Wc=Jn.ethers.utils.hashMessage,Yc=Jn.ethers.utils.getAddress}catch{qc=Jn.ethers.verifyMessage,Wc=Jn.ethers.hashMessage,Yc=Jn.ethers.getAddress}Ur.verifyMessage=qc;Ur.hashMessage=Wc;Ur.getAddress=Yc;var yf={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.SiweErrorType=r.SiweError=r.VerifyOptsKeys=r.VerifyParamsKeys=void 0,r.VerifyParamsKeys=["signature","scheme","domain","nonce","time"],r.VerifyOptsKeys=["provider","suppressExceptions","verificationFallback"];class e{constructor(n,i,s){this.type=n,this.expected=i,this.received=s}}r.SiweError=e,function(t){t.EXPIRED_MESSAGE="Expired message.",t.INVALID_DOMAIN="Invalid domain.",t.SCHEME_MISMATCH="Scheme does not match provided scheme for verification.",t.DOMAIN_MISMATCH="Domain does not match provided domain for verification.",t.NONCE_MISMATCH="Nonce does not match provided nonce for verification.",t.INVALID_ADDRESS="Invalid address.",t.INVALID_URI="URI does not conform to RFC 3986.",t.INVALID_NONCE="Nonce size smaller then 8 characters or is not alphanumeric.",t.NOT_YET_VALID_MESSAGE="Message is not valid yet.",t.INVALID_SIGNATURE="Signature does not match address of the message.",t.INVALID_TIME_FORMAT="Invalid time format.",t.INVALID_MESSAGE_VERSION="Invalid message version.",t.UNABLE_TO_PARSE="Unable to parse the message."}(r.SiweErrorType||(r.SiweErrorType={}))})(yf);var hr={},hx={},Qo={},Zo={};Object.defineProperty(Zo,"__esModule",{value:!0});Zo.BrowserRandomSource=void 0;const uh=65536;class L5{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const t=new Uint8Array(e);for(let n=0;n<t.length;n+=uh)this._crypto.getRandomValues(t.subarray(n,n+Math.min(t.length-n,uh)));return t}}Zo.BrowserRandomSource=L5;function F5(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ea={},ta={};Object.defineProperty(ta,"__esModule",{value:!0});function D5(r){for(var e=0;e<r.length;e++)r[e]=0;return r}ta.wipe=D5;Object.defineProperty(ea,"__esModule",{value:!0});ea.NodeRandomSource=void 0;const U5=ta;class $5{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof F5<"u"){const e=vh;e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=t[i];return(0,U5.wipe)(t),n}}ea.NodeRandomSource=$5;Object.defineProperty(Qo,"__esModule",{value:!0});Qo.SystemRandomSource=void 0;const j5=Zo,V5=ea;class H5{constructor(){if(this.isAvailable=!1,this.name="",this._source=new j5.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new V5.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}Qo.SystemRandomSource=H5;var Pe={},dx={};(function(r){Object.defineProperty(r,"__esModule",{value:!0});function e(a,c){var l=a>>>16&65535,u=a&65535,d=c>>>16&65535,h=c&65535;return u*h+(l*h+u*d<<16>>>0)|0}r.mul=Math.imul||e;function t(a,c){return a+c|0}r.add=t;function n(a,c){return a-c|0}r.sub=n;function i(a,c){return a<<c|a>>>32-c}r.rotl=i;function s(a,c){return a<<32-c|a>>>c}r.rotr=s;function o(a){return typeof a=="number"&&isFinite(a)&&Math.floor(a)===a}r.isInteger=Number.isInteger||o,r.MAX_SAFE_INTEGER=9007199254740991,r.isSafeInteger=function(a){return r.isInteger(a)&&a>=-r.MAX_SAFE_INTEGER&&a<=r.MAX_SAFE_INTEGER}})(dx);Object.defineProperty(Pe,"__esModule",{value:!0});var px=dx;function K5(r,e){return e===void 0&&(e=0),(r[e+0]<<8|r[e+1])<<16>>16}Pe.readInt16BE=K5;function G5(r,e){return e===void 0&&(e=0),(r[e+0]<<8|r[e+1])>>>0}Pe.readUint16BE=G5;function z5(r,e){return e===void 0&&(e=0),(r[e+1]<<8|r[e])<<16>>16}Pe.readInt16LE=z5;function q5(r,e){return e===void 0&&(e=0),(r[e+1]<<8|r[e])>>>0}Pe.readUint16LE=q5;function mx(r,e,t){return e===void 0&&(e=new Uint8Array(2)),t===void 0&&(t=0),e[t+0]=r>>>8,e[t+1]=r>>>0,e}Pe.writeUint16BE=mx;Pe.writeInt16BE=mx;function xx(r,e,t){return e===void 0&&(e=new Uint8Array(2)),t===void 0&&(t=0),e[t+0]=r>>>0,e[t+1]=r>>>8,e}Pe.writeUint16LE=xx;Pe.writeInt16LE=xx;function Jc(r,e){return e===void 0&&(e=0),r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]}Pe.readInt32BE=Jc;function Xc(r,e){return e===void 0&&(e=0),(r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3])>>>0}Pe.readUint32BE=Xc;function Qc(r,e){return e===void 0&&(e=0),r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]}Pe.readInt32LE=Qc;function Zc(r,e){return e===void 0&&(e=0),(r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e])>>>0}Pe.readUint32LE=Zc;function ko(r,e,t){return e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0),e[t+0]=r>>>24,e[t+1]=r>>>16,e[t+2]=r>>>8,e[t+3]=r>>>0,e}Pe.writeUint32BE=ko;Pe.writeInt32BE=ko;function Co(r,e,t){return e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0),e[t+0]=r>>>0,e[t+1]=r>>>8,e[t+2]=r>>>16,e[t+3]=r>>>24,e}Pe.writeUint32LE=Co;Pe.writeInt32LE=Co;function W5(r,e){e===void 0&&(e=0);var t=Jc(r,e),n=Jc(r,e+4);return t*4294967296+n-(n>>31)*4294967296}Pe.readInt64BE=W5;function Y5(r,e){e===void 0&&(e=0);var t=Xc(r,e),n=Xc(r,e+4);return t*4294967296+n}Pe.readUint64BE=Y5;function J5(r,e){e===void 0&&(e=0);var t=Qc(r,e),n=Qc(r,e+4);return n*4294967296+t-(t>>31)*4294967296}Pe.readInt64LE=J5;function X5(r,e){e===void 0&&(e=0);var t=Zc(r,e),n=Zc(r,e+4);return n*4294967296+t}Pe.readUint64LE=X5;function gx(r,e,t){return e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0),ko(r/4294967296>>>0,e,t),ko(r>>>0,e,t+4),e}Pe.writeUint64BE=gx;Pe.writeInt64BE=gx;function bx(r,e,t){return e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0),Co(r>>>0,e,t),Co(r/4294967296>>>0,e,t+4),e}Pe.writeUint64LE=bx;Pe.writeInt64LE=bx;function Q5(r,e,t){if(t===void 0&&(t=0),r%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(r/8>e.length-t)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,s=r/8+t-1;s>=t;s--)n+=e[s]*i,i*=256;return n}Pe.readUintBE=Q5;function Z5(r,e,t){if(t===void 0&&(t=0),r%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(r/8>e.length-t)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,s=t;s<t+r/8;s++)n+=e[s]*i,i*=256;return n}Pe.readUintLE=Z5;function eA(r,e,t,n){if(t===void 0&&(t=new Uint8Array(r/8)),n===void 0&&(n=0),r%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!px.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var i=1,s=r/8+n-1;s>=n;s--)t[s]=e/i&255,i*=256;return t}Pe.writeUintBE=eA;function tA(r,e,t,n){if(t===void 0&&(t=new Uint8Array(r/8)),n===void 0&&(n=0),r%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!px.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var i=1,s=n;s<n+r/8;s++)t[s]=e/i&255,i*=256;return t}Pe.writeUintLE=tA;function rA(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat32(e)}Pe.readFloat32BE=rA;function nA(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat32(e,!0)}Pe.readFloat32LE=nA;function iA(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat64(e)}Pe.readFloat64BE=iA;function sA(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat64(e,!0)}Pe.readFloat64LE=sA;function oA(r,e,t){e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(t,r),e}Pe.writeFloat32BE=oA;function aA(r,e,t){e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(t,r,!0),e}Pe.writeFloat32LE=aA;function cA(r,e,t){e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(t,r),e}Pe.writeFloat64BE=cA;function lA(r,e,t){e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(t,r,!0),e}Pe.writeFloat64LE=lA;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.randomStringForEntropy=r.randomString=r.randomUint32=r.randomBytes=r.defaultRandomSource=void 0;const e=Qo,t=Pe,n=ta;r.defaultRandomSource=new e.SystemRandomSource;function i(l,u=r.defaultRandomSource){return u.randomBytes(l)}r.randomBytes=i;function s(l=r.defaultRandomSource){const u=i(4,l),d=(0,t.readUint32LE)(u);return(0,n.wipe)(u),d}r.randomUint32=s;const o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function a(l,u=o,d=r.defaultRandomSource){if(u.length<2)throw new Error("randomString charset is too short");if(u.length>256)throw new Error("randomString charset is too long");let h="";const g=u.length,b=256-256%g;for(;l>0;){const y=i(Math.ceil(l*256/b),d);for(let T=0;T<y.length&&l>0;T++){const w=y[T];w<b&&(h+=u.charAt(w%g),l--)}(0,n.wipe)(y)}return h}r.randomString=a;function c(l,u=o,d=r.defaultRandomSource){const h=Math.ceil(l/(Math.log(u.length)/Math.LN2));return a(h,u,d)}r.randomStringForEntropy=c})(hx);var fA=mt&&mt.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(r,e||[])).next())})};Object.defineProperty(hr,"__esModule",{value:!0});hr.checkInvalidKeys=hr.isValidISO8601Date=hr.generateNonce=hr.checkContractWalletSignature=void 0;const uA=hx,hA=ux,dA=Ur,pA=["function isValidSignature(bytes32 _message, bytes _signature) public view returns (bytes4)"],mA="0x1626ba7e",hh=/^(?<date>[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01]))[Tt]([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(.[0-9]+)?(([Zz])|([+|-]([01][0-9]|2[0-3]):[0-5][0-9]))$/,xA=(r,e,t)=>fA(void 0,void 0,void 0,function*(){if(!t)return!1;const n=new hA.Contract(r.address,pA,t),i=(0,dA.hashMessage)(r.prepareMessage());return(yield n.isValidSignature(i,e))===mA});hr.checkContractWalletSignature=xA;const gA=()=>{const r=(0,uA.randomStringForEntropy)(96);if(!r||r.length<8)throw new Error("Error during nonce creation.");return r};hr.generateNonce=gA;const bA=r=>{const e=hh.exec(r);if(!r)return!1;const t=new Date(e.groups.date).toISOString(),n=hh.exec(t);return e.groups.date===n.groups.date};hr.isValidISO8601Date=bA;const yA=(r,e)=>{const t=[];return Object.keys(r).forEach(n=>{e.includes(n)||t.push(n)}),t};hr.checkInvalidKeys=yA;var wA=mt&&mt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),vA=mt&&mt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),AA=mt&&mt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&wA(e,r,t);return vA(e,r),e},dh=mt&&mt.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(r,e||[])).next())})};Object.defineProperty(Fo,"__esModule",{value:!0});Fo.SiweMessage=void 0;const fc=Zd,EA=AA(cw),ph=Ur,De=yf,Zr=hr;class TA{constructor(e){if(typeof e=="string"){const t=new fc.ParsedMessage(e);this.scheme=t.scheme,this.domain=t.domain,this.address=t.address,this.statement=t.statement,this.uri=t.uri,this.version=t.version,this.nonce=t.nonce,this.issuedAt=t.issuedAt,this.expirationTime=t.expirationTime,this.notBefore=t.notBefore,this.requestId=t.requestId,this.chainId=t.chainId,this.resources=t.resources}else this.scheme=e==null?void 0:e.scheme,this.domain=e.domain,this.address=e.address,this.statement=e==null?void 0:e.statement,this.uri=e.uri,this.version=e.version,this.chainId=e.chainId,this.nonce=e.nonce,this.issuedAt=e==null?void 0:e.issuedAt,this.expirationTime=e==null?void 0:e.expirationTime,this.notBefore=e==null?void 0:e.notBefore,this.requestId=e==null?void 0:e.requestId,this.resources=e==null?void 0:e.resources,typeof this.chainId=="string"&&(this.chainId=(0,fc.parseIntegerNumber)(this.chainId));this.nonce=this.nonce||(0,Zr.generateNonce)(),this.validateMessage()}toMessage(){this.validateMessage();const t=`${this.scheme?`${this.scheme}://${this.domain}`:this.domain} wants you to sign in with your Ethereum account:`,n=`URI: ${this.uri}`;let i=[t,this.address].join(`
`);const s=`Version: ${this.version}`;this.nonce||(this.nonce=(0,Zr.generateNonce)());const o="Chain ID: "+this.chainId||"1",a=`Nonce: ${this.nonce}`,c=[n,s,o,a];if(this.issuedAt=this.issuedAt||new Date().toISOString(),c.push(`Issued At: ${this.issuedAt}`),this.expirationTime){const u=`Expiration Time: ${this.expirationTime}`;c.push(u)}this.notBefore&&c.push(`Not Before: ${this.notBefore}`),this.requestId&&c.push(`Request ID: ${this.requestId}`),this.resources&&c.push(["Resources:",...this.resources.map(u=>`- ${u}`)].join(`
`));const l=c.join(`
`);return i=[i,this.statement].join(`

`),this.statement&&(i+=`
`),[i,l].join(`
`)}prepareMessage(){let e;switch(this.version){case"1":{e=this.toMessage();break}default:{e=this.toMessage();break}}return e}validate(e,t){return dh(this,void 0,void 0,function*(){return console.warn("validate() has been deprecated, please update your code to use verify(). validate() may be removed in future versions."),this.verify({signature:e},{provider:t,suppressExceptions:!1}).then(({data:n})=>n).catch(({error:n})=>{throw n})})}verify(e,t={suppressExceptions:!1}){return dh(this,void 0,void 0,function*(){return new Promise((n,i)=>{var s,o,a;const c=P=>t.suppressExceptions?n(P):i(P),l=(0,Zr.checkInvalidKeys)(e,De.VerifyParamsKeys);l.length>0&&c({success:!1,data:this,error:new Error(`${l.join(", ")} is/are not valid key(s) for VerifyParams.`)});const u=(0,Zr.checkInvalidKeys)(t,De.VerifyOptsKeys);l.length>0&&c({success:!1,data:this,error:new Error(`${u.join(", ")} is/are not valid key(s) for VerifyOpts.`)});const{signature:d,scheme:h,domain:g,nonce:b,time:y}=e;h&&h!==this.scheme&&c({success:!1,data:this,error:new De.SiweError(De.SiweErrorType.SCHEME_MISMATCH,h,this.scheme)}),g&&g!==this.domain&&c({success:!1,data:this,error:new De.SiweError(De.SiweErrorType.DOMAIN_MISMATCH,g,this.domain)}),b&&b!==this.nonce&&c({success:!1,data:this,error:new De.SiweError(De.SiweErrorType.NONCE_MISMATCH,b,this.nonce)});const T=new Date(y||new Date);if(this.expirationTime){const P=new Date(this.expirationTime);T.getTime()>=P.getTime()&&c({success:!1,data:this,error:new De.SiweError(De.SiweErrorType.EXPIRED_MESSAGE,`${T.toISOString()} < ${P.toISOString()}`,`${T.toISOString()} >= ${P.toISOString()}`)})}if(this.notBefore){const P=new Date(this.notBefore);T.getTime()<P.getTime()&&c({success:!1,data:this,error:new De.SiweError(De.SiweErrorType.NOT_YET_VALID_MESSAGE,`${T.toISOString()} >= ${P.toISOString()}`,`${T.toISOString()} < ${P.toISOString()}`)})}let w;try{w=this.prepareMessage()}catch(P){c({success:!1,data:this,error:P})}let _;try{_=(0,ph.verifyMessage)(w,d)}catch(P){console.error(P)}if(_===this.address)return n({success:!0,data:this});{const P=(0,Zr.checkContractWalletSignature)(this,d,t.provider).then(D=>D?{success:!0,data:this}:{success:!1,data:this,error:new De.SiweError(De.SiweErrorType.INVALID_SIGNATURE,_,`Resolved address to be ${this.address}`)}).catch(D=>({success:!1,data:this,error:D}));Promise.all([P,(a=(o=(s=t==null?void 0:t.verificationFallback)===null||s===void 0?void 0:s.call(t,e,t,this,P))===null||o===void 0?void 0:o.then(D=>D))===null||a===void 0?void 0:a.catch(D=>D)]).then(([D,I])=>{if(I){if(I.success)return n(I);c(I)}else{if(D.success)return n(D);c(D)}})}})})}validateMessage(...e){var t;if(e.length>0)throw new De.SiweError(De.SiweErrorType.UNABLE_TO_PARSE,"Unexpected argument in the validateMessage function.");if(!this.domain||this.domain.length===0||!/[^#?]*/.test(this.domain))throw new De.SiweError(De.SiweErrorType.INVALID_DOMAIN,`${this.domain} to be a valid domain.`);if(!(0,fc.isEIP55Address)(this.address))throw new De.SiweError(De.SiweErrorType.INVALID_ADDRESS,(0,ph.getAddress)(this.address),this.address);if(!EA.isUri(this.uri))throw new De.SiweError(De.SiweErrorType.INVALID_URI,`${this.uri} to be a valid uri.`);if(this.version!=="1")throw new De.SiweError(De.SiweErrorType.INVALID_MESSAGE_VERSION,"1",this.version);const n=(t=this===null||this===void 0?void 0:this.nonce)===null||t===void 0?void 0:t.match(/[a-zA-Z0-9]{8,}/);if(!n||this.nonce.length<8||n[0]!==this.nonce)throw new De.SiweError(De.SiweErrorType.INVALID_NONCE,`Length > 8 (${n.length}). Alphanumeric.`,this.nonce);if(this.issuedAt&&!(0,Zr.isValidISO8601Date)(this.issuedAt))throw new Error(De.SiweErrorType.INVALID_TIME_FORMAT);if(this.expirationTime&&!(0,Zr.isValidISO8601Date)(this.expirationTime))throw new Error(De.SiweErrorType.INVALID_TIME_FORMAT);if(this.notBefore&&!(0,Zr.isValidISO8601Date)(this.notBefore))throw new Error(De.SiweErrorType.INVALID_TIME_FORMAT)}}Fo.SiweMessage=TA;(function(r){var e=mt&&mt.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),t=mt&&mt.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(r,"__esModule",{value:!0}),t(Fo,r),t(yf,r),t(hr,r)})(Qd);const SA=({onAuthSuccess:r})=>{const{address:e,isConnected:t}=el(),{signMessageAsync:n}=Ax(),{disconnect:i}=bh(),{loginWithWallet:s}=hi(),[o,a]=fe.useState(!1),c=async()=>{var l;if(!e){Pt.error("Please connect your wallet first");return}try{a(!0);const u=await fetch("/api/auth/nonce",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:e})});if(!u.ok)throw new Error("Failed to get nonce");const{nonce:d}=await u.json(),g=new Qd.SiweMessage({domain:window.location.host,address:e,statement:"Sign in to BondX",uri:window.location.origin,version:"1",chainId:parseInt("84532"),nonce:d}).prepareMessage(),b=await n({message:g}),y=await fetch("/api/auth/verify-wallet",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:g,signature:b,address:e})});if(!y.ok){const w=await y.json();throw new Error(w.message||"Verification failed")}const T=await y.json();T.token&&T.user&&(localStorage.setItem("auth_token",T.token),T.user.address&&localStorage.setItem("user_address",T.user.address),s(e,T.token,T.user)),Pt.success("Wallet connected successfully!"),r()}catch(u){(l=u.message)!=null&&l.includes("User rejected")?Pt.error("Signature request was cancelled"):Pt.error(u.message||"Failed to verify wallet")}finally{a(!1)}};return W.jsx("div",{className:"space-y-4",children:t?W.jsxs("div",{className:"space-y-4",children:[W.jsxs("div",{className:"bg-[#1a1a1a] rounded-lg p-4 border border-gray-800",children:[W.jsxs("div",{className:"flex items-center justify-between mb-2",children:[W.jsx("span",{className:"text-gray-400 text-sm",children:"Connected Wallet"}),W.jsx("button",{onClick:()=>i(),className:"text-xs text-gray-500 hover:text-gray-300",children:"Disconnect"})]}),W.jsx("p",{className:"text-white font-mono text-sm break-all",children:e})]}),W.jsx("button",{onClick:c,disabled:o,className:"w-full bg-[var(--primary)] text-black py-3 px-4 rounded-lg font-semibold hover:bg-[var(--primary-hover)] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:o?W.jsxs(W.Fragment,{children:[W.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[W.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),W.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Verifying..."]}):"Sign In with Wallet"}),W.jsx("p",{className:"text-xs text-gray-500 text-center",children:"By signing in, you agree to our Terms of Service and Privacy Policy"})]}):W.jsxs("div",{className:"space-y-4",children:[W.jsx("p",{className:"text-gray-400 text-sm text-center",children:"Connect your wallet to sign in securely"}),W.jsx(Ex.Custom,{children:({openConnectModal:l,mounted:u})=>W.jsx("button",{onClick:l,disabled:!u,className:"w-full bg-[var(--primary)] text-black py-3 px-4 rounded-lg font-semibold hover:bg-[var(--primary-hover)] transition-colors disabled:opacity-50",children:"Connect Wallet"})})]})})},kA=({onAuthSuccess:r})=>{const[e,t]=fe.useState(""),[n,i]=fe.useState(!1),[s,o]=fe.useState("email"),[a,c]=fe.useState(""),{loginWithEmail:l}=hi(),u=async h=>{h.preventDefault();const g=e.toLowerCase().trim();if(!g||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g)){Pt.error("Please enter a valid email address");return}try{i(!0);const b=await fetch("/api/auth/send-email-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:g})});if(!b.ok){const y=await b.json();throw new Error(y.message||"Failed to send code")}Pt.success("Verification code sent to your email!"),o("code")}catch(b){Pt.error(b.message||"Failed to send verification code")}finally{i(!1)}},d=async h=>{var y;h.preventDefault();const g=a.replace(/\D/g,"").trim();if(!g||g.length!==6||!/^\d{6}$/.test(g)){Pt.error("Please enter a valid 6-digit code");return}const b=e.toLowerCase().trim();try{i(!0);const T=await fetch("/api/auth/verify-email-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:b,code:g})});if(!T.ok){const _=await T.json(),P=_.details||_.message||"Invalid verification code";throw new Error(P)}const w=await T.json();w.token&&w.user&&(localStorage.setItem("auth_token",w.token),localStorage.setItem("user_email",e),w.user.address&&(localStorage.setItem("user_address",w.user.address),localStorage.setItem("embedded_wallet","true")),l(e,w.token,w.user)),(y=w.user)!=null&&y.embeddedWallet?Pt.success("Signed in successfully! Your embedded wallet is ready."):Pt.success("Signed in successfully!"),r()}catch(T){Pt.error(T.message||"Invalid verification code")}finally{i(!1)}};return W.jsx("div",{className:"space-y-4",children:s==="email"?W.jsxs("form",{onSubmit:u,className:"space-y-4",children:[W.jsxs("div",{children:[W.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),W.jsx("input",{type:"email",value:e,onChange:h=>t(h.target.value),placeholder:"you@example.com",className:"w-full bg-[#1a1a1a] border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[var(--primary)] focus:border-transparent",required:!0,disabled:n})]}),W.jsx("button",{type:"submit",disabled:n,className:"w-full bg-[var(--primary)] text-black py-3 px-4 rounded-lg font-semibold hover:bg-[var(--primary-hover)] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:n?W.jsxs(W.Fragment,{children:[W.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[W.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),W.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Continue with Email"}),W.jsx("p",{className:"text-xs text-gray-500 text-center",children:"We'll send you a verification code to sign in. An embedded wallet will be created for you."})]}):W.jsxs("form",{onSubmit:d,className:"space-y-4",children:[W.jsxs("div",{children:[W.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Verification Code"}),W.jsx("input",{type:"text",value:a,onChange:h=>c(h.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",maxLength:6,className:"w-full bg-[#1a1a1a] border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[var(--primary)] focus:border-transparent text-center text-2xl tracking-widest font-mono",required:!0,disabled:n}),W.jsxs("p",{className:"text-xs text-gray-500 mt-2 text-center",children:["Enter the 6-digit code sent to ",e]})]}),W.jsx("button",{type:"submit",disabled:n||a.length!==6,className:"w-full bg-[var(--primary)] text-black py-3 px-4 rounded-lg font-semibold hover:bg-[var(--primary-hover)] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:n?W.jsxs(W.Fragment,{children:[W.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[W.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),W.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Verifying..."]}):"Verify & Sign In"}),W.jsx("button",{type:"button",onClick:()=>{o("email"),c("")},className:"w-full text-gray-400 hover:text-white text-sm transition-colors",children:"Change email address"})]})})},CA=({onAuthSuccess:r})=>{const[e,t]=fe.useState(null),{loginWithEmail:n}=hi(),i=async o=>{var a;t(o);try{const c=await fetch(`/api/auth/social/${o}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({redirectUri:window.location.origin})});if(!c.ok){const u=await c.json();throw new Error(u.message||`Failed to authenticate with ${o}`)}const l=await c.json();l.redirectUrl?window.location.href=l.redirectUrl:l.token&&(localStorage.setItem("auth_token",l.token),(a=l.user)!=null&&a.email&&(localStorage.setItem("user_email",l.user.email),n(l.user.email,l.token)),Pt.success(`Signed in with ${o}!`),r())}catch(c){Pt.error(c.message||`Failed to sign in with ${o}`)}finally{t(null)}},s=[{id:"google",name:"Google",icon:"",color:"bg-white hover:bg-gray-100 text-gray-900"},{id:"twitter",name:"Twitter",icon:"",color:"bg-[#1DA1F2] hover:bg-[#1a8cd8] text-white"},{id:"discord",name:"Discord",icon:"",color:"bg-[#5865F2] hover:bg-[#4752C4] text-white"},{id:"github",name:"GitHub",icon:"",color:"bg-gray-800 hover:bg-gray-900 text-white"},{id:"apple",name:"Apple",icon:"",color:"bg-black hover:bg-gray-900 text-white"}];return W.jsxs("div",{className:"space-y-3",children:[s.map(o=>W.jsx("button",{onClick:()=>i(o.id),disabled:e!==null,className:`w-full flex items-center justify-center gap-3 py-3 px-4 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${o.color}`,children:e===o.id?W.jsxs(W.Fragment,{children:[W.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[W.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),W.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Connecting..."]}):W.jsxs(W.Fragment,{children:[W.jsx("span",{className:"text-xl",children:o.icon}),W.jsxs("span",{children:["Continue with ",o.name]})]})},o.id)),W.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})},MA=({isOpen:r,onClose:e,onAuthSuccess:t})=>{const[n,i]=fe.useState("wallet"),[s,o]=fe.useState(!1);fe.useEffect(()=>(o(!0),()=>o(!1)),[]),fe.useEffect(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[r]);const a=()=>{t==null||t(),e()};if(!r||!s)return null;const c=W.jsx(al,{children:W.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-2 sm:p-4 overflow-y-auto",children:[W.jsx(er.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/60 backdrop-blur-sm"}),W.jsxs(er.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},onClick:l=>l.stopPropagation(),className:"relative bg-[#111111] rounded-2xl shadow-2xl w-full max-w-md mx-auto my-auto border border-gray-800 max-h-[90vh] overflow-hidden flex flex-col",children:[W.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors z-10",children:W.jsx(io,{className:"w-6 h-6"})}),W.jsxs("div",{className:"p-4 sm:p-6 overflow-y-auto flex-1",children:[W.jsxs("div",{className:"text-center mb-6",children:[W.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Connect to BondX"}),W.jsx("p",{className:"text-gray-400 text-sm",children:"Choose your preferred authentication method"})]}),W.jsxs("div",{className:"flex gap-2 mb-6 bg-[#1a1a1a] p-1 rounded-lg",children:[W.jsx("button",{onClick:()=>i("wallet"),className:`flex-1 py-2.5 px-4 rounded-md text-sm font-medium transition-all ${n==="wallet"?"bg-[var(--primary)] text-black shadow-lg":"text-gray-400 hover:text-white"}`,children:"Wallet"}),W.jsx("button",{onClick:()=>i("email"),className:`flex-1 py-2.5 px-4 rounded-md text-sm font-medium transition-all ${n==="email"?"bg-[var(--primary)] text-black shadow-lg":"text-gray-400 hover:text-white"}`,children:"Email"})]}),W.jsx("div",{className:"min-h-[200px] sm:min-h-[300px]",children:n==="wallet"?W.jsx(SA,{onAuthSuccess:a}):W.jsxs("div",{className:"space-y-4",children:[W.jsx(kA,{onAuthSuccess:a}),W.jsxs("div",{className:"relative my-6",children:[W.jsx("div",{className:"absolute inset-0 flex items-center",children:W.jsx("div",{className:"w-full border-t border-gray-700"})}),W.jsx("div",{className:"relative flex justify-center text-sm",children:W.jsx("span",{className:"px-2 bg-[#111111] text-gray-400",children:"Or continue with"})})]}),W.jsx(CA,{onAuthSuccess:a})]})})]})]})]})});return Lx.createPortal(c,document.body)},ci=[{inputs:[{internalType:"address",name:"_uniswapRouter",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{inputs:[],name:"ReentrancyGuardReentrantCall",type:"error"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"SafeERC20FailedOperation",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"tokenAddress",type:"address"},{indexed:!1,internalType:"uint256",name:"ethAdded",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokenAdded",type:"uint256"},{indexed:!1,internalType:"uint256",name:"liquidity",type:"uint256"}],name:"LiquidityAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ProtocolFeesWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"tokenAddress",type:"address"},{indexed:!0,internalType:"address",name:"buyer",type:"address"},{indexed:!1,internalType:"uint256",name:"ethAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokenAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newEthReserves",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newTokenReserves",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newVirtualEthReserves",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newVirtualTokenReserves",type:"uint256"}],name:"TokenBought",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"tokenAddress",type:"address"},{indexed:!0,internalType:"address",name:"creator",type:"address"},{indexed:!1,internalType:"string",name:"name",type:"string"},{indexed:!1,internalType:"string",name:"symbol",type:"string"},{indexed:!1,internalType:"string",name:"description",type:"string"},{indexed:!1,internalType:"string",name:"uri",type:"string"},{indexed:!1,internalType:"uint256",name:"totalSupply",type:"uint256"},{indexed:!1,internalType:"uint256",name:"virtualEthReserves",type:"uint256"},{indexed:!1,internalType:"uint256",name:"virtualTokenReserves",type:"uint256"},{indexed:!1,internalType:"uint256",name:"graduationEth",type:"uint256"}],name:"TokenCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"tokenAddress",type:"address"},{indexed:!1,internalType:"uint256",name:"graduationPrice",type:"uint256"}],name:"TokenGraduated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"tokenAddress",type:"address"},{indexed:!0,internalType:"address",name:"seller",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"ethAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newEthReserves",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newTokenReserves",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newVirtualEthReserves",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newVirtualTokenReserves",type:"uint256"}],name:"TokenSold",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newRouter",type:"address"}],name:"UniswapRouterUpdated",type:"event"},{inputs:[],name:"BPS_DENOMINATOR",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_GRADUATION_ETH",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"FEE_BPS",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"PROTOCOL_FEE_BPS",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"TOTAL_SUPPLY",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"VIRTUAL_ETH_RESERVES",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"VIRTUAL_TOKEN_RESERVES",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"tokenAddress",type:"address"}],name:"buyTokens",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"tokenAmount",type:"uint256"}],name:"calculateEthAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"ethAmount",type:"uint256"}],name:"calculateTokenAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"",type:"bytes"}],name:"checkUpkeep",outputs:[{internalType:"bool",name:"upkeepNeeded",type:"bool"},{internalType:"bytes",name:"performData",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"string",name:"description",type:"string"},{internalType:"string",name:"uri",type:"string"}],name:"createToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"creatorTokens",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"emergencyWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"creator",type:"address"}],name:"getCreatorTokens",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"tokenAddress",type:"address"}],name:"getGraduationProgress",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"idx",type:"uint256"}],name:"getTokenAtIndex",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTokenCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"tokenAddress",type:"address"}],name:"graduateTokenManually",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"performData",type:"bytes"}],name:"performUpkeep",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"protocolFeeBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"tokenAmount",type:"uint256"}],name:"sellTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_router",type:"address"}],name:"setUniswapRouter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenList",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"tokens",outputs:[{internalType:"contract PumpFunToken",name:"token",type:"address"},{internalType:"address",name:"creator",type:"address"},{internalType:"uint256",name:"totalSupply",type:"uint256"},{internalType:"uint256",name:"virtualEthReserves",type:"uint256"},{internalType:"uint256",name:"virtualTokenReserves",type:"uint256"},{internalType:"uint256",name:"realEthReserves",type:"uint256"},{internalType:"uint256",name:"realTokenReserves",type:"uint256"},{internalType:"bool",name:"isActive",type:"bool"},{internalType:"bool",name:"liquidityAdded",type:"bool"},{internalType:"uint256",name:"graduationEth",type:"uint256"},{internalType:"uint256",name:"createdAt",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalTokensCreated",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"uniswapRouter",outputs:[{internalType:"contract IUniswapV2Router02",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"withdrawProtocolFees",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],yx=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"},{internalType:"string",name:"description_",type:"string"},{internalType:"string",name:"uri_",type:"string"},{internalType:"uint256",name:"initialSupply",type:"uint256"},{internalType:"address",name:"pumpFunContract_",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"value",type:"uint256"}],name:"TokenTraded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[],name:"description",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"pumpFunContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];function ra(){const r=Mo(),e=wh(r)||void 0;if(!e){const n={1:"ETHEREUM",8453:"BASE",42161:"ARBITRUM",84532:"BASE_SEPOLIA"}[r]||"UNKNOWN";throw new Error(`Factory address not configured for chain ${r} (${n}). Please set VITE_FACTORY_ADDRESS_${n} or VITE_${n}_FACTORY_ADDRESS in your .env file.`)}return e}function UA(r){const e=wh(r)||void 0;if(!e){const n={1:"ETHEREUM",8453:"BASE",42161:"ARBITRUM",84532:"BASE_SEPOLIA"}[r]||"UNKNOWN";throw new Error(`Factory address not configured for chain ${r} (${n}). Please set VITE_FACTORY_ADDRESS_${n} or VITE_${n}_FACTORY_ADDRESS in your .env file.`)}return e}async function $A(r,e,t){try{return await kx(hc,{address:r,abi:yx,functionName:"allowance",args:[e,t]})}catch(n){throw console.error("Error checking token allowance:",n),n}}function jA(){const{writeContractAsync:r}=_o(),{data:e,isLoading:t,isSuccess:n,isError:i,error:s}=Tx(),o=Sx(),a=ra(),c=Mo();return{createToken:async(u,d,h,g,b,y)=>{if(!o)throw new Error("Public client is not available");if(!a||a==="0x"||a==="0x0000000000000000000000000000000000000000")throw new Error(`Factory address not configured for chain ${c}. Please set VITE_FACTORY_ADDRESS or VITE_FACTORY_ADDRESS_${Hx(c)} in your .env file.`);try{let T;if(y==="ETH")T=await r({address:a,abi:ci,functionName:"createToken",args:[u,d,h,g],value:b});else{const z={DAI:"0x6B175474E89094C44Da98b954EedeAC495271d0F",USDC:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",USDT:"0xdac17f958d2ee523a2206206994597c13d831ec7"}[y];T=await Mx(hc,{address:a,abi:ci,functionName:"launchWithAsset",args:[u,d,b,z]})}console.log("Token creation transaction sent. Hash:",T),console.log("Waiting for transaction confirmation...");let w=null,_=0;const P=30;for(;!w&&_<P;){if(n&&e){w=e;break}if(i)throw console.error("Transaction failed:",s==null?void 0:s.message),new Error("Transaction failed: "+(s==null?void 0:s.message));try{if(w=await _x(hc,{hash:T,timeout:12e4}),w){console.log("Transaction receipt received:",w);break}}catch(V){if(V!=null&&V.receipt){w=V.receipt;break}console.log("Error fetching receipt, will retry:",V)}await new Promise(V=>setTimeout(V,3e3)),_++,console.log(`Still waiting for confirmation... Attempt ${_}/${P}`)}if(!w)throw console.error("Transaction confirmation timeout"),new Error("Transaction confirmation timeout");console.log("Transaction confirmed. Receipt:",w);let D,I;const B=w.logs.filter(V=>{var z;return((z=V.address)==null?void 0:z.toLowerCase())===a.toLowerCase()});console.log("Factory logs found:",B.length);for(const V of B)try{const z=vf({abi:ci,data:V.data,topics:V.topics});if(console.log("Decoded log:",z),z.eventName==="TokenCreated"&&z.args){D=z.args.tokenAddress,I=z.args.creator,console.log("Token created successfully. Address:",D,"Creator:",I);break}}catch{console.log("Log is not TokenCreated event, continuing...")}if(D&&I)return{tokenAddress:D,creator:I,name:u,symbol:d};console.warn("TokenCreated event not found in factory logs, searching all logs..."),console.warn("Transaction hash:",T),console.warn("Receipt status:",w.status),console.warn("Total logs:",w.logs.length);for(const V of w.logs)try{const z=vf({abi:ci,data:V.data,topics:V.topics});if((z==null?void 0:z.eventName)==="TokenCreated"&&(z!=null&&z.args)&&(console.log("Found TokenCreated event in all logs:",z),z.args.tokenAddress))return{tokenAddress:z.args.tokenAddress,creator:z.args.creator||w.from,name:u,symbol:d}}catch{}throw new Error(`TokenCreated event not found in transaction logs, but transaction succeeded. Transaction hash: ${T}. Please check the transaction on the block explorer.`)}catch(T){throw T instanceof wf,T}},isLoading:t||n===!1,UserRejectedRequestError:wf}}function VA(r){const{writeContractAsync:e,data:t,error:n,isPending:i}=_o(),s=ra();return{buyTokens:async(a,c)=>{try{return await e({address:s,abi:ci,functionName:"buyTokens",args:[a],value:c})}catch(l){throw console.error("Buy tokens error:",l),l}},data:t,error:n,isPending:i}}function HA(r){const{writeContractAsync:e,data:t,error:n,isPending:i}=_o(),s=ra();return{sellTokens:async(a,c)=>{try{return await e({address:s,abi:ci,functionName:"sellTokens",args:[a,c]})}catch(l){throw console.error("Sell tokens error:",l),l}},data:t,error:n,isPending:i}}function KA(){const{writeContractAsync:r,data:e,error:t,isPending:n}=_o(),i=ra();return{approveTokens:async o=>{try{return await r({address:o,abi:yx,functionName:"approve",args:[i,Nx]})}catch(a){throw console.error("Approve tokens error:",a),a}},data:e,error:t,isPending:n}}const GA=(r,e=18)=>{const t=parseFloat(Cx(BigInt(r),e)),n=(i,s)=>{const o=i.toFixed(s);return parseFloat(o).toString()};if(t>=1e12)return`${n(t/1e12,2)}T`;if(t>=1e9)return`${n(t/1e9,2)}B`;if(t>=1e6)return`${n(t/1e6,2)}M`;if(t>=1e3)return`${n(t/1e3,2)}k`;if(t>=1)return n(t,2);{const i=Math.min(6,Math.max(2,3-Math.floor(Math.log10(t))));return n(t,i)}};function zA(r){if(!r)return"Unknown";const e=new Date,t=new Date(r);if(isNaN(t.getTime()))return"Invalid date";const n=Math.floor((e.getTime()-t.getTime())/1e3);if(n<0)return"Just now";const i=n%60,s=Math.floor(n/60%60),o=Math.floor(n/3600%24),a=Math.floor(n/86400%30),c=Math.floor(n/(86400*30)%12),l=Math.floor(n/(86400*365));let u="",d=0;return l>0&&d<2&&(u+=`${l}yr `,d++),c>0&&d<2&&(u+=`${c}mo `,d++),a>0&&d<2&&(u+=`${a}d `,d++),o>0&&d<2&&(u+=`${o}h `,d++),s>0&&d<2&&(u+=`${s}m `,d++),i>0&&d===0&&(u+=`${i}s `),u.trim()===""?"Just now":u.trim()+" ago"}function qA(r){const e=new Date,t=new Date(r),n=Math.floor((e.getTime()-t.getTime())/1e3);if(n<60)return`${n}s`;const i=Math.floor(n/60);if(i<60)return`${i}m`;const s=Math.floor(i/60);if(s<24)return`${s}hr`;const o=Math.floor(s/24);if(o<30)return`${o}d`;const a=Math.floor(o/30);return a<12?`${a}mo`:`${Math.floor(a/12)}yr`}function WA(r){return`${r.slice(-6)}`}function _A(r){return r.slice(2,8)}const NA=({userAddress:r,userEmail:e,userAvatar:t,username:n})=>{const[i,s]=fe.useState(!1),o=fe.useRef(null),{logout:a}=hi(),{disconnect:c}=bh(),l=yh(),{address:u}=el(),d=Mo(),{user:h}=hi(),g=r||u,b=fe.useMemo(()=>{var B;return n||h!=null&&h.username?n||(h==null?void 0:h.username)||"Account":h!=null&&h.email||e?((B=(h==null?void 0:h.email)||e)==null?void 0:B.split("@")[0])||"Account":g?_A(g):"Account"},[n,h==null?void 0:h.username,h==null?void 0:h.email,e,g]),[y,T]=fe.useState(!1);fe.useEffect(()=>{const B=V=>{o.current&&!o.current.contains(V.target)&&s(!1)};return i&&document.addEventListener("mousedown",B),()=>{document.removeEventListener("mousedown",B)}},[i]);const w=fe.useCallback((B,V)=>({[Ix.id]:`https://etherscan.io/address/${B}`,[Bx.id]:`https://basescan.org/address/${B}`,[Px.id]:`https://sepolia.basescan.org/address/${B}`,[Rx.id]:`https://arbiscan.io/address/${B}`})[V]||`https://etherscan.io/address/${B}`,[]),_=fe.useCallback(async()=>{if(g)try{await navigator.clipboard.writeText(g),T(!0),Pt.success("Address copied to clipboard!",{style:{background:"var(--card)",color:"var(--text-primary)",border:"1px solid var(--primary)"}}),setTimeout(()=>T(!1),2e3),s(!1)}catch{Pt.error("Failed to copy address")}},[g]),P=fe.useCallback(()=>{if(g){const B=w(g,d);window.open(B,"_blank"),s(!1)}},[g,d,w]),D=fe.useCallback(()=>{g&&(l(`/profile/${g}`),s(!1))},[g,l]),I=fe.useCallback(()=>{a(),c(),Pt.success("Signed out successfully",{style:{background:"var(--card)",color:"var(--text-primary)",border:"1px solid var(--primary)"}}),s(!1)},[a,c]);return W.jsxs("div",{className:"relative",ref:o,children:[W.jsxs("button",{onClick:()=>s(!i),className:`relative flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-300\r
                   bg-gradient-to-br from-gray-800/50 to-gray-900/50 backdrop-blur-sm border border-gray-700\r
                   hover:border-[var(--primary)] hover:shadow-[0_0_10px_rgba(0,243,255,0.3)] \r
                   disabled:opacity-50 disabled:cursor-not-allowed group`,style:{boxShadow:i?"0 0 8px var(--primary)":"none"},children:[t?W.jsx("img",{src:t,alt:"Profile",className:"w-5 h-5 sm:w-6 sm:h-6 rounded-full border border-[var(--primary)] shadow-[0_0_8px_rgba(0,243,255,0.4)]"}):W.jsx("div",{className:`w-5 h-5 sm:w-6 sm:h-6 rounded-full bg-gradient-to-br from-[var(--primary)] to-[var(--accent-purple)] \r
                         flex items-center justify-center border border-[var(--primary)] shadow-[0_0_8px_rgba(0,243,255,0.4)]`,children:W.jsx(ya,{className:"w-3 h-3 sm:w-4 sm:h-4 text-black"})}),W.jsx("span",{className:"hidden sm:inline text-white group-hover:text-[var(--primary)] transition-colors duration-200",children:b}),W.jsx("span",{className:"sm:hidden text-white group-hover:text-[var(--primary)] transition-colors duration-200",children:b}),W.jsx(Gs,{className:`w-4 h-4 text-gray-400 group-hover:text-[var(--primary)] transition-all duration-300 ${i?"rotate-180":""}`})]}),W.jsx(al,{children:i&&W.jsxs(W.Fragment,{children:[W.jsx(er.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>s(!1),className:"fixed inset-0 z-10 bg-black/20 backdrop-blur-sm"}),W.jsxs(er.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:`absolute right-0 mt-2 w-64 bg-gradient-to-br from-gray-900/95 to-gray-800/95 backdrop-blur-md\r
                         border border-gray-700 rounded-xl shadow-xl z-20 overflow-hidden`,style:{boxShadow:"0 0 20px rgba(0, 243, 255, 0.2), 0 8px 32px rgba(0, 0, 0, 0.4)",minWidth:"240px"},children:[g&&W.jsx("div",{className:"px-4 py-3 border-b border-gray-700/50 bg-gradient-to-r from-[var(--primary)]/10 to-transparent",children:W.jsxs("div",{className:"flex items-center gap-3",children:[t?W.jsx("img",{src:t,alt:"Profile",className:"w-10 h-10 rounded-full border-2 border-[var(--primary)] shadow-[0_0_12px_rgba(0,243,255,0.5)]"}):W.jsx("div",{className:`w-10 h-10 rounded-full bg-gradient-to-br from-[var(--primary)] to-[var(--accent-purple)] \r
                                     flex items-center justify-center border-2 border-[var(--primary)] shadow-[0_0_12px_rgba(0,243,255,0.5)]`,children:W.jsx(ya,{className:"w-6 h-6 text-black"})}),W.jsxs("div",{className:"flex-1 min-w-0",children:[W.jsx("p",{className:"text-sm font-semibold text-white truncate",children:n||(h==null?void 0:h.username)||(e==null?void 0:e.split("@")[0])||"User"}),W.jsx("p",{className:"text-xs text-gray-400 font-mono truncate",children:g})]})]})}),W.jsxs("div",{className:"py-2",children:[W.jsxs(er.button,{whileHover:{x:4},whileTap:{scale:.98},onClick:D,className:`w-full flex items-center justify-between gap-3 px-4 py-3 text-sm text-gray-300 \r
                             hover:text-white hover:bg-gradient-to-r hover:from-[var(--primary)]/20 hover:to-transparent \r
                             transition-all duration-200 group/item`,children:[W.jsxs("div",{className:"flex items-center gap-3",children:[W.jsx("div",{className:`p-1.5 rounded-lg bg-[var(--primary)]/10 group-hover/item:bg-[var(--primary)]/20 \r
                                  transition-colors duration-200`,children:W.jsx(ya,{className:"w-4 h-4 text-[var(--primary)]"})}),W.jsx("span",{className:"font-medium",children:"Profile"})]}),W.jsx(Gs,{className:"w-4 h-4 text-gray-500 opacity-0 group-hover/item:opacity-100 rotate-[-90deg] transition-all duration-200"})]}),g&&W.jsxs(er.button,{whileHover:{x:4},whileTap:{scale:.98},onClick:P,className:`w-full flex items-center justify-between gap-3 px-4 py-3 text-sm text-gray-300 \r
                               hover:text-white hover:bg-gradient-to-r hover:from-[var(--primary)]/20 hover:to-transparent \r
                               transition-all duration-200 group/item`,children:[W.jsxs("div",{className:"flex items-center gap-3",children:[W.jsx("div",{className:`p-1.5 rounded-lg bg-[var(--primary)]/10 group-hover/item:bg-[var(--primary)]/20 \r
                                    transition-colors duration-200`,children:W.jsx(cg,{className:"w-4 h-4 text-[var(--primary)]"})}),W.jsx("span",{className:"font-medium",children:"View Wallet"})]}),W.jsx(Zx,{className:"w-4 h-4 text-gray-500 opacity-0 group-hover/item:opacity-100 transition-all duration-200"})]}),g&&W.jsxs(er.button,{whileHover:{x:4},whileTap:{scale:.98},onClick:_,className:`w-full flex items-center justify-between gap-3 px-4 py-3 text-sm text-gray-300 \r
                               hover:text-white hover:bg-gradient-to-r hover:from-[var(--primary)]/20 hover:to-transparent \r
                               transition-all duration-200 group/item`,children:[W.jsxs("div",{className:"flex items-center gap-3",children:[W.jsx("div",{className:`p-1.5 rounded-lg bg-[var(--primary)]/10 group-hover/item:bg-[var(--primary)]/20 \r
                                    transition-colors duration-200`,children:y?W.jsx(Ah,{className:"w-4 h-4 text-[var(--accent-green)]"}):W.jsx(sg,{className:"w-4 h-4 text-[var(--primary)]"})}),W.jsx("span",{className:"font-medium",children:y?"Copied!":"Copy Address"})]}),y&&W.jsx(er.div,{initial:{scale:0},animate:{scale:1},className:"w-2 h-2 rounded-full bg-[var(--accent-green)] shadow-[0_0_8px_rgba(16,185,129,0.6)]"})]}),W.jsx("div",{className:"border-t border-gray-700/50 my-2"}),W.jsxs(er.button,{whileHover:{x:4},whileTap:{scale:.98},onClick:I,className:`w-full flex items-center justify-between gap-3 px-4 py-3 text-sm text-red-400 \r
                             hover:text-red-300 hover:bg-gradient-to-r hover:from-red-500/20 hover:to-transparent \r
                             transition-all duration-200 group/item`,children:[W.jsxs("div",{className:"flex items-center gap-3",children:[W.jsx("div",{className:`p-1.5 rounded-lg bg-red-500/10 group-hover/item:bg-red-500/20 \r
                                  transition-colors duration-200`,children:W.jsx(Xx,{className:"w-4 h-4 text-red-400"})}),W.jsx("span",{className:"font-medium",children:"Log out"})]}),W.jsx(Gs,{className:"w-4 h-4 text-red-500/50 opacity-0 group-hover/item:opacity-100 rotate-[-90deg] transition-all duration-200"})]})]})]})]})})]})},uc="preferred_chain_id",mh={1:{primary:"#627EEA",glow:"rgba(98, 126, 234, 0.5)"},8453:{primary:"#0052FF",glow:"rgba(0, 82, 255, 0.5)"},42161:{primary:"#28A0F0",glow:"rgba(40, 160, 240, 0.5)"},84532:{primary:"#0052FF",glow:"rgba(0, 82, 255, 0.4)"}},xh=()=>{const r=Mo(),{switchChain:e,isPending:t}=Ox(),[n,i]=fe.useState(!1),s=fe.useRef(null),[o,a]=fe.useState(!1),c=fe.useMemo(()=>{const h=ga.find(g=>g.id===r);return h?Af[r]||h.name:"Unknown"},[r]),l=fe.useMemo(()=>Ef[r]||null,[r]),u=fe.useMemo(()=>mh[r]||{primary:"var(--primary)",glow:"rgba(0, 243, 255, 0.5)"},[r]);fe.useEffect(()=>{if(!o)try{const h=localStorage.getItem(uc);if(h){const g=parseInt(h,10);if(ga.some(y=>y.id===g)&&g!==r)try{e({chainId:g})}catch(y){console.error("Failed to restore preferred chain:",y),localStorage.removeItem(uc)}}a(!0)}catch(h){console.error("Error restoring preferred chain:",h),a(!0)}},[r,e,o]),fe.useEffect(()=>{const h=g=>{s.current&&!s.current.contains(g.target)&&i(!1)};return n&&document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[n]);const d=fe.useCallback(async h=>{if(h===r){i(!1);return}try{await e({chainId:h});try{localStorage.setItem(uc,h.toString())}catch(g){console.warn("Failed to save preferred chain to localStorage:",g)}i(!1)}catch(g){console.error("Failed to switch chain:",g)}},[r,e]);return W.jsxs("div",{className:"relative",ref:s,children:[W.jsxs("button",{onClick:()=>i(!n),disabled:t,className:"flex items-center justify-center gap-2 glass border border-[var(--card-boarder)] hover:border-[var(--primary)] text-white px-3 md:px-4 py-2 rounded-lg text-xs md:text-sm font-semibold transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-[0_0_15px_rgba(0,243,255,0.3)] backdrop-blur-sm w-[120px] md:w-[175px]",style:{boxShadow:n?`0 0 15px ${u.glow}`:"none"},children:[l&&W.jsx(l,{size:20,className:"rounded-full",variant:"branded"}),W.jsx("span",{className:"hidden sm:inline",children:c}),W.jsx("span",{className:"sm:hidden text-xs",children:c.split(" ")[0]}),W.jsx(Gs,{className:`h-4 w-4 transition-transform duration-300 ${n?"rotate-180":""}`}),t&&W.jsx("div",{className:"loading-neon w-3 h-3 border-2 border-t-transparent"})]}),W.jsx(al,{children:n&&W.jsxs(W.Fragment,{children:[W.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)}),W.jsx(er.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute right-0 mt-2 w-56 bg-gradient-to-br from-gray-900/95 to-gray-800/95 backdrop-blur-md border border-gray-700 rounded-xl shadow-2xl z-50 overflow-hidden",children:W.jsx("div",{className:"py-1.5",children:ga.map((h,g)=>{const b=h.id===r,y=Af[h.id]||h.name,T=Ef[h.id],w=mh[h.id]||{primary:"var(--primary)",glow:"rgba(0, 243, 255, 0.3)"};return W.jsxs(er.button,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:g*.05},onClick:()=>d(h.id),disabled:t||b,className:`w-full flex items-center justify-between px-4 py-3 text-sm transition-all duration-300 relative overflow-hidden ${b?"bg-gradient-to-r from-[var(--primary)]/20 to-[var(--accent-purple)]/20 text-[var(--primary)]":"text-white hover:bg-[var(--card-hover)]"} ${t?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,style:{borderLeft:b?`3px solid ${w.primary}`:"3px solid transparent",boxShadow:b?`inset 0 0 20px ${w.glow}`:"none"},children:[W.jsxs("div",{className:"flex items-center gap-3",children:[T&&W.jsx("div",{style:{filter:b?`drop-shadow(0 0 8px ${w.primary})`:"none"},children:W.jsx(T,{size:24,className:"rounded-full",variant:"branded"})}),W.jsxs("div",{className:"flex flex-col items-start",children:[W.jsx("span",{className:"font-semibold",children:y}),W.jsxs("span",{className:"text-xs text-[var(--text-muted)]",children:["Chain ID: ",h.id]})]})]}),b&&W.jsx(er.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:30},children:W.jsx(Ah,{className:"h-5 w-5",style:{color:w.primary}})}),t&&!b&&W.jsx("div",{className:"loading-neon w-4 h-4 border-2 border-t-transparent"})]},h.id)})})})]})})]})},gh=()=>{const[r,e]=fe.useState(!1),{user:t,isAuthenticated:n}=hi(),{address:i}=el();return n?W.jsx(NA,{userAddress:(t==null?void 0:t.address)||i,userEmail:t==null?void 0:t.email,userAvatar:t==null?void 0:t.avatar,username:t==null?void 0:t.username}):W.jsxs(W.Fragment,{children:[W.jsx("button",{onClick:()=>e(!0),className:"btn-primary px-4 py-2 text-xs sm:text-sm font-semibold",children:"Connect"}),W.jsx(MA,{isOpen:r,onClose:()=>e(!1),onAuthSuccess:()=>e(!1)})]})},RA=()=>{const[r,e]=fe.useState(!1),[t,n]=fe.useState(!1),i=yh();return W.jsxs(W.Fragment,{children:[W.jsxs("nav",{className:"glass border-b border-[var(--card-boarder)] backdrop-blur-xl sticky top-0 z-50",children:[W.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:W.jsxs("div",{className:"flex justify-between items-center h-16 md:h-20",children:[W.jsxs("div",{className:"flex items-center space-x-4 md:space-x-8",children:[W.jsx(kn,{to:"/",className:"flex items-center text-2xl font-bold hover:opacity-80 transition-opacity",children:W.jsx("img",{src:"/logo/logo.svg",alt:"logo",width:250,height:250})}),W.jsx("div",{className:"hidden md:flex items-center space-x-4",children:W.jsx("button",{onClick:()=>n(!0),className:"px-4 py-2 rounded-full bg-gradient-to-r from-[var(--primary)] to-[var(--accent-purple)] text-black font-semibold text-sm hover:shadow-[0_0_15px_rgba(0,243,255,0.5)] transition-all duration-300 hover:scale-105",children:"How it works"})})]}),W.jsxs("div",{className:"hidden md:flex items-center space-x-3",children:[W.jsx(kn,{to:"https://t.me/bondx",target:"_blank",className:"rounded-lg hover:bg-[var(--card-hover)] border border-transparent transition-all duration-300 hover:shadow-[0_0_10px_rgba(0,243,255,0.3)]",children:W.jsx("img",{src:"/logo/telegram.svg",alt:"telegram",width:30,className:"opacity-80 hover:opacity-100 transition-opacity"})}),W.jsx(kn,{to:"https://x.com/bondx",target:"_blank",className:"rounded-lg hover:bg-[var(--card-hover)] border border-transparent transition-all duration-300 hover:shadow-[0_0_10px_rgba(0,243,255,0.3)]",children:W.jsx("img",{src:"/logo/twitter.svg",alt:"twitter",width:36,className:"opacity-80 hover:opacity-100 transition-opacity"})}),W.jsx("button",{onClick:()=>i("/create"),className:"btn-primary px-6 py-2.5 text-sm md:text-base font-semibold",children:"Launch Token"}),W.jsx(xh,{}),W.jsx(gh,{})]}),W.jsx("div",{className:"md:hidden flex items-center",children:W.jsx("button",{onClick:()=>e(!r),className:"p-2 rounded-lg text-[var(--primary)] hover:bg-[var(--card-hover)] border border-transparent hover:border-[var(--primary)] transition-all duration-300 focus:outline-none",children:r?W.jsx(io,{className:"h-6 w-6"}):W.jsx(tg,{className:"h-6 w-6"})})})]})}),r&&W.jsx("div",{className:"md:hidden bg-[var(--card2)] border-t border-[var(--card-boarder)] backdrop-blur-xl",children:W.jsxs("div",{className:"px-4 pt-4 pb-4 space-y-2",children:[W.jsx("button",{onClick:()=>{n(!0),e(!1)},className:"w-full px-4 py-2.5 rounded-lg bg-gradient-to-r from-[var(--primary)] to-[var(--accent-purple)] text-black font-semibold text-sm hover:shadow-[0_0_15px_rgba(0,243,255,0.5)] transition-all duration-300",children:"How it works"}),W.jsxs(kn,{to:"https://t.me/bondx_xyz",target:"_blank",className:"flex items-center px-4 py-2.5 text-[var(--text-secondary)] hover:text-white hover:bg-[var(--card-hover)] border border-transparent hover:border-[var(--primary)] rounded-lg transition-all duration-300 text-sm",onClick:()=>e(!1),children:[W.jsx(Vx,{className:"w-5 h-5 mr-2"}),"Telegram"]}),W.jsxs(kn,{to:"https://x.com/bondxxyz",target:"_blank",className:"flex items-center px-4 py-2.5 text-[var(--text-secondary)] hover:text-white hover:bg-[var(--card-hover)] border border-transparent hover:border-[var(--primary)] rounded-lg transition-all duration-300 text-sm",onClick:()=>e(!1),children:[W.jsx(io,{className:"w-5 h-5 mr-2"}),"X (Twitter)"]}),W.jsx("div",{className:"pt-4 pb-2 border-t border-[var(--card-boarder)]",children:W.jsxs("div",{className:"flex flex-col gap-3",children:[W.jsx("button",{onClick:()=>{i("/create"),e(!1)},className:"btn-primary w-full py-2.5 text-sm font-semibold",children:"Launch Token"}),W.jsx("div",{className:"w-full",children:W.jsx(xh,{})})]})}),W.jsx("div",{className:"pt-2",children:W.jsx(gh,{})})]})})]}),W.jsx(fg,{isVisible:t,onClose:()=>n(!1)})]})},PA=()=>W.jsx("footer",{className:"glass border-t border-[var(--card-boarder)] py-6 mt-auto backdrop-blur-xl",children:W.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:W.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[W.jsx("div",{className:"text-center sm:text-left",children:W.jsxs("p",{className:"text-[var(--text-secondary)] text-sm",children:[" ",new Date().getFullYear()," BondX. All rights reserved."]})}),W.jsxs("nav",{className:"flex items-center space-x-6",children:[W.jsx(kn,{to:"/about",className:"text-xs sm:text-sm text-[var(--text-secondary)] hover:text-[var(--primary)] transition-all duration-300 hover:shadow-[0_0_10px_rgba(0,243,255,0.3)]",children:"About"}),W.jsx(kn,{to:"/FAQ",className:"text-xs sm:text-sm text-[var(--text-secondary)] hover:text-[var(--primary)] transition-all duration-300 hover:shadow-[0_0_10px_rgba(0,243,255,0.3)]",children:"FAQ"})]})]})})}),YA=({children:r})=>W.jsxs("div",{className:"flex flex-col min-h-screen text-white relative overflow-x-hidden",children:[W.jsx(RA,{}),W.jsx("main",{className:"flex-grow w-full px-4 sm:px-6 lg:px-12 xl:px-24 py-6 md:py-8",children:r}),W.jsx(PA,{})]});export{al as A,Gs as F,fg as H,YA as L,zA as a,WA as b,qA as c,KA as d,$A as e,GA as f,UA as g,MA as h,ra as i,VA as j,HA as k,Qd as l,er as m,io as n,Ah as o,sg as p,_A as s,jA as u};
