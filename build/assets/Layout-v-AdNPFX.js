import{j as z,aD as mx,aE as xx,u as Zc,g as gx,aF as hh,aG as bx,aH as yx,o as wx,b as dh,i as vx,k as Ax,l as Ex,n as Tx,aI as Sx}from"./web3-vendor-BrCblzDw.js";import{d as _o,g as Ti,c as mt,r as le,a as kx,u as ph,L as Mn}from"./react-vendor-BTPJ9MfQ.js";import{u as pi,B as yt,s as ga,f as yf,d as wf}from"./index-CEFNVjTf.js";var el={exports:{}};const Cx={},Mx=Object.freeze(Object.defineProperty({__proto__:null,default:Cx},Symbol.toStringTag,{value:"Module"})),mh=_o(Mx);el.exports;(function(r){(function(e,t){function n(N,p){if(!N)throw new Error(p||"Assertion failed")}function i(N,p){N.super_=p;var v=function(){};v.prototype=p.prototype,N.prototype=new v,N.prototype.constructor=N}function s(N,p,v){if(s.isBN(N))return N;this.negative=0,this.words=null,this.length=0,this.red=null,N!==null&&((p==="le"||p==="be")&&(v=p,p=10),this._init(N||0,p||10,v||"be"))}typeof e=="object"?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=mh.Buffer}catch{}s.isBN=function(p){return p instanceof s?!0:p!==null&&typeof p=="object"&&p.constructor.wordSize===s.wordSize&&Array.isArray(p.words)},s.max=function(p,v){return p.cmp(v)>0?p:v},s.min=function(p,v){return p.cmp(v)<0?p:v},s.prototype._init=function(p,v,C){if(typeof p=="number")return this._initNumber(p,v,C);if(typeof p=="object")return this._initArray(p,v,C);v==="hex"&&(v=16),n(v===(v|0)&&v>=2&&v<=36),p=p.toString().replace(/\s+/g,"");var B=0;p[0]==="-"&&(B++,this.negative=1),B<p.length&&(v===16?this._parseHex(p,B,C):(this._parseBase(p,v,B),C==="le"&&this._initArray(this.toArray(),v,C)))},s.prototype._initNumber=function(p,v,C){p<0&&(this.negative=1,p=-p),p<67108864?(this.words=[p&67108863],this.length=1):p<4503599627370496?(this.words=[p&67108863,p/67108864&67108863],this.length=2):(n(p<9007199254740992),this.words=[p&67108863,p/67108864&67108863,1],this.length=3),C==="le"&&this._initArray(this.toArray(),v,C)},s.prototype._initArray=function(p,v,C){if(n(typeof p.length=="number"),p.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(p.length/3),this.words=new Array(this.length);for(var B=0;B<this.length;B++)this.words[B]=0;var O,G,V=0;if(C==="be")for(B=p.length-1,O=0;B>=0;B-=3)G=p[B]|p[B-1]<<8|p[B-2]<<16,this.words[O]|=G<<V&67108863,this.words[O+1]=G>>>26-V&67108863,V+=24,V>=26&&(V-=26,O++);else if(C==="le")for(B=0,O=0;B<p.length;B+=3)G=p[B]|p[B+1]<<8|p[B+2]<<16,this.words[O]|=G<<V&67108863,this.words[O+1]=G>>>26-V&67108863,V+=24,V>=26&&(V-=26,O++);return this._strip()};function a(N,p){var v=N.charCodeAt(p);if(v>=48&&v<=57)return v-48;if(v>=65&&v<=70)return v-55;if(v>=97&&v<=102)return v-87;n(!1,"Invalid character in "+N)}function c(N,p,v){var C=a(N,v);return v-1>=p&&(C|=a(N,v-1)<<4),C}s.prototype._parseHex=function(p,v,C){this.length=Math.ceil((p.length-v)/6),this.words=new Array(this.length);for(var B=0;B<this.length;B++)this.words[B]=0;var O=0,G=0,V;if(C==="be")for(B=p.length-1;B>=v;B-=2)V=c(p,v,B)<<O,this.words[G]|=V&67108863,O>=18?(O-=18,G+=1,this.words[G]|=V>>>26):O+=8;else{var k=p.length-v;for(B=k%2===0?v+1:v;B<p.length;B+=2)V=c(p,v,B)<<O,this.words[G]|=V&67108863,O>=18?(O-=18,G+=1,this.words[G]|=V>>>26):O+=8}this._strip()};function l(N,p,v,C){for(var B=0,O=0,G=Math.min(N.length,v),V=p;V<G;V++){var k=N.charCodeAt(V)-48;B*=C,k>=49?O=k-49+10:k>=17?O=k-17+10:O=k,n(k>=0&&O<C,"Invalid character"),B+=O}return B}s.prototype._parseBase=function(p,v,C){this.words=[0],this.length=1;for(var B=0,O=1;O<=67108863;O*=v)B++;B--,O=O/v|0;for(var G=p.length-C,V=G%B,k=Math.min(G,G-V)+C,m=0,S=C;S<k;S+=B)m=l(p,S,S+B,v),this.imuln(O),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m);if(V!==0){var W=1;for(m=l(p,S,p.length,v),S=0;S<V;S++)W*=v;this.imuln(W),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m)}this._strip()},s.prototype.copy=function(p){p.words=new Array(this.length);for(var v=0;v<this.length;v++)p.words[v]=this.words[v];p.length=this.length,p.negative=this.negative,p.red=this.red};function u(N,p){N.words=p.words,N.length=p.length,N.negative=p.negative,N.red=p.red}if(s.prototype._move=function(p){u(p,this)},s.prototype.clone=function(){var p=new s(null);return this.copy(p),p},s.prototype._expand=function(p){for(;this.length<p;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch{s.prototype.inspect=d}else s.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(p,v){p=p||10,v=v|0||1;var C;if(p===16||p==="hex"){C="";for(var B=0,O=0,G=0;G<this.length;G++){var V=this.words[G],k=((V<<B|O)&16777215).toString(16);O=V>>>24-B&16777215,B+=2,B>=26&&(B-=26,G--),O!==0||G!==this.length-1?C=h[6-k.length]+k+C:C=k+C}for(O!==0&&(C=O.toString(16)+C);C.length%v!==0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}if(p===(p|0)&&p>=2&&p<=36){var m=g[p],S=b[p];C="";var W=this.clone();for(W.negative=0;!W.isZero();){var T=W.modrn(S).toString(p);W=W.idivn(S),W.isZero()?C=T+C:C=h[m-T.length]+T+C}for(this.isZero()&&(C="0"+C);C.length%v!==0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var p=this.words[0];return this.length===2?p+=this.words[1]*67108864:this.length===3&&this.words[2]===1?p+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-p:p},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(p,v){return this.toArrayLike(o,p,v)}),s.prototype.toArray=function(p,v){return this.toArrayLike(Array,p,v)};var y=function(p,v){return p.allocUnsafe?p.allocUnsafe(v):new p(v)};s.prototype.toArrayLike=function(p,v,C){this._strip();var B=this.byteLength(),O=C||Math.max(1,B);n(B<=O,"byte array longer than desired length"),n(O>0,"Requested array length <= 0");var G=y(p,O),V=v==="le"?"LE":"BE";return this["_toArrayLike"+V](G,B),G},s.prototype._toArrayLikeLE=function(p,v){for(var C=0,B=0,O=0,G=0;O<this.length;O++){var V=this.words[O]<<G|B;p[C++]=V&255,C<p.length&&(p[C++]=V>>8&255),C<p.length&&(p[C++]=V>>16&255),G===6?(C<p.length&&(p[C++]=V>>24&255),B=0,G=0):(B=V>>>24,G+=2)}if(C<p.length)for(p[C++]=B;C<p.length;)p[C++]=0},s.prototype._toArrayLikeBE=function(p,v){for(var C=p.length-1,B=0,O=0,G=0;O<this.length;O++){var V=this.words[O]<<G|B;p[C--]=V&255,C>=0&&(p[C--]=V>>8&255),C>=0&&(p[C--]=V>>16&255),G===6?(C>=0&&(p[C--]=V>>24&255),B=0,G=0):(B=V>>>24,G+=2)}if(C>=0)for(p[C--]=B;C>=0;)p[C--]=0},Math.clz32?s.prototype._countBits=function(p){return 32-Math.clz32(p)}:s.prototype._countBits=function(p){var v=p,C=0;return v>=4096&&(C+=13,v>>>=13),v>=64&&(C+=7,v>>>=7),v>=8&&(C+=4,v>>>=4),v>=2&&(C+=2,v>>>=2),C+v},s.prototype._zeroBits=function(p){if(p===0)return 26;var v=p,C=0;return v&8191||(C+=13,v>>>=13),v&127||(C+=7,v>>>=7),v&15||(C+=4,v>>>=4),v&3||(C+=2,v>>>=2),v&1||C++,C},s.prototype.bitLength=function(){var p=this.words[this.length-1],v=this._countBits(p);return(this.length-1)*26+v};function E(N){for(var p=new Array(N.bitLength()),v=0;v<p.length;v++){var C=v/26|0,B=v%26;p[v]=N.words[C]>>>B&1}return p}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var p=0,v=0;v<this.length;v++){var C=this._zeroBits(this.words[v]);if(p+=C,C!==26)break}return p},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(p){return this.negative!==0?this.abs().inotn(p).iaddn(1):this.clone()},s.prototype.fromTwos=function(p){return this.testn(p-1)?this.notn(p).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(p){for(;this.length<p.length;)this.words[this.length++]=0;for(var v=0;v<p.length;v++)this.words[v]=this.words[v]|p.words[v];return this._strip()},s.prototype.ior=function(p){return n((this.negative|p.negative)===0),this.iuor(p)},s.prototype.or=function(p){return this.length>p.length?this.clone().ior(p):p.clone().ior(this)},s.prototype.uor=function(p){return this.length>p.length?this.clone().iuor(p):p.clone().iuor(this)},s.prototype.iuand=function(p){var v;this.length>p.length?v=p:v=this;for(var C=0;C<v.length;C++)this.words[C]=this.words[C]&p.words[C];return this.length=v.length,this._strip()},s.prototype.iand=function(p){return n((this.negative|p.negative)===0),this.iuand(p)},s.prototype.and=function(p){return this.length>p.length?this.clone().iand(p):p.clone().iand(this)},s.prototype.uand=function(p){return this.length>p.length?this.clone().iuand(p):p.clone().iuand(this)},s.prototype.iuxor=function(p){var v,C;this.length>p.length?(v=this,C=p):(v=p,C=this);for(var B=0;B<C.length;B++)this.words[B]=v.words[B]^C.words[B];if(this!==v)for(;B<v.length;B++)this.words[B]=v.words[B];return this.length=v.length,this._strip()},s.prototype.ixor=function(p){return n((this.negative|p.negative)===0),this.iuxor(p)},s.prototype.xor=function(p){return this.length>p.length?this.clone().ixor(p):p.clone().ixor(this)},s.prototype.uxor=function(p){return this.length>p.length?this.clone().iuxor(p):p.clone().iuxor(this)},s.prototype.inotn=function(p){n(typeof p=="number"&&p>=0);var v=Math.ceil(p/26)|0,C=p%26;this._expand(v),C>0&&v--;for(var B=0;B<v;B++)this.words[B]=~this.words[B]&67108863;return C>0&&(this.words[B]=~this.words[B]&67108863>>26-C),this._strip()},s.prototype.notn=function(p){return this.clone().inotn(p)},s.prototype.setn=function(p,v){n(typeof p=="number"&&p>=0);var C=p/26|0,B=p%26;return this._expand(C+1),v?this.words[C]=this.words[C]|1<<B:this.words[C]=this.words[C]&~(1<<B),this._strip()},s.prototype.iadd=function(p){var v;if(this.negative!==0&&p.negative===0)return this.negative=0,v=this.isub(p),this.negative^=1,this._normSign();if(this.negative===0&&p.negative!==0)return p.negative=0,v=this.isub(p),p.negative=1,v._normSign();var C,B;this.length>p.length?(C=this,B=p):(C=p,B=this);for(var O=0,G=0;G<B.length;G++)v=(C.words[G]|0)+(B.words[G]|0)+O,this.words[G]=v&67108863,O=v>>>26;for(;O!==0&&G<C.length;G++)v=(C.words[G]|0)+O,this.words[G]=v&67108863,O=v>>>26;if(this.length=C.length,O!==0)this.words[this.length]=O,this.length++;else if(C!==this)for(;G<C.length;G++)this.words[G]=C.words[G];return this},s.prototype.add=function(p){var v;return p.negative!==0&&this.negative===0?(p.negative=0,v=this.sub(p),p.negative^=1,v):p.negative===0&&this.negative!==0?(this.negative=0,v=p.sub(this),this.negative=1,v):this.length>p.length?this.clone().iadd(p):p.clone().iadd(this)},s.prototype.isub=function(p){if(p.negative!==0){p.negative=0;var v=this.iadd(p);return p.negative=1,v._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(p),this.negative=1,this._normSign();var C=this.cmp(p);if(C===0)return this.negative=0,this.length=1,this.words[0]=0,this;var B,O;C>0?(B=this,O=p):(B=p,O=this);for(var G=0,V=0;V<O.length;V++)v=(B.words[V]|0)-(O.words[V]|0)+G,G=v>>26,this.words[V]=v&67108863;for(;G!==0&&V<B.length;V++)v=(B.words[V]|0)+G,G=v>>26,this.words[V]=v&67108863;if(G===0&&V<B.length&&B!==this)for(;V<B.length;V++)this.words[V]=B.words[V];return this.length=Math.max(this.length,V),B!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(p){return this.clone().isub(p)};function w(N,p,v){v.negative=p.negative^N.negative;var C=N.length+p.length|0;v.length=C,C=C-1|0;var B=N.words[0]|0,O=p.words[0]|0,G=B*O,V=G&67108863,k=G/67108864|0;v.words[0]=V;for(var m=1;m<C;m++){for(var S=k>>>26,W=k&67108863,T=Math.min(m,p.length-1),X=Math.max(0,m-N.length+1);X<=T;X++){var oe=m-X|0;B=N.words[oe]|0,O=p.words[X]|0,G=B*O+W,S+=G/67108864|0,W=G&67108863}v.words[m]=W|0,k=S|0}return k!==0?v.words[m]=k|0:v.length--,v._strip()}var _=function(p,v,C){var B=p.words,O=v.words,G=C.words,V=0,k,m,S,W=B[0]|0,T=W&8191,X=W>>>13,oe=B[1]|0,D=oe&8191,$=oe>>>13,H=B[2]|0,ee=H&8191,ae=H>>>13,be=B[3]|0,he=be&8191,ie=be>>>13,de=B[4]|0,re=de&8191,ue=de>>>13,j=B[5]|0,se=j&8191,ye=j>>>13,ve=B[6]|0,Se=ve&8191,Le=ve>>>13,xt=B[7]|0,ne=xt&8191,A=xt>>>13,f=B[8]|0,x=f&8191,M=f>>>13,I=B[9]|0,K=I&8191,te=I>>>13,Ae=O[0]|0,we=Ae&8191,ge=Ae>>>13,ke=O[1]|0,Te=ke&8191,$e=ke>>>13,gn=O[2]|0,ze=gn&8191,qe=gn>>>13,bn=O[3]|0,We=bn&8191,Ye=bn>>>13,yn=O[4]|0,Je=yn&8191,Xe=yn>>>13,wn=O[5]|0,Qe=wn&8191,Ze=wn>>>13,vn=O[6]|0,et=vn&8191,tt=vn>>>13,An=O[7]|0,rt=An&8191,nt=An>>>13,En=O[8]|0,it=En&8191,st=En>>>13,Tn=O[9]|0,ot=Tn&8191,at=Tn>>>13;C.negative=p.negative^v.negative,C.length=19,k=Math.imul(T,we),m=Math.imul(T,ge),m=m+Math.imul(X,we)|0,S=Math.imul(X,ge);var Wr=(V+k|0)+((m&8191)<<13)|0;V=(S+(m>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,k=Math.imul(D,we),m=Math.imul(D,ge),m=m+Math.imul($,we)|0,S=Math.imul($,ge),k=k+Math.imul(T,Te)|0,m=m+Math.imul(T,$e)|0,m=m+Math.imul(X,Te)|0,S=S+Math.imul(X,$e)|0;var Yr=(V+k|0)+((m&8191)<<13)|0;V=(S+(m>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,k=Math.imul(ee,we),m=Math.imul(ee,ge),m=m+Math.imul(ae,we)|0,S=Math.imul(ae,ge),k=k+Math.imul(D,Te)|0,m=m+Math.imul(D,$e)|0,m=m+Math.imul($,Te)|0,S=S+Math.imul($,$e)|0,k=k+Math.imul(T,ze)|0,m=m+Math.imul(T,qe)|0,m=m+Math.imul(X,ze)|0,S=S+Math.imul(X,qe)|0;var Jr=(V+k|0)+((m&8191)<<13)|0;V=(S+(m>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,k=Math.imul(he,we),m=Math.imul(he,ge),m=m+Math.imul(ie,we)|0,S=Math.imul(ie,ge),k=k+Math.imul(ee,Te)|0,m=m+Math.imul(ee,$e)|0,m=m+Math.imul(ae,Te)|0,S=S+Math.imul(ae,$e)|0,k=k+Math.imul(D,ze)|0,m=m+Math.imul(D,qe)|0,m=m+Math.imul($,ze)|0,S=S+Math.imul($,qe)|0,k=k+Math.imul(T,We)|0,m=m+Math.imul(T,Ye)|0,m=m+Math.imul(X,We)|0,S=S+Math.imul(X,Ye)|0;var Xr=(V+k|0)+((m&8191)<<13)|0;V=(S+(m>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,k=Math.imul(re,we),m=Math.imul(re,ge),m=m+Math.imul(ue,we)|0,S=Math.imul(ue,ge),k=k+Math.imul(he,Te)|0,m=m+Math.imul(he,$e)|0,m=m+Math.imul(ie,Te)|0,S=S+Math.imul(ie,$e)|0,k=k+Math.imul(ee,ze)|0,m=m+Math.imul(ee,qe)|0,m=m+Math.imul(ae,ze)|0,S=S+Math.imul(ae,qe)|0,k=k+Math.imul(D,We)|0,m=m+Math.imul(D,Ye)|0,m=m+Math.imul($,We)|0,S=S+Math.imul($,Ye)|0,k=k+Math.imul(T,Je)|0,m=m+Math.imul(T,Xe)|0,m=m+Math.imul(X,Je)|0,S=S+Math.imul(X,Xe)|0;var Qr=(V+k|0)+((m&8191)<<13)|0;V=(S+(m>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,k=Math.imul(se,we),m=Math.imul(se,ge),m=m+Math.imul(ye,we)|0,S=Math.imul(ye,ge),k=k+Math.imul(re,Te)|0,m=m+Math.imul(re,$e)|0,m=m+Math.imul(ue,Te)|0,S=S+Math.imul(ue,$e)|0,k=k+Math.imul(he,ze)|0,m=m+Math.imul(he,qe)|0,m=m+Math.imul(ie,ze)|0,S=S+Math.imul(ie,qe)|0,k=k+Math.imul(ee,We)|0,m=m+Math.imul(ee,Ye)|0,m=m+Math.imul(ae,We)|0,S=S+Math.imul(ae,Ye)|0,k=k+Math.imul(D,Je)|0,m=m+Math.imul(D,Xe)|0,m=m+Math.imul($,Je)|0,S=S+Math.imul($,Xe)|0,k=k+Math.imul(T,Qe)|0,m=m+Math.imul(T,Ze)|0,m=m+Math.imul(X,Qe)|0,S=S+Math.imul(X,Ze)|0;var na=(V+k|0)+((m&8191)<<13)|0;V=(S+(m>>>13)|0)+(na>>>26)|0,na&=67108863,k=Math.imul(Se,we),m=Math.imul(Se,ge),m=m+Math.imul(Le,we)|0,S=Math.imul(Le,ge),k=k+Math.imul(se,Te)|0,m=m+Math.imul(se,$e)|0,m=m+Math.imul(ye,Te)|0,S=S+Math.imul(ye,$e)|0,k=k+Math.imul(re,ze)|0,m=m+Math.imul(re,qe)|0,m=m+Math.imul(ue,ze)|0,S=S+Math.imul(ue,qe)|0,k=k+Math.imul(he,We)|0,m=m+Math.imul(he,Ye)|0,m=m+Math.imul(ie,We)|0,S=S+Math.imul(ie,Ye)|0,k=k+Math.imul(ee,Je)|0,m=m+Math.imul(ee,Xe)|0,m=m+Math.imul(ae,Je)|0,S=S+Math.imul(ae,Xe)|0,k=k+Math.imul(D,Qe)|0,m=m+Math.imul(D,Ze)|0,m=m+Math.imul($,Qe)|0,S=S+Math.imul($,Ze)|0,k=k+Math.imul(T,et)|0,m=m+Math.imul(T,tt)|0,m=m+Math.imul(X,et)|0,S=S+Math.imul(X,tt)|0;var ia=(V+k|0)+((m&8191)<<13)|0;V=(S+(m>>>13)|0)+(ia>>>26)|0,ia&=67108863,k=Math.imul(ne,we),m=Math.imul(ne,ge),m=m+Math.imul(A,we)|0,S=Math.imul(A,ge),k=k+Math.imul(Se,Te)|0,m=m+Math.imul(Se,$e)|0,m=m+Math.imul(Le,Te)|0,S=S+Math.imul(Le,$e)|0,k=k+Math.imul(se,ze)|0,m=m+Math.imul(se,qe)|0,m=m+Math.imul(ye,ze)|0,S=S+Math.imul(ye,qe)|0,k=k+Math.imul(re,We)|0,m=m+Math.imul(re,Ye)|0,m=m+Math.imul(ue,We)|0,S=S+Math.imul(ue,Ye)|0,k=k+Math.imul(he,Je)|0,m=m+Math.imul(he,Xe)|0,m=m+Math.imul(ie,Je)|0,S=S+Math.imul(ie,Xe)|0,k=k+Math.imul(ee,Qe)|0,m=m+Math.imul(ee,Ze)|0,m=m+Math.imul(ae,Qe)|0,S=S+Math.imul(ae,Ze)|0,k=k+Math.imul(D,et)|0,m=m+Math.imul(D,tt)|0,m=m+Math.imul($,et)|0,S=S+Math.imul($,tt)|0,k=k+Math.imul(T,rt)|0,m=m+Math.imul(T,nt)|0,m=m+Math.imul(X,rt)|0,S=S+Math.imul(X,nt)|0;var sa=(V+k|0)+((m&8191)<<13)|0;V=(S+(m>>>13)|0)+(sa>>>26)|0,sa&=67108863,k=Math.imul(x,we),m=Math.imul(x,ge),m=m+Math.imul(M,we)|0,S=Math.imul(M,ge),k=k+Math.imul(ne,Te)|0,m=m+Math.imul(ne,$e)|0,m=m+Math.imul(A,Te)|0,S=S+Math.imul(A,$e)|0,k=k+Math.imul(Se,ze)|0,m=m+Math.imul(Se,qe)|0,m=m+Math.imul(Le,ze)|0,S=S+Math.imul(Le,qe)|0,k=k+Math.imul(se,We)|0,m=m+Math.imul(se,Ye)|0,m=m+Math.imul(ye,We)|0,S=S+Math.imul(ye,Ye)|0,k=k+Math.imul(re,Je)|0,m=m+Math.imul(re,Xe)|0,m=m+Math.imul(ue,Je)|0,S=S+Math.imul(ue,Xe)|0,k=k+Math.imul(he,Qe)|0,m=m+Math.imul(he,Ze)|0,m=m+Math.imul(ie,Qe)|0,S=S+Math.imul(ie,Ze)|0,k=k+Math.imul(ee,et)|0,m=m+Math.imul(ee,tt)|0,m=m+Math.imul(ae,et)|0,S=S+Math.imul(ae,tt)|0,k=k+Math.imul(D,rt)|0,m=m+Math.imul(D,nt)|0,m=m+Math.imul($,rt)|0,S=S+Math.imul($,nt)|0,k=k+Math.imul(T,it)|0,m=m+Math.imul(T,st)|0,m=m+Math.imul(X,it)|0,S=S+Math.imul(X,st)|0;var oa=(V+k|0)+((m&8191)<<13)|0;V=(S+(m>>>13)|0)+(oa>>>26)|0,oa&=67108863,k=Math.imul(K,we),m=Math.imul(K,ge),m=m+Math.imul(te,we)|0,S=Math.imul(te,ge),k=k+Math.imul(x,Te)|0,m=m+Math.imul(x,$e)|0,m=m+Math.imul(M,Te)|0,S=S+Math.imul(M,$e)|0,k=k+Math.imul(ne,ze)|0,m=m+Math.imul(ne,qe)|0,m=m+Math.imul(A,ze)|0,S=S+Math.imul(A,qe)|0,k=k+Math.imul(Se,We)|0,m=m+Math.imul(Se,Ye)|0,m=m+Math.imul(Le,We)|0,S=S+Math.imul(Le,Ye)|0,k=k+Math.imul(se,Je)|0,m=m+Math.imul(se,Xe)|0,m=m+Math.imul(ye,Je)|0,S=S+Math.imul(ye,Xe)|0,k=k+Math.imul(re,Qe)|0,m=m+Math.imul(re,Ze)|0,m=m+Math.imul(ue,Qe)|0,S=S+Math.imul(ue,Ze)|0,k=k+Math.imul(he,et)|0,m=m+Math.imul(he,tt)|0,m=m+Math.imul(ie,et)|0,S=S+Math.imul(ie,tt)|0,k=k+Math.imul(ee,rt)|0,m=m+Math.imul(ee,nt)|0,m=m+Math.imul(ae,rt)|0,S=S+Math.imul(ae,nt)|0,k=k+Math.imul(D,it)|0,m=m+Math.imul(D,st)|0,m=m+Math.imul($,it)|0,S=S+Math.imul($,st)|0,k=k+Math.imul(T,ot)|0,m=m+Math.imul(T,at)|0,m=m+Math.imul(X,ot)|0,S=S+Math.imul(X,at)|0;var aa=(V+k|0)+((m&8191)<<13)|0;V=(S+(m>>>13)|0)+(aa>>>26)|0,aa&=67108863,k=Math.imul(K,Te),m=Math.imul(K,$e),m=m+Math.imul(te,Te)|0,S=Math.imul(te,$e),k=k+Math.imul(x,ze)|0,m=m+Math.imul(x,qe)|0,m=m+Math.imul(M,ze)|0,S=S+Math.imul(M,qe)|0,k=k+Math.imul(ne,We)|0,m=m+Math.imul(ne,Ye)|0,m=m+Math.imul(A,We)|0,S=S+Math.imul(A,Ye)|0,k=k+Math.imul(Se,Je)|0,m=m+Math.imul(Se,Xe)|0,m=m+Math.imul(Le,Je)|0,S=S+Math.imul(Le,Xe)|0,k=k+Math.imul(se,Qe)|0,m=m+Math.imul(se,Ze)|0,m=m+Math.imul(ye,Qe)|0,S=S+Math.imul(ye,Ze)|0,k=k+Math.imul(re,et)|0,m=m+Math.imul(re,tt)|0,m=m+Math.imul(ue,et)|0,S=S+Math.imul(ue,tt)|0,k=k+Math.imul(he,rt)|0,m=m+Math.imul(he,nt)|0,m=m+Math.imul(ie,rt)|0,S=S+Math.imul(ie,nt)|0,k=k+Math.imul(ee,it)|0,m=m+Math.imul(ee,st)|0,m=m+Math.imul(ae,it)|0,S=S+Math.imul(ae,st)|0,k=k+Math.imul(D,ot)|0,m=m+Math.imul(D,at)|0,m=m+Math.imul($,ot)|0,S=S+Math.imul($,at)|0;var ca=(V+k|0)+((m&8191)<<13)|0;V=(S+(m>>>13)|0)+(ca>>>26)|0,ca&=67108863,k=Math.imul(K,ze),m=Math.imul(K,qe),m=m+Math.imul(te,ze)|0,S=Math.imul(te,qe),k=k+Math.imul(x,We)|0,m=m+Math.imul(x,Ye)|0,m=m+Math.imul(M,We)|0,S=S+Math.imul(M,Ye)|0,k=k+Math.imul(ne,Je)|0,m=m+Math.imul(ne,Xe)|0,m=m+Math.imul(A,Je)|0,S=S+Math.imul(A,Xe)|0,k=k+Math.imul(Se,Qe)|0,m=m+Math.imul(Se,Ze)|0,m=m+Math.imul(Le,Qe)|0,S=S+Math.imul(Le,Ze)|0,k=k+Math.imul(se,et)|0,m=m+Math.imul(se,tt)|0,m=m+Math.imul(ye,et)|0,S=S+Math.imul(ye,tt)|0,k=k+Math.imul(re,rt)|0,m=m+Math.imul(re,nt)|0,m=m+Math.imul(ue,rt)|0,S=S+Math.imul(ue,nt)|0,k=k+Math.imul(he,it)|0,m=m+Math.imul(he,st)|0,m=m+Math.imul(ie,it)|0,S=S+Math.imul(ie,st)|0,k=k+Math.imul(ee,ot)|0,m=m+Math.imul(ee,at)|0,m=m+Math.imul(ae,ot)|0,S=S+Math.imul(ae,at)|0;var la=(V+k|0)+((m&8191)<<13)|0;V=(S+(m>>>13)|0)+(la>>>26)|0,la&=67108863,k=Math.imul(K,We),m=Math.imul(K,Ye),m=m+Math.imul(te,We)|0,S=Math.imul(te,Ye),k=k+Math.imul(x,Je)|0,m=m+Math.imul(x,Xe)|0,m=m+Math.imul(M,Je)|0,S=S+Math.imul(M,Xe)|0,k=k+Math.imul(ne,Qe)|0,m=m+Math.imul(ne,Ze)|0,m=m+Math.imul(A,Qe)|0,S=S+Math.imul(A,Ze)|0,k=k+Math.imul(Se,et)|0,m=m+Math.imul(Se,tt)|0,m=m+Math.imul(Le,et)|0,S=S+Math.imul(Le,tt)|0,k=k+Math.imul(se,rt)|0,m=m+Math.imul(se,nt)|0,m=m+Math.imul(ye,rt)|0,S=S+Math.imul(ye,nt)|0,k=k+Math.imul(re,it)|0,m=m+Math.imul(re,st)|0,m=m+Math.imul(ue,it)|0,S=S+Math.imul(ue,st)|0,k=k+Math.imul(he,ot)|0,m=m+Math.imul(he,at)|0,m=m+Math.imul(ie,ot)|0,S=S+Math.imul(ie,at)|0;var fa=(V+k|0)+((m&8191)<<13)|0;V=(S+(m>>>13)|0)+(fa>>>26)|0,fa&=67108863,k=Math.imul(K,Je),m=Math.imul(K,Xe),m=m+Math.imul(te,Je)|0,S=Math.imul(te,Xe),k=k+Math.imul(x,Qe)|0,m=m+Math.imul(x,Ze)|0,m=m+Math.imul(M,Qe)|0,S=S+Math.imul(M,Ze)|0,k=k+Math.imul(ne,et)|0,m=m+Math.imul(ne,tt)|0,m=m+Math.imul(A,et)|0,S=S+Math.imul(A,tt)|0,k=k+Math.imul(Se,rt)|0,m=m+Math.imul(Se,nt)|0,m=m+Math.imul(Le,rt)|0,S=S+Math.imul(Le,nt)|0,k=k+Math.imul(se,it)|0,m=m+Math.imul(se,st)|0,m=m+Math.imul(ye,it)|0,S=S+Math.imul(ye,st)|0,k=k+Math.imul(re,ot)|0,m=m+Math.imul(re,at)|0,m=m+Math.imul(ue,ot)|0,S=S+Math.imul(ue,at)|0;var ua=(V+k|0)+((m&8191)<<13)|0;V=(S+(m>>>13)|0)+(ua>>>26)|0,ua&=67108863,k=Math.imul(K,Qe),m=Math.imul(K,Ze),m=m+Math.imul(te,Qe)|0,S=Math.imul(te,Ze),k=k+Math.imul(x,et)|0,m=m+Math.imul(x,tt)|0,m=m+Math.imul(M,et)|0,S=S+Math.imul(M,tt)|0,k=k+Math.imul(ne,rt)|0,m=m+Math.imul(ne,nt)|0,m=m+Math.imul(A,rt)|0,S=S+Math.imul(A,nt)|0,k=k+Math.imul(Se,it)|0,m=m+Math.imul(Se,st)|0,m=m+Math.imul(Le,it)|0,S=S+Math.imul(Le,st)|0,k=k+Math.imul(se,ot)|0,m=m+Math.imul(se,at)|0,m=m+Math.imul(ye,ot)|0,S=S+Math.imul(ye,at)|0;var ha=(V+k|0)+((m&8191)<<13)|0;V=(S+(m>>>13)|0)+(ha>>>26)|0,ha&=67108863,k=Math.imul(K,et),m=Math.imul(K,tt),m=m+Math.imul(te,et)|0,S=Math.imul(te,tt),k=k+Math.imul(x,rt)|0,m=m+Math.imul(x,nt)|0,m=m+Math.imul(M,rt)|0,S=S+Math.imul(M,nt)|0,k=k+Math.imul(ne,it)|0,m=m+Math.imul(ne,st)|0,m=m+Math.imul(A,it)|0,S=S+Math.imul(A,st)|0,k=k+Math.imul(Se,ot)|0,m=m+Math.imul(Se,at)|0,m=m+Math.imul(Le,ot)|0,S=S+Math.imul(Le,at)|0;var da=(V+k|0)+((m&8191)<<13)|0;V=(S+(m>>>13)|0)+(da>>>26)|0,da&=67108863,k=Math.imul(K,rt),m=Math.imul(K,nt),m=m+Math.imul(te,rt)|0,S=Math.imul(te,nt),k=k+Math.imul(x,it)|0,m=m+Math.imul(x,st)|0,m=m+Math.imul(M,it)|0,S=S+Math.imul(M,st)|0,k=k+Math.imul(ne,ot)|0,m=m+Math.imul(ne,at)|0,m=m+Math.imul(A,ot)|0,S=S+Math.imul(A,at)|0;var pa=(V+k|0)+((m&8191)<<13)|0;V=(S+(m>>>13)|0)+(pa>>>26)|0,pa&=67108863,k=Math.imul(K,it),m=Math.imul(K,st),m=m+Math.imul(te,it)|0,S=Math.imul(te,st),k=k+Math.imul(x,ot)|0,m=m+Math.imul(x,at)|0,m=m+Math.imul(M,ot)|0,S=S+Math.imul(M,at)|0;var ma=(V+k|0)+((m&8191)<<13)|0;V=(S+(m>>>13)|0)+(ma>>>26)|0,ma&=67108863,k=Math.imul(K,ot),m=Math.imul(K,at),m=m+Math.imul(te,ot)|0,S=Math.imul(te,at);var xa=(V+k|0)+((m&8191)<<13)|0;return V=(S+(m>>>13)|0)+(xa>>>26)|0,xa&=67108863,G[0]=Wr,G[1]=Yr,G[2]=Jr,G[3]=Xr,G[4]=Qr,G[5]=na,G[6]=ia,G[7]=sa,G[8]=oa,G[9]=aa,G[10]=ca,G[11]=la,G[12]=fa,G[13]=ua,G[14]=ha,G[15]=da,G[16]=pa,G[17]=ma,G[18]=xa,V!==0&&(G[19]=V,C.length++),C};Math.imul||(_=w);function R(N,p,v){v.negative=p.negative^N.negative,v.length=N.length+p.length;for(var C=0,B=0,O=0;O<v.length-1;O++){var G=B;B=0;for(var V=C&67108863,k=Math.min(O,p.length-1),m=Math.max(0,O-N.length+1);m<=k;m++){var S=O-m,W=N.words[S]|0,T=p.words[m]|0,X=W*T,oe=X&67108863;G=G+(X/67108864|0)|0,oe=oe+V|0,V=oe&67108863,G=G+(oe>>>26)|0,B+=G>>>26,G&=67108863}v.words[O]=V,C=G,G=B}return C!==0?v.words[O]=C:v.length--,v._strip()}function F(N,p,v){return R(N,p,v)}s.prototype.mulTo=function(p,v){var C,B=this.length+p.length;return this.length===10&&p.length===10?C=_(this,p,v):B<63?C=w(this,p,v):B<1024?C=R(this,p,v):C=F(this,p,v),C},s.prototype.mul=function(p){var v=new s(null);return v.words=new Array(this.length+p.length),this.mulTo(p,v)},s.prototype.mulf=function(p){var v=new s(null);return v.words=new Array(this.length+p.length),F(this,p,v)},s.prototype.imul=function(p){return this.clone().mulTo(p,this)},s.prototype.imuln=function(p){var v=p<0;v&&(p=-p),n(typeof p=="number"),n(p<67108864);for(var C=0,B=0;B<this.length;B++){var O=(this.words[B]|0)*p,G=(O&67108863)+(C&67108863);C>>=26,C+=O/67108864|0,C+=G>>>26,this.words[B]=G&67108863}return C!==0&&(this.words[B]=C,this.length++),this.length=p===0?1:this.length,v?this.ineg():this},s.prototype.muln=function(p){return this.clone().imuln(p)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(p){var v=E(p);if(v.length===0)return new s(1);for(var C=this,B=0;B<v.length&&v[B]===0;B++,C=C.sqr());if(++B<v.length)for(var O=C.sqr();B<v.length;B++,O=O.sqr())v[B]!==0&&(C=C.mul(O));return C},s.prototype.iushln=function(p){n(typeof p=="number"&&p>=0);var v=p%26,C=(p-v)/26,B=67108863>>>26-v<<26-v,O;if(v!==0){var G=0;for(O=0;O<this.length;O++){var V=this.words[O]&B,k=(this.words[O]|0)-V<<v;this.words[O]=k|G,G=V>>>26-v}G&&(this.words[O]=G,this.length++)}if(C!==0){for(O=this.length-1;O>=0;O--)this.words[O+C]=this.words[O];for(O=0;O<C;O++)this.words[O]=0;this.length+=C}return this._strip()},s.prototype.ishln=function(p){return n(this.negative===0),this.iushln(p)},s.prototype.iushrn=function(p,v,C){n(typeof p=="number"&&p>=0);var B;v?B=(v-v%26)/26:B=0;var O=p%26,G=Math.min((p-O)/26,this.length),V=67108863^67108863>>>O<<O,k=C;if(B-=G,B=Math.max(0,B),k){for(var m=0;m<G;m++)k.words[m]=this.words[m];k.length=G}if(G!==0)if(this.length>G)for(this.length-=G,m=0;m<this.length;m++)this.words[m]=this.words[m+G];else this.words[0]=0,this.length=1;var S=0;for(m=this.length-1;m>=0&&(S!==0||m>=B);m--){var W=this.words[m]|0;this.words[m]=S<<26-O|W>>>O,S=W&V}return k&&S!==0&&(k.words[k.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(p,v,C){return n(this.negative===0),this.iushrn(p,v,C)},s.prototype.shln=function(p){return this.clone().ishln(p)},s.prototype.ushln=function(p){return this.clone().iushln(p)},s.prototype.shrn=function(p){return this.clone().ishrn(p)},s.prototype.ushrn=function(p){return this.clone().iushrn(p)},s.prototype.testn=function(p){n(typeof p=="number"&&p>=0);var v=p%26,C=(p-v)/26,B=1<<v;if(this.length<=C)return!1;var O=this.words[C];return!!(O&B)},s.prototype.imaskn=function(p){n(typeof p=="number"&&p>=0);var v=p%26,C=(p-v)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=C)return this;if(v!==0&&C++,this.length=Math.min(C,this.length),v!==0){var B=67108863^67108863>>>v<<v;this.words[this.length-1]&=B}return this._strip()},s.prototype.maskn=function(p){return this.clone().imaskn(p)},s.prototype.iaddn=function(p){return n(typeof p=="number"),n(p<67108864),p<0?this.isubn(-p):this.negative!==0?this.length===1&&(this.words[0]|0)<=p?(this.words[0]=p-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(p),this.negative=1,this):this._iaddn(p)},s.prototype._iaddn=function(p){this.words[0]+=p;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},s.prototype.isubn=function(p){if(n(typeof p=="number"),n(p<67108864),p<0)return this.iaddn(-p);if(this.negative!==0)return this.negative=0,this.iaddn(p),this.negative=1,this;if(this.words[0]-=p,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this._strip()},s.prototype.addn=function(p){return this.clone().iaddn(p)},s.prototype.subn=function(p){return this.clone().isubn(p)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(p,v,C){var B=p.length+C,O;this._expand(B);var G,V=0;for(O=0;O<p.length;O++){G=(this.words[O+C]|0)+V;var k=(p.words[O]|0)*v;G-=k&67108863,V=(G>>26)-(k/67108864|0),this.words[O+C]=G&67108863}for(;O<this.length-C;O++)G=(this.words[O+C]|0)+V,V=G>>26,this.words[O+C]=G&67108863;if(V===0)return this._strip();for(n(V===-1),V=0,O=0;O<this.length;O++)G=-(this.words[O]|0)+V,V=G>>26,this.words[O]=G&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(p,v){var C=this.length-p.length,B=this.clone(),O=p,G=O.words[O.length-1]|0,V=this._countBits(G);C=26-V,C!==0&&(O=O.ushln(C),B.iushln(C),G=O.words[O.length-1]|0);var k=B.length-O.length,m;if(v!=="mod"){m=new s(null),m.length=k+1,m.words=new Array(m.length);for(var S=0;S<m.length;S++)m.words[S]=0}var W=B.clone()._ishlnsubmul(O,1,k);W.negative===0&&(B=W,m&&(m.words[k]=1));for(var T=k-1;T>=0;T--){var X=(B.words[O.length+T]|0)*67108864+(B.words[O.length+T-1]|0);for(X=Math.min(X/G|0,67108863),B._ishlnsubmul(O,X,T);B.negative!==0;)X--,B.negative=0,B._ishlnsubmul(O,1,T),B.isZero()||(B.negative^=1);m&&(m.words[T]=X)}return m&&m._strip(),B._strip(),v!=="div"&&C!==0&&B.iushrn(C),{div:m||null,mod:B}},s.prototype.divmod=function(p,v,C){if(n(!p.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var B,O,G;return this.negative!==0&&p.negative===0?(G=this.neg().divmod(p,v),v!=="mod"&&(B=G.div.neg()),v!=="div"&&(O=G.mod.neg(),C&&O.negative!==0&&O.iadd(p)),{div:B,mod:O}):this.negative===0&&p.negative!==0?(G=this.divmod(p.neg(),v),v!=="mod"&&(B=G.div.neg()),{div:B,mod:G.mod}):this.negative&p.negative?(G=this.neg().divmod(p.neg(),v),v!=="div"&&(O=G.mod.neg(),C&&O.negative!==0&&O.isub(p)),{div:G.div,mod:O}):p.length>this.length||this.cmp(p)<0?{div:new s(0),mod:this}:p.length===1?v==="div"?{div:this.divn(p.words[0]),mod:null}:v==="mod"?{div:null,mod:new s(this.modrn(p.words[0]))}:{div:this.divn(p.words[0]),mod:new s(this.modrn(p.words[0]))}:this._wordDiv(p,v)},s.prototype.div=function(p){return this.divmod(p,"div",!1).div},s.prototype.mod=function(p){return this.divmod(p,"mod",!1).mod},s.prototype.umod=function(p){return this.divmod(p,"mod",!0).mod},s.prototype.divRound=function(p){var v=this.divmod(p);if(v.mod.isZero())return v.div;var C=v.div.negative!==0?v.mod.isub(p):v.mod,B=p.ushrn(1),O=p.andln(1),G=C.cmp(B);return G<0||O===1&&G===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},s.prototype.modrn=function(p){var v=p<0;v&&(p=-p),n(p<=67108863);for(var C=(1<<26)%p,B=0,O=this.length-1;O>=0;O--)B=(C*B+(this.words[O]|0))%p;return v?-B:B},s.prototype.modn=function(p){return this.modrn(p)},s.prototype.idivn=function(p){var v=p<0;v&&(p=-p),n(p<=67108863);for(var C=0,B=this.length-1;B>=0;B--){var O=(this.words[B]|0)+C*67108864;this.words[B]=O/p|0,C=O%p}return this._strip(),v?this.ineg():this},s.prototype.divn=function(p){return this.clone().idivn(p)},s.prototype.egcd=function(p){n(p.negative===0),n(!p.isZero());var v=this,C=p.clone();v.negative!==0?v=v.umod(p):v=v.clone();for(var B=new s(1),O=new s(0),G=new s(0),V=new s(1),k=0;v.isEven()&&C.isEven();)v.iushrn(1),C.iushrn(1),++k;for(var m=C.clone(),S=v.clone();!v.isZero();){for(var W=0,T=1;!(v.words[0]&T)&&W<26;++W,T<<=1);if(W>0)for(v.iushrn(W);W-- >0;)(B.isOdd()||O.isOdd())&&(B.iadd(m),O.isub(S)),B.iushrn(1),O.iushrn(1);for(var X=0,oe=1;!(C.words[0]&oe)&&X<26;++X,oe<<=1);if(X>0)for(C.iushrn(X);X-- >0;)(G.isOdd()||V.isOdd())&&(G.iadd(m),V.isub(S)),G.iushrn(1),V.iushrn(1);v.cmp(C)>=0?(v.isub(C),B.isub(G),O.isub(V)):(C.isub(v),G.isub(B),V.isub(O))}return{a:G,b:V,gcd:C.iushln(k)}},s.prototype._invmp=function(p){n(p.negative===0),n(!p.isZero());var v=this,C=p.clone();v.negative!==0?v=v.umod(p):v=v.clone();for(var B=new s(1),O=new s(0),G=C.clone();v.cmpn(1)>0&&C.cmpn(1)>0;){for(var V=0,k=1;!(v.words[0]&k)&&V<26;++V,k<<=1);if(V>0)for(v.iushrn(V);V-- >0;)B.isOdd()&&B.iadd(G),B.iushrn(1);for(var m=0,S=1;!(C.words[0]&S)&&m<26;++m,S<<=1);if(m>0)for(C.iushrn(m);m-- >0;)O.isOdd()&&O.iadd(G),O.iushrn(1);v.cmp(C)>=0?(v.isub(C),B.isub(O)):(C.isub(v),O.isub(B))}var W;return v.cmpn(1)===0?W=B:W=O,W.cmpn(0)<0&&W.iadd(p),W},s.prototype.gcd=function(p){if(this.isZero())return p.abs();if(p.isZero())return this.abs();var v=this.clone(),C=p.clone();v.negative=0,C.negative=0;for(var B=0;v.isEven()&&C.isEven();B++)v.iushrn(1),C.iushrn(1);do{for(;v.isEven();)v.iushrn(1);for(;C.isEven();)C.iushrn(1);var O=v.cmp(C);if(O<0){var G=v;v=C,C=G}else if(O===0||C.cmpn(1)===0)break;v.isub(C)}while(!0);return C.iushln(B)},s.prototype.invm=function(p){return this.egcd(p).a.umod(p)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(p){return this.words[0]&p},s.prototype.bincn=function(p){n(typeof p=="number");var v=p%26,C=(p-v)/26,B=1<<v;if(this.length<=C)return this._expand(C+1),this.words[C]|=B,this;for(var O=B,G=C;O!==0&&G<this.length;G++){var V=this.words[G]|0;V+=O,O=V>>>26,V&=67108863,this.words[G]=V}return O!==0&&(this.words[G]=O,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(p){var v=p<0;if(this.negative!==0&&!v)return-1;if(this.negative===0&&v)return 1;this._strip();var C;if(this.length>1)C=1;else{v&&(p=-p),n(p<=67108863,"Number is too big");var B=this.words[0]|0;C=B===p?0:B<p?-1:1}return this.negative!==0?-C|0:C},s.prototype.cmp=function(p){if(this.negative!==0&&p.negative===0)return-1;if(this.negative===0&&p.negative!==0)return 1;var v=this.ucmp(p);return this.negative!==0?-v|0:v},s.prototype.ucmp=function(p){if(this.length>p.length)return 1;if(this.length<p.length)return-1;for(var v=0,C=this.length-1;C>=0;C--){var B=this.words[C]|0,O=p.words[C]|0;if(B!==O){B<O?v=-1:B>O&&(v=1);break}}return v},s.prototype.gtn=function(p){return this.cmpn(p)===1},s.prototype.gt=function(p){return this.cmp(p)===1},s.prototype.gten=function(p){return this.cmpn(p)>=0},s.prototype.gte=function(p){return this.cmp(p)>=0},s.prototype.ltn=function(p){return this.cmpn(p)===-1},s.prototype.lt=function(p){return this.cmp(p)===-1},s.prototype.lten=function(p){return this.cmpn(p)<=0},s.prototype.lte=function(p){return this.cmp(p)<=0},s.prototype.eqn=function(p){return this.cmpn(p)===0},s.prototype.eq=function(p){return this.cmp(p)===0},s.red=function(p){return new Q(p)},s.prototype.toRed=function(p){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),p.convertTo(this)._forceRed(p)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(p){return this.red=p,this},s.prototype.forceRed=function(p){return n(!this.red,"Already a number in reduction context"),this._forceRed(p)},s.prototype.redAdd=function(p){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,p)},s.prototype.redIAdd=function(p){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,p)},s.prototype.redSub=function(p){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,p)},s.prototype.redISub=function(p){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,p)},s.prototype.redShl=function(p){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,p)},s.prototype.redMul=function(p){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.mul(this,p)},s.prototype.redIMul=function(p){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.imul(this,p)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(p){return n(this.red&&!p.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,p)};var L={k256:null,p224:null,p192:null,p25519:null};function P(N,p){this.name=N,this.p=new s(p,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var p=new s(null);return p.words=new Array(Math.ceil(this.n/13)),p},P.prototype.ireduce=function(p){var v=p,C;do this.split(v,this.tmp),v=this.imulK(v),v=v.iadd(this.tmp),C=v.bitLength();while(C>this.n);var B=C<this.n?-1:v.ucmp(this.p);return B===0?(v.words[0]=0,v.length=1):B>0?v.isub(this.p):v.strip!==void 0?v.strip():v._strip(),v},P.prototype.split=function(p,v){p.iushrn(this.n,0,v)},P.prototype.imulK=function(p){return p.imul(this.k)};function U(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(U,P),U.prototype.split=function(p,v){for(var C=4194303,B=Math.min(p.length,9),O=0;O<B;O++)v.words[O]=p.words[O];if(v.length=B,p.length<=9){p.words[0]=0,p.length=1;return}var G=p.words[9];for(v.words[v.length++]=G&C,O=10;O<p.length;O++){var V=p.words[O]|0;p.words[O-10]=(V&C)<<4|G>>>22,G=V}G>>>=22,p.words[O-10]=G,G===0&&p.length>10?p.length-=10:p.length-=9},U.prototype.imulK=function(p){p.words[p.length]=0,p.words[p.length+1]=0,p.length+=2;for(var v=0,C=0;C<p.length;C++){var B=p.words[C]|0;v+=B*977,p.words[C]=v&67108863,v=B*64+(v/67108864|0)}return p.words[p.length-1]===0&&(p.length--,p.words[p.length-1]===0&&p.length--),p};function q(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(q,P);function fe(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(fe,P);function Y(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(Y,P),Y.prototype.imulK=function(p){for(var v=0,C=0;C<p.length;C++){var B=(p.words[C]|0)*19+v,O=B&67108863;B>>>=26,p.words[C]=O,v=B}return v!==0&&(p.words[p.length++]=v),p},s._prime=function(p){if(L[p])return L[p];var v;if(p==="k256")v=new U;else if(p==="p224")v=new q;else if(p==="p192")v=new fe;else if(p==="p25519")v=new Y;else throw new Error("Unknown prime "+p);return L[p]=v,v};function Q(N){if(typeof N=="string"){var p=s._prime(N);this.m=p.p,this.prime=p}else n(N.gtn(1),"modulus must be greater than 1"),this.m=N,this.prime=null}Q.prototype._verify1=function(p){n(p.negative===0,"red works only with positives"),n(p.red,"red works only with red numbers")},Q.prototype._verify2=function(p,v){n((p.negative|v.negative)===0,"red works only with positives"),n(p.red&&p.red===v.red,"red works only with red numbers")},Q.prototype.imod=function(p){return this.prime?this.prime.ireduce(p)._forceRed(this):(u(p,p.umod(this.m)._forceRed(this)),p)},Q.prototype.neg=function(p){return p.isZero()?p.clone():this.m.sub(p)._forceRed(this)},Q.prototype.add=function(p,v){this._verify2(p,v);var C=p.add(v);return C.cmp(this.m)>=0&&C.isub(this.m),C._forceRed(this)},Q.prototype.iadd=function(p,v){this._verify2(p,v);var C=p.iadd(v);return C.cmp(this.m)>=0&&C.isub(this.m),C},Q.prototype.sub=function(p,v){this._verify2(p,v);var C=p.sub(v);return C.cmpn(0)<0&&C.iadd(this.m),C._forceRed(this)},Q.prototype.isub=function(p,v){this._verify2(p,v);var C=p.isub(v);return C.cmpn(0)<0&&C.iadd(this.m),C},Q.prototype.shl=function(p,v){return this._verify1(p),this.imod(p.ushln(v))},Q.prototype.imul=function(p,v){return this._verify2(p,v),this.imod(p.imul(v))},Q.prototype.mul=function(p,v){return this._verify2(p,v),this.imod(p.mul(v))},Q.prototype.isqr=function(p){return this.imul(p,p.clone())},Q.prototype.sqr=function(p){return this.mul(p,p)},Q.prototype.sqrt=function(p){if(p.isZero())return p.clone();var v=this.m.andln(3);if(n(v%2===1),v===3){var C=this.m.add(new s(1)).iushrn(2);return this.pow(p,C)}for(var B=this.m.subn(1),O=0;!B.isZero()&&B.andln(1)===0;)O++,B.iushrn(1);n(!B.isZero());var G=new s(1).toRed(this),V=G.redNeg(),k=this.m.subn(1).iushrn(1),m=this.m.bitLength();for(m=new s(2*m*m).toRed(this);this.pow(m,k).cmp(V)!==0;)m.redIAdd(V);for(var S=this.pow(m,B),W=this.pow(p,B.addn(1).iushrn(1)),T=this.pow(p,B),X=O;T.cmp(G)!==0;){for(var oe=T,D=0;oe.cmp(G)!==0;D++)oe=oe.redSqr();n(D<X);var $=this.pow(S,new s(1).iushln(X-D-1));W=W.redMul($),S=$.redSqr(),T=T.redMul(S),X=D}return W},Q.prototype.invm=function(p){var v=p._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},Q.prototype.pow=function(p,v){if(v.isZero())return new s(1).toRed(this);if(v.cmpn(1)===0)return p.clone();var C=4,B=new Array(1<<C);B[0]=new s(1).toRed(this),B[1]=p;for(var O=2;O<B.length;O++)B[O]=this.mul(B[O-1],p);var G=B[0],V=0,k=0,m=v.bitLength()%26;for(m===0&&(m=26),O=v.length-1;O>=0;O--){for(var S=v.words[O],W=m-1;W>=0;W--){var T=S>>W&1;if(G!==B[0]&&(G=this.sqr(G)),T===0&&V===0){k=0;continue}V<<=1,V|=T,k++,!(k!==C&&(O!==0||W!==0))&&(G=this.mul(G,B[V]),k=0,V=0)}m=26}return G},Q.prototype.convertTo=function(p){var v=p.umod(this.m);return v===p?v.clone():v},Q.prototype.convertFrom=function(p){var v=p.clone();return v.red=null,v},s.mont=function(p){return new Z(p)};function Z(N){Q.call(this,N),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(Z,Q),Z.prototype.convertTo=function(p){return this.imod(p.ushln(this.shift))},Z.prototype.convertFrom=function(p){var v=this.imod(p.mul(this.rinv));return v.red=null,v},Z.prototype.imul=function(p,v){if(p.isZero()||v.isZero())return p.words[0]=0,p.length=1,p;var C=p.imul(v),B=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),O=C.isub(B).iushrn(this.shift),G=O;return O.cmp(this.m)>=0?G=O.isub(this.m):O.cmpn(0)<0&&(G=O.iadd(this.m)),G._forceRed(this)},Z.prototype.mul=function(p,v){if(p.isZero()||v.isZero())return new s(0)._forceRed(this);var C=p.mul(v),B=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),O=C.isub(B).iushrn(this.shift),G=O;return O.cmp(this.m)>=0?G=O.isub(this.m):O.cmpn(0)<0&&(G=O.iadd(this.m)),G._forceRed(this)},Z.prototype.invm=function(p){var v=this.imod(p._invmp(this.m).mul(this.r2));return v._forceRed(this)}})(r,mt)})(el);var _x=el.exports;const Me=Ti(_x);var hc={exports:{}};typeof Object.create=="function"?hc.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:hc.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}};var Nx=hc.exports,No={},Ro={};Ro.byteLength=Bx;Ro.toByteArray=Ox;Ro.fromByteArray=Dx;var br=[],er=[],Rx=typeof Uint8Array<"u"?Uint8Array:Array,ba="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Yn=0,Px=ba.length;Yn<Px;++Yn)br[Yn]=ba[Yn],er[ba.charCodeAt(Yn)]=Yn;er[45]=62;er[95]=63;function xh(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function Bx(r){var e=xh(r),t=e[0],n=e[1];return(t+n)*3/4-n}function Ix(r,e,t){return(e+t)*3/4-t}function Ox(r){var e,t=xh(r),n=t[0],i=t[1],s=new Rx(Ix(r,n,i)),o=0,a=i>0?n-4:n,c;for(c=0;c<a;c+=4)e=er[r.charCodeAt(c)]<<18|er[r.charCodeAt(c+1)]<<12|er[r.charCodeAt(c+2)]<<6|er[r.charCodeAt(c+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=er[r.charCodeAt(c)]<<2|er[r.charCodeAt(c+1)]>>4,s[o++]=e&255),i===1&&(e=er[r.charCodeAt(c)]<<10|er[r.charCodeAt(c+1)]<<4|er[r.charCodeAt(c+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function Lx(r){return br[r>>18&63]+br[r>>12&63]+br[r>>6&63]+br[r&63]}function Fx(r,e,t){for(var n,i=[],s=e;s<t;s+=3)n=(r[s]<<16&16711680)+(r[s+1]<<8&65280)+(r[s+2]&255),i.push(Lx(n));return i.join("")}function Dx(r){for(var e,t=r.length,n=t%3,i=[],s=16383,o=0,a=t-n;o<a;o+=s)i.push(Fx(r,o,o+s>a?a:o+s));return n===1?(e=r[t-1],i.push(br[e>>2]+br[e<<4&63]+"==")):n===2&&(e=(r[t-2]<<8)+r[t-1],i.push(br[e>>10]+br[e>>4&63]+br[e<<2&63]+"=")),i.join("")}var tl={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */tl.read=function(r,e,t,n,i){var s,o,a=i*8-n-1,c=(1<<a)-1,l=c>>1,u=-7,d=t?i-1:0,h=t?-1:1,g=r[e+d];for(d+=h,s=g&(1<<-u)-1,g>>=-u,u+=a;u>0;s=s*256+r[e+d],d+=h,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=n;u>0;o=o*256+r[e+d],d+=h,u-=8);if(s===0)s=1-l;else{if(s===c)return o?NaN:(g?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-l}return(g?-1:1)*o*Math.pow(2,s-n)};tl.write=function(r,e,t,n,i,s){var o,a,c,l=s*8-i-1,u=(1<<l)-1,d=u>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:s-1,b=n?1:-1,y=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+d>=1?e+=h/c:e+=h*Math.pow(2,1-d),e*c>=2&&(o++,c/=2),o+d>=u?(a=0,o=u):o+d>=1?(a=(e*c-1)*Math.pow(2,i),o=o+d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;r[t+g]=a&255,g+=b,a/=256,i-=8);for(o=o<<i|a,l+=i;l>0;r[t+g]=o&255,g+=b,o/=256,l-=8);r[t+g-b]|=y*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){const e=Ro,t=tl,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=a,r.SlowBuffer=_,r.INSPECT_MAX_BYTES=50;const i=2147483647;r.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const A=new Uint8Array(1),f={foo:function(){return 42}};return Object.setPrototypeOf(f,Uint8Array.prototype),Object.setPrototypeOf(A,f),A.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(A){if(A>i)throw new RangeError('The value "'+A+'" is invalid for option "size"');const f=new Uint8Array(A);return Object.setPrototypeOf(f,a.prototype),f}function a(A,f,x){if(typeof A=="number"){if(typeof f=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(A)}return c(A,f,x)}a.poolSize=8192;function c(A,f,x){if(typeof A=="string")return h(A,f);if(ArrayBuffer.isView(A))return b(A);if(A==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A);if(ve(A,ArrayBuffer)||A&&ve(A.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ve(A,SharedArrayBuffer)||A&&ve(A.buffer,SharedArrayBuffer)))return y(A,f,x);if(typeof A=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const M=A.valueOf&&A.valueOf();if(M!=null&&M!==A)return a.from(M,f,x);const I=E(A);if(I)return I;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof A[Symbol.toPrimitive]=="function")return a.from(A[Symbol.toPrimitive]("string"),f,x);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A)}a.from=function(A,f,x){return c(A,f,x)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(A){if(typeof A!="number")throw new TypeError('"size" argument must be of type number');if(A<0)throw new RangeError('The value "'+A+'" is invalid for option "size"')}function u(A,f,x){return l(A),A<=0?o(A):f!==void 0?typeof x=="string"?o(A).fill(f,x):o(A).fill(f):o(A)}a.alloc=function(A,f,x){return u(A,f,x)};function d(A){return l(A),o(A<0?0:w(A)|0)}a.allocUnsafe=function(A){return d(A)},a.allocUnsafeSlow=function(A){return d(A)};function h(A,f){if((typeof f!="string"||f==="")&&(f="utf8"),!a.isEncoding(f))throw new TypeError("Unknown encoding: "+f);const x=R(A,f)|0;let M=o(x);const I=M.write(A,f);return I!==x&&(M=M.slice(0,I)),M}function g(A){const f=A.length<0?0:w(A.length)|0,x=o(f);for(let M=0;M<f;M+=1)x[M]=A[M]&255;return x}function b(A){if(ve(A,Uint8Array)){const f=new Uint8Array(A);return y(f.buffer,f.byteOffset,f.byteLength)}return g(A)}function y(A,f,x){if(f<0||A.byteLength<f)throw new RangeError('"offset" is outside of buffer bounds');if(A.byteLength<f+(x||0))throw new RangeError('"length" is outside of buffer bounds');let M;return f===void 0&&x===void 0?M=new Uint8Array(A):x===void 0?M=new Uint8Array(A,f):M=new Uint8Array(A,f,x),Object.setPrototypeOf(M,a.prototype),M}function E(A){if(a.isBuffer(A)){const f=w(A.length)|0,x=o(f);return x.length===0||A.copy(x,0,0,f),x}if(A.length!==void 0)return typeof A.length!="number"||Se(A.length)?o(0):g(A);if(A.type==="Buffer"&&Array.isArray(A.data))return g(A.data)}function w(A){if(A>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return A|0}function _(A){return+A!=A&&(A=0),a.alloc(+A)}a.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==a.prototype},a.compare=function(f,x){if(ve(f,Uint8Array)&&(f=a.from(f,f.offset,f.byteLength)),ve(x,Uint8Array)&&(x=a.from(x,x.offset,x.byteLength)),!a.isBuffer(f)||!a.isBuffer(x))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===x)return 0;let M=f.length,I=x.length;for(let K=0,te=Math.min(M,I);K<te;++K)if(f[K]!==x[K]){M=f[K],I=x[K];break}return M<I?-1:I<M?1:0},a.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(f,x){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return a.alloc(0);let M;if(x===void 0)for(x=0,M=0;M<f.length;++M)x+=f[M].length;const I=a.allocUnsafe(x);let K=0;for(M=0;M<f.length;++M){let te=f[M];if(ve(te,Uint8Array))K+te.length>I.length?(a.isBuffer(te)||(te=a.from(te)),te.copy(I,K)):Uint8Array.prototype.set.call(I,te,K);else if(a.isBuffer(te))te.copy(I,K);else throw new TypeError('"list" argument must be an Array of Buffers');K+=te.length}return I};function R(A,f){if(a.isBuffer(A))return A.length;if(ArrayBuffer.isView(A)||ve(A,ArrayBuffer))return A.byteLength;if(typeof A!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof A);const x=A.length,M=arguments.length>2&&arguments[2]===!0;if(!M&&x===0)return 0;let I=!1;for(;;)switch(f){case"ascii":case"latin1":case"binary":return x;case"utf8":case"utf-8":return re(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x*2;case"hex":return x>>>1;case"base64":return se(A).length;default:if(I)return M?-1:re(A).length;f=(""+f).toLowerCase(),I=!0}}a.byteLength=R;function F(A,f,x){let M=!1;if((f===void 0||f<0)&&(f=0),f>this.length||((x===void 0||x>this.length)&&(x=this.length),x<=0)||(x>>>=0,f>>>=0,x<=f))return"";for(A||(A="utf8");;)switch(A){case"hex":return G(this,f,x);case"utf8":case"utf-8":return p(this,f,x);case"ascii":return B(this,f,x);case"latin1":case"binary":return O(this,f,x);case"base64":return N(this,f,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,f,x);default:if(M)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),M=!0}}a.prototype._isBuffer=!0;function L(A,f,x){const M=A[f];A[f]=A[x],A[x]=M}a.prototype.swap16=function(){const f=this.length;if(f%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let x=0;x<f;x+=2)L(this,x,x+1);return this},a.prototype.swap32=function(){const f=this.length;if(f%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let x=0;x<f;x+=4)L(this,x,x+3),L(this,x+1,x+2);return this},a.prototype.swap64=function(){const f=this.length;if(f%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let x=0;x<f;x+=8)L(this,x,x+7),L(this,x+1,x+6),L(this,x+2,x+5),L(this,x+3,x+4);return this},a.prototype.toString=function(){const f=this.length;return f===0?"":arguments.length===0?p(this,0,f):F.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(f){if(!a.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f?!0:a.compare(this,f)===0},a.prototype.inspect=function(){let f="";const x=r.INSPECT_MAX_BYTES;return f=this.toString("hex",0,x).replace(/(.{2})/g,"$1 ").trim(),this.length>x&&(f+=" ... "),"<Buffer "+f+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(f,x,M,I,K){if(ve(f,Uint8Array)&&(f=a.from(f,f.offset,f.byteLength)),!a.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(x===void 0&&(x=0),M===void 0&&(M=f?f.length:0),I===void 0&&(I=0),K===void 0&&(K=this.length),x<0||M>f.length||I<0||K>this.length)throw new RangeError("out of range index");if(I>=K&&x>=M)return 0;if(I>=K)return-1;if(x>=M)return 1;if(x>>>=0,M>>>=0,I>>>=0,K>>>=0,this===f)return 0;let te=K-I,Ae=M-x;const we=Math.min(te,Ae),ge=this.slice(I,K),ke=f.slice(x,M);for(let Te=0;Te<we;++Te)if(ge[Te]!==ke[Te]){te=ge[Te],Ae=ke[Te];break}return te<Ae?-1:Ae<te?1:0};function P(A,f,x,M,I){if(A.length===0)return-1;if(typeof x=="string"?(M=x,x=0):x>2147483647?x=2147483647:x<-2147483648&&(x=-2147483648),x=+x,Se(x)&&(x=I?0:A.length-1),x<0&&(x=A.length+x),x>=A.length){if(I)return-1;x=A.length-1}else if(x<0)if(I)x=0;else return-1;if(typeof f=="string"&&(f=a.from(f,M)),a.isBuffer(f))return f.length===0?-1:U(A,f,x,M,I);if(typeof f=="number")return f=f&255,typeof Uint8Array.prototype.indexOf=="function"?I?Uint8Array.prototype.indexOf.call(A,f,x):Uint8Array.prototype.lastIndexOf.call(A,f,x):U(A,[f],x,M,I);throw new TypeError("val must be string, number or Buffer")}function U(A,f,x,M,I){let K=1,te=A.length,Ae=f.length;if(M!==void 0&&(M=String(M).toLowerCase(),M==="ucs2"||M==="ucs-2"||M==="utf16le"||M==="utf-16le")){if(A.length<2||f.length<2)return-1;K=2,te/=2,Ae/=2,x/=2}function we(ke,Te){return K===1?ke[Te]:ke.readUInt16BE(Te*K)}let ge;if(I){let ke=-1;for(ge=x;ge<te;ge++)if(we(A,ge)===we(f,ke===-1?0:ge-ke)){if(ke===-1&&(ke=ge),ge-ke+1===Ae)return ke*K}else ke!==-1&&(ge-=ge-ke),ke=-1}else for(x+Ae>te&&(x=te-Ae),ge=x;ge>=0;ge--){let ke=!0;for(let Te=0;Te<Ae;Te++)if(we(A,ge+Te)!==we(f,Te)){ke=!1;break}if(ke)return ge}return-1}a.prototype.includes=function(f,x,M){return this.indexOf(f,x,M)!==-1},a.prototype.indexOf=function(f,x,M){return P(this,f,x,M,!0)},a.prototype.lastIndexOf=function(f,x,M){return P(this,f,x,M,!1)};function q(A,f,x,M){x=Number(x)||0;const I=A.length-x;M?(M=Number(M),M>I&&(M=I)):M=I;const K=f.length;M>K/2&&(M=K/2);let te;for(te=0;te<M;++te){const Ae=parseInt(f.substr(te*2,2),16);if(Se(Ae))return te;A[x+te]=Ae}return te}function fe(A,f,x,M){return ye(re(f,A.length-x),A,x,M)}function Y(A,f,x,M){return ye(ue(f),A,x,M)}function Q(A,f,x,M){return ye(se(f),A,x,M)}function Z(A,f,x,M){return ye(j(f,A.length-x),A,x,M)}a.prototype.write=function(f,x,M,I){if(x===void 0)I="utf8",M=this.length,x=0;else if(M===void 0&&typeof x=="string")I=x,M=this.length,x=0;else if(isFinite(x))x=x>>>0,isFinite(M)?(M=M>>>0,I===void 0&&(I="utf8")):(I=M,M=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const K=this.length-x;if((M===void 0||M>K)&&(M=K),f.length>0&&(M<0||x<0)||x>this.length)throw new RangeError("Attempt to write outside buffer bounds");I||(I="utf8");let te=!1;for(;;)switch(I){case"hex":return q(this,f,x,M);case"utf8":case"utf-8":return fe(this,f,x,M);case"ascii":case"latin1":case"binary":return Y(this,f,x,M);case"base64":return Q(this,f,x,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,f,x,M);default:if(te)throw new TypeError("Unknown encoding: "+I);I=(""+I).toLowerCase(),te=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function N(A,f,x){return f===0&&x===A.length?e.fromByteArray(A):e.fromByteArray(A.slice(f,x))}function p(A,f,x){x=Math.min(A.length,x);const M=[];let I=f;for(;I<x;){const K=A[I];let te=null,Ae=K>239?4:K>223?3:K>191?2:1;if(I+Ae<=x){let we,ge,ke,Te;switch(Ae){case 1:K<128&&(te=K);break;case 2:we=A[I+1],(we&192)===128&&(Te=(K&31)<<6|we&63,Te>127&&(te=Te));break;case 3:we=A[I+1],ge=A[I+2],(we&192)===128&&(ge&192)===128&&(Te=(K&15)<<12|(we&63)<<6|ge&63,Te>2047&&(Te<55296||Te>57343)&&(te=Te));break;case 4:we=A[I+1],ge=A[I+2],ke=A[I+3],(we&192)===128&&(ge&192)===128&&(ke&192)===128&&(Te=(K&15)<<18|(we&63)<<12|(ge&63)<<6|ke&63,Te>65535&&Te<1114112&&(te=Te))}}te===null?(te=65533,Ae=1):te>65535&&(te-=65536,M.push(te>>>10&1023|55296),te=56320|te&1023),M.push(te),I+=Ae}return C(M)}const v=4096;function C(A){const f=A.length;if(f<=v)return String.fromCharCode.apply(String,A);let x="",M=0;for(;M<f;)x+=String.fromCharCode.apply(String,A.slice(M,M+=v));return x}function B(A,f,x){let M="";x=Math.min(A.length,x);for(let I=f;I<x;++I)M+=String.fromCharCode(A[I]&127);return M}function O(A,f,x){let M="";x=Math.min(A.length,x);for(let I=f;I<x;++I)M+=String.fromCharCode(A[I]);return M}function G(A,f,x){const M=A.length;(!f||f<0)&&(f=0),(!x||x<0||x>M)&&(x=M);let I="";for(let K=f;K<x;++K)I+=Le[A[K]];return I}function V(A,f,x){const M=A.slice(f,x);let I="";for(let K=0;K<M.length-1;K+=2)I+=String.fromCharCode(M[K]+M[K+1]*256);return I}a.prototype.slice=function(f,x){const M=this.length;f=~~f,x=x===void 0?M:~~x,f<0?(f+=M,f<0&&(f=0)):f>M&&(f=M),x<0?(x+=M,x<0&&(x=0)):x>M&&(x=M),x<f&&(x=f);const I=this.subarray(f,x);return Object.setPrototypeOf(I,a.prototype),I};function k(A,f,x){if(A%1!==0||A<0)throw new RangeError("offset is not uint");if(A+f>x)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(f,x,M){f=f>>>0,x=x>>>0,M||k(f,x,this.length);let I=this[f],K=1,te=0;for(;++te<x&&(K*=256);)I+=this[f+te]*K;return I},a.prototype.readUintBE=a.prototype.readUIntBE=function(f,x,M){f=f>>>0,x=x>>>0,M||k(f,x,this.length);let I=this[f+--x],K=1;for(;x>0&&(K*=256);)I+=this[f+--x]*K;return I},a.prototype.readUint8=a.prototype.readUInt8=function(f,x){return f=f>>>0,x||k(f,1,this.length),this[f]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(f,x){return f=f>>>0,x||k(f,2,this.length),this[f]|this[f+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(f,x){return f=f>>>0,x||k(f,2,this.length),this[f]<<8|this[f+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(f,x){return f=f>>>0,x||k(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+this[f+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(f,x){return f=f>>>0,x||k(f,4,this.length),this[f]*16777216+(this[f+1]<<16|this[f+2]<<8|this[f+3])},a.prototype.readBigUInt64LE=xt(function(f){f=f>>>0,be(f,"offset");const x=this[f],M=this[f+7];(x===void 0||M===void 0)&&he(f,this.length-8);const I=x+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24,K=this[++f]+this[++f]*2**8+this[++f]*2**16+M*2**24;return BigInt(I)+(BigInt(K)<<BigInt(32))}),a.prototype.readBigUInt64BE=xt(function(f){f=f>>>0,be(f,"offset");const x=this[f],M=this[f+7];(x===void 0||M===void 0)&&he(f,this.length-8);const I=x*2**24+this[++f]*2**16+this[++f]*2**8+this[++f],K=this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+M;return(BigInt(I)<<BigInt(32))+BigInt(K)}),a.prototype.readIntLE=function(f,x,M){f=f>>>0,x=x>>>0,M||k(f,x,this.length);let I=this[f],K=1,te=0;for(;++te<x&&(K*=256);)I+=this[f+te]*K;return K*=128,I>=K&&(I-=Math.pow(2,8*x)),I},a.prototype.readIntBE=function(f,x,M){f=f>>>0,x=x>>>0,M||k(f,x,this.length);let I=x,K=1,te=this[f+--I];for(;I>0&&(K*=256);)te+=this[f+--I]*K;return K*=128,te>=K&&(te-=Math.pow(2,8*x)),te},a.prototype.readInt8=function(f,x){return f=f>>>0,x||k(f,1,this.length),this[f]&128?(255-this[f]+1)*-1:this[f]},a.prototype.readInt16LE=function(f,x){f=f>>>0,x||k(f,2,this.length);const M=this[f]|this[f+1]<<8;return M&32768?M|4294901760:M},a.prototype.readInt16BE=function(f,x){f=f>>>0,x||k(f,2,this.length);const M=this[f+1]|this[f]<<8;return M&32768?M|4294901760:M},a.prototype.readInt32LE=function(f,x){return f=f>>>0,x||k(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},a.prototype.readInt32BE=function(f,x){return f=f>>>0,x||k(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},a.prototype.readBigInt64LE=xt(function(f){f=f>>>0,be(f,"offset");const x=this[f],M=this[f+7];(x===void 0||M===void 0)&&he(f,this.length-8);const I=this[f+4]+this[f+5]*2**8+this[f+6]*2**16+(M<<24);return(BigInt(I)<<BigInt(32))+BigInt(x+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24)}),a.prototype.readBigInt64BE=xt(function(f){f=f>>>0,be(f,"offset");const x=this[f],M=this[f+7];(x===void 0||M===void 0)&&he(f,this.length-8);const I=(x<<24)+this[++f]*2**16+this[++f]*2**8+this[++f];return(BigInt(I)<<BigInt(32))+BigInt(this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+M)}),a.prototype.readFloatLE=function(f,x){return f=f>>>0,x||k(f,4,this.length),t.read(this,f,!0,23,4)},a.prototype.readFloatBE=function(f,x){return f=f>>>0,x||k(f,4,this.length),t.read(this,f,!1,23,4)},a.prototype.readDoubleLE=function(f,x){return f=f>>>0,x||k(f,8,this.length),t.read(this,f,!0,52,8)},a.prototype.readDoubleBE=function(f,x){return f=f>>>0,x||k(f,8,this.length),t.read(this,f,!1,52,8)};function m(A,f,x,M,I,K){if(!a.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(f>I||f<K)throw new RangeError('"value" argument is out of bounds');if(x+M>A.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(f,x,M,I){if(f=+f,x=x>>>0,M=M>>>0,!I){const Ae=Math.pow(2,8*M)-1;m(this,f,x,M,Ae,0)}let K=1,te=0;for(this[x]=f&255;++te<M&&(K*=256);)this[x+te]=f/K&255;return x+M},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(f,x,M,I){if(f=+f,x=x>>>0,M=M>>>0,!I){const Ae=Math.pow(2,8*M)-1;m(this,f,x,M,Ae,0)}let K=M-1,te=1;for(this[x+K]=f&255;--K>=0&&(te*=256);)this[x+K]=f/te&255;return x+M},a.prototype.writeUint8=a.prototype.writeUInt8=function(f,x,M){return f=+f,x=x>>>0,M||m(this,f,x,1,255,0),this[x]=f&255,x+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(f,x,M){return f=+f,x=x>>>0,M||m(this,f,x,2,65535,0),this[x]=f&255,this[x+1]=f>>>8,x+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(f,x,M){return f=+f,x=x>>>0,M||m(this,f,x,2,65535,0),this[x]=f>>>8,this[x+1]=f&255,x+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(f,x,M){return f=+f,x=x>>>0,M||m(this,f,x,4,4294967295,0),this[x+3]=f>>>24,this[x+2]=f>>>16,this[x+1]=f>>>8,this[x]=f&255,x+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(f,x,M){return f=+f,x=x>>>0,M||m(this,f,x,4,4294967295,0),this[x]=f>>>24,this[x+1]=f>>>16,this[x+2]=f>>>8,this[x+3]=f&255,x+4};function S(A,f,x,M,I){ae(f,M,I,A,x,7);let K=Number(f&BigInt(4294967295));A[x++]=K,K=K>>8,A[x++]=K,K=K>>8,A[x++]=K,K=K>>8,A[x++]=K;let te=Number(f>>BigInt(32)&BigInt(4294967295));return A[x++]=te,te=te>>8,A[x++]=te,te=te>>8,A[x++]=te,te=te>>8,A[x++]=te,x}function W(A,f,x,M,I){ae(f,M,I,A,x,7);let K=Number(f&BigInt(4294967295));A[x+7]=K,K=K>>8,A[x+6]=K,K=K>>8,A[x+5]=K,K=K>>8,A[x+4]=K;let te=Number(f>>BigInt(32)&BigInt(4294967295));return A[x+3]=te,te=te>>8,A[x+2]=te,te=te>>8,A[x+1]=te,te=te>>8,A[x]=te,x+8}a.prototype.writeBigUInt64LE=xt(function(f,x=0){return S(this,f,x,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=xt(function(f,x=0){return W(this,f,x,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(f,x,M,I){if(f=+f,x=x>>>0,!I){const we=Math.pow(2,8*M-1);m(this,f,x,M,we-1,-we)}let K=0,te=1,Ae=0;for(this[x]=f&255;++K<M&&(te*=256);)f<0&&Ae===0&&this[x+K-1]!==0&&(Ae=1),this[x+K]=(f/te>>0)-Ae&255;return x+M},a.prototype.writeIntBE=function(f,x,M,I){if(f=+f,x=x>>>0,!I){const we=Math.pow(2,8*M-1);m(this,f,x,M,we-1,-we)}let K=M-1,te=1,Ae=0;for(this[x+K]=f&255;--K>=0&&(te*=256);)f<0&&Ae===0&&this[x+K+1]!==0&&(Ae=1),this[x+K]=(f/te>>0)-Ae&255;return x+M},a.prototype.writeInt8=function(f,x,M){return f=+f,x=x>>>0,M||m(this,f,x,1,127,-128),f<0&&(f=255+f+1),this[x]=f&255,x+1},a.prototype.writeInt16LE=function(f,x,M){return f=+f,x=x>>>0,M||m(this,f,x,2,32767,-32768),this[x]=f&255,this[x+1]=f>>>8,x+2},a.prototype.writeInt16BE=function(f,x,M){return f=+f,x=x>>>0,M||m(this,f,x,2,32767,-32768),this[x]=f>>>8,this[x+1]=f&255,x+2},a.prototype.writeInt32LE=function(f,x,M){return f=+f,x=x>>>0,M||m(this,f,x,4,2147483647,-2147483648),this[x]=f&255,this[x+1]=f>>>8,this[x+2]=f>>>16,this[x+3]=f>>>24,x+4},a.prototype.writeInt32BE=function(f,x,M){return f=+f,x=x>>>0,M||m(this,f,x,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[x]=f>>>24,this[x+1]=f>>>16,this[x+2]=f>>>8,this[x+3]=f&255,x+4},a.prototype.writeBigInt64LE=xt(function(f,x=0){return S(this,f,x,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=xt(function(f,x=0){return W(this,f,x,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function T(A,f,x,M,I,K){if(x+M>A.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("Index out of range")}function X(A,f,x,M,I){return f=+f,x=x>>>0,I||T(A,f,x,4),t.write(A,f,x,M,23,4),x+4}a.prototype.writeFloatLE=function(f,x,M){return X(this,f,x,!0,M)},a.prototype.writeFloatBE=function(f,x,M){return X(this,f,x,!1,M)};function oe(A,f,x,M,I){return f=+f,x=x>>>0,I||T(A,f,x,8),t.write(A,f,x,M,52,8),x+8}a.prototype.writeDoubleLE=function(f,x,M){return oe(this,f,x,!0,M)},a.prototype.writeDoubleBE=function(f,x,M){return oe(this,f,x,!1,M)},a.prototype.copy=function(f,x,M,I){if(!a.isBuffer(f))throw new TypeError("argument should be a Buffer");if(M||(M=0),!I&&I!==0&&(I=this.length),x>=f.length&&(x=f.length),x||(x=0),I>0&&I<M&&(I=M),I===M||f.length===0||this.length===0)return 0;if(x<0)throw new RangeError("targetStart out of bounds");if(M<0||M>=this.length)throw new RangeError("Index out of range");if(I<0)throw new RangeError("sourceEnd out of bounds");I>this.length&&(I=this.length),f.length-x<I-M&&(I=f.length-x+M);const K=I-M;return this===f&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(x,M,I):Uint8Array.prototype.set.call(f,this.subarray(M,I),x),K},a.prototype.fill=function(f,x,M,I){if(typeof f=="string"){if(typeof x=="string"?(I=x,x=0,M=this.length):typeof M=="string"&&(I=M,M=this.length),I!==void 0&&typeof I!="string")throw new TypeError("encoding must be a string");if(typeof I=="string"&&!a.isEncoding(I))throw new TypeError("Unknown encoding: "+I);if(f.length===1){const te=f.charCodeAt(0);(I==="utf8"&&te<128||I==="latin1")&&(f=te)}}else typeof f=="number"?f=f&255:typeof f=="boolean"&&(f=Number(f));if(x<0||this.length<x||this.length<M)throw new RangeError("Out of range index");if(M<=x)return this;x=x>>>0,M=M===void 0?this.length:M>>>0,f||(f=0);let K;if(typeof f=="number")for(K=x;K<M;++K)this[K]=f;else{const te=a.isBuffer(f)?f:a.from(f,I),Ae=te.length;if(Ae===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(K=0;K<M-x;++K)this[K+x]=te[K%Ae]}return this};const D={};function $(A,f,x){D[A]=class extends x{constructor(){super(),Object.defineProperty(this,"message",{value:f.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${A}]`,this.stack,delete this.name}get code(){return A}set code(I){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:I,writable:!0})}toString(){return`${this.name} [${A}]: ${this.message}`}}}$("ERR_BUFFER_OUT_OF_BOUNDS",function(A){return A?`${A} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),$("ERR_INVALID_ARG_TYPE",function(A,f){return`The "${A}" argument must be of type number. Received type ${typeof f}`},TypeError),$("ERR_OUT_OF_RANGE",function(A,f,x){let M=`The value of "${A}" is out of range.`,I=x;return Number.isInteger(x)&&Math.abs(x)>2**32?I=H(String(x)):typeof x=="bigint"&&(I=String(x),(x>BigInt(2)**BigInt(32)||x<-(BigInt(2)**BigInt(32)))&&(I=H(I)),I+="n"),M+=` It must be ${f}. Received ${I}`,M},RangeError);function H(A){let f="",x=A.length;const M=A[0]==="-"?1:0;for(;x>=M+4;x-=3)f=`_${A.slice(x-3,x)}${f}`;return`${A.slice(0,x)}${f}`}function ee(A,f,x){be(f,"offset"),(A[f]===void 0||A[f+x]===void 0)&&he(f,A.length-(x+1))}function ae(A,f,x,M,I,K){if(A>x||A<f){const te=typeof f=="bigint"?"n":"";let Ae;throw f===0||f===BigInt(0)?Ae=`>= 0${te} and < 2${te} ** ${(K+1)*8}${te}`:Ae=`>= -(2${te} ** ${(K+1)*8-1}${te}) and < 2 ** ${(K+1)*8-1}${te}`,new D.ERR_OUT_OF_RANGE("value",Ae,A)}ee(M,I,K)}function be(A,f){if(typeof A!="number")throw new D.ERR_INVALID_ARG_TYPE(f,"number",A)}function he(A,f,x){throw Math.floor(A)!==A?(be(A,x),new D.ERR_OUT_OF_RANGE("offset","an integer",A)):f<0?new D.ERR_BUFFER_OUT_OF_BOUNDS:new D.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${f}`,A)}const ie=/[^+/0-9A-Za-z-_]/g;function de(A){if(A=A.split("=")[0],A=A.trim().replace(ie,""),A.length<2)return"";for(;A.length%4!==0;)A=A+"=";return A}function re(A,f){f=f||1/0;let x;const M=A.length;let I=null;const K=[];for(let te=0;te<M;++te){if(x=A.charCodeAt(te),x>55295&&x<57344){if(!I){if(x>56319){(f-=3)>-1&&K.push(239,191,189);continue}else if(te+1===M){(f-=3)>-1&&K.push(239,191,189);continue}I=x;continue}if(x<56320){(f-=3)>-1&&K.push(239,191,189),I=x;continue}x=(I-55296<<10|x-56320)+65536}else I&&(f-=3)>-1&&K.push(239,191,189);if(I=null,x<128){if((f-=1)<0)break;K.push(x)}else if(x<2048){if((f-=2)<0)break;K.push(x>>6|192,x&63|128)}else if(x<65536){if((f-=3)<0)break;K.push(x>>12|224,x>>6&63|128,x&63|128)}else if(x<1114112){if((f-=4)<0)break;K.push(x>>18|240,x>>12&63|128,x>>6&63|128,x&63|128)}else throw new Error("Invalid code point")}return K}function ue(A){const f=[];for(let x=0;x<A.length;++x)f.push(A.charCodeAt(x)&255);return f}function j(A,f){let x,M,I;const K=[];for(let te=0;te<A.length&&!((f-=2)<0);++te)x=A.charCodeAt(te),M=x>>8,I=x%256,K.push(I),K.push(M);return K}function se(A){return e.toByteArray(de(A))}function ye(A,f,x,M){let I;for(I=0;I<M&&!(I+x>=f.length||I>=A.length);++I)f[I+x]=A[I];return I}function ve(A,f){return A instanceof f||A!=null&&A.constructor!=null&&A.constructor.name!=null&&A.constructor.name===f.name}function Se(A){return A!==A}const Le=function(){const A="0123456789abcdef",f=new Array(256);for(let x=0;x<16;++x){const M=x*16;for(let I=0;I<16;++I)f[M+I]=A[x]+A[I]}return f}();function xt(A){return typeof BigInt>"u"?ne:A}function ne(){throw new Error("BigInt not supported")}})(No);function Ux({title:r,titleId:e,...t},n){return le.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?le.createElement("title",{id:e},r):null,le.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const $x=le.forwardRef(Ux);function jx({title:r,titleId:e,...t},n){return le.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?le.createElement("title",{id:e},r):null,le.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"}))}const Vx=le.forwardRef(jx);function Hx({title:r,titleId:e,...t},n){return le.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?le.createElement("title",{id:e},r):null,le.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const Kx=le.forwardRef(Hx);function Gx({title:r,titleId:e,...t},n){return le.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?le.createElement("title",{id:e},r):null,le.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const gh=le.forwardRef(Gx);function zx({title:r,titleId:e,...t},n){return le.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?le.createElement("title",{id:e},r):null,le.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const zs=le.forwardRef(zx);function qx({title:r,titleId:e,...t},n){return le.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?le.createElement("title",{id:e},r):null,le.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const Wx=le.forwardRef(qx);function Yx({title:r,titleId:e,...t},n){return le.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?le.createElement("title",{id:e},r):null,le.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const ya=le.forwardRef(Yx);function Jx({title:r,titleId:e,...t},n){return le.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?le.createElement("title",{id:e},r):null,le.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3"}))}const Xx=le.forwardRef(Jx);function Qx({title:r,titleId:e,...t},n){return le.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?le.createElement("title",{id:e},r):null,le.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const so=le.forwardRef(Qx);/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bh=(...r)=>r.filter((e,t,n)=>!!e&&n.indexOf(e)===t).join(" ");/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var e1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=le.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...a},c)=>le.createElement("svg",{ref:c,...e1,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:bh("lucide",i),...a},[...o.map(([l,u])=>le.createElement(l,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=(r,e)=>{const t=le.forwardRef(({className:n,...i},s)=>le.createElement(t1,{ref:s,iconNode:e,className:bh(`lucide-${Zx(r)}`,n),...i}));return t.displayName=`${r}`,t};/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=Si("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=Si("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=Si("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=Si("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=Si("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=Si("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),c1=({isVisible:r,onClose:e})=>{const t=[{icon:i1,text:"Launch your token instantly"},{icon:o1,text:"Get discovered by early traders"},{icon:n1,text:"Trade with zero slippage"},{icon:r1,text:"Track your portfolio"},{icon:a1,text:"List on DEX at 8 ETH"}];return r?z.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:z.jsxs("div",{className:"bg-[var(--card)] rounded-lg relative max-w-md w-full",children:[z.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:z.jsx(so,{className:"h-6 w-6"})}),z.jsxs("div",{className:"p-6",children:[z.jsx("h2",{className:"text-xl font-bold text-white mb-6 text-center",children:"How It Works"}),z.jsx("div",{className:"space-y-6",children:t.map((n,i)=>z.jsxs("div",{className:"flex items-center gap-4",children:[z.jsx("div",{className:"bg-[var(--card2)] p-3 rounded-lg",children:z.jsx(n.icon,{className:"h-6 w-6 text-[var(--primary)]"})}),z.jsx("p",{className:"text-gray-400",children:n.text})]},i))}),z.jsx("button",{onClick:e,className:"w-full mt-8 py-3 bg-[var(--primary)] text-black rounded-lg font-medium hover:bg-[var(--primary-hover)] transition-colors",children:"Got it!"})]})]})}):null},rl=le.createContext({});function nl(r){const e=le.useRef(null);return e.current===null&&(e.current=r()),e.current}const Po=le.createContext(null),il=le.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"});class l1 extends le.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function f1({children:r,isPresent:e}){const t=le.useId(),n=le.useRef(null),i=le.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=le.useContext(il);return le.useInsertionEffect(()=>{const{width:o,height:a,top:c,left:l}=i.current;if(e||!n.current||!o||!a)return;n.current.dataset.motionPopId=t;const u=document.createElement("style");return s&&(u.nonce=s),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${c}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),z.jsx(l1,{isPresent:e,childRef:n,sizeRef:i,children:le.cloneElement(r,{ref:n})})}const u1=({children:r,initial:e,isPresent:t,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=nl(h1),c=le.useId(),l=le.useCallback(d=>{a.set(d,!0);for(const h of a.values())if(!h)return;n&&n()},[a,n]),u=le.useMemo(()=>({id:c,initial:e,isPresent:t,custom:i,onExitComplete:l,register:d=>(a.set(d,!1),()=>a.delete(d))}),s?[Math.random(),l]:[t,l]);return le.useMemo(()=>{a.forEach((d,h)=>a.set(h,!1))},[t]),le.useEffect(()=>{!t&&!a.size&&n&&n()},[t]),o==="popLayout"&&(r=z.jsx(f1,{isPresent:t,children:r})),z.jsx(Po.Provider,{value:u,children:r})};function h1(){return new Map}function yh(r=!0){const e=le.useContext(Po);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:i}=e,s=le.useId();le.useEffect(()=>{r&&i(s)},[r]);const o=le.useCallback(()=>r&&n&&n(s),[s,n,r]);return!t&&n?[!1,o]:[!0]}const Ns=r=>r.key||"";function vf(r){const e=[];return le.Children.forEach(r,t=>{le.isValidElement(t)&&e.push(t)}),e}const sl=typeof window<"u",wh=sl?le.useLayoutEffect:le.useEffect,ol=({children:r,custom:e,initial:t=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1})=>{const[a,c]=yh(o),l=le.useMemo(()=>vf(r),[r]),u=o&&!a?[]:l.map(Ns),d=le.useRef(!0),h=le.useRef(l),g=nl(()=>new Map),[b,y]=le.useState(l),[E,w]=le.useState(l);wh(()=>{d.current=!1,h.current=l;for(let F=0;F<E.length;F++){const L=Ns(E[F]);u.includes(L)?g.delete(L):g.get(L)!==!0&&g.set(L,!1)}},[E,u.length,u.join("-")]);const _=[];if(l!==b){let F=[...l];for(let L=0;L<E.length;L++){const P=E[L],U=Ns(P);u.includes(U)||(F.splice(L,0,P),_.push(P))}s==="wait"&&_.length&&(F=_),w(vf(F)),y(l);return}const{forceRender:R}=le.useContext(rl);return z.jsx(z.Fragment,{children:E.map(F=>{const L=Ns(F),P=o&&!a?!1:l===E||u.includes(L),U=()=>{if(g.has(L))g.set(L,!0);else return;let q=!0;g.forEach(fe=>{fe||(q=!1)}),q&&(R==null||R(),w(h.current),o&&(c==null||c()),n&&n())};return z.jsx(u1,{isPresent:P,initial:!d.current||t?void 0:!1,custom:P?void 0:e,presenceAffectsLayout:i,mode:s,onExitComplete:P?void 0:U,children:F},L)})})},qt=r=>r;let vh=qt;function al(r){let e;return()=>(e===void 0&&(e=r()),e)}const mi=(r,e,t)=>{const n=e-r;return n===0?1:(t-r)/n},Ur=r=>r*1e3,$r=r=>r/1e3,d1={useManualTiming:!1};function p1(r){let e=new Set,t=new Set,n=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(l){s.has(l)&&(c.schedule(l),r()),l(o)}const c={schedule:(l,u=!1,d=!1)=>{const g=d&&n?e:t;return u&&s.add(l),g.has(l)||g.add(l),l},cancel:l=>{t.delete(l),s.delete(l)},process:l=>{if(o=l,n){i=!0;return}n=!0,[e,t]=[t,e],e.forEach(a),e.clear(),n=!1,i&&(i=!1,c.process(l))}};return c}const Rs=["read","resolveKeyframes","update","preRender","render","postRender"],m1=40;function Ah(r,e){let t=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,o=Rs.reduce((w,_)=>(w[_]=p1(s),w),{}),{read:a,resolveKeyframes:c,update:l,preRender:u,render:d,postRender:h}=o,g=()=>{const w=performance.now();t=!1,i.delta=n?1e3/60:Math.max(Math.min(w-i.timestamp,m1),1),i.timestamp=w,i.isProcessing=!0,a.process(i),c.process(i),l.process(i),u.process(i),d.process(i),h.process(i),i.isProcessing=!1,t&&e&&(n=!1,r(g))},b=()=>{t=!0,n=!0,i.isProcessing||r(g)};return{schedule:Rs.reduce((w,_)=>{const R=o[_];return w[_]=(F,L=!1,P=!1)=>(t||b(),R.schedule(F,L,P)),w},{}),cancel:w=>{for(let _=0;_<Rs.length;_++)o[Rs[_]].cancel(w)},state:i,steps:o}}const{schedule:ct,cancel:ln,state:kt,steps:wa}=Ah(typeof requestAnimationFrame<"u"?requestAnimationFrame:qt,!0),Eh=le.createContext({strict:!1}),Af={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xi={};for(const r in Af)xi[r]={isEnabled:e=>Af[r].some(t=>!!e[t])};function x1(r){for(const e in r)xi[e]={...xi[e],...r[e]}}const g1=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function oo(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||g1.has(r)}let Th=r=>!oo(r);function b1(r){r&&(Th=e=>e.startsWith("on")?!oo(e):r(e))}try{b1(require("@emotion/is-prop-valid").default)}catch{}function y1(r,e,t){const n={};for(const i in r)i==="values"&&typeof r.values=="object"||(Th(i)||t===!0&&oo(i)||!e&&!oo(i)||r.draggable&&i.startsWith("onDrag"))&&(n[i]=r[i]);return n}function w1(r){if(typeof Proxy>"u")return r;const e=new Map,t=(...n)=>r(...n);return new Proxy(t,{get:(n,i)=>i==="create"?r:(e.has(i)||e.set(i,r(i)),e.get(i))})}const Bo=le.createContext({});function ss(r){return typeof r=="string"||Array.isArray(r)}function Io(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}const cl=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ll=["initial",...cl];function Oo(r){return Io(r.animate)||ll.some(e=>ss(r[e]))}function Sh(r){return!!(Oo(r)||r.variants)}function v1(r,e){if(Oo(r)){const{initial:t,animate:n}=r;return{initial:t===!1||ss(t)?t:void 0,animate:ss(n)?n:void 0}}return r.inherit!==!1?e:{}}function A1(r){const{initial:e,animate:t}=v1(r,le.useContext(Bo));return le.useMemo(()=>({initial:e,animate:t}),[Ef(e),Ef(t)])}function Ef(r){return Array.isArray(r)?r.join(" "):r}const E1=Symbol.for("motionComponentSymbol");function ni(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function T1(r,e,t){return le.useCallback(n=>{n&&r.onMount&&r.onMount(n),e&&(n?e.mount(n):e.unmount()),t&&(typeof t=="function"?t(n):ni(t)&&(t.current=n))},[e])}const fl=r=>r.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),S1="framerAppearId",kh="data-"+fl(S1),{schedule:ul}=Ah(queueMicrotask,!1),Ch=le.createContext({});function k1(r,e,t,n,i){var s,o;const{visualElement:a}=le.useContext(Bo),c=le.useContext(Eh),l=le.useContext(Po),u=le.useContext(il).reducedMotion,d=le.useRef(null);n=n||c.renderer,!d.current&&n&&(d.current=n(r,{visualState:e,parent:a,props:t,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const h=d.current,g=le.useContext(Ch);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&C1(d.current,t,i,g);const b=le.useRef(!1);le.useInsertionEffect(()=>{h&&b.current&&h.update(t,l)});const y=t[kh],E=le.useRef(!!y&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,y))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,y)));return wh(()=>{h&&(b.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),ul.render(h.render),E.current&&h.animationState&&h.animationState.animateChanges())}),le.useEffect(()=>{h&&(!E.current&&h.animationState&&h.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)===null||w===void 0||w.call(window,y)}),E.current=!1))}),h}function C1(r,e,t,n){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:c,layoutRoot:l}=e;r.projection=new t(r.latestValues,e["data-framer-portal-id"]?void 0:Mh(r.parent)),r.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&ni(a),visualElement:r,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:l})}function Mh(r){if(r)return r.options.allowProjection!==!1?r.projection:Mh(r.parent)}function M1({preloadedFeatures:r,createVisualElement:e,useRender:t,useVisualState:n,Component:i}){var s,o;r&&x1(r);function a(l,u){let d;const h={...le.useContext(il),...l,layoutId:_1(l)},{isStatic:g}=h,b=A1(l),y=n(l,g);if(!g&&sl){N1();const E=R1(h);d=E.MeasureLayout,b.visualElement=k1(i,y,h,e,E.ProjectionNode)}return z.jsxs(Bo.Provider,{value:b,children:[d&&b.visualElement?z.jsx(d,{visualElement:b.visualElement,...h}):null,t(i,l,T1(y,b.visualElement,u),y,g,b.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const c=le.forwardRef(a);return c[E1]=i,c}function _1({layoutId:r}){const e=le.useContext(rl).id;return e&&r!==void 0?e+"-"+r:r}function N1(r,e){le.useContext(Eh).strict}function R1(r){const{drag:e,layout:t}=xi;if(!e&&!t)return{};const n={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(r)||t!=null&&t.isEnabled(r)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const P1=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function hl(r){return typeof r!="string"||r.includes("-")?!1:!!(P1.indexOf(r)>-1||/[A-Z]/u.test(r))}function Tf(r){const e=[{},{}];return r==null||r.values.forEach((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()}),e}function dl(r,e,t,n){if(typeof e=="function"){const[i,s]=Tf(n);e=e(t!==void 0?t:r.custom,i,s)}if(typeof e=="string"&&(e=r.variants&&r.variants[e]),typeof e=="function"){const[i,s]=Tf(n);e=e(t!==void 0?t:r.custom,i,s)}return e}const dc=r=>Array.isArray(r),B1=r=>!!(r&&typeof r=="object"&&r.mix&&r.toValue),I1=r=>dc(r)?r[r.length-1]||0:r,Ot=r=>!!(r&&r.getVelocity);function qs(r){const e=Ot(r)?r.get():r;return B1(e)?e.toValue():e}function O1({scrapeMotionValuesFromProps:r,createRenderState:e,onUpdate:t},n,i,s){const o={latestValues:L1(n,i,s,r),renderState:e()};return t&&(o.onMount=a=>t({props:n,current:a,...o}),o.onUpdate=a=>t(a)),o}const _h=r=>(e,t)=>{const n=le.useContext(Bo),i=le.useContext(Po),s=()=>O1(r,e,n,i);return t?s():nl(s)};function L1(r,e,t,n){const i={},s=n(r,{});for(const h in s)i[h]=qs(s[h]);let{initial:o,animate:a}=r;const c=Oo(r),l=Sh(r);e&&l&&!c&&r.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=t?t.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!Io(d)){const h=Array.isArray(d)?d:[d];for(let g=0;g<h.length;g++){const b=dl(r,h[g]);if(b){const{transitionEnd:y,transition:E,...w}=b;for(const _ in w){let R=w[_];if(Array.isArray(R)){const F=u?R.length-1:0;R=R[F]}R!==null&&(i[_]=R)}for(const _ in y)i[_]=y[_]}}}return i}const ki=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],jn=new Set(ki),Nh=r=>e=>typeof e=="string"&&e.startsWith(r),Rh=Nh("--"),F1=Nh("var(--"),pl=r=>F1(r)?D1.test(r.split("/*")[0].trim()):!1,D1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ph=(r,e)=>e&&typeof r=="number"?e.transform(r):r,Vr=(r,e,t)=>t>e?e:t<r?r:t,Ci={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},os={...Ci,transform:r=>Vr(0,1,r)},Ps={...Ci,default:1},ys=r=>({test:e=>typeof e=="string"&&e.endsWith(r)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${r}`}),rn=ys("deg"),Ar=ys("%"),Ce=ys("px"),U1=ys("vh"),$1=ys("vw"),Sf={...Ar,parse:r=>Ar.parse(r)/100,transform:r=>Ar.transform(r*100)},j1={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,backgroundPositionX:Ce,backgroundPositionY:Ce},V1={rotate:rn,rotateX:rn,rotateY:rn,rotateZ:rn,scale:Ps,scaleX:Ps,scaleY:Ps,scaleZ:Ps,skew:rn,skewX:rn,skewY:rn,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:os,originX:Sf,originY:Sf,originZ:Ce},kf={...Ci,transform:Math.round},ml={...j1,...V1,zIndex:kf,size:Ce,fillOpacity:os,strokeOpacity:os,numOctaves:kf},H1={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},K1=ki.length;function G1(r,e,t){let n="",i=!0;for(let s=0;s<K1;s++){const o=ki[s],a=r[o];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(o.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||t){const l=Ph(a,ml[o]);if(!c){i=!1;const u=H1[o]||o;n+=`${u}(${l}) `}t&&(e[o]=l)}}return n=n.trim(),t?n=t(e,i?"":n):i&&(n="none"),n}function xl(r,e,t){const{style:n,vars:i,transformOrigin:s}=r;let o=!1,a=!1;for(const c in e){const l=e[c];if(jn.has(c)){o=!0;continue}else if(Rh(c)){i[c]=l;continue}else{const u=Ph(l,ml[c]);c.startsWith("origin")?(a=!0,s[c]=u):n[c]=u}}if(e.transform||(o||t?n.transform=G1(e,r.transform,t):n.transform&&(n.transform="none")),a){const{originX:c="50%",originY:l="50%",originZ:u=0}=s;n.transformOrigin=`${c} ${l} ${u}`}}const z1={offset:"stroke-dashoffset",array:"stroke-dasharray"},q1={offset:"strokeDashoffset",array:"strokeDasharray"};function W1(r,e,t=1,n=0,i=!0){r.pathLength=1;const s=i?z1:q1;r[s.offset]=Ce.transform(-n);const o=Ce.transform(e),a=Ce.transform(t);r[s.array]=`${o} ${a}`}function Cf(r,e,t){return typeof r=="string"?r:Ce.transform(e+t*r)}function Y1(r,e,t){const n=Cf(e,r.x,r.width),i=Cf(t,r.y,r.height);return`${n} ${i}`}function gl(r,{attrX:e,attrY:t,attrScale:n,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:c=0,...l},u,d){if(xl(r,l,d),u){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:h,style:g,dimensions:b}=r;h.transform&&(b&&(g.transform=h.transform),delete h.transform),b&&(i!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=Y1(b,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(h.x=e),t!==void 0&&(h.y=t),n!==void 0&&(h.scale=n),o!==void 0&&W1(h,o,a,c,!1)}const bl=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Bh=()=>({...bl(),attrs:{}}),yl=r=>typeof r=="string"&&r.toLowerCase()==="svg";function Ih(r,{style:e,vars:t},n,i){Object.assign(r.style,e,i&&i.getProjectionStyles(n));for(const s in t)r.style.setProperty(s,t[s])}const Oh=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Lh(r,e,t,n){Ih(r,e,void 0,n);for(const i in e.attrs)r.setAttribute(Oh.has(i)?i:fl(i),e.attrs[i])}const ao={};function J1(r){Object.assign(ao,r)}function Fh(r,{layout:e,layoutId:t}){return jn.has(r)||r.startsWith("origin")||(e||t!==void 0)&&(!!ao[r]||r==="opacity")}function wl(r,e,t){var n;const{style:i}=r,s={};for(const o in i)(Ot(i[o])||e.style&&Ot(e.style[o])||Fh(o,r)||((n=t==null?void 0:t.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function Dh(r,e,t){const n=wl(r,e,t);for(const i in r)if(Ot(r[i])||Ot(e[i])){const s=ki.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=r[i]}return n}function X1(r,e){try{e.dimensions=typeof r.getBBox=="function"?r.getBBox():r.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Mf=["x","y","width","height","cx","cy","r"],Q1={useVisualState:_h({scrapeMotionValuesFromProps:Dh,createRenderState:Bh,onUpdate:({props:r,prevProps:e,current:t,renderState:n,latestValues:i})=>{if(!t)return;let s=!!r.drag;if(!s){for(const a in i)if(jn.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<Mf.length;a++){const c=Mf[a];r[c]!==e[c]&&(o=!0)}o&&ct.read(()=>{X1(t,n),ct.render(()=>{gl(n,i,yl(t.tagName),r.transformTemplate),Lh(t,n)})})}})},Z1={useVisualState:_h({scrapeMotionValuesFromProps:wl,createRenderState:bl})};function Uh(r,e,t){for(const n in e)!Ot(e[n])&&!Fh(n,t)&&(r[n]=e[n])}function eg({transformTemplate:r},e){return le.useMemo(()=>{const t=bl();return xl(t,e,r),Object.assign({},t.vars,t.style)},[e])}function tg(r,e){const t=r.style||{},n={};return Uh(n,t,r),Object.assign(n,eg(r,e)),n}function rg(r,e){const t={},n=tg(r,e);return r.drag&&r.dragListener!==!1&&(t.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(t.tabIndex=0),t.style=n,t}function ng(r,e,t,n){const i=le.useMemo(()=>{const s=Bh();return gl(s,e,yl(n),r.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(r.style){const s={};Uh(s,r.style,r),i.style={...s,...i.style}}return i}function ig(r=!1){return(t,n,i,{latestValues:s},o)=>{const c=(hl(t)?ng:rg)(n,s,o,t),l=y1(n,typeof t=="string",r),u=t!==le.Fragment?{...l,...c,ref:i}:{},{children:d}=n,h=le.useMemo(()=>Ot(d)?d.get():d,[d]);return le.createElement(t,{...u,children:h})}}function sg(r,e){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...hl(n)?Q1:Z1,preloadedFeatures:r,useRender:ig(i),createVisualElement:e,Component:n};return M1(o)}}function $h(r,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==r.length)return!1;for(let n=0;n<t;n++)if(e[n]!==r[n])return!1;return!0}function Lo(r,e,t){const n=r.getProps();return dl(n,e,t!==void 0?t:n.custom,r)}const og=al(()=>window.ScrollTimeline!==void 0);class ag{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){const n=this.animations.map(i=>{if(og()&&i.attachTimeline)return i.attachTimeline(e);if(typeof t=="function")return t(i)});return()=>{n.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class cg extends ag{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function vl(r,e){return r?r[e]||r.default||r:void 0}const pc=2e4;function jh(r){let e=0;const t=50;let n=r.next(e);for(;!n.done&&e<pc;)e+=t,n=r.next(e);return e>=pc?1/0:e}function Al(r){return typeof r=="function"}function _f(r,e){r.timeline=e,r.onfinish=null}const El=r=>Array.isArray(r)&&typeof r[0]=="number",lg={linearEasing:void 0};function fg(r,e){const t=al(r);return()=>{var n;return(n=lg[e])!==null&&n!==void 0?n:t()}}const co=fg(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Vh=(r,e,t=10)=>{let n="";const i=Math.max(Math.round(e/t),2);for(let s=0;s<i;s++)n+=r(mi(0,i-1,s))+", ";return`linear(${n.substring(0,n.length-2)})`};function Hh(r){return!!(typeof r=="function"&&co()||!r||typeof r=="string"&&(r in mc||co())||El(r)||Array.isArray(r)&&r.every(Hh))}const Vi=([r,e,t,n])=>`cubic-bezier(${r}, ${e}, ${t}, ${n})`,mc={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vi([0,.65,.55,1]),circOut:Vi([.55,0,1,.45]),backIn:Vi([.31,.01,.66,-.59]),backOut:Vi([.33,1.53,.69,.99])};function Kh(r,e){if(r)return typeof r=="function"&&co()?Vh(r,e):El(r)?Vi(r):Array.isArray(r)?r.map(t=>Kh(t,e)||mc.easeOut):mc[r]}const cr={x:!1,y:!1};function Gh(){return cr.x||cr.y}function ug(r,e,t){var n;if(r instanceof Element)return[r];if(typeof r=="string"){let i=document;const s=(n=void 0)!==null&&n!==void 0?n:i.querySelectorAll(r);return s?Array.from(s):[]}return Array.from(r)}function zh(r,e){const t=ug(r),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[t,i,()=>n.abort()]}function Nf(r){return e=>{e.pointerType==="touch"||Gh()||r(e)}}function hg(r,e,t={}){const[n,i,s]=zh(r,t),o=Nf(a=>{const{target:c}=a,l=e(a);if(typeof l!="function"||!c)return;const u=Nf(d=>{l(d),c.removeEventListener("pointerleave",u)});c.addEventListener("pointerleave",u,i)});return n.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const qh=(r,e)=>e?r===e?!0:qh(r,e.parentElement):!1,Tl=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1,dg=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function pg(r){return dg.has(r.tagName)||r.tabIndex!==-1}const Hi=new WeakSet;function Rf(r){return e=>{e.key==="Enter"&&r(e)}}function va(r,e){r.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const mg=(r,e)=>{const t=r.currentTarget;if(!t)return;const n=Rf(()=>{if(Hi.has(t))return;va(t,"down");const i=Rf(()=>{va(t,"up")}),s=()=>va(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",n,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",n),e)};function Pf(r){return Tl(r)&&!Gh()}function xg(r,e,t={}){const[n,i,s]=zh(r,t),o=a=>{const c=a.currentTarget;if(!Pf(a)||Hi.has(c))return;Hi.add(c);const l=e(a),u=(g,b)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),!(!Pf(g)||!Hi.has(c))&&(Hi.delete(c),typeof l=="function"&&l(g,{success:b}))},d=g=>{u(g,t.useGlobalTarget||qh(c,g.target))},h=g=>{u(g,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",h,i)};return n.forEach(a=>{!pg(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(t.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",l=>mg(l,i),i)}),s}function gg(r){return r==="x"||r==="y"?cr[r]?null:(cr[r]=!0,()=>{cr[r]=!1}):cr.x||cr.y?null:(cr.x=cr.y=!0,()=>{cr.x=cr.y=!1})}const Wh=new Set(["width","height","top","left","right","bottom",...ki]);let Ws;function bg(){Ws=void 0}const Er={now:()=>(Ws===void 0&&Er.set(kt.isProcessing||d1.useManualTiming?kt.timestamp:performance.now()),Ws),set:r=>{Ws=r,queueMicrotask(bg)}};function Sl(r,e){r.indexOf(e)===-1&&r.push(e)}function kl(r,e){const t=r.indexOf(e);t>-1&&r.splice(t,1)}class Cl{constructor(){this.subscriptions=[]}add(e){return Sl(this.subscriptions,e),()=>kl(this.subscriptions,e)}notify(e,t,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,n);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Yh(r,e){return e?r*(1e3/e):0}const Bf=30,yg=r=>!isNaN(parseFloat(r));class wg{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const s=Er.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Er.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=yg(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Cl);const n=this.events[e].add(t);return e==="change"?()=>{n(),ct.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Er.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Bf)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,Bf);return Yh(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function as(r,e){return new wg(r,e)}function vg(r,e,t){r.hasValue(e)?r.getValue(e).set(t):r.addValue(e,as(t))}function Ag(r,e){const t=Lo(r,e);let{transitionEnd:n={},transition:i={},...s}=t||{};s={...s,...n};for(const o in s){const a=I1(s[o]);vg(r,o,a)}}function Eg(r){return!!(Ot(r)&&r.add)}function xc(r,e){const t=r.getValue("willChange");if(Eg(t))return t.add(e)}function Jh(r){return r.props[kh]}const Xh=(r,e,t)=>(((1-3*t+3*e)*r+(3*t-6*e))*r+3*e)*r,Tg=1e-7,Sg=12;function kg(r,e,t,n,i){let s,o,a=0;do o=e+(t-e)/2,s=Xh(o,n,i)-r,s>0?t=o:e=o;while(Math.abs(s)>Tg&&++a<Sg);return o}function ws(r,e,t,n){if(r===e&&t===n)return qt;const i=s=>kg(s,0,1,r,t);return s=>s===0||s===1?s:Xh(i(s),e,n)}const Qh=r=>e=>e<=.5?r(2*e)/2:(2-r(2*(1-e)))/2,Zh=r=>e=>1-r(1-e),ed=ws(.33,1.53,.69,.99),Ml=Zh(ed),td=Qh(Ml),rd=r=>(r*=2)<1?.5*Ml(r):.5*(2-Math.pow(2,-10*(r-1))),_l=r=>1-Math.sin(Math.acos(r)),nd=Zh(_l),id=Qh(_l),sd=r=>/^0[^.\s]+$/u.test(r);function Cg(r){return typeof r=="number"?r===0:r!==null?r==="none"||r==="0"||sd(r):!0}const qi=r=>Math.round(r*1e5)/1e5,Nl=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Mg(r){return r==null}const _g=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Rl=(r,e)=>t=>!!(typeof t=="string"&&_g.test(t)&&t.startsWith(r)||e&&!Mg(t)&&Object.prototype.hasOwnProperty.call(t,e)),od=(r,e,t)=>n=>{if(typeof n!="string")return n;const[i,s,o,a]=n.match(Nl);return{[r]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Ng=r=>Vr(0,255,r),Aa={...Ci,transform:r=>Math.round(Ng(r))},Rn={test:Rl("rgb","red"),parse:od("red","green","blue"),transform:({red:r,green:e,blue:t,alpha:n=1})=>"rgba("+Aa.transform(r)+", "+Aa.transform(e)+", "+Aa.transform(t)+", "+qi(os.transform(n))+")"};function Rg(r){let e="",t="",n="",i="";return r.length>5?(e=r.substring(1,3),t=r.substring(3,5),n=r.substring(5,7),i=r.substring(7,9)):(e=r.substring(1,2),t=r.substring(2,3),n=r.substring(3,4),i=r.substring(4,5),e+=e,t+=t,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const gc={test:Rl("#"),parse:Rg,transform:Rn.transform},ii={test:Rl("hsl","hue"),parse:od("hue","saturation","lightness"),transform:({hue:r,saturation:e,lightness:t,alpha:n=1})=>"hsla("+Math.round(r)+", "+Ar.transform(qi(e))+", "+Ar.transform(qi(t))+", "+qi(os.transform(n))+")"},Pt={test:r=>Rn.test(r)||gc.test(r)||ii.test(r),parse:r=>Rn.test(r)?Rn.parse(r):ii.test(r)?ii.parse(r):gc.parse(r),transform:r=>typeof r=="string"?r:r.hasOwnProperty("red")?Rn.transform(r):ii.transform(r)},Pg=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Bg(r){var e,t;return isNaN(r)&&typeof r=="string"&&(((e=r.match(Nl))===null||e===void 0?void 0:e.length)||0)+(((t=r.match(Pg))===null||t===void 0?void 0:t.length)||0)>0}const ad="number",cd="color",Ig="var",Og="var(",If="${}",Lg=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function cs(r){const e=r.toString(),t=[],n={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(Lg,c=>(Pt.test(c)?(n.color.push(s),i.push(cd),t.push(Pt.parse(c))):c.startsWith(Og)?(n.var.push(s),i.push(Ig),t.push(c)):(n.number.push(s),i.push(ad),t.push(parseFloat(c))),++s,If)).split(If);return{values:t,split:a,indexes:n,types:i}}function ld(r){return cs(r).values}function fd(r){const{split:e,types:t}=cs(r),n=e.length;return i=>{let s="";for(let o=0;o<n;o++)if(s+=e[o],i[o]!==void 0){const a=t[o];a===ad?s+=qi(i[o]):a===cd?s+=Pt.transform(i[o]):s+=i[o]}return s}}const Fg=r=>typeof r=="number"?0:r;function Dg(r){const e=ld(r);return fd(r)(e.map(Fg))}const fn={test:Bg,parse:ld,createTransformer:fd,getAnimatableNone:Dg},Ug=new Set(["brightness","contrast","saturate","opacity"]);function $g(r){const[e,t]=r.slice(0,-1).split("(");if(e==="drop-shadow")return r;const[n]=t.match(Nl)||[];if(!n)return r;const i=t.replace(n,"");let s=Ug.has(e)?1:0;return n!==t&&(s*=100),e+"("+s+i+")"}const jg=/\b([a-z-]*)\(.*?\)/gu,bc={...fn,getAnimatableNone:r=>{const e=r.match(jg);return e?e.map($g).join(" "):r}},Vg={...ml,color:Pt,backgroundColor:Pt,outlineColor:Pt,fill:Pt,stroke:Pt,borderColor:Pt,borderTopColor:Pt,borderRightColor:Pt,borderBottomColor:Pt,borderLeftColor:Pt,filter:bc,WebkitFilter:bc},Pl=r=>Vg[r];function ud(r,e){let t=Pl(r);return t!==bc&&(t=fn),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const Hg=new Set(["auto","none","0"]);function Kg(r,e,t){let n=0,i;for(;n<r.length&&!i;){const s=r[n];typeof s=="string"&&!Hg.has(s)&&cs(s).values.length&&(i=r[n]),n++}if(i&&t)for(const s of e)r[s]=ud(t,i)}const Of=r=>r===Ci||r===Ce,Lf=(r,e)=>parseFloat(r.split(", ")[e]),Ff=(r,e)=>(t,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/u);if(i)return Lf(i[1],e);{const s=n.match(/^matrix\((.+)\)$/u);return s?Lf(s[1],r):0}},Gg=new Set(["x","y","z"]),zg=ki.filter(r=>!Gg.has(r));function qg(r){const e=[];return zg.forEach(t=>{const n=r.getValue(t);n!==void 0&&(e.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),e}const gi={width:({x:r},{paddingLeft:e="0",paddingRight:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),height:({y:r},{paddingTop:e="0",paddingBottom:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),top:(r,{top:e})=>parseFloat(e),left:(r,{left:e})=>parseFloat(e),bottom:({y:r},{top:e})=>parseFloat(e)+(r.max-r.min),right:({x:r},{left:e})=>parseFloat(e)+(r.max-r.min),x:Ff(4,13),y:Ff(5,14)};gi.translateX=gi.x;gi.translateY=gi.y;const Bn=new Set;let yc=!1,wc=!1;function hd(){if(wc){const r=Array.from(Bn).filter(n=>n.needsMeasurement),e=new Set(r.map(n=>n.element)),t=new Map;e.forEach(n=>{const i=qg(n);i.length&&(t.set(n,i),n.render())}),r.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=t.get(n);i&&i.forEach(([s,o])=>{var a;(a=n.getValue(s))===null||a===void 0||a.set(o)})}),r.forEach(n=>n.measureEndState()),r.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}wc=!1,yc=!1,Bn.forEach(r=>r.complete()),Bn.clear()}function dd(){Bn.forEach(r=>{r.readKeyframes(),r.needsMeasurement&&(wc=!0)})}function Wg(){dd(),hd()}class Bl{constructor(e,t,n,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Bn.add(this),yc||(yc=!0,ct.read(dd),ct.resolveKeyframes(hd))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(n&&t){const c=n.readValue(t,a);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Bn.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Bn.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const pd=r=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r),Yg=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Jg(r){const e=Yg.exec(r);if(!e)return[,];const[,t,n,i]=e;return[`--${t??n}`,i]}function md(r,e,t=1){const[n,i]=Jg(r);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const o=s.trim();return pd(o)?parseFloat(o):o}return pl(i)?md(i,e,t+1):i}const xd=r=>e=>e.test(r),Xg={test:r=>r==="auto",parse:r=>r},gd=[Ci,Ce,Ar,rn,$1,U1,Xg],Df=r=>gd.find(xd(r));class bd extends Bl{constructor(e,t,n,i,s){super(e,t,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let l=e[c];if(typeof l=="string"&&(l=l.trim(),pl(l))){const u=md(l,t.current);u!==void 0&&(e[c]=u),c===e.length-1&&(this.finalKeyframe=l)}}if(this.resolveNoneKeyframes(),!Wh.has(n)||e.length!==2)return;const[i,s]=e,o=Df(i),a=Df(s);if(o!==a)if(Of(o)&&Of(a))for(let c=0;c<e.length;c++){const l=e[c];typeof l=="string"&&(e[c]=parseFloat(l))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let i=0;i<e.length;i++)Cg(e[i])&&n.push(i);n.length&&Kg(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=gi[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=gi[n](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,l])=>{t.getValue(c).set(l)}),this.resolveNoneKeyframes()}}const Uf=(r,e)=>e==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(fn.test(r)||r==="0")&&!r.startsWith("url("));function Qg(r){const e=r[0];if(r.length===1)return!0;for(let t=0;t<r.length;t++)if(r[t]!==e)return!0}function Zg(r,e,t,n){const i=r[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=r[r.length-1],o=Uf(i,e),a=Uf(s,e);return!o||!a?!1:Qg(r)||(t==="spring"||Al(t))&&n}const eb=r=>r!==null;function Fo(r,{repeat:e,repeatType:t="loop"},n){const i=r.filter(eb),s=e&&t!=="loop"&&e%2===1?0:i.length-1;return!s||n===void 0?i[s]:n}const tb=40;class yd{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Er.now(),this.options={autoplay:e,delay:t,type:n,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>tb?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Wg(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Er.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:s,delay:o,onComplete:a,onUpdate:c,isGenerator:l}=this.options;if(!l&&!Zg(e,n,i,s))if(o)this.options.duration=0;else{c&&c(Fo(e,this.options,t)),a&&a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,t);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...u},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ut=(r,e,t)=>r+(e-r)*t;function Ea(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*(2/3-t)*6:r}function rb({hue:r,saturation:e,lightness:t,alpha:n}){r/=360,e/=100,t/=100;let i=0,s=0,o=0;if(!e)i=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,c=2*t-a;i=Ea(c,a,r+1/3),s=Ea(c,a,r),o=Ea(c,a,r-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}function lo(r,e){return t=>t>0?e:r}const Ta=(r,e,t)=>{const n=r*r,i=t*(e*e-n)+n;return i<0?0:Math.sqrt(i)},nb=[gc,Rn,ii],ib=r=>nb.find(e=>e.test(r));function $f(r){const e=ib(r);if(!e)return!1;let t=e.parse(r);return e===ii&&(t=rb(t)),t}const jf=(r,e)=>{const t=$f(r),n=$f(e);if(!t||!n)return lo(r,e);const i={...t};return s=>(i.red=Ta(t.red,n.red,s),i.green=Ta(t.green,n.green,s),i.blue=Ta(t.blue,n.blue,s),i.alpha=ut(t.alpha,n.alpha,s),Rn.transform(i))},sb=(r,e)=>t=>e(r(t)),vs=(...r)=>r.reduce(sb),vc=new Set(["none","hidden"]);function ob(r,e){return vc.has(r)?t=>t<=0?r:e:t=>t>=1?e:r}function ab(r,e){return t=>ut(r,e,t)}function Il(r){return typeof r=="number"?ab:typeof r=="string"?pl(r)?lo:Pt.test(r)?jf:fb:Array.isArray(r)?wd:typeof r=="object"?Pt.test(r)?jf:cb:lo}function wd(r,e){const t=[...r],n=t.length,i=r.map((s,o)=>Il(s)(s,e[o]));return s=>{for(let o=0;o<n;o++)t[o]=i[o](s);return t}}function cb(r,e){const t={...r,...e},n={};for(const i in t)r[i]!==void 0&&e[i]!==void 0&&(n[i]=Il(r[i])(r[i],e[i]));return i=>{for(const s in n)t[s]=n[s](i);return t}}function lb(r,e){var t;const n=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=r.indexes[o][i[o]],c=(t=r.values[a])!==null&&t!==void 0?t:0;n[s]=c,i[o]++}return n}const fb=(r,e)=>{const t=fn.createTransformer(e),n=cs(r),i=cs(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?vc.has(r)&&!i.values.length||vc.has(e)&&!n.values.length?ob(r,e):vs(wd(lb(n,i),i.values),t):lo(r,e)};function vd(r,e,t){return typeof r=="number"&&typeof e=="number"&&typeof t=="number"?ut(r,e,t):Il(r)(r,e)}const ub=5;function Ad(r,e,t){const n=Math.max(e-ub,0);return Yh(t-r(n),e-n)}const dt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Sa=.001;function hb({duration:r=dt.duration,bounce:e=dt.bounce,velocity:t=dt.velocity,mass:n=dt.mass}){let i,s,o=1-e;o=Vr(dt.minDamping,dt.maxDamping,o),r=Vr(dt.minDuration,dt.maxDuration,$r(r)),o<1?(i=l=>{const u=l*o,d=u*r,h=u-t,g=Ac(l,o),b=Math.exp(-d);return Sa-h/g*b},s=l=>{const d=l*o*r,h=d*t+t,g=Math.pow(o,2)*Math.pow(l,2)*r,b=Math.exp(-d),y=Ac(Math.pow(l,2),o);return(-i(l)+Sa>0?-1:1)*((h-g)*b)/y}):(i=l=>{const u=Math.exp(-l*r),d=(l-t)*r+1;return-Sa+u*d},s=l=>{const u=Math.exp(-l*r),d=(t-l)*(r*r);return u*d});const a=5/r,c=pb(i,s,a);if(r=Ur(r),isNaN(c))return{stiffness:dt.stiffness,damping:dt.damping,duration:r};{const l=Math.pow(c,2)*n;return{stiffness:l,damping:o*2*Math.sqrt(n*l),duration:r}}}const db=12;function pb(r,e,t){let n=t;for(let i=1;i<db;i++)n=n-r(n)/e(n);return n}function Ac(r,e){return r*Math.sqrt(1-e*e)}const mb=["duration","bounce"],xb=["stiffness","damping","mass"];function Vf(r,e){return e.some(t=>r[t]!==void 0)}function gb(r){let e={velocity:dt.velocity,stiffness:dt.stiffness,damping:dt.damping,mass:dt.mass,isResolvedFromDuration:!1,...r};if(!Vf(r,xb)&&Vf(r,mb))if(r.visualDuration){const t=r.visualDuration,n=2*Math.PI/(t*1.2),i=n*n,s=2*Vr(.05,1,1-(r.bounce||0))*Math.sqrt(i);e={...e,mass:dt.mass,stiffness:i,damping:s}}else{const t=hb(r);e={...e,...t,mass:dt.mass},e.isResolvedFromDuration=!0}return e}function Ed(r=dt.visualDuration,e=dt.bounce){const t=typeof r!="object"?{visualDuration:r,keyframes:[0,1],bounce:e}:r;let{restSpeed:n,restDelta:i}=t;const s=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],a={done:!1,value:s},{stiffness:c,damping:l,mass:u,duration:d,velocity:h,isResolvedFromDuration:g}=gb({...t,velocity:-$r(t.velocity||0)}),b=h||0,y=l/(2*Math.sqrt(c*u)),E=o-s,w=$r(Math.sqrt(c/u)),_=Math.abs(E)<5;n||(n=_?dt.restSpeed.granular:dt.restSpeed.default),i||(i=_?dt.restDelta.granular:dt.restDelta.default);let R;if(y<1){const L=Ac(w,y);R=P=>{const U=Math.exp(-y*w*P);return o-U*((b+y*w*E)/L*Math.sin(L*P)+E*Math.cos(L*P))}}else if(y===1)R=L=>o-Math.exp(-w*L)*(E+(b+w*E)*L);else{const L=w*Math.sqrt(y*y-1);R=P=>{const U=Math.exp(-y*w*P),q=Math.min(L*P,300);return o-U*((b+y*w*E)*Math.sinh(q)+L*E*Math.cosh(q))/L}}const F={calculatedDuration:g&&d||null,next:L=>{const P=R(L);if(g)a.done=L>=d;else{let U=0;y<1&&(U=L===0?Ur(b):Ad(R,L,P));const q=Math.abs(U)<=n,fe=Math.abs(o-P)<=i;a.done=q&&fe}return a.value=a.done?o:P,a},toString:()=>{const L=Math.min(jh(F),pc),P=Vh(U=>F.next(L*U).value,L,30);return L+"ms "+P}};return F}function Hf({keyframes:r,velocity:e=0,power:t=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:c,restDelta:l=.5,restSpeed:u}){const d=r[0],h={done:!1,value:d},g=q=>a!==void 0&&q<a||c!==void 0&&q>c,b=q=>a===void 0?c:c===void 0||Math.abs(a-q)<Math.abs(c-q)?a:c;let y=t*e;const E=d+y,w=o===void 0?E:o(E);w!==E&&(y=w-d);const _=q=>-y*Math.exp(-q/n),R=q=>w+_(q),F=q=>{const fe=_(q),Y=R(q);h.done=Math.abs(fe)<=l,h.value=h.done?w:Y};let L,P;const U=q=>{g(h.value)&&(L=q,P=Ed({keyframes:[h.value,b(h.value)],velocity:Ad(R,q,h.value),damping:i,stiffness:s,restDelta:l,restSpeed:u}))};return U(0),{calculatedDuration:null,next:q=>{let fe=!1;return!P&&L===void 0&&(fe=!0,F(q),U(q)),L!==void 0&&q>=L?P.next(q-L):(!fe&&F(q),h)}}}const bb=ws(.42,0,1,1),yb=ws(0,0,.58,1),Td=ws(.42,0,.58,1),wb=r=>Array.isArray(r)&&typeof r[0]!="number",vb={linear:qt,easeIn:bb,easeInOut:Td,easeOut:yb,circIn:_l,circInOut:id,circOut:nd,backIn:Ml,backInOut:td,backOut:ed,anticipate:rd},Kf=r=>{if(El(r)){vh(r.length===4);const[e,t,n,i]=r;return ws(e,t,n,i)}else if(typeof r=="string")return vb[r];return r};function Ab(r,e,t){const n=[],i=t||vd,s=r.length-1;for(let o=0;o<s;o++){let a=i(r[o],r[o+1]);if(e){const c=Array.isArray(e)?e[o]||qt:e;a=vs(c,a)}n.push(a)}return n}function Eb(r,e,{clamp:t=!0,ease:n,mixer:i}={}){const s=r.length;if(vh(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=r[0]===r[1];r[0]>r[s-1]&&(r=[...r].reverse(),e=[...e].reverse());const a=Ab(e,n,i),c=a.length,l=u=>{if(o&&u<r[0])return e[0];let d=0;if(c>1)for(;d<r.length-2&&!(u<r[d+1]);d++);const h=mi(r[d],r[d+1],u);return a[d](h)};return t?u=>l(Vr(r[0],r[s-1],u)):l}function Tb(r,e){const t=r[r.length-1];for(let n=1;n<=e;n++){const i=mi(0,e,n);r.push(ut(t,1,i))}}function Sb(r){const e=[0];return Tb(e,r.length-1),e}function kb(r,e){return r.map(t=>t*e)}function Cb(r,e){return r.map(()=>e||Td).splice(0,r.length-1)}function fo({duration:r=300,keyframes:e,times:t,ease:n="easeInOut"}){const i=wb(n)?n.map(Kf):Kf(n),s={done:!1,value:e[0]},o=kb(t&&t.length===e.length?t:Sb(e),r),a=Eb(o,e,{ease:Array.isArray(i)?i:Cb(e,i)});return{calculatedDuration:r,next:c=>(s.value=a(c),s.done=c>=r,s)}}const Mb=r=>{const e=({timestamp:t})=>r(t);return{start:()=>ct.update(e,!0),stop:()=>ln(e),now:()=>kt.isProcessing?kt.timestamp:Er.now()}},_b={decay:Hf,inertia:Hf,tween:fo,keyframes:fo,spring:Ed},Nb=r=>r/100;class Ol extends yd{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:t,motionValue:n,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||Bl,a=(c,l)=>this.onKeyframesResolved(c,l);this.resolver=new o(s,a,t,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=Al(t)?t:_b[t]||fo;let c,l;a!==fo&&typeof e[0]!="number"&&(c=vs(Nb,vd(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});s==="mirror"&&(l=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=jh(u));const{calculatedDuration:d}=u,h=d+i,g=h*(n+1)-i;return{generator:u,mirroredGenerator:l,mapPercentToKeyframes:c,calculatedDuration:d,resolvedDuration:h,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:n}=this;if(!n){const{keyframes:q}=this.options;return{done:!0,value:q[q.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:c,calculatedDuration:l,totalDuration:u,resolvedDuration:d}=n;if(this.startTime===null)return s.next(0);const{delay:h,repeat:g,repeatType:b,repeatDelay:y,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const w=this.currentTime-h*(this.speed>=0?1:-1),_=this.speed>=0?w<0:w>u;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let R=this.currentTime,F=s;if(g){const q=Math.min(this.currentTime,u)/d;let fe=Math.floor(q),Y=q%1;!Y&&q>=1&&(Y=1),Y===1&&fe--,fe=Math.min(fe,g+1),!!(fe%2)&&(b==="reverse"?(Y=1-Y,y&&(Y-=y/d)):b==="mirror"&&(F=o)),R=Vr(0,1,Y)*d}const L=_?{done:!1,value:c[0]}:F.next(R);a&&(L.value=a(L.value));let{done:P}=L;!_&&l!==null&&(P=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const U=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return U&&i!==void 0&&(L.value=Fo(c,this.options,i)),E&&E(L.value),U&&this.finish(),L}get duration(){const{resolved:e}=this;return e?$r(e.calculatedDuration):0}get time(){return $r(this.currentTime)}set time(e){e=Ur(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=$r(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Mb,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),t&&t();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Rb=new Set(["opacity","clipPath","filter","transform"]);function Pb(r,e,t,{delay:n=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:c}={}){const l={[e]:t};c&&(l.offset=c);const u=Kh(a,i);return Array.isArray(u)&&(l.easing=u),r.animate(l,{delay:n,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const Bb=al(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),uo=10,Ib=2e4;function Ob(r){return Al(r.type)||r.type==="spring"||!Hh(r.ease)}function Lb(r,e){const t=new Ol({...e,keyframes:r,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:r[0]};const i=[];let s=0;for(;!n.done&&s<Ib;)n=t.sample(s),i.push(n.value),s+=uo;return{times:void 0,keyframes:i,duration:s-uo,ease:"linear"}}const Sd={anticipate:rd,backInOut:td,circInOut:id};function Fb(r){return r in Sd}class Gf extends yd{constructor(e){super(e);const{name:t,motionValue:n,element:i,keyframes:s}=this.options;this.resolver=new bd(s,(o,a)=>this.onKeyframesResolved(o,a),t,n,i),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:n=300,times:i,ease:s,type:o,motionValue:a,name:c,startTime:l}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&co()&&Fb(s)&&(s=Sd[s]),Ob(this.options)){const{onComplete:d,onUpdate:h,motionValue:g,element:b,...y}=this.options,E=Lb(e,y);e=E.keyframes,e.length===1&&(e[1]=e[0]),n=E.duration,i=E.times,s=E.ease,o="keyframes"}const u=Pb(a.owner.current,c,e,{...this.options,duration:n,times:i,ease:s});return u.startTime=l??this.calcStartTime(),this.pendingTimeline?(_f(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:d}=this.options;a.set(Fo(e,this.options,t)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:n,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return $r(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return $r(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=Ur(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return qt;const{animation:n}=t;_f(n,e)}return qt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:i,type:s,ease:o,times:a}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:l,onUpdate:u,onComplete:d,element:h,...g}=this.options,b=new Ol({...g,keyframes:n,duration:i,type:s,ease:o,times:a,isGenerator:!0}),y=Ur(this.time);l.setWithVelocity(b.sample(y-uo).value,b.sample(y).value,uo)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:l}=t.owner.getProps();return Bb()&&n&&Rb.has(n)&&!c&&!l&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const Db={type:"spring",stiffness:500,damping:25,restSpeed:10},Ub=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),$b={type:"keyframes",duration:.8},jb={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Vb=(r,{keyframes:e})=>e.length>2?$b:jn.has(r)?r.startsWith("scale")?Ub(e[1]):Db:jb;function Hb({when:r,delay:e,delayChildren:t,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:c,elapsed:l,...u}){return!!Object.keys(u).length}const Ll=(r,e,t,n={},i,s)=>o=>{const a=vl(n,r)||{},c=a.delay||n.delay||0;let{elapsed:l=0}=n;l=l-Ur(c);let u={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-l,onUpdate:h=>{e.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:r,motionValue:e,element:s?void 0:i};Hb(a)||(u={...u,...Vb(r,u)}),u.duration&&(u.duration=Ur(u.duration)),u.repeatDelay&&(u.repeatDelay=Ur(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),d&&!s&&e.get()!==void 0){const h=Fo(u.keyframes,a);if(h!==void 0)return ct.update(()=>{u.onUpdate(h),u.onComplete()}),new cg([])}return!s&&Gf.supports(u)?new Gf(u):new Ol(u)};function Kb({protectedKeys:r,needsAnimating:e},t){const n=r.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,n}function kd(r,e,{delay:t=0,transitionOverride:n,type:i}={}){var s;let{transition:o=r.getDefaultTransition(),transitionEnd:a,...c}=e;n&&(o=n);const l=[],u=i&&r.animationState&&r.animationState.getState()[i];for(const d in c){const h=r.getValue(d,(s=r.latestValues[d])!==null&&s!==void 0?s:null),g=c[d];if(g===void 0||u&&Kb(u,d))continue;const b={delay:t,...vl(o||{},d)};let y=!1;if(window.MotionHandoffAnimation){const w=Jh(r);if(w){const _=window.MotionHandoffAnimation(w,d,ct);_!==null&&(b.startTime=_,y=!0)}}xc(r,d),h.start(Ll(d,h,g,r.shouldReduceMotion&&Wh.has(d)?{type:!1}:b,r,y));const E=h.animation;E&&l.push(E)}return a&&Promise.all(l).then(()=>{ct.update(()=>{a&&Ag(r,a)})}),l}function Ec(r,e,t={}){var n;const i=Lo(r,e,t.type==="exit"?(n=r.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:s=r.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(s=t.transitionOverride);const o=i?()=>Promise.all(kd(r,i,t)):()=>Promise.resolve(),a=r.variantChildren&&r.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=s;return Gb(r,e,u+l,d,h,t)}:()=>Promise.resolve(),{when:c}=s;if(c){const[l,u]=c==="beforeChildren"?[o,a]:[a,o];return l().then(()=>u())}else return Promise.all([o(),a(t.delay)])}function Gb(r,e,t=0,n=0,i=1,s){const o=[],a=(r.variantChildren.size-1)*n,c=i===1?(l=0)=>l*n:(l=0)=>a-l*n;return Array.from(r.variantChildren).sort(zb).forEach((l,u)=>{l.notify("AnimationStart",e),o.push(Ec(l,e,{...s,delay:t+c(u)}).then(()=>l.notify("AnimationComplete",e)))}),Promise.all(o)}function zb(r,e){return r.sortNodePosition(e)}function qb(r,e,t={}){r.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>Ec(r,s,t));n=Promise.all(i)}else if(typeof e=="string")n=Ec(r,e,t);else{const i=typeof e=="function"?Lo(r,e,t.custom):e;n=Promise.all(kd(r,i,t))}return n.then(()=>{r.notify("AnimationComplete",e)})}const Wb=ll.length;function Cd(r){if(!r)return;if(!r.isControllingVariants){const t=r.parent?Cd(r.parent)||{}:{};return r.props.initial!==void 0&&(t.initial=r.props.initial),t}const e={};for(let t=0;t<Wb;t++){const n=ll[t],i=r.props[n];(ss(i)||i===!1)&&(e[n]=i)}return e}const Yb=[...cl].reverse(),Jb=cl.length;function Xb(r){return e=>Promise.all(e.map(({animation:t,options:n})=>qb(r,t,n)))}function Qb(r){let e=Xb(r),t=zf(),n=!0;const i=c=>(l,u)=>{var d;const h=Lo(r,u,c==="exit"?(d=r.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(h){const{transition:g,transitionEnd:b,...y}=h;l={...l,...y,...b}}return l};function s(c){e=c(r)}function o(c){const{props:l}=r,u=Cd(r.parent)||{},d=[],h=new Set;let g={},b=1/0;for(let E=0;E<Jb;E++){const w=Yb[E],_=t[w],R=l[w]!==void 0?l[w]:u[w],F=ss(R),L=w===c?_.isActive:null;L===!1&&(b=E);let P=R===u[w]&&R!==l[w]&&F;if(P&&n&&r.manuallyAnimateOnMount&&(P=!1),_.protectedKeys={...g},!_.isActive&&L===null||!R&&!_.prevProp||Io(R)||typeof R=="boolean")continue;const U=Zb(_.prevProp,R);let q=U||w===c&&_.isActive&&!P&&F||E>b&&F,fe=!1;const Y=Array.isArray(R)?R:[R];let Q=Y.reduce(i(w),{});L===!1&&(Q={});const{prevResolvedValues:Z={}}=_,N={...Z,...Q},p=B=>{q=!0,h.has(B)&&(fe=!0,h.delete(B)),_.needsAnimating[B]=!0;const O=r.getValue(B);O&&(O.liveStyle=!1)};for(const B in N){const O=Q[B],G=Z[B];if(g.hasOwnProperty(B))continue;let V=!1;dc(O)&&dc(G)?V=!$h(O,G):V=O!==G,V?O!=null?p(B):h.add(B):O!==void 0&&h.has(B)?p(B):_.protectedKeys[B]=!0}_.prevProp=R,_.prevResolvedValues=Q,_.isActive&&(g={...g,...Q}),n&&r.blockInitialAnimation&&(q=!1),q&&(!(P&&U)||fe)&&d.push(...Y.map(B=>({animation:B,options:{type:w}})))}if(h.size){const E={};h.forEach(w=>{const _=r.getBaseTarget(w),R=r.getValue(w);R&&(R.liveStyle=!0),E[w]=_??null}),d.push({animation:E})}let y=!!d.length;return n&&(l.initial===!1||l.initial===l.animate)&&!r.manuallyAnimateOnMount&&(y=!1),n=!1,y?e(d):Promise.resolve()}function a(c,l){var u;if(t[c].isActive===l)return Promise.resolve();(u=r.variantChildren)===null||u===void 0||u.forEach(h=>{var g;return(g=h.animationState)===null||g===void 0?void 0:g.setActive(c,l)}),t[c].isActive=l;const d=o(c);for(const h in t)t[h].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t,reset:()=>{t=zf(),n=!0}}}function Zb(r,e){return typeof e=="string"?e!==r:Array.isArray(e)?!$h(e,r):!1}function Sn(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function zf(){return{animate:Sn(!0),whileInView:Sn(),whileHover:Sn(),whileTap:Sn(),whileDrag:Sn(),whileFocus:Sn(),exit:Sn()}}class dn{constructor(e){this.isMounted=!1,this.node=e}update(){}}class e2 extends dn{constructor(e){super(e),e.animationState||(e.animationState=Qb(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Io(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let t2=0;class r2 extends dn{constructor(){super(...arguments),this.id=t2++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const n2={animation:{Feature:e2},exit:{Feature:r2}};function ls(r,e,t,n={passive:!0}){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t)}function As(r){return{point:{x:r.pageX,y:r.pageY}}}const i2=r=>e=>Tl(e)&&r(e,As(e));function Wi(r,e,t,n){return ls(r,e,i2(t),n)}const qf=(r,e)=>Math.abs(r-e);function s2(r,e){const t=qf(r.x,e.x),n=qf(r.y,e.y);return Math.sqrt(t**2+n**2)}class Md{constructor(e,t,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Ca(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,g=s2(d.offset,{x:0,y:0})>=3;if(!h&&!g)return;const{point:b}=d,{timestamp:y}=kt;this.history.push({...b,timestamp:y});const{onStart:E,onMove:w}=this.handlers;h||(E&&E(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=ka(h,this.transformPagePoint),ct.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:g,onSessionEnd:b,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Ca(d.type==="pointercancel"?this.lastMoveEventInfo:ka(h,this.transformPagePoint),this.history);this.startEvent&&g&&g(d,E),b&&b(d,E)},!Tl(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=n,this.contextWindow=i||window;const o=As(e),a=ka(o,this.transformPagePoint),{point:c}=a,{timestamp:l}=kt;this.history=[{...c,timestamp:l}];const{onSessionStart:u}=t;u&&u(e,Ca(a,this.history)),this.removeListeners=vs(Wi(this.contextWindow,"pointermove",this.handlePointerMove),Wi(this.contextWindow,"pointerup",this.handlePointerUp),Wi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ln(this.updatePoint)}}function ka(r,e){return e?{point:e(r.point)}:r}function Wf(r,e){return{x:r.x-e.x,y:r.y-e.y}}function Ca({point:r},e){return{point:r,delta:Wf(r,_d(e)),offset:Wf(r,o2(e)),velocity:a2(e,.1)}}function o2(r){return r[0]}function _d(r){return r[r.length-1]}function a2(r,e){if(r.length<2)return{x:0,y:0};let t=r.length-1,n=null;const i=_d(r);for(;t>=0&&(n=r[t],!(i.timestamp-n.timestamp>Ur(e)));)t--;if(!n)return{x:0,y:0};const s=$r(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const Nd=1e-4,c2=1-Nd,l2=1+Nd,Rd=.01,f2=0-Rd,u2=0+Rd;function Wt(r){return r.max-r.min}function h2(r,e,t){return Math.abs(r-e)<=t}function Yf(r,e,t,n=.5){r.origin=n,r.originPoint=ut(e.min,e.max,r.origin),r.scale=Wt(t)/Wt(e),r.translate=ut(t.min,t.max,r.origin)-r.originPoint,(r.scale>=c2&&r.scale<=l2||isNaN(r.scale))&&(r.scale=1),(r.translate>=f2&&r.translate<=u2||isNaN(r.translate))&&(r.translate=0)}function Yi(r,e,t,n){Yf(r.x,e.x,t.x,n?n.originX:void 0),Yf(r.y,e.y,t.y,n?n.originY:void 0)}function Jf(r,e,t){r.min=t.min+e.min,r.max=r.min+Wt(e)}function d2(r,e,t){Jf(r.x,e.x,t.x),Jf(r.y,e.y,t.y)}function Xf(r,e,t){r.min=e.min-t.min,r.max=r.min+Wt(e)}function Ji(r,e,t){Xf(r.x,e.x,t.x),Xf(r.y,e.y,t.y)}function p2(r,{min:e,max:t},n){return e!==void 0&&r<e?r=n?ut(e,r,n.min):Math.max(r,e):t!==void 0&&r>t&&(r=n?ut(t,r,n.max):Math.min(r,t)),r}function Qf(r,e,t){return{min:e!==void 0?r.min+e:void 0,max:t!==void 0?r.max+t-(r.max-r.min):void 0}}function m2(r,{top:e,left:t,bottom:n,right:i}){return{x:Qf(r.x,t,i),y:Qf(r.y,e,n)}}function Zf(r,e){let t=e.min-r.min,n=e.max-r.max;return e.max-e.min<r.max-r.min&&([t,n]=[n,t]),{min:t,max:n}}function x2(r,e){return{x:Zf(r.x,e.x),y:Zf(r.y,e.y)}}function g2(r,e){let t=.5;const n=Wt(r),i=Wt(e);return i>n?t=mi(e.min,e.max-n,r.min):n>i&&(t=mi(r.min,r.max-i,e.min)),Vr(0,1,t)}function b2(r,e){const t={};return e.min!==void 0&&(t.min=e.min-r.min),e.max!==void 0&&(t.max=e.max-r.min),t}const Tc=.35;function y2(r=Tc){return r===!1?r=0:r===!0&&(r=Tc),{x:eu(r,"left","right"),y:eu(r,"top","bottom")}}function eu(r,e,t){return{min:tu(r,e),max:tu(r,t)}}function tu(r,e){return typeof r=="number"?r:r[e]||0}const ru=()=>({translate:0,scale:1,origin:0,originPoint:0}),si=()=>({x:ru(),y:ru()}),nu=()=>({min:0,max:0}),gt=()=>({x:nu(),y:nu()});function Zt(r){return[r("x"),r("y")]}function Pd({top:r,left:e,right:t,bottom:n}){return{x:{min:e,max:t},y:{min:r,max:n}}}function w2({x:r,y:e}){return{top:e.min,right:r.max,bottom:e.max,left:r.min}}function v2(r,e){if(!e)return r;const t=e({x:r.left,y:r.top}),n=e({x:r.right,y:r.bottom});return{top:t.y,left:t.x,bottom:n.y,right:n.x}}function Ma(r){return r===void 0||r===1}function Sc({scale:r,scaleX:e,scaleY:t}){return!Ma(r)||!Ma(e)||!Ma(t)}function kn(r){return Sc(r)||Bd(r)||r.z||r.rotate||r.rotateX||r.rotateY||r.skewX||r.skewY}function Bd(r){return iu(r.x)||iu(r.y)}function iu(r){return r&&r!=="0%"}function ho(r,e,t){const n=r-t,i=e*n;return t+i}function su(r,e,t,n,i){return i!==void 0&&(r=ho(r,i,n)),ho(r,t,n)+e}function kc(r,e=0,t=1,n,i){r.min=su(r.min,e,t,n,i),r.max=su(r.max,e,t,n,i)}function Id(r,{x:e,y:t}){kc(r.x,e.translate,e.scale,e.originPoint),kc(r.y,t.translate,t.scale,t.originPoint)}const ou=.999999999999,au=1.0000000000001;function A2(r,e,t,n=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=t[a],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ai(r,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Id(r,o)),n&&kn(s.latestValues)&&ai(r,s.latestValues))}e.x<au&&e.x>ou&&(e.x=1),e.y<au&&e.y>ou&&(e.y=1)}function oi(r,e){r.min=r.min+e,r.max=r.max+e}function cu(r,e,t,n,i=.5){const s=ut(r.min,r.max,i);kc(r,e,t,s,n)}function ai(r,e){cu(r.x,e.x,e.scaleX,e.scale,e.originX),cu(r.y,e.y,e.scaleY,e.scale,e.originY)}function Od(r,e){return Pd(v2(r.getBoundingClientRect(),e))}function E2(r,e,t){const n=Od(r,t),{scroll:i}=e;return i&&(oi(n.x,i.offset.x),oi(n.y,i.offset.y)),n}const Ld=({current:r})=>r?r.ownerDocument.defaultView:null,T2=new WeakMap;class S2{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(As(u).point)},s=(u,d)=>{const{drag:h,dragPropagation:g,onDragStart:b}=this.getProps();if(h&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=gg(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zt(E=>{let w=this.getAxisMotionValue(E).get()||0;if(Ar.test(w)){const{projection:_}=this.visualElement;if(_&&_.layout){const R=_.layout.layoutBox[E];R&&(w=Wt(R)*(parseFloat(w)/100))}}this.originPoint[E]=w}),b&&ct.postRender(()=>b(u,d)),xc(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:h,dragDirectionLock:g,onDirectionLock:b,onDrag:y}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:E}=d;if(g&&this.currentDirection===null){this.currentDirection=k2(E),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",d.point,E),this.updateAxis("y",d.point,E),this.visualElement.render(),y&&y(u,d)},a=(u,d)=>this.stop(u,d),c=()=>Zt(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:l}=this.getProps();this.panSession=new Md(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,contextWindow:Ld(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&ct.postRender(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:i}=this.getProps();if(!n||!Bs(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=p2(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&ni(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=m2(i.layoutBox,t):this.constraints=!1,this.elastic=y2(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Zt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=b2(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!ni(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=E2(n,i.root,this.visualElement.getTransformPagePoint());let o=x2(i.layout.layoutBox,s);if(t){const a=t(w2(o));this.hasMutatedConstraints=!!a,a&&(o=Pd(a))}return o}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},l=Zt(u=>{if(!Bs(u,t,this.currentDirection))return;let d=c&&c[u]||{};o&&(d={min:0,max:0});const h=i?200:1e6,g=i?40:1e7,b={type:"inertia",velocity:n?e[u]:0,bounceStiffness:h,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,b)});return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return xc(this.visualElement,e),n.start(Ll(e,n,0,t,this.visualElement,!1))}stopAnimation(){Zt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Zt(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[t];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Zt(t=>{const{drag:n}=this.getProps();if(!Bs(t,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[t];s.set(e[t]-ut(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!ni(t)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Zt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const c=a.get();i[o]=g2({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Zt(o=>{if(!Bs(o,e,null))return;const a=this.getAxisMotionValue(o),{min:c,max:l}=this.constraints[o];a.set(ut(c,l,i[o]))})}addListeners(){if(!this.visualElement.current)return;T2.set(this.visualElement,this);const e=this.visualElement.current,t=Wi(e,"pointerdown",c=>{const{drag:l,dragListener:u=!0}=this.getProps();l&&u&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();ni(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ct.read(n);const o=ls(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:l})=>{this.isDragging&&l&&(Zt(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=c[u].translate,d.set(d.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Tc,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Bs(r,e,t){return(e===!0||e===r)&&(t===null||t===r)}function k2(r,e=10){let t=null;return Math.abs(r.y)>e?t="y":Math.abs(r.x)>e&&(t="x"),t}class C2 extends dn{constructor(e){super(e),this.removeGroupControls=qt,this.removeListeners=qt,this.controls=new S2(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qt}unmount(){this.removeGroupControls(),this.removeListeners()}}const lu=r=>(e,t)=>{r&&ct.postRender(()=>r(e,t))};class M2 extends dn{constructor(){super(...arguments),this.removePointerDownListener=qt}onPointerDown(e){this.session=new Md(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ld(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:lu(e),onStart:lu(t),onMove:n,onEnd:(s,o)=>{delete this.session,i&&ct.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Wi(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ys={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function fu(r,e){return e.max===e.min?0:r/(e.max-e.min)*100}const Ii={correct:(r,e)=>{if(!e.target)return r;if(typeof r=="string")if(Ce.test(r))r=parseFloat(r);else return r;const t=fu(r,e.target.x),n=fu(r,e.target.y);return`${t}% ${n}%`}},_2={correct:(r,{treeScale:e,projectionDelta:t})=>{const n=r,i=fn.parse(r);if(i.length>5)return n;const s=fn.createTransformer(r),o=typeof i[0]!="number"?1:0,a=t.x.scale*e.x,c=t.y.scale*e.y;i[0+o]/=a,i[1+o]/=c;const l=ut(a,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=l),typeof i[3+o]=="number"&&(i[3+o]/=l),s(i)}};class N2 extends le.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;J1(R2),s&&(t.group&&t.group.add(s),n&&n.register&&i&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Ys.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:i,isPresent:s}=this.props,o=n.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||ct.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ul.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Fd(r){const[e,t]=yh(),n=le.useContext(rl);return z.jsx(N2,{...r,layoutGroup:n,switchLayoutGroup:le.useContext(Ch),isPresent:e,safeToRemove:t})}const R2={borderRadius:{...Ii,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ii,borderTopRightRadius:Ii,borderBottomLeftRadius:Ii,borderBottomRightRadius:Ii,boxShadow:_2};function P2(r,e,t){const n=Ot(r)?r:as(r);return n.start(Ll("",n,e,t)),n.animation}function B2(r){return r instanceof SVGElement&&r.tagName!=="svg"}const I2=(r,e)=>r.depth-e.depth;class O2{constructor(){this.children=[],this.isDirty=!1}add(e){Sl(this.children,e),this.isDirty=!0}remove(e){kl(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(I2),this.isDirty=!1,this.children.forEach(e)}}function L2(r,e){const t=Er.now(),n=({timestamp:i})=>{const s=i-t;s>=e&&(ln(n),r(s-e))};return ct.read(n,!0),()=>ln(n)}const Dd=["TopLeft","TopRight","BottomLeft","BottomRight"],F2=Dd.length,uu=r=>typeof r=="string"?parseFloat(r):r,hu=r=>typeof r=="number"||Ce.test(r);function D2(r,e,t,n,i,s){i?(r.opacity=ut(0,t.opacity!==void 0?t.opacity:1,U2(n)),r.opacityExit=ut(e.opacity!==void 0?e.opacity:1,0,$2(n))):s&&(r.opacity=ut(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,n));for(let o=0;o<F2;o++){const a=`border${Dd[o]}Radius`;let c=du(e,a),l=du(t,a);if(c===void 0&&l===void 0)continue;c||(c=0),l||(l=0),c===0||l===0||hu(c)===hu(l)?(r[a]=Math.max(ut(uu(c),uu(l),n),0),(Ar.test(l)||Ar.test(c))&&(r[a]+="%")):r[a]=l}(e.rotate||t.rotate)&&(r.rotate=ut(e.rotate||0,t.rotate||0,n))}function du(r,e){return r[e]!==void 0?r[e]:r.borderRadius}const U2=Ud(0,.5,nd),$2=Ud(.5,.95,qt);function Ud(r,e,t){return n=>n<r?0:n>e?1:t(mi(r,e,n))}function pu(r,e){r.min=e.min,r.max=e.max}function Jt(r,e){pu(r.x,e.x),pu(r.y,e.y)}function mu(r,e){r.translate=e.translate,r.scale=e.scale,r.originPoint=e.originPoint,r.origin=e.origin}function xu(r,e,t,n,i){return r-=e,r=ho(r,1/t,n),i!==void 0&&(r=ho(r,1/i,n)),r}function j2(r,e=0,t=1,n=.5,i,s=r,o=r){if(Ar.test(e)&&(e=parseFloat(e),e=ut(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ut(s.min,s.max,n);r===s&&(a-=e),r.min=xu(r.min,e,t,a,i),r.max=xu(r.max,e,t,a,i)}function gu(r,e,[t,n,i],s,o){j2(r,e[t],e[n],e[i],e.scale,s,o)}const V2=["x","scaleX","originX"],H2=["y","scaleY","originY"];function bu(r,e,t,n){gu(r.x,e,V2,t?t.x:void 0,n?n.x:void 0),gu(r.y,e,H2,t?t.y:void 0,n?n.y:void 0)}function yu(r){return r.translate===0&&r.scale===1}function $d(r){return yu(r.x)&&yu(r.y)}function wu(r,e){return r.min===e.min&&r.max===e.max}function K2(r,e){return wu(r.x,e.x)&&wu(r.y,e.y)}function vu(r,e){return Math.round(r.min)===Math.round(e.min)&&Math.round(r.max)===Math.round(e.max)}function jd(r,e){return vu(r.x,e.x)&&vu(r.y,e.y)}function Au(r){return Wt(r.x)/Wt(r.y)}function Eu(r,e){return r.translate===e.translate&&r.scale===e.scale&&r.originPoint===e.originPoint}class G2{constructor(){this.members=[]}add(e){Sl(this.members,e),e.scheduleRender()}remove(e){if(kl(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let n;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function z2(r,e,t){let n="";const i=r.x.translate/e.x,s=r.y.translate/e.y,o=(t==null?void 0:t.z)||0;if((i||s||o)&&(n=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:l,rotate:u,rotateX:d,rotateY:h,skewX:g,skewY:b}=t;l&&(n=`perspective(${l}px) ${n}`),u&&(n+=`rotate(${u}deg) `),d&&(n+=`rotateX(${d}deg) `),h&&(n+=`rotateY(${h}deg) `),g&&(n+=`skewX(${g}deg) `),b&&(n+=`skewY(${b}deg) `)}const a=r.x.scale*e.x,c=r.y.scale*e.y;return(a!==1||c!==1)&&(n+=`scale(${a}, ${c})`),n||"none"}const Cn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ki=typeof window<"u"&&window.MotionDebug!==void 0,_a=["","X","Y","Z"],q2={visibility:"hidden"},Tu=1e3;let W2=0;function Na(r,e,t,n){const{latestValues:i}=e;i[r]&&(t[r]=i[r],e.setStaticValue(r,0),n&&(n[r]=0))}function Vd(r){if(r.hasCheckedOptimisedAppear=!0,r.root===r)return;const{visualElement:e}=r.options;if(!e)return;const t=Jh(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:s}=r.options;window.MotionCancelOptimisedAnimation(t,"transform",ct,!(i||s))}const{parent:n}=r;n&&!n.hasCheckedOptimisedAppear&&Vd(n)}function Hd({attachResizeListener:r,defaultParent:e,measureScroll:t,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=W2++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ki&&(Cn.totalNodes=Cn.resolvedTargetDeltas=Cn.recalculatedProjection=0),this.nodes.forEach(X2),this.nodes.forEach(ry),this.nodes.forEach(ny),this.nodes.forEach(Q2),Ki&&window.MotionDebug.record(Cn)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new O2)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Cl),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=B2(o),this.instance=o;const{layoutId:c,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(l||c)&&(this.isLayoutDirty=!0),r){let d;const h=()=>this.root.updateBlockedByResize=!1;r(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=L2(h,250),Ys.hasAnimatedSinceResize&&(Ys.hasAnimatedSinceResize=!1,this.nodes.forEach(ku))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:g,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||cy,{onLayoutAnimationStart:E,onLayoutAnimationComplete:w}=u.getProps(),_=!this.targetLayout||!jd(this.targetLayout,b)||g,R=!h&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||R||h&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,R);const F={...vl(y,"layout"),onPlay:E,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F)}else h||ku(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ln(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(iy),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Vd(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Su);return}this.isUpdating||this.nodes.forEach(ey),this.isUpdating=!1,this.nodes.forEach(ty),this.nodes.forEach(Y2),this.nodes.forEach(J2),this.clearAllSnapshots();const a=Er.now();kt.delta=Vr(0,1e3/60,a-kt.timestamp),kt.timestamp=a,kt.isProcessing=!0,wa.update.process(kt),wa.preRender.process(kt),wa.render.process(kt),kt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ul.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Z2),this.sharedNodes.forEach(sy)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ct.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ct.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!$d(this.projectionDelta),c=this.getTransformTemplate(),l=c?c(this.latestValues,""):void 0,u=l!==this.prevTransformTemplateValue;o&&(a||kn(this.latestValues)||u)&&(i(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),ly(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return gt();const c=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(fy))){const{scroll:u}=this.root;u&&(oi(c.x,u.offset.x),oi(c.y,u.offset.y))}return c}removeElementScroll(o){var a;const c=gt();if(Jt(c,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return c;for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:h}=u;u!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&Jt(c,o),oi(c.x,d.offset.x),oi(c.y,d.offset.y))}return c}applyTransform(o,a=!1){const c=gt();Jt(c,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ai(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),kn(u.latestValues)&&ai(c,u.latestValues)}return kn(this.latestValues)&&ai(c,this.latestValues),c}removeTransform(o){const a=gt();Jt(a,o);for(let c=0;c<this.path.length;c++){const l=this.path[c];if(!l.instance||!kn(l.latestValues))continue;Sc(l.latestValues)&&l.updateSnapshot();const u=gt(),d=l.measurePageBox();Jt(u,d),bu(a,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,u)}return kn(this.latestValues)&&bu(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==kt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==c;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=kt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),Ji(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Jt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=gt(),this.targetWithTransforms=gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),d2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Jt(this.target,this.layout.layoutBox),Id(this.target,this.targetDelta)):Jt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),Ji(this.relativeTargetOrigin,this.target,g.target),Jt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ki&&Cn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Sc(this.parent.latestValues)||Bd(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(l=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===kt.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Jt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,g=this.treeScale.y;A2(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=gt());const{target:b}=a;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(mu(this.prevProjectionDelta.x,this.projectionDelta.x),mu(this.prevProjectionDelta.y,this.projectionDelta.y)),Yi(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==g||!Eu(this.projectionDelta.x,this.prevProjectionDelta.x)||!Eu(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),Ki&&Cn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=si(),this.projectionDelta=si(),this.projectionDeltaWithTransform=si()}setAnimationOrigin(o,a=!1){const c=this.snapshot,l=c?c.latestValues:{},u={...this.latestValues},d=si();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=gt(),g=c?c.source:void 0,b=this.layout?this.layout.source:void 0,y=g!==b,E=this.getStack(),w=!E||E.members.length<=1,_=!!(y&&!w&&this.options.crossfade===!0&&!this.path.some(ay));this.animationProgress=0;let R;this.mixTargetDelta=F=>{const L=F/1e3;Cu(d.x,o.x,L),Cu(d.y,o.y,L),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ji(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),oy(this.relativeTarget,this.relativeTargetOrigin,h,L),R&&K2(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=gt()),Jt(R,this.relativeTarget)),y&&(this.animationValues=u,D2(u,l,this.latestValues,L,_,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ln(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ct.update(()=>{Ys.hasAnimatedSinceResize=!0,this.currentAnimation=P2(0,Tu,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Tu),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:l,latestValues:u}=o;if(!(!a||!c||!l)){if(this!==o&&this.layout&&l&&Kd(this.options.animationType,this.layout.layoutBox,l.layoutBox)){c=this.target||gt();const d=Wt(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+d;const h=Wt(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}Jt(a,c),ai(a,u),Yi(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new G2),this.sharedNodes.get(o).add(a);const l=a.options.initialPromotionConfig;a.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const l=this.getStack();l&&l.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const l={};c.z&&Na("z",o,l,this.animationValues);for(let u=0;u<_a.length;u++)Na(`rotate${_a[u]}`,o,l,this.animationValues),Na(`skew${_a[u]}`,o,l,this.animationValues);o.render();for(const u in l)o.setStaticValue(u,l[u]),this.animationValues&&(this.animationValues[u]=l[u]);o.scheduleRender()}getProjectionStyles(o){var a,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return q2;const l={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=qs(o==null?void 0:o.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none",l;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=qs(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!kn(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),l.transform=z2(this.projectionDeltaWithTransform,this.treeScale,h),u&&(l.transform=u(h,l.transform));const{x:g,y:b}=this.projectionDelta;l.transformOrigin=`${g.origin*100}% ${b.origin*100}% 0`,d.animationValues?l.opacity=d===this?(c=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:l.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in ao){if(h[y]===void 0)continue;const{correct:E,applyTo:w}=ao[y],_=l.transform==="none"?h[y]:E(h[y],d);if(w){const R=w.length;for(let F=0;F<R;F++)l[w[F]]=_}else l[y]=_}return this.options.layoutId&&(l.pointerEvents=d===this?qs(o==null?void 0:o.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Su),this.root.sharedNodes.clear()}}}function Y2(r){r.updateLayout()}function J2(r){var e;const t=((e=r.resumeFrom)===null||e===void 0?void 0:e.snapshot)||r.snapshot;if(r.isLead()&&r.layout&&t&&r.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=r.layout,{animationType:s}=r.options,o=t.source!==r.layout.source;s==="size"?Zt(d=>{const h=o?t.measuredBox[d]:t.layoutBox[d],g=Wt(h);h.min=n[d].min,h.max=h.min+g}):Kd(s,t.layoutBox,n)&&Zt(d=>{const h=o?t.measuredBox[d]:t.layoutBox[d],g=Wt(n[d]);h.max=h.min+g,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[d].max=r.relativeTarget[d].min+g)});const a=si();Yi(a,n,t.layoutBox);const c=si();o?Yi(c,r.applyTransform(i,!0),t.measuredBox):Yi(c,n,t.layoutBox);const l=!$d(a);let u=!1;if(!r.resumeFrom){const d=r.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:g}=d;if(h&&g){const b=gt();Ji(b,t.layoutBox,h.layoutBox);const y=gt();Ji(y,n,g.layoutBox),jd(b,y)||(u=!0),d.options.layoutRoot&&(r.relativeTarget=y,r.relativeTargetOrigin=b,r.relativeParent=d)}}}r.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:u})}else if(r.isLead()){const{onExitComplete:n}=r.options;n&&n()}r.options.transition=void 0}function X2(r){Ki&&Cn.totalNodes++,r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function Q2(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function Z2(r){r.clearSnapshot()}function Su(r){r.clearMeasurements()}function ey(r){r.isLayoutDirty=!1}function ty(r){const{visualElement:e}=r.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),r.resetTransform()}function ku(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function ry(r){r.resolveTargetDelta()}function ny(r){r.calcProjection()}function iy(r){r.resetSkewAndRotation()}function sy(r){r.removeLeadSnapshot()}function Cu(r,e,t){r.translate=ut(e.translate,0,t),r.scale=ut(e.scale,1,t),r.origin=e.origin,r.originPoint=e.originPoint}function Mu(r,e,t,n){r.min=ut(e.min,t.min,n),r.max=ut(e.max,t.max,n)}function oy(r,e,t,n){Mu(r.x,e.x,t.x,n),Mu(r.y,e.y,t.y,n)}function ay(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const cy={duration:.45,ease:[.4,0,.1,1]},_u=r=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(r),Nu=_u("applewebkit/")&&!_u("chrome/")?Math.round:qt;function Ru(r){r.min=Nu(r.min),r.max=Nu(r.max)}function ly(r){Ru(r.x),Ru(r.y)}function Kd(r,e,t){return r==="position"||r==="preserve-aspect"&&!h2(Au(e),Au(t),.2)}function fy(r){var e;return r!==r.root&&((e=r.scroll)===null||e===void 0?void 0:e.wasRoot)}const uy=Hd({attachResizeListener:(r,e)=>ls(r,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ra={current:void 0},Gd=Hd({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!Ra.current){const r=new uy({});r.mount(window),r.setOptions({layoutScroll:!0}),Ra.current=r}return Ra.current},resetTransform:(r,e)=>{r.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),hy={pan:{Feature:M2},drag:{Feature:C2,ProjectionNode:Gd,MeasureLayout:Fd}};function Pu(r,e,t){const{props:n}=r;r.animationState&&n.whileHover&&r.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,s=n[i];s&&ct.postRender(()=>s(e,As(e)))}class dy extends dn{mount(){const{current:e}=this.node;e&&(this.unmount=hg(e,t=>(Pu(this.node,t,"Start"),n=>Pu(this.node,n,"End"))))}unmount(){}}class py extends dn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vs(ls(this.node.current,"focus",()=>this.onFocus()),ls(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Bu(r,e,t){const{props:n}=r;r.animationState&&n.whileTap&&r.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),s=n[i];s&&ct.postRender(()=>s(e,As(e)))}class my extends dn{mount(){const{current:e}=this.node;e&&(this.unmount=xg(e,t=>(Bu(this.node,t,"Start"),(n,{success:i})=>Bu(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Cc=new WeakMap,Pa=new WeakMap,xy=r=>{const e=Cc.get(r.target);e&&e(r)},gy=r=>{r.forEach(xy)};function by({root:r,...e}){const t=r||document;Pa.has(t)||Pa.set(t,{});const n=Pa.get(t),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(gy,{root:r,...e})),n[i]}function yy(r,e,t){const n=by(e);return Cc.set(r,t),n.observe(r),()=>{Cc.delete(r),n.unobserve(r)}}const wy={some:0,all:1};class vy extends dn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:i="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:wy[i]},a=c=>{const{isIntersecting:l}=c;if(this.isInView===l||(this.isInView=l,s&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=l?u:d;h&&h(c)};return yy(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(Ay(e,t))&&this.startObserver()}unmount(){}}function Ay({viewport:r={}},{viewport:e={}}={}){return t=>r[t]!==e[t]}const Ey={inView:{Feature:vy},tap:{Feature:my},focus:{Feature:py},hover:{Feature:dy}},Ty={layout:{ProjectionNode:Gd,MeasureLayout:Fd}},Mc={current:null},zd={current:!1};function Sy(){if(zd.current=!0,!!sl)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),e=()=>Mc.current=r.matches;r.addListener(e),e()}else Mc.current=!1}const ky=[...gd,Pt,fn],Cy=r=>ky.find(xd(r)),Iu=new WeakMap;function My(r,e,t){for(const n in e){const i=e[n],s=t[n];if(Ot(i))r.addValue(n,i);else if(Ot(s))r.addValue(n,as(i,{owner:r}));else if(s!==i)if(r.hasValue(n)){const o=r.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=r.getStaticValue(n);r.addValue(n,as(o!==void 0?o:i,{owner:r}))}}for(const n in t)e[n]===void 0&&r.removeValue(n);return e}const Ou=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class _y{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Bl,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Er.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,ct.render(this.render,!1,!0))};const{latestValues:c,renderState:l,onUpdate:u}=o;this.onUpdate=u,this.latestValues=c,this.baseTarget={...c},this.initialValues=t.initial?{...c}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Oo(t),this.isVariantNode=Sh(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(t,{},this);for(const g in h){const b=h[g];c[g]!==void 0&&Ot(b)&&b.set(c[g],!1)}}mount(e){this.current=e,Iu.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,n)=>this.bindToMotionValue(n,t)),zd.current||Sy(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Mc.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Iu.delete(this.current),this.projection&&this.projection.unmount(),ln(this.notifyUpdate),ln(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=jn.has(e),i=t.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&ct.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in xi){const t=xi[e];if(!t)continue;const{isEnabled:n,Feature:i}=t;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Ou.length;n++){const i=Ou[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=My(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=as(t===null?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(pd(i)||sd(i))?i=parseFloat(i):!Cy(i)&&fn.test(t)&&(i=ud(e,t)),this.setBaseTarget(e,Ot(i)?i.get():i)),Ot(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=dl(this.props,n,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);o&&(i=o[e])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ot(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Cl),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class qd extends _y{constructor(){super(...arguments),this.KeyframeResolver=bd}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ot(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function Ny(r){return window.getComputedStyle(r)}class Ry extends qd{constructor(){super(...arguments),this.type="html",this.renderInstance=Ih}readValueFromInstance(e,t){if(jn.has(t)){const n=Pl(t);return n&&n.default||0}else{const n=Ny(e),i=(Rh(t)?n.getPropertyValue(t):n[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return Od(e,t)}build(e,t,n){xl(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return wl(e,t,n)}}class Py extends qd{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=gt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(jn.has(t)){const n=Pl(t);return n&&n.default||0}return t=Oh.has(t)?t:fl(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return Dh(e,t,n)}build(e,t,n){gl(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,i){Lh(e,t,n,i)}mount(e){this.isSVGTag=yl(e.tagName),super.mount(e)}}const By=(r,e)=>hl(r)?new Py(e):new Ry(e,{allowProjection:r!==le.Fragment}),Iy=sg({...n2,...Ey,...hy,...Ty},By),tr=w1(Iy);var Wd={},Do={},Yd={},Uo={},Br={ALT:1,CAT:2,REP:3,RNM:4,TRG:5,TBS:6,TLS:7,UDT:11,AND:12,NOT:13,BKR:14,BKA:15,BKN:16,ABG:17,AEN:18,ACTIVE:100,MATCH:101,EMPTY:102,NOMATCH:103,SEM_PRE:200,SEM_POST:201,SEM_OK:300,SEM_SKIP:301,ATTR_N:400,ATTR_R:401,ATTR_MR:402,LOOKAROUND_NONE:500,LOOKAROUND_AHEAD:501,LOOKAROUND_BEHIND:502,BKR_MODE_UM:601,BKR_MODE_PM:602,BKR_MODE_CS:603,BKR_MODE_CI:604},Vn={},$o={CLASS_MONOSPACE:"apg-mono",CLASS_ACTIVE:"apg-active",CLASS_EMPTY:"apg-empty",CLASS_MATCH:"apg-match",CLASS_NOMATCH:"apg-nomatch",CLASS_LOOKAHEAD:"apg-lh-match",CLASS_LOOKBEHIND:"apg-lb-match",CLASS_REMAINDER:"apg-remainder",CLASS_CTRLCHAR:"apg-ctrl-char",CLASS_LINEEND:"apg-line-end",CLASS_ERROR:"apg-error",CLASS_PHRASE:"apg-phrase",CLASS_EMPTYPHRASE:"apg-empty-phrase",CLASS_STATE:"apg-state",CLASS_STATS:"apg-stats",CLASS_TRACE:"apg-trace",CLASS_GRAMMAR:"apg-grammar",CLASS_RULES:"apg-rules",CLASS_RULESLINK:"apg-rules-link",CLASS_ATTRIBUTES:"apg-attrs"},Fl={},Jd={};(function(r){"use strict;";const{Buffer:e}=No,t=4294967292,n=4294967293,i=4294967294,s=4294967295,o=[0,1,3,7,15,31,63,127,255,511,1023],a=["00","01","02","03","04","05","06","07","08","09","0A","0B","0C","0D","0E","0F","10","11","12","13","14","15","16","17","18","19","1A","1B","1C","1D","1E","1F","20","21","22","23","24","25","26","27","28","29","2A","2B","2C","2D","2E","2F","30","31","32","33","34","35","36","37","38","39","3A","3B","3C","3D","3E","3F","40","41","42","43","44","45","46","47","48","49","4A","4B","4C","4D","4E","4F","50","51","52","53","54","55","56","57","58","59","5A","5B","5C","5D","5E","5F","60","61","62","63","64","65","66","67","68","69","6A","6B","6C","6D","6E","6F","70","71","72","73","74","75","76","77","78","79","7A","7B","7C","7D","7E","7F","80","81","82","83","84","85","86","87","88","89","8A","8B","8C","8D","8E","8F","90","91","92","93","94","95","96","97","98","99","9A","9B","9C","9D","9E","9F","A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","AA","AB","AC","AD","AE","AF","B0","B1","B2","B3","B4","B5","B6","B7","B8","B9","BA","BB","BC","BD","BE","BF","C0","C1","C2","C3","C4","C5","C6","C7","C8","C9","CA","CB","CC","CD","CE","CF","D0","D1","D2","D3","D4","D5","D6","D7","D8","D9","DA","DB","DC","DD","DE","DF","E0","E1","E2","E3","E4","E5","E6","E7","E8","E9","EA","EB","EC","ED","EE","EF","F0","F1","F2","F3","F4","F5","F6","F7","F8","F9","FA","FB","FC","FD","FE","FF"],c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),l=[];c.forEach(h=>{l.push(h.charCodeAt(0))}),r.utf8={encode(h){const g=[];return h.forEach(b=>{if(b>=0&&b<=127)g.push(b);else if(b<=2047)g.push(192+(b>>6&o[5])),g.push(128+(b&o[6]));else if(b<55296||b>57343&&b<=65535)g.push(224+(b>>12&o[4])),g.push(128+(b>>6&o[6])),g.push(128+(b&o[6]));else if(b>=65536&&b<=1114111){const y=b>>16&o[5];g.push(240+(y>>2)),g.push(128+((y&o[2])<<4)+(b>>12&o[4])),g.push(128+(b>>6&o[6])),g.push(128+(b&o[6]))}else throw new RangeError(`utf8.encode: character out of range: char: ${b}`)}),e.from(g)},decode(h,g){function b(Y,Q){if((Q&192)!==128)return n;const Z=((Y&o[5])<<6)+(Q&o[6]);return Z<128?t:Z}function y(Y,Q,Z){if((Z&192)!==128||(Q&192)!==128)return n;const N=((Y&o[4])<<12)+((Q&o[6])<<6)+(Z&o[6]);return N<2048?t:N>=55296&&N<=57343?i:N}function E(Y,Q,Z,N){if((N&192)!==128||(Z&192)!==128||(Q&192)!==128)return n;const p=(((Y&o[3])<<2)+(Q>>4&o[2])<<16)+((Q&o[4])<<12)+((Z&o[6])<<6)+(N&o[6]);return p<65536?t:p>1114111?i:p}let w,_,R,F,L,P;const U=h.length;let q=g?3:0;const fe=[];for(;q<U;){_=h[q],w=s;const Y=!0;for(;Y;){if(_>=0&&_<=127){w=_,P=1;break}if(R=q+1,R<U&&_>=194&&_<=223){w=b(_,h[R]),P=2;break}if(F=q+2,F<U&&_>=224&&_<=239){w=y(_,h[R],h[F]),P=3;break}if(L=q+3,L<U&&_>=240&&_<=244){w=E(_,h[R],h[F],h[L]),P=4;break}break}if(w>1114111){const Q=`byte[${q}]`;throw w===s?new RangeError(`utf8.decode: ill-formed UTF8 byte sequence found at: ${Q}`):w===n?new RangeError(`utf8.decode: illegal trailing byte found at: ${Q}`):w===i?new RangeError(`utf8.decode: code point out of range found at: ${Q}`):w===t?new RangeError(`utf8.decode: non-shortest form found at: ${Q}`):new RangeError(`utf8.decode: unrecognized error found at: ${Q}`)}fe.push(w),q+=P}return fe}},r.utf16be={encode(h){const g=[];let b,y,E;for(let w=0;w<h.length;w+=1)if(b=h[w],b>=0&&b<=55295||b>=57344&&b<=65535)g.push(b>>8&o[8]),g.push(b&o[8]);else if(b>=65536&&b<=1114111)E=b-65536,y=55296+(E>>10),E=56320+(E&o[10]),g.push(y>>8&o[8]),g.push(y&o[8]),g.push(E>>8&o[8]),g.push(E&o[8]);else throw new RangeError(`utf16be.encode: UTF16BE value out of range: char[${w}]: ${b}`);return e.from(g)},decode(h,g){if(h.length%2>0)throw new RangeError(`utf16be.decode: data length must be even multiple of 2: length: ${h.length}`);const b=[],y=h.length;let E=g?2:0,w=0,_,R,F,L,P,U;for(;E<y;){for(;;){if(F=E+1,F<y){if(P=(h[E]<<8)+h[F],P<55296||P>57343){_=P,R=2;break}if(L=E+3,L<y&&(U=(h[E+2]<<8)+h[L],P<=56319&&U>=56320&&U<=57343)){_=65536+(P-55296<<10)+(U-56320),R=4;break}}throw new RangeError(`utf16be.decode: ill-formed UTF16BE byte sequence found: byte[${E}]`)}b[w++]=_,E+=R}return b}},r.utf16le={encode(h){const g=[];let b,y,E;for(let w=0;w<h.length;w+=1)if(b=h[w],b>=0&&b<=55295||b>=57344&&b<=65535)g.push(b&o[8]),g.push(b>>8&o[8]);else if(b>=65536&&b<=1114111)E=b-65536,y=55296+(E>>10),E=56320+(E&o[10]),g.push(y&o[8]),g.push(y>>8&o[8]),g.push(E&o[8]),g.push(E>>8&o[8]);else throw new RangeError(`utf16le.encode: UTF16LE value out of range: char[${w}]: ${b}`);return e.from(g)},decode(h,g){if(h.length%2>0)throw new RangeError(`utf16le.decode: data length must be even multiple of 2: length: ${h.length}`);const b=[],y=h.length;let E=g?2:0,w=0,_,R,F,L,P,U;for(;E<y;){for(;;){if(F=E+1,F<y){if(P=(h[F]<<8)+h[E],P<55296||P>57343){_=P,R=2;break}if(L=E+3,L<y&&(U=(h[L]<<8)+h[E+2],P<=56319&&U>=56320&&U<=57343)){_=65536+(P-55296<<10)+(U-56320),R=4;break}}throw new RangeError(`utf16le.decode: ill-formed UTF16LE byte sequence found: byte[${E}]`)}b[w++]=_,E+=R}return b}},r.utf32be={encode(h){const g=e.alloc(h.length*4);let b=0;return h.forEach(y=>{if(y>=55296&&y<=57343||y>1114111)throw new RangeError(`utf32be.encode: UTF32BE character code out of range: char[${b/4}]: ${y}`);g[b++]=y>>24&o[8],g[b++]=y>>16&o[8],g[b++]=y>>8&o[8],g[b++]=y&o[8]}),g},decode(h,g){if(h.length%4>0)throw new RangeError(`utf32be.decode: UTF32BE byte length must be even multiple of 4: length: ${h.length}`);const b=[];let y=g?4:0;for(;y<h.length;y+=4){const E=(h[y]<<24)+(h[y+1]<<16)+(h[y+2]<<8)+h[y+3];if(E>=55296&&E<=57343||E>1114111)throw new RangeError(`utf32be.decode: UTF32BE character code out of range: char[${y/4}]: ${E}`);b.push(E)}return b}},r.utf32le={encode(h){const g=e.alloc(h.length*4);let b=0;return h.forEach(y=>{if(y>=55296&&y<=57343||y>1114111)throw new RangeError(`utf32le.encode: UTF32LE character code out of range: char[${b/4}]: ${y}`);g[b++]=y&o[8],g[b++]=y>>8&o[8],g[b++]=y>>16&o[8],g[b++]=y>>24&o[8]}),g},decode(h,g){if(h.length%4>0)throw new RangeError(`utf32be.decode: UTF32LE byte length must be even multiple of 4: length: ${h.length}`);const b=[];let y=g?4:0;for(;y<h.length;y+=4){const E=(h[y+3]<<24)+(h[y+2]<<16)+(h[y+1]<<8)+h[y];if(E>=55296&&E<=57343||E>1114111)throw new RangeError(`utf32le.encode: UTF32LE character code out of range: char[${y/4}]: ${E}`);b.push(E)}return b}},r.uint7={encode(h){const g=e.alloc(h.length);for(let b=0;b<h.length;b+=1){if(h[b]>127)throw new RangeError(`uint7.encode: UINT7 character code out of range: char[${b}]: ${h[b]}`);g[b]=h[b]}return g},decode(h){const g=[];for(let b=0;b<h.length;b+=1){if(h[b]>127)throw new RangeError(`uint7.decode: UINT7 character code out of range: byte[${b}]: ${h[b]}`);g[b]=h[b]}return g}},r.uint8={encode(h){const g=e.alloc(h.length);for(let b=0;b<h.length;b+=1){if(h[b]>255)throw new RangeError(`uint8.encode: UINT8 character code out of range: char[${b}]: ${h[b]}`);g[b]=h[b]}return g},decode(h){const g=[];for(let b=0;b<h.length;b+=1)g[b]=h[b];return g}},r.uint16be={encode(h){const g=e.alloc(h.length*2);let b=0;return h.forEach(y=>{if(y>65535)throw new RangeError(`uint16be.encode: UINT16BE character code out of range: char[${b/2}]: ${y}`);g[b++]=y>>8&o[8],g[b++]=y&o[8]}),g},decode(h){if(h.length%2>0)throw new RangeError(`uint16be.decode: UINT16BE byte length must be even multiple of 2: length: ${h.length}`);const g=[];for(let b=0;b<h.length;b+=2)g.push((h[b]<<8)+h[b+1]);return g}},r.uint16le={encode(h){const g=e.alloc(h.length*2);let b=0;return h.forEach(y=>{if(y>65535)throw new RangeError(`uint16le.encode: UINT16LE character code out of range: char[${b/2}]: ${y}`);g[b++]=y&o[8],g[b++]=y>>8&o[8]}),g},decode(h){if(h.length%2>0)throw new RangeError(`uint16le.decode: UINT16LE byte length must be even multiple of 2: length: ${h.length}`);const g=[];for(let b=0;b<h.length;b+=2)g.push((h[b+1]<<8)+h[b]);return g}},r.uint32be={encode(h){const g=e.alloc(h.length*4);let b=0;return h.forEach(y=>{g[b++]=y>>24&o[8],g[b++]=y>>16&o[8],g[b++]=y>>8&o[8],g[b++]=y&o[8]}),g},decode(h){if(h.length%4>0)throw new RangeError(`uint32be.decode: UINT32BE byte length must be even multiple of 4: length: ${h.length}`);const g=[];for(let b=0;b<h.length;b+=4)g.push((h[b]<<24)+(h[b+1]<<16)+(h[b+2]<<8)+h[b+3]);return g}},r.uint32le={encode(h){const g=e.alloc(h.length*4);let b=0;return h.forEach(y=>{g[b++]=y&o[8],g[b++]=y>>8&o[8],g[b++]=y>>16&o[8],g[b++]=y>>24&o[8]}),g},decode(h){if(h.length%4>0)throw new RangeError(`uint32le.decode: UINT32LE byte length must be even multiple of 4: length: ${h.length}`);const g=[];for(let b=0;b<h.length;b+=4)g.push((h[b+3]<<24)+(h[b+2]<<16)+(h[b+1]<<8)+h[b]);return g}},r.string={encode(h){return r.utf16le.encode(h).toString("utf16le")},decode(h){return r.utf16le.decode(e.from(h,"utf16le"),0)}},r.escaped={encode(h){const g=[];for(let b=0;b<h.length;b+=1){const y=h[b];if(y===96)g.push(y),g.push(y);else if(y===10)g.push(y);else if(y>=32&&y<=126)g.push(y);else{let E="";if(y>=0&&y<=31)E+=`\`x${a[y]}`;else if(y>=127&&y<=255)E+=`\`x${a[y]}`;else if(y>=256&&y<=65535)E+=`\`u${a[y>>8&o[8]]}${a[y&o[8]]}`;else if(y>=65536&&y<=4294967295){E+="`u{";const _=y>>24&o[8];_>0&&(E+=a[_]),E+=`${a[y>>16&o[8]]+a[y>>8&o[8]]+a[y&o[8]]}}`}else throw new Error("escape.encode(char): char > 0xffffffff not allowed");e.from(E).forEach(_=>{g.push(_)})}}return e.from(g)},decode(h){function g(U){return U>=48&&U<=57||U>=65&&U<=70||U>=97&&U<=102}function b(U,q,fe){const Y={char:null,nexti:U+2,error:!0};if(U+1<q&&g(fe[U])&&g(fe[U+1])){const Q=String.fromCodePoint(fe[U],fe[U+1]);Y.char=parseInt(Q,16),Number.isNaN(Y.char)||(Y.error=!1)}return Y}function y(U,q,fe){const Y={char:null,nexti:U+4,error:!0};if(U+3<q&&g(fe[U])&&g(fe[U+1])&&g(fe[U+2])&&g(fe[U+3])){const Q=String.fromCodePoint(fe[U],fe[U+1],fe[U+2],fe[U+3]);Y.char=parseInt(Q,16),Number.isNaN(Y.char)||(Y.error=!1)}return Y}function E(U,q,fe){const Y={char:null,nexti:U+4,error:!0};let Q="";for(;U<q&&g(fe[U]);)Q+=String.fromCodePoint(fe[U]),U+=1;return Y.char=parseInt(Q,16),fe[U]===125&&!Number.isNaN(Y.char)&&(Y.error=!1),Y.nexti=U+1,Y}const w=[],_=h.length;let R,F,L,P=0;for(;P<_;){for(;;){if(L=!0,h[P]!==96){w.push(h[P]),P+=1,L=!1;break}if(R=P+1,R>=_)break;if(h[R]===96){w.push(96),P+=2,L=!1;break}if(h[R]===120){if(F=b(R+1,_,h),F.error)break;w.push(F.char),P=F.nexti,L=!1;break}if(h[R]===117){if(h[R+1]===123){if(F=E(R+2,_,h),F.error)break;w.push(F.char),P=F.nexti,L=!1;break}if(F=y(R+1,_,h),F.error)break;w.push(F.char),P=F.nexti,L=!1;break}break}if(L)throw new Error(`escaped.decode: ill-formed escape sequence at buf[${P}]`)}return w}};const u=13,d=10;r.lineEnds={crlf(h){const g=[];let b=0;for(;b<h.length;)switch(h[b]){case u:b+1<h.length&&h[b+1]===d?b+=2:b+=1,g.push(u),g.push(d);break;case d:g.push(u),g.push(d),b+=1;break;default:g.push(h[b]),b+=1;break}return g.length>0&&g[g.length-1]!==d&&(g.push(u),g.push(d)),g},lf(h){const g=[];let b=0;for(;b<h.length;)switch(h[b]){case u:b+1<h.length&&h[b+1]===d?b+=2:b+=1,g.push(d);break;case d:g.push(d),b+=1;break;default:g.push(h[b]),b+=1;break}return g.length>0&&g[g.length-1]!==d&&g.push(d),g}},r.base64={encode(h){if(h.length===0)return e.alloc(0);let g,b,y,E=h.length%3;E=E>0?3-E:0;let w=(h.length+E)/3;const _=e.alloc(w*4);E>0&&(w-=1),g=0,b=0;for(let R=0;R<w;R+=1)y=h[g++]<<16,y+=h[g++]<<8,y+=h[g++],_[b++]=l[y>>18&o[6]],_[b++]=l[y>>12&o[6]],_[b++]=l[y>>6&o[6]],_[b++]=l[y&o[6]];if(E===0)return _;if(E===1)return y=h[g++]<<16,y+=h[g]<<8,_[b++]=l[y>>18&o[6]],_[b++]=l[y>>12&o[6]],_[b++]=l[y>>6&o[6]],_[b]=l[64],_;if(E===2)return y=h[g]<<16,_[b++]=l[y>>18&o[6]],_[b++]=l[y>>12&o[6]],_[b++]=l[64],_[b]=l[64],_},decode(h){function g(P){const U=[];let q=0;for(let fe=0;fe<P.length;fe+=1){const Y=P[fe],Q=!0;for(;Q&&!(Y===32||Y===9||Y===10||Y===13);){if(Y>=65&&Y<=90){U.push(Y-65);break}if(Y>=97&&Y<=122){U.push(Y-71);break}if(Y>=48&&Y<=57){U.push(Y+4);break}if(Y===43){U.push(62);break}if(Y===47){U.push(63);break}if(Y===61){U.push(64),q+=1;break}throw new RangeError(`base64.decode: invalid character buf[${fe}]: ${Y}`)}}if(U.length%4>0)throw new RangeError(`base64.decode: string length not integral multiple of 4: ${U.length}`);switch(q){case 0:break;case 1:if(U[U.length-1]!==64)throw new RangeError("base64.decode: one tail character found: not last character");break;case 2:if(U[U.length-1]!==64||U[U.length-2]!==64)throw new RangeError("base64.decode: two tail characters found: not last characters");break;default:throw new RangeError(`base64.decode: more than two tail characters found: ${q}`)}return{tail:q,buf:e.from(U)}}if(h.length===0)return e.alloc(0);const b=g(h),{tail:y}=b,E=b.buf;let w,_,R,F=E.length/4;const L=e.alloc(F*3-y);y>0&&(F-=1),_=0,w=0;for(let P=0;P<F;P+=1)R=E[w++]<<18,R+=E[w++]<<12,R+=E[w++]<<6,R+=E[w++],L[_++]=R>>16&o[8],L[_++]=R>>8&o[8],L[_++]=R&o[8];return y===1&&(R=E[w++]<<18,R+=E[w++]<<12,R+=E[w]<<6,L[_++]=R>>16&o[8],L[_]=R>>8&o[8]),y===2&&(R=E[w++]<<18,R+=E[w++]<<12,L[_]=R>>16&o[8]),L},toString(h){if(h.length%4>0)throw new RangeError(`base64.toString: input buffer length not multiple of 4: ${h.length}`);let g="",b=0;function y(w,_,R,F){switch(b){case 76:g+=`\r
${w}${_}${R}${F}`,b=4;break;case 75:g+=`${w}\r
${_}${R}${F}`,b=3;break;case 74:g+=`${w+_}\r
${R}${F}`,b=2;break;case 73:g+=`${w+_+R}\r
${F}`,b=1;break;default:g+=w+_+R+F,b+=4;break}}function E(w){return w>=65&&w<=90||w>=97&&w<=122||w>=48&&w<=57||w===43||w===47||w===61}for(let w=0;w<h.length;w+=4){for(let _=w;_<w+4;_+=1)if(!E(h[_]))throw new RangeError(`base64.toString: buf[${_}]: ${h[_]} : not valid base64 character code`);y(String.fromCharCode(h[w]),String.fromCharCode(h[w+1]),String.fromCharCode(h[w+2]),String.fromCharCode(h[w+3]))}return g}}})(Jd);(function(r){"use strict;";const{Buffer:e}=No,t=Jd,n="UTF8",i="UTF16",s="UTF16BE",o="UTF16LE",a="UTF32",c="UTF32BE",l="UTF32LE",u="UINT7",d="ASCII",h="BINARY",g="UINT8",b="UINT16",y="UINT16LE",E="UINT16BE",w="UINT32",_="UINT32LE",R="UINT32BE",F="ESCAPED",L="STRING",P=function(v){v.type=n;const C=v.data;v.bom=0,C.length>=3&&C[0]===239&&C[1]===187&&C[2]===191&&(v.bom=3)},U=function(v){const C=v.data;switch(v.bom=0,v.type){case i:v.type=s,C.length>=2&&(C[0]===254&&C[1]===255?v.bom=2:C[0]===255&&C[1]===254&&(v.type=o,v.bom=2));break;case s:if(v.type=s,C.length>=2){if(C[0]===254&&C[1]===255)v.bom=2;else if(C[0]===255&&C[1]===254)throw new TypeError(`src type: "${s}" specified but BOM is for "${o}"`)}break;case o:if(v.type=o,C.length>=0){if(C[0]===254&&C[1]===255)throw new TypeError(`src type: "${o}" specified but BOM is for "${s}"`);C[0]===255&&C[1]===254&&(v.bom=2)}break;default:throw new TypeError(`UTF16 BOM: src type "${v.type}" unrecognized`)}},q=function(v){const C=v.data;switch(v.bom=0,v.type){case a:v.type=c,C.length>=4&&(C[0]===0&&C[1]===0&&C[2]===254&&C[3]===255&&(v.bom=4),C[0]===255&&C[1]===254&&C[2]===0&&C[3]===0&&(v.type=l,v.bom=4));break;case c:if(v.type=c,C.length>=4&&(C[0]===0&&C[1]===0&&C[2]===254&&C[3]===255&&(v.bom=4),C[0]===255&&C[1]===254&&C[2]===0&&C[3]===0))throw new TypeError(`src type: ${c} specified but BOM is for ${l}"`);break;case l:if(v.type=l,C.length>=4){if(C[0]===0&&C[1]===0&&C[2]===254&&C[3]===255)throw new TypeError(`src type: "${l}" specified but BOM is for "${c}"`);C[0]===255&&C[1]===254&&C[2]===0&&C[3]===0&&(v.bom=4)}break;default:throw new TypeError(`UTF32 BOM: src type "${v.type}" unrecognized`)}},fe=function(v,C){function B(G){const V={type:"",base64:!1},m=/^(base64:)?([a-zA-Z0-9]+)$/i.exec(G);return m&&(m[2]&&(V.type=m[2].toUpperCase()),m[1]&&(V.base64=!0)),V}const O=B(v.toUpperCase());if(O.base64){if(O.type===L)throw new TypeError(`type: "${v} "BASE64:" prefix not allowed with type ${L}`);if(e.isBuffer(C))O.data=t.base64.decode(C);else if(typeof C=="string"){const G=e.from(C,"ascii");O.data=t.base64.decode(G)}else throw new TypeError(`type: "${v} unrecognized data type: typeof(data): ${typeof C}`)}else O.data=C;switch(O.type){case n:P(O);break;case i:case s:case o:U(O);break;case a:case c:case l:q(O);break;case b:O.type=E;break;case w:O.type=R;break;case d:O.type=u;break;case h:O.type=g;break;case u:case g:case y:case E:case _:case R:case L:case F:break;default:throw new TypeError(`type: "${v}" not recognized`)}if(O.type===L){if(typeof O.data!="string")throw new TypeError(`type: "${v}" but data is not a string`)}else if(!e.isBuffer(O.data))throw new TypeError(`type: "${v}" but data is not a Buffer`);return O},Y=function(v,C){function B(G){let V,k;const m={crlf:!1,lf:!1,base64:!1,type:""},S=!0;for(;S;){if(k=G,V=G.slice(0,5),V==="CRLF:"){m.crlf=!0,k=G.slice(5);break}if(V=G.slice(0,3),V==="LF:"){m.lf=!0,k=G.slice(3);break}break}return V=k.split(":"),V.length===1?m.type=V[0]:V.length===2&&V[1]==="BASE64"&&(m.base64=!0,m.type=V[0]),m}if(!Array.isArray(C))throw new TypeError(`dst chars: not array: "${typeof C}`);if(typeof v!="string")throw new TypeError(`dst type: not string: "${typeof v}`);const O=B(v.toUpperCase());switch(O.type){case n:case s:case o:case c:case l:case u:case g:case y:case E:case _:case R:case F:break;case L:if(O.base64)throw new TypeError(`":BASE64" suffix not allowed with type ${L}`);break;case d:O.type=u;break;case h:O.type=g;break;case i:O.type=s;break;case a:O.type=c;break;case b:O.type=E;break;case w:O.type=R;break;default:throw new TypeError(`dst type unrecognized: "${v}" : must have form [crlf:|lf:]type[:base64]`)}return O},Q=function(v,C){switch(v){case n:return t.utf8.encode(C);case s:return t.utf16be.encode(C);case o:return t.utf16le.encode(C);case c:return t.utf32be.encode(C);case l:return t.utf32le.encode(C);case u:return t.uint7.encode(C);case g:return t.uint8.encode(C);case E:return t.uint16be.encode(C);case y:return t.uint16le.encode(C);case R:return t.uint32be.encode(C);case _:return t.uint32le.encode(C);case L:return t.string.encode(C);case F:return t.escaped.encode(C);default:throw new TypeError(`encode type "${v}" not recognized`)}},Z=function(v){switch(v.type){case n:return t.utf8.decode(v.data,v.bom);case o:return t.utf16le.decode(v.data,v.bom);case s:return t.utf16be.decode(v.data,v.bom);case c:return t.utf32be.decode(v.data,v.bom);case l:return t.utf32le.decode(v.data,v.bom);case u:return t.uint7.decode(v.data);case g:return t.uint8.decode(v.data);case E:return t.uint16be.decode(v.data);case y:return t.uint16le.decode(v.data);case R:return t.uint32be.decode(v.data);case _:return t.uint32le.decode(v.data);case L:return t.string.decode(v.data);case F:return t.escaped.decode(v.data);default:throw new TypeError(`decode type "${v.type}" not recognized`)}};r.decode=function(v,C){const B=fe(v,C);return Z(B)},r.encode=function(v,C){let B,O;const G=Y(v,C);return G.crlf?(B=t.lineEnds.crlf(C),O=Q(G.type,B)):G.lf?(B=t.lineEnds.lf(C),O=Q(G.type,B)):O=Q(G.type,C),G.base64&&(O=t.base64.encode(O)),O};const N=function(v,C,B){return r.encode(B,r.decode(v,C))};r.convert=N})(Fl);var Xd=function(){return`/* This file automatically generated by jsonToless() and LESS. */
.apg-mono {
  font-family: monospace;
}
.apg-active {
  font-weight: bold;
  color: #000000;
}
.apg-match {
  font-weight: bold;
  color: #264BFF;
}
.apg-empty {
  font-weight: bold;
  color: #0fbd0f;
}
.apg-nomatch {
  font-weight: bold;
  color: #FF4000;
}
.apg-lh-match {
  font-weight: bold;
  color: #1A97BA;
}
.apg-lb-match {
  font-weight: bold;
  color: #5F1687;
}
.apg-remainder {
  font-weight: bold;
  color: #999999;
}
.apg-ctrl-char {
  font-weight: bolder;
  font-style: italic;
  font-size: 0.6em;
}
.apg-line-end {
  font-weight: bold;
  color: #000000;
}
.apg-error {
  font-weight: bold;
  color: #FF4000;
}
.apg-phrase {
  color: #000000;
  background-color: #8caae6;
}
.apg-empty-phrase {
  color: #0fbd0f;
}
table.apg-state {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: left;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-state th,
table.apg-state td {
  text-align: left;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-state th:nth-last-child(2),
table.apg-state td:nth-last-child(2) {
  text-align: right;
}
table.apg-state caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-stats {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-stats th,
table.apg-stats td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-stats caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-trace {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-trace caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-trace th,
table.apg-trace td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-trace th:last-child,
table.apg-trace th:nth-last-child(2),
table.apg-trace td:last-child,
table.apg-trace td:nth-last-child(2) {
  text-align: left;
}
table.apg-grammar {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-grammar caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-grammar th,
table.apg-grammar td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-grammar th:last-child,
table.apg-grammar td:last-child {
  text-align: left;
}
table.apg-rules {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-rules caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-rules th,
table.apg-rules td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-rules a {
  color: #003399 !important;
}
table.apg-rules a:hover {
  color: #8caae6 !important;
}
table.apg-attrs {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: center;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-attrs caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-attrs th,
table.apg-attrs td {
  text-align: center;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-attrs th:nth-child(1),
table.apg-attrs th:nth-child(2),
table.apg-attrs th:nth-child(3) {
  text-align: right;
}
table.apg-attrs td:nth-child(1),
table.apg-attrs td:nth-child(2),
table.apg-attrs td:nth-child(3) {
  text-align: right;
}
table.apg-attrs a {
  color: #003399 !important;
}
table.apg-attrs a:hover {
  color: #8caae6 !important;
}
`};(function(r){const e=$o,t=Fl,n=Xd,i=Br,s="utilities.js: ",o=function(c,l,u){let d,h=l;const g=!0;for(;g;){if(c<=0){h=0,d=0;break}if(typeof h!="number"){h=0,d=c;break}if(h>=c){h=c,d=c;break}if(typeof u!="number"){d=c;break}if(d=h+u,d>c){d=c;break}break}return{beg:h,end:d}};r.htmlToPage=function(c,l){let u;if(typeof c!="string")throw new Error(`${s}htmlToPage: input HTML is not a string`);typeof l!="string"?u="htmlToPage":u=l;let d="";return d+=`<!DOCTYPE html>
`,d+=`<html lang="en">
`,d+=`<head>
`,d+=`<meta charset="utf-8">
`,d+=`<title>${u}</title>
`,d+=`<style>
`,d+=n(),d+=`</style>
`,d+=`</head>
<body>
`,d+=`<p>${new Date}</p>
`,d+=c,d+=`</body>
</html>
`,d},r.parserResultToHtml=function(c,l){let u=null;typeof l=="string"&&l!==""&&(u=l);let d,h;c.success===!0?d=`<span class="${e.CLASS_MATCH}">true</span>`:d=`<span class="${e.CLASS_NOMATCH}">false</span>`,c.state===i.EMPTY?h=`<span class="${e.CLASS_EMPTY}">EMPTY</span>`:c.state===i.MATCH?h=`<span class="${e.CLASS_MATCH}">MATCH</span>`:c.state===i.NOMATCH?h=`<span class="${e.CLASS_NOMATCH}">NOMATCH</span>`:h=`<span class="${e.CLASS_NOMATCH}">unrecognized</span>`;let g="";return g+=`<table class="${e.CLASS_STATE}">
`,u&&(g+=`<caption>${u}</caption>
`),g+=`<tr><th>state item</th><th>value</th><th>description</th></tr>
`,g+=`<tr><td>parser success</td><td>${d}</td>
`,g+=`<td><span class="${e.CLASS_MATCH}">true</span> if the parse succeeded,
`,g+=` <span class="${e.CLASS_NOMATCH}">false</span> otherwise`,g+=`<br><i>NOTE: for success, entire string must be matched</i></td></tr>
`,g+=`<tr><td>parser state</td><td>${h}</td>
`,g+=`<td><span class="${e.CLASS_EMPTY}">EMPTY</span>, `,g+=`<span class="${e.CLASS_MATCH}">MATCH</span> or 
`,g+=`<span class="${e.CLASS_NOMATCH}">NOMATCH</span></td></tr>
`,g+=`<tr><td>string length</td><td>${c.length}</td><td>length of the input (sub)string</td></tr>
`,g+=`<tr><td>matched length</td><td>${c.matched}</td><td>number of input string characters matched</td></tr>
`,g+=`<tr><td>max matched</td><td>${c.maxMatched}</td><td>maximum number of input string characters matched</td></tr>
`,g+=`<tr><td>max tree depth</td><td>${c.maxTreeDepth}</td><td>maximum depth of the parse tree reached</td></tr>
`,g+=`<tr><td>node hits</td><td>${c.nodeHits}</td><td>number of parse tree node hits (opcode function calls)</td></tr>
`,g+=`<tr><td>input length</td><td>${c.inputLength}</td><td>length of full input string</td></tr>
`,g+=`<tr><td>sub-string begin</td><td>${c.subBegin}</td><td>sub-string first character index</td></tr>
`,g+=`<tr><td>sub-string end</td><td>${c.subEnd}</td><td>sub-string end-of-string index</td></tr>
`,g+=`<tr><td>sub-string length</td><td>${c.subLength}</td><td>sub-string length</td></tr>
`,g+=`</table>
`,g},r.charsToString=function(c,l,u){let d,h;if(typeof l=="number"){if(l>=c.length)return"";d=l<0?0:l}else d=0;if(typeof u=="number"){if(u<=0)return"";h=u>c.length-d?c.length:d+u}else h=c.length;return d<h?t.encode("UTF16LE",c.slice(d,h)).toString("utf16le"):""},r.stringToChars=function(c){return t.decode("STRING",c)},r.opcodeToString=function(c){let l="unknown";switch(c){case i.ALT:l="ALT";break;case i.CAT:l="CAT";break;case i.RNM:l="RNM";break;case i.UDT:l="UDT";break;case i.AND:l="AND";break;case i.NOT:l="NOT";break;case i.REP:l="REP";break;case i.TRG:l="TRG";break;case i.TBS:l="TBS";break;case i.TLS:l="TLS";break;case i.BKR:l="BKR";break;case i.BKA:l="BKA";break;case i.BKN:l="BKN";break;case i.ABG:l="ABG";break;case i.AEN:l="AEN";break;default:throw new Error("unrecognized opcode")}return l},r.stateToString=function(c){let l="unknown";switch(c){case i.ACTIVE:l="ACTIVE";break;case i.MATCH:l="MATCH";break;case i.EMPTY:l="EMPTY";break;case i.NOMATCH:l="NOMATCH";break;default:throw new Error("unrecognized state")}return l},r.asciiChars=["NUL","SOH","STX","ETX","EOT","ENQ","ACK","BEL","BS","TAB","LF","VT","FF","CR","SO","SI","DLE","DC1","DC2","DC3","DC4","NAK","SYN","ETB","CAN","EM","SUB","ESC","FS","GS","RS","US","&nbsp;","!","&#34;","#","$","%","&#38;","&#39;","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","&#60;","=","&#62;","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","&#92;","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","DEL"],r.charToHex=function(c){let l=c.toString(16).toUpperCase();switch(l.length){case 1:case 3:case 7:l=`0${l}`;break;case 2:case 6:l=`00${l}`;break;case 4:break;case 5:l=`000${l}`;break;default:throw new Error("unrecognized option")}return l},r.charsToDec=function(c,l,u){let d="";if(!Array.isArray(c))throw new Error(`${s}charsToDec: input must be an array of integers`);const h=o(c.length,l,u);if(h.end>h.beg){d+=c[h.beg];for(let g=h.beg+1;g<h.end;g+=1)d+=`,${c[g]}`}return d},r.charsToHex=function(c,l,u){let d="";if(!Array.isArray(c))throw new Error(`${s}charsToHex: input must be an array of integers`);const h=o(c.length,l,u);if(h.end>h.beg){d+=`\\x${r.charToHex(c[h.beg])}`;for(let g=h.beg+1;g<h.end;g+=1)d+=`,\\x${r.charToHex(c[g])}`}return d},r.charsToHtmlEntities=function(c,l,u){let d="";if(!Array.isArray(c))throw new Error(`${s}charsToHex: input must be an array of integers`);const h=o(c.length,l,u);if(h.end>h.beg)for(let g=h.beg;g<h.end;g+=1)d+=`&#x${c[g].toString(16)};`;return d};function a(c){return!(c>=55296&&c<=57343||c>1114111)}r.charsToUnicode=function(c,l,u){let d="";if(!Array.isArray(c))throw new Error(`${s}charsToUnicode: input must be an array of integers`);const h=o(c.length,l,u);if(h.end>h.beg)for(let g=h.beg;g<h.end;g+=1)a(c[g])?d+=`&#${c[g]};`:d+=` U+${r.charToHex(c[g])}`;return d},r.charsToJsUnicode=function(c,l,u){let d="";if(!Array.isArray(c))throw new Error(`${s}charsToJsUnicode: input must be an array of integers`);const h=o(c.length,l,u);if(h.end>h.beg){d+=`\\u${r.charToHex(c[h.beg])}`;for(let g=h.beg+1;g<h.end;g+=1)d+=`,\\u${r.charToHex(c[g])}`}return d},r.charsToAscii=function(c,l,u){let d="";if(!Array.isArray(c))throw new Error(`${s}charsToAscii: input must be an array of integers`);const h=o(c.length,l,u);for(let g=h.beg;g<h.end;g+=1){const b=c[g];b>=32&&b<=126?d+=String.fromCharCode(b):d+=`\\x${r.charToHex(b)}`}return d},r.charsToAsciiHtml=function(c,l,u){if(!Array.isArray(c))throw new Error(`${s}charsToAsciiHtml: input must be an array of integers`);let d="",h;const g=o(c.length,l,u);for(let b=g.beg;b<g.end;b+=1)h=c[b],h<32||h===127?d+=`<span class="${e.CLASS_CTRLCHAR}">${r.asciiChars[h]}</span>`:h>127?d+=`<span class="${e.CLASS_CTRLCHAR}">U+${r.charToHex(h)}</span>`:d+=r.asciiChars[h];return d},r.stringToAsciiHtml=function(c){const l=t.decode("STRING",c);return this.charsToAsciiHtml(l)}})(Vn);var Oy=function(){const e=Br,t=Vn,n="ast.js: ",i=this;let s=null,o=null,a=null,c=0;const l=[],u=[],d=[],h=[];this.callbacks=[],this.astObject="astObject",this.init=function(y,E,w){d.length=0,h.length=0,l.length=0,c=0,s=y,o=E,a=w;let _;const R=[];for(_=0;_<s.length;_+=1)R.push(s[_].lower);for(_=0;_<o.length;_+=1)R.push(o[_].lower);for(c=s.length+o.length,_=0;_<c;_+=1)l[_]=!1,u[_]=null;for(const F in i.callbacks){const L=F.toLowerCase();if(_=R.indexOf(L),_<0)throw new Error(`${n}init: node '${F}' not a rule or udt name`);typeof i.callbacks[F]=="function"&&(l[_]=!0,u[_]=i.callbacks[F]),i.callbacks[F]===!0&&(l[_]=!0)}},this.ruleDefined=function(y){return l[y]!==!1},this.udtDefined=function(y){return l[s.length+y]!==!1},this.down=function(y,E){const w=h.length;return d.push(w),h.push({name:E,thisIndex:w,thatIndex:null,state:e.SEM_PRE,callbackIndex:y,phraseIndex:null,phraseLength:null,stack:d.length}),w},this.up=function(y,E,w,_){const R=h.length,F=d.pop();return h.push({name:E,thisIndex:R,thatIndex:F,state:e.SEM_POST,callbackIndex:y,phraseIndex:w,phraseLength:_,stack:d.length}),h[F].thatIndex=R,h[F].phraseIndex=w,h[F].phraseLength=_,R},this.translate=function(y){let E,w,_;for(let R=0;R<h.length;R+=1)_=h[R],w=u[_.callbackIndex],_.state===e.SEM_PRE?w!==null&&(E=w(e.SEM_PRE,a,_.phraseIndex,_.phraseLength,y),E===e.SEM_SKIP&&(R=_.thatIndex)):w!==null&&w(e.SEM_POST,a,_.phraseIndex,_.phraseLength,y)},this.setLength=function(y){h.length=y,y>0?d.length=h[y-1].stack:d.length=0},this.getLength=function(){return h.length};function g(b){let y="";for(let E=0;E<b;E+=1)y+=" ";return y}this.toXml=function(y){let E=t.charsToDec,w="decimal integer character codes";if(typeof y=="string"&&y.length>=3){const F=y.slice(0,3).toLowerCase();F==="asc"?(E=t.charsToAscii,w="ASCII for printing characters, hex for non-printing"):F==="hex"?(E=t.charsToHex,w="hexadecimal integer character codes"):F==="uni"&&(E=t.charsToUnicode,w="Unicode UTF-32 integer character codes")}let _="",R=0;return _+=`<?xml version="1.0" encoding="utf-8"?>
`,_+=`<root nodes="${h.length/2}" characters="${a.length}">
`,_+=`<!-- input string, ${w} -->
`,_+=g(R+2),_+=E(a),_+=`
`,h.forEach(F=>{F.state===e.SEM_PRE?(R+=1,_+=g(R),_+=`<node name="${F.name}" index="${F.phraseIndex}" length="${F.phraseLength}">
`,_+=g(R+2),_+=E(a,F.phraseIndex,F.phraseLength),_+=`
`):(_+=g(R),_+=`</node><!-- name="${F.name}" -->
`,R-=1)}),_+=`</root>
`,_},this.phrases=function(){const y={};let E,w;for(E=0;E<h.length;E+=1)w=h[E],w.state===e.SEM_PRE&&(Array.isArray(y[w.name])||(y[w.name]=[]),y[w.name].push({index:w.phraseIndex,length:w.phraseLength}));return y}},Qd=function(){"use strict;";const e="circular-buffer.js: ";let t=-1,n=0;this.init=function(s){if(typeof s!="number"||s<=0)throw new Error(`${e}init: circular buffer size must an integer > 0`);n=Math.ceil(s),t=-1},this.increment=function(){return t+=1,(t+n)%n},this.maxSize=function(){return n},this.items=function(){return t+1},this.getListIndex=function(s){return t===-1||s<0||s>t||t-s>=n?-1:(s+n)%n},this.forEach=function(s){if(t!==-1){if(t<n){for(let o=0;o<=t;o+=1)s(o,o);return}for(let o=t-n+1;o<=t;o+=1){const a=(o+n)%n;s(a,o)}}}},Ly=function(){const e=Br,t=Vn,n="parser.js: ",i=this;let s;this.ast=null,this.stats=null,this.trace=null,this.callbacks=[];let o=null,a=null,c,l,u,d,h=0,g=0,b=0,y=null,E=null,w=null,_=null,R=null,F=0,L=1/0,P=1/0;const U=function(A,f,x){const M=`${n}evaluateRule(): `;if(A>=w.length)throw new Error(`${M}rule index: ${A} out of range`);if(f>=u)throw new Error(`${M}phrase index: ${f} out of range`);const{length:I}=o;o.push({type:e.RNM,index:A}),s(I,f,x),o.pop()},q=function(ne,A,f){const x=`${n}evaluateUdt(): `;if(ne>=_.length)throw new Error(`${x}udt index: ${ne} out of range`);if(A>=u)throw new Error(`${x}phrase index: ${A} out of range`);const{length:M}=o;o.push({type:e.UDT,empty:_[ne].empty,index:ne}),s(M,A,f),o.pop()},fe=function(){h=0,g=0,b=0,F=0,d=[{lookAround:e.LOOKAROUND_NONE,anchor:0,charsEnd:0,charsLength:0}],w=null,_=null,a=null,c=0,l=0,u=0,y=null,E=null,R=null,o=null},Y=function(){const ne=[],A=function(){const x={};w.forEach(M=>{M.isBkr&&(x[M.lower]=null)}),_.length>0&&_.forEach(M=>{M.isBkr&&(x[M.lower]=null)}),ne.push(x)},f=function(){const x=ne[ne.length-1],M={};for(const I in x)M[I]=x[I];return M};this.push=function(){ne.push(f())},this.pop=function(M){let I=M;if(I||(I=ne.length-1),I<1||I>ne.length)throw new Error(`${n}backRef.pop(): bad length: ${I}`);return ne.length=I,ne[ne.length-1]},this.length=function(){return ne.length},this.savePhrase=function(M,I,K){ne[ne.length-1][M]={phraseIndex:I,phraseLength:K}},this.getPhrase=function(x){return ne[ne.length-1][x]},A()},Q=function(){const A=this;this.state=e.ACTIVE,this.phraseLength=0,this.ruleIndex=0,this.udtIndex=0,this.lookAround=d[d.length-1],this.uFrame=new Y,this.pFrame=new Y,this.evaluateRule=U,this.evaluateUdt=q,this.refresh=function(){A.state=e.ACTIVE,A.phraseLength=0,A.lookAround=d[d.length-1]}},Z=function(){return d[d.length-1]},N=function(){return d.length>1},p=function(){return d[d.length-1].lookAround===e.LOOKAROUND_BEHIND},v=function(){const ne=`${n}initializeAst(): `,A=!0;for(;A;){if(i.ast===void 0){i.ast=null;break}if(i.ast===null)break;if(i.ast.astObject!=="astObject")throw new Error(`${ne}ast object not recognized`);break}i.ast!==null&&i.ast.init(w,_,a)},C=function(){const ne=`${n}initializeTrace(): `,A=!0;for(;A;){if(i.trace===void 0){i.trace=null;break}if(i.trace===null)break;if(i.trace.traceObject!=="traceObject")throw new Error(`${ne}trace object not recognized`);break}i.trace!==null&&i.trace.init(w,_,a)},B=function(){const ne=`${n}initializeStats(): `,A=!0;for(;A;){if(i.stats===void 0){i.stats=null;break}if(i.stats===null)break;if(i.stats.statsObject!=="statsObject")throw new Error(`${ne}stats object not recognized`);break}i.stats!==null&&i.stats.init(w,_)},O=function(ne){const A=`${n}initializeGrammar(): `;if(!ne)throw new Error(`${A}grammar object undefined`);if(ne.grammarObject!=="grammarObject")throw new Error(`${A}bad grammar object`);w=ne.rules,_=ne.udts},G=function(ne){const A=`${n}initializeStartRule(): `;let f=null;if(typeof ne=="number"){if(ne>=w.length)throw new Error(`${A}start rule index too large: max: ${w.length}: index: ${ne}`);f=ne}else if(typeof ne=="string"){const x=ne.toLowerCase();for(let M=0;M<w.length;M+=1)if(x===w[M].lower){f=w[M].index;break}if(f===null)throw new Error(`${A}start rule name '${ne}' not recognized`)}else throw new Error(`${A}type of start rule '${typeof ne}' not recognized`);return f},V=function(A,f,x){const M=`${n}initializeInputChars(): `;let I=A,K=f,te=x;if(I===void 0)throw new Error(`${M}input string is undefined`);if(I===null)throw new Error(`${M}input string is null`);if(typeof I=="string")I=t.stringToChars(I);else if(!Array.isArray(I))throw new Error(`${M}input string is not a string or array`);if(I.length>0&&typeof I[0]!="number")throw new Error(`${M}input string not an array of integers`);if(typeof K!="number")K=0;else if(K=Math.floor(K),K<0||K>I.length)throw new Error(`${M}input beginning index out of range: ${K}`);if(typeof te!="number")te=I.length-K;else if(te=Math.floor(te),te<0||te>I.length-K)throw new Error(`${M}input length out of range: ${te}`);a=I,c=K,l=te,u=c+l},k=function(){const ne=`${n}initializeCallbacks(): `;let A;for(y=[],E=[],A=0;A<w.length;A+=1)y[A]=null;for(A=0;A<_.length;A+=1)E[A]=null;let f;const x=[];for(A=0;A<w.length;A+=1)x.push(w[A].lower);for(A=0;A<_.length;A+=1)x.push(_[A].lower);for(const M in i.callbacks){if(A=x.indexOf(M.toLowerCase()),A<0)throw new Error(`${ne}syntax callback '${M}' not a rule or udt name`);if(f=i.callbacks[M],f||(f=null),typeof f=="function"||f===null)A<w.length?y[A]=f:E[A-w.length]=f;else throw new Error(`${ne}syntax callback[${M}] must be function reference or 'false' (false/null/undefined/etc.)`)}for(A=0;A<_.length;A+=1)if(E[A]===null)throw new Error(`${ne}all UDT callbacks must be defined. UDT callback[${_[A].lower}] not a function reference`)};this.setMaxTreeDepth=function(ne){if(typeof ne!="number")throw new Error(`parser: max tree depth must be integer > 0: ${ne}`);if(L=Math.floor(ne),L<=0)throw new Error(`parser: max tree depth must be integer > 0: ${ne}`)},this.setMaxNodeHits=function(ne){if(typeof ne!="number")throw new Error(`parser: max node hits must be integer > 0: ${ne}`);if(P=Math.floor(ne),P<=0)throw new Error(`parser: max node hits must be integer > 0: ${ne}`)};const m=function(ne,A,f){let x;const M=`${n}parse(): `;O(ne);const I=G(A);k(),C(),B(),v();const K=new Q;switch(f!=null&&(R=f),o=[{type:e.RNM,index:I}],s(0,c,K),o=null,K.state){case e.ACTIVE:throw new Error(`${M}final state should never be 'ACTIVE'`);case e.NOMATCH:x=!1;break;case e.EMPTY:case e.MATCH:K.phraseLength===l?x=!0:x=!1;break;default:throw new Error("unrecognized state")}return{success:x,state:K.state,length:l,matched:K.phraseLength,maxMatched:F,maxTreeDepth:g,nodeHits:b,inputLength:a.length,subBegin:c,subEnd:u,subLength:l}};this.parseSubstring=function(A,f,x,M,I,K){return fe(),V(x,M,I),m(A,f,K)},this.parse=function(A,f,x,M){return fe(),V(x,0,x.length),m(A,f,M)};const S=function(ne,A,f){const x=o[ne];for(let M=0;M<x.children.length&&(s(x.children[M],A,f),f.state===e.NOMATCH);M+=1);},W=function(ne,A,f){let x,M,I,K;const te=o[ne],Ae=f.uFrame.length(),we=f.pFrame.length();i.ast&&(M=i.ast.getLength()),x=!0,I=A,K=0;for(let ge=0;ge<te.children.length;ge+=1)if(s(te.children[ge],I,f),f.state===e.NOMATCH){x=!1;break}else I+=f.phraseLength,K+=f.phraseLength;x?(f.state=K===0?e.EMPTY:e.MATCH,f.phraseLength=K):(f.state=e.NOMATCH,f.phraseLength=0,f.uFrame.pop(Ae),f.pFrame.pop(we),i.ast&&i.ast.setLength(M))},T=function(ne,A,f){let x,M,I,K;const te=o[ne];if(te.max===0){f.state=e.EMPTY,f.phraseLength=0;return}M=A,I=0,K=0;const Ae=f.uFrame.length(),we=f.pFrame.length();i.ast&&(x=i.ast.getLength());const ge=!0;for(;ge&&!(M>=u||(s(ne+1,M,f),f.state===e.NOMATCH)||f.state===e.EMPTY||(K+=1,I+=f.phraseLength,M+=f.phraseLength,K===te.max)););f.state===e.EMPTY||K>=te.min?(f.state=I===0?e.EMPTY:e.MATCH,f.phraseLength=I):(f.state=e.NOMATCH,f.phraseLength=0,f.uFrame.pop(Ae),f.pFrame.pop(we),i.ast&&i.ast.setLength(x))},X=function(ne,A,f,x){if(A.phraseLength>f){let M=`${n}opRNM(${ne.name}): callback function error: `;throw M+=`sysData.phraseLength: ${A.phraseLength}`,M+=` must be <= remaining chars: ${f}`,new Error(M)}switch(A.state){case e.ACTIVE:if(x!==!0)throw new Error(`${n}opRNM(${ne.name}): callback function return error. ACTIVE state not allowed.`);break;case e.EMPTY:A.phraseLength=0;break;case e.MATCH:A.phraseLength===0&&(A.state=e.EMPTY);break;case e.NOMATCH:A.phraseLength=0;break;default:throw new Error(`${n}opRNM(${ne.name}): callback function return error. Unrecognized return state: ${A.state}`)}},oe=function(ne,A,f){let x,M,I,K,te,Ae;const we=o[ne],ge=w[we.index],ke=y[ge.index],Te=!N();if(Te&&(M=i.ast&&i.ast.ruleDefined(we.index),M&&(x=i.ast.getLength(),i.ast.down(we.index,w[we.index].name)),K=f.uFrame.length(),te=f.pFrame.length(),f.uFrame.push(),f.pFrame.push(),Ae=f.pFrame,f.pFrame=new Y),ke===null)I=o,o=ge.opcodes,s(0,A,f),o=I;else{const $e=u-A;f.ruleIndex=ge.index,ke(f,a,A,R),X(ge,f,$e,!0),f.state===e.ACTIVE&&(I=o,o=ge.opcodes,s(0,A,f),o=I,f.ruleIndex=ge.index,ke(f,a,A,R),X(ge,f,$e,!1))}Te&&(M&&(f.state===e.NOMATCH?i.ast.setLength(x):i.ast.up(we.index,ge.name,A,f.phraseLength)),f.pFrame=Ae,f.state===e.NOMATCH?(f.uFrame.pop(K),f.pFrame.pop(te)):ge.isBkr&&(f.pFrame.savePhrase(ge.lower,A,f.phraseLength),f.uFrame.savePhrase(ge.lower,A,f.phraseLength)))},D=function(ne,A,f){if(A.phraseLength>f){let x=`${n}opUDT(${ne.name}): callback function error: `;throw x+=`sysData.phraseLength: ${A.phraseLength}`,x+=` must be <= remaining chars: ${f}`,new Error(x)}switch(A.state){case e.ACTIVE:throw new Error(`${n}opUDT(${ne.name}): callback function return error. ACTIVE state not allowed.`);case e.EMPTY:if(ne.empty===!1)throw new Error(`${n}opUDT(${ne.name}): callback function return error. May not return EMPTY.`);A.phraseLength=0;break;case e.MATCH:if(A.phraseLength===0){if(ne.empty===!1)throw new Error(`${n}opUDT(${ne.name}): callback function return error. May not return EMPTY.`);A.state=e.EMPTY}break;case e.NOMATCH:A.phraseLength=0;break;default:throw new Error(`${n}opUDT(${ne.name}): callback function return error. Unrecognized return state: ${A.state}`)}},$=function(ne,A,f){let x,M,I,K,te,Ae;const we=o[ne],ge=_[we.index];f.UdtIndex=ge.index;const ke=!N();ke&&(I=i.ast&&i.ast.udtDefined(we.index),I&&(M=w.length+we.index,x=i.ast.getLength(),i.ast.down(M,ge.name)),K=f.uFrame.length(),te=f.pFrame.length(),f.uFrame.push(),f.pFrame.push(),Ae=f.pFrame,f.pFrame=new Y);const Te=u-A;E[we.index](f,a,A,R),D(ge,f,Te),ke&&(I&&(f.state===e.NOMATCH?i.ast.setLength(x):i.ast.up(M,ge.name,A,f.phraseLength)),f.pFrame=Ae,f.state===e.NOMATCH?(f.uFrame.pop(K),f.pFrame.pop(te)):ge.isBkr&&(f.pFrame.savePhrase(ge.lower,A,f.phraseLength),f.uFrame.savePhrase(ge.lower,A,f.phraseLength)))},H=function(ne,A,f){d.push({lookAround:e.LOOKAROUND_AHEAD,anchor:A,charsEnd:u,charsLength:l}),u=a.length,l=a.length-c,s(ne+1,A,f);const x=d.pop();switch(u=x.charsEnd,l=x.charsLength,f.phraseLength=0,f.state){case e.EMPTY:f.state=e.EMPTY;break;case e.MATCH:f.state=e.EMPTY;break;case e.NOMATCH:f.state=e.NOMATCH;break;default:throw new Error(`opAND: invalid state ${f.state}`)}},ee=function(ne,A,f){d.push({lookAround:e.LOOKAROUND_AHEAD,anchor:A,charsEnd:u,charsLength:l}),u=a.length,l=a.length-c,s(ne+1,A,f);const x=d.pop();switch(u=x.charsEnd,l=x.charsLength,f.phraseLength=0,f.state){case e.EMPTY:case e.MATCH:f.state=e.NOMATCH;break;case e.NOMATCH:f.state=e.EMPTY;break;default:throw new Error(`opNOT: invalid state ${f.state}`)}},ae=function(ne,A,f){const x=o[ne];f.state=e.NOMATCH,A<u&&x.min<=a[A]&&a[A]<=x.max&&(f.state=e.MATCH,f.phraseLength=1)},be=function(ne,A,f){let x;const M=o[ne],I=M.string.length;if(f.state=e.NOMATCH,A+I<=u){for(x=0;x<I;x+=1)if(a[A+x]!==M.string[x])return;f.state=e.MATCH,f.phraseLength=I}},he=function(ne,A,f){let x,M;const I=o[ne];f.state=e.NOMATCH;const K=I.string.length;if(K===0){f.state=e.EMPTY;return}if(A+K<=u){for(x=0;x<K;x+=1)if(M=a[A+x],M>=65&&M<=90&&(M+=32),M!==I.string[x])return;f.state=e.MATCH,f.phraseLength=K}},ie=function(ne,A,f){f.state=e.NOMATCH,f.phraseLength=0,f.state=A===0?e.EMPTY:e.NOMATCH},de=function(ne,A,f){f.state=e.NOMATCH,f.phraseLength=0,f.state=A===a.length?e.EMPTY:e.NOMATCH},re=function(ne,A,f){let x,M,I,K;const te=o[ne];f.state=e.NOMATCH,te.index<w.length?K=w[te.index].lower:K=_[te.index-w.length].lower;const Ae=te.bkrMode===e.BKR_MODE_PM?f.pFrame.getPhrase(K):f.uFrame.getPhrase(K),we=te.bkrCase===e.BKR_MODE_CI;if(Ae===null)return;const ge=Ae.phraseIndex,ke=Ae.phraseLength;if(ke===0){f.state=e.EMPTY;return}if(A+ke<=u){if(we){for(x=0;x<ke;x+=1)if(M=a[A+x],I=a[ge+x],M>=65&&M<=90&&(M+=32),I>=65&&I<=90&&(I+=32),M!==I)return;f.state=e.MATCH,f.phraseLength=ke}else for(x=0;x<ke;x+=1)if(M=a[A+x],I=a[ge+x],M!==I)return;f.state=e.MATCH,f.phraseLength=ke}},ue=function(ne,A,f){switch(d.push({lookAround:e.LOOKAROUND_BEHIND,anchor:A}),s(ne+1,A,f),d.pop(),f.phraseLength=0,f.state){case e.EMPTY:f.state=e.EMPTY;break;case e.MATCH:f.state=e.EMPTY;break;case e.NOMATCH:f.state=e.NOMATCH;break;default:throw new Error(`opBKA: invalid state ${f.state}`)}},j=function(ne,A,f){switch(d.push({lookAround:e.LOOKAROUND_BEHIND,anchor:A}),s(ne+1,A,f),d.pop(),f.phraseLength=0,f.state){case e.EMPTY:case e.MATCH:f.state=e.NOMATCH;break;case e.NOMATCH:f.state=e.EMPTY;break;default:throw new Error(`opBKN: invalid state ${f.state}`)}},se=function(ne,A,f){let x,M,I,K;const te=o[ne],Ae=f.uFrame.length(),we=f.pFrame.length();i.ast&&(M=i.ast.getLength()),x=!0,I=A,K=0;for(let ge=te.children.length-1;ge>=0;ge-=1)if(s(te.children[ge],I,f),I-=f.phraseLength,K+=f.phraseLength,f.state===e.NOMATCH){x=!1;break}x?(f.state=K===0?e.EMPTY:e.MATCH,f.phraseLength=K):(f.state=e.NOMATCH,f.phraseLength=0,f.uFrame.pop(Ae),f.pFrame.pop(we),i.ast&&i.ast.setLength(M))},ye=function(ne,A,f){let x,M,I,K;const te=o[ne];M=A,I=0,K=0;const Ae=f.uFrame.length(),we=f.pFrame.length();i.ast&&(x=i.ast.getLength());const ge=!0;for(;ge&&!(M<=0||(s(ne+1,M,f),f.state===e.NOMATCH)||f.state===e.EMPTY||(K+=1,I+=f.phraseLength,M-=f.phraseLength,K===te.max)););f.state===e.EMPTY||K>=te.min?(f.state=I===0?e.EMPTY:e.MATCH,f.phraseLength=I):(f.state=e.NOMATCH,f.phraseLength=0,f.uFrame.pop(Ae),f.pFrame.pop(we),i.ast&&i.ast.setLength(x))},ve=function(ne,A,f){const x=o[ne];if(f.state=e.NOMATCH,f.phraseLength=0,A>0){const M=a[A-1];x.min<=M&&M<=x.max&&(f.state=e.MATCH,f.phraseLength=1)}},Se=function(ne,A,f){let x;const M=o[ne];f.state=e.NOMATCH;const I=M.string.length,K=A-I;if(K>=0){for(x=0;x<I;x+=1)if(a[K+x]!==M.string[x])return;f.state=e.MATCH,f.phraseLength=I}},Le=function(ne,A,f){let x;const M=o[ne];f.state=e.NOMATCH;const I=M.string.length;if(I===0){f.state=e.EMPTY;return}const K=A-I;if(K>=0){for(let te=0;te<I;te+=1)if(x=a[K+te],x>=65&&x<=90&&(x+=32),x!==M.string[te])return;f.state=e.MATCH,f.phraseLength=I}},xt=function(ne,A,f){let x,M,I,K;const te=o[ne];f.state=e.NOMATCH,f.phraseLength=0,te.index<w.length?K=w[te.index].lower:K=_[te.index-w.length].lower;const Ae=te.bkrMode===e.BKR_MODE_PM?f.pFrame.getPhrase(K):f.uFrame.getPhrase(K),we=te.bkrCase===e.BKR_MODE_CI;if(Ae===null)return;const ge=Ae.phraseIndex,ke=Ae.phraseLength;if(ke===0){f.state=e.EMPTY,f.phraseLength=0;return}const Te=A-ke;if(Te>=0){if(we){for(x=0;x<ke;x+=1)if(M=a[Te+x],I=a[ge+x],M>=65&&M<=90&&(M+=32),I>=65&&I<=90&&(I+=32),M!==I)return;f.state=e.MATCH,f.phraseLength=ke}else for(x=0;x<ke;x+=1)if(M=a[Te+x],I=a[ge+x],M!==I)return;f.state=e.MATCH,f.phraseLength=ke}};s=function(A,f,x){let M=!0;const I=o[A];if(b+=1,b>P)throw new Error(`parser: maximum number of node hits exceeded: ${P}`);if(h+=1,h>g&&(g=h,g>L))throw new Error(`parser: maximum parse tree depth exceeded: ${L}`);if(x.refresh(),i.trace!==null){const K=Z();i.trace.down(I,x.state,f,x.phraseLength,K.anchor,K.lookAround)}if(p())switch(I.type){case e.ALT:S(A,f,x);break;case e.CAT:se(A,f,x);break;case e.REP:ye(A,f,x);break;case e.RNM:oe(A,f,x);break;case e.UDT:$(A,f,x);break;case e.AND:H(A,f,x);break;case e.NOT:ee(A,f,x);break;case e.TRG:ve(A,f,x);break;case e.TBS:Se(A,f,x);break;case e.TLS:Le(A,f,x);break;case e.BKR:xt(A,f,x);break;case e.BKA:ue(A,f,x);break;case e.BKN:j(A,f,x);break;case e.ABG:ie(A,f,x);break;case e.AEN:de(A,f,x);break;default:M=!1;break}else switch(I.type){case e.ALT:S(A,f,x);break;case e.CAT:W(A,f,x);break;case e.REP:T(A,f,x);break;case e.RNM:oe(A,f,x);break;case e.UDT:$(A,f,x);break;case e.AND:H(A,f,x);break;case e.NOT:ee(A,f,x);break;case e.TRG:ae(A,f,x);break;case e.TBS:be(A,f,x);break;case e.TLS:he(A,f,x);break;case e.BKR:re(A,f,x);break;case e.BKA:ue(A,f,x);break;case e.BKN:j(A,f,x);break;case e.ABG:ie(A,f,x);break;case e.AEN:de(A,f,x);break;default:M=!1;break}if(!N()&&f+x.phraseLength>F&&(F=f+x.phraseLength),i.stats!==null&&i.stats.collect(I,x),i.trace!==null){const K=Z();i.trace.up(I,x.state,f,x.phraseLength,K.anchor,K.lookAround)}return h-=1,M}},Fy=function(){const e=Br,t=Vn,n=$o,i="stats.js: ";let s=[],o=[];const a=[];let c;const l=[],u=[];this.statsObject="statsObject";const d="stats",h=function(P,U){return P.lower<U.lower?-1:P.lower>U.lower?1:0},g=function(P,U){return P.total<U.total?1:P.total>U.total?-1:h(P,U)},b=function(P,U){return P.index<U.index?-1:P.index>U.index?1:0},y=function(){this.empty=0,this.match=0,this.nomatch=0,this.total=0},E=function(){a.length=0,c=new y,a[e.ALT]=new y,a[e.CAT]=new y,a[e.REP]=new y,a[e.RNM]=new y,a[e.TRG]=new y,a[e.TBS]=new y,a[e.TLS]=new y,a[e.UDT]=new y,a[e.AND]=new y,a[e.NOT]=new y,a[e.BKR]=new y,a[e.BKA]=new y,a[e.BKN]=new y,a[e.ABG]=new y,a[e.AEN]=new y,l.length=0;for(let P=0;P<s.length;P+=1)l.push({empty:0,match:0,nomatch:0,total:0,name:s[P].name,lower:s[P].lower,index:s[P].index});if(o.length>0){u.length=0;for(let P=0;P<o.length;P+=1)u.push({empty:0,match:0,nomatch:0,total:0,name:o[P].name,lower:o[P].lower,index:o[P].index})}},w=function(P,U){switch(P.total+=1,U){case e.EMPTY:P.empty+=1;break;case e.MATCH:P.match+=1;break;case e.NOMATCH:P.nomatch+=1;break;default:throw new Error(`${i}collect(): incStat(): unrecognized state: ${U}`)}},_=function(P,U){let q="";return q+="<tr>",q+=`<td class="${n.CLASS_ACTIVE}">${P}</td>`,q+=`<td class="${n.CLASS_EMPTY}">${U.empty}</td>`,q+=`<td class="${n.CLASS_MATCH}">${U.match}</td>`,q+=`<td class="${n.CLASS_NOMATCH}">${U.nomatch}</td>`,q+=`<td class="${n.CLASS_ACTIVE}">${U.total}</td>`,q+=`</tr>
`,q},R=function(){let P="";return P+=_("ALT",a[e.ALT]),P+=_("CAT",a[e.CAT]),P+=_("REP",a[e.REP]),P+=_("RNM",a[e.RNM]),P+=_("TRG",a[e.TRG]),P+=_("TBS",a[e.TBS]),P+=_("TLS",a[e.TLS]),P+=_("UDT",a[e.UDT]),P+=_("AND",a[e.AND]),P+=_("NOT",a[e.NOT]),P+=_("BKR",a[e.BKR]),P+=_("BKA",a[e.BKA]),P+=_("BKN",a[e.BKN]),P+=_("ABG",a[e.ABG]),P+=_("AEN",a[e.AEN]),P+=_("totals",c),P},F=function(){let P="";P+=`<tr><th></th><th></th><th></th><th></th><th></th></tr>
`,P+=`<tr><th>rules</th><th></th><th></th><th></th><th></th></tr>
`;for(let U=0;U<s.length;U+=1)l[U].total>0&&(P+="<tr>",P+=`<td class="${n.CLASS_ACTIVE}">${l[U].name}</td>`,P+=`<td class="${n.CLASS_EMPTY}">${l[U].empty}</td>`,P+=`<td class="${n.CLASS_MATCH}">${l[U].match}</td>`,P+=`<td class="${n.CLASS_NOMATCH}">${l[U].nomatch}</td>`,P+=`<td class="${n.CLASS_ACTIVE}">${l[U].total}</td>`,P+=`</tr>
`);if(o.length>0){P+=`<tr><th></th><th></th><th></th><th></th><th></th></tr>
`,P+=`<tr><th>udts</th><th></th><th></th><th></th><th></th></tr>
`;for(let U=0;U<o.length;U+=1)u[U].total>0&&(P+="<tr>",P+=`<td class="${n.CLASS_ACTIVE}">${u[U].name}</td>`,P+=`<td class="${n.CLASS_EMPTY}">${u[U].empty}</td>`,P+=`<td class="${n.CLASS_MATCH}">${u[U].match}</td>`,P+=`<td class="${n.CLASS_NOMATCH}">${u[U].nomatch}</td>`,P+=`<td class="${n.CLASS_ACTIVE}">${u[U].total}</td>`,P+=`</tr>
`)}return P};this.validate=function(P){let U=!1;return typeof P=="string"&&d===P&&(U=!0),U},this.init=function(P,U){s=P,o=U,E()},this.collect=function(P,U){w(c,U.state,U.phraseLength),w(a[P.type],U.state,U.phraseLength),P.type===e.RNM&&w(l[P.index],U.state,U.phraseLength),P.type===e.UDT&&w(u[P.index],U.state,U.phraseLength)},this.toHtml=function(P,U){let q="";q+=`<table class="${n.CLASS_STATS}">
`,typeof U=="string"&&(q+=`<caption>${U}</caption>
`),q+=`<tr><th class="${n.CLASS_ACTIVE}">ops</th>
`,q+=`<th class="${n.CLASS_EMPTY}">EMPTY</th>
`,q+=`<th class="${n.CLASS_MATCH}">MATCH</th>
`,q+=`<th class="${n.CLASS_NOMATCH}">NOMATCH</th>
`,q+=`<th class="${n.CLASS_ACTIVE}">totals</th></tr>
`;const fe=!0;for(;fe;){if(P===void 0){q+=R();break}if(P===null){q+=R();break}if(P==="ops"){q+=R();break}if(P==="index"){l.sort(b),u.length>0&&u.sort(b),q+=R(),q+=F();break}if(P==="hits"){l.sort(g),u.length>0&&u.sort(b),q+=R(),q+=F();break}if(P==="alpha"){l.sort(h),u.length>0&&u.sort(h),q+=R(),q+=F();break}break}return q+=`</table>
`,q},this.toHtmlPage=function(P,U,q){return t.htmlToPage(this.toHtml(P,U),q)}},Dy=function(){const e=Vn,t=$o,n=new Qd,i=Br,s="trace.js: ",o=this,a=16,c=10,l=8,u=32,d=80,h=5,g=[];let b=5e3,y=-1,E=0,w=0;const _=[];let R=null,F=null,L=null;const P=[],U=[],q=`<span class="${t.CLASS_LINEEND}">&bull;</span>`,fe=`<span class="${t.CLASS_LINEEND}">&hellip;</span>`,Y=`<span class="${t.CLASS_EMPTY}">&#120634;</span>`,Q=function(){const D=function(H){P[i.ALT]=H,P[i.CAT]=H,P[i.REP]=H,P[i.TLS]=H,P[i.TBS]=H,P[i.TRG]=H,P[i.AND]=H,P[i.NOT]=H,P[i.BKR]=H,P[i.BKA]=H,P[i.BKN]=H,P[i.ABG]=H,P[i.AEN]=H};let $=0;for(const H in o.filter.operators)$+=1;if($===0){D(!1);return}for(const H in o.filter.operators){const ee=H.toUpperCase();if(ee==="<ALL>"){D(!0);return}if(ee==="<NONE>"){D(!1);return}}D(!1);for(const H in o.filter.operators){const ee=H.toUpperCase();if(ee==="ALT")P[i.ALT]=o.filter.operators[H]===!0;else if(ee==="CAT")P[i.CAT]=o.filter.operators[H]===!0;else if(ee==="REP")P[i.REP]=o.filter.operators[H]===!0;else if(ee==="AND")P[i.AND]=o.filter.operators[H]===!0;else if(ee==="NOT")P[i.NOT]=o.filter.operators[H]===!0;else if(ee==="TLS")P[i.TLS]=o.filter.operators[H]===!0;else if(ee==="TBS")P[i.TBS]=o.filter.operators[H]===!0;else if(ee==="TRG")P[i.TRG]=o.filter.operators[H]===!0;else if(ee==="BKR")P[i.BKR]=o.filter.operators[H]===!0;else if(ee==="BKA")P[i.BKA]=o.filter.operators[H]===!0;else if(ee==="BKN")P[i.BKN]=o.filter.operators[H]===!0;else if(ee==="ABG")P[i.ABG]=o.filter.operators[H]===!0;else if(ee==="AEN")P[i.AEN]=o.filter.operators[H]===!0;else throw new Error(`${s}initOpratorFilter: '${H}' not a valid operator name. Must be <all>, <none>, alt, cat, rep, tls, tbs, trg, and, not, bkr, bka or bkn`)}},Z=function(){const D=function(ae){P[i.RNM]=ae,P[i.UDT]=ae;const be=F.length+L.length;U.length=0;for(let he=0;he<be;he+=1)U.push(ae)};let $,H;const ee=[];for(H=0;H<F.length;H+=1)ee.push(F[H].lower);for(H=0;H<L.length;H+=1)ee.push(L[H].lower);U.length=0,$=0;for(const ae in o.filter.rules)$+=1;if($===0){D(!0);return}for(const ae in o.filter.rules){const be=ae.toLowerCase();if(be==="<all>"){D(!0);return}if(be==="<none>"){D(!1);return}}D(!1),P[i.RNM]=!0,P[i.UDT]=!0;for(const ae in o.filter.rules){const be=ae.toLowerCase();if(H=ee.indexOf(be),H<0)throw new Error(`${s}initRuleFilter: '${ae}' not a valid rule or udt name`);U[H]=o.filter.rules[ae]===!0}};this.traceObject="traceObject",this.filter={operators:[],rules:[]},this.setMaxRecords=function(D,$){if(y=-1,typeof D=="number"&&D>0)b=Math.ceil(D);else{b=0;return}typeof $=="number"&&(y=Math.floor($),y<0&&(y=-1))},this.getMaxRecords=function(){return b},this.getLastRecord=function(){return y},this.init=function(D,$,H){g.length=0,_.length=0,E=0,w=0,R=H,F=D,L=$,Q(),Z(),n.init(b)};const N=function(D){let $=!1;return D.type===i.RNM?P[D.type]&&U[D.index]?$=!0:$=!1:D.type===i.UDT?P[D.type]&&U[F.length+D.index]?$=!0:$=!1:$=P[D.type],$},p=function(D){return y===-1||D<=y};this.down=function(D,$,H,ee,ae,be){p(E)&&N(D)&&(_.push(E),g[n.increment()]={dirUp:!1,depth:w,thisLine:E,thatLine:void 0,opcode:D,state:$,phraseIndex:H,phraseLength:ee,lookAnchor:ae,lookAround:be},E+=1,w+=1)},this.up=function(D,$,H,ee,ae,be){if(p(E)&&N(D)){const he=E,ie=_.pop(),de=n.getListIndex(ie);de!==-1&&(g[de].thatLine=he),w-=1,g[n.increment()]={dirUp:!0,depth:w,thisLine:he,thatLine:ie,opcode:D,state:$,phraseIndex:H,phraseLength:ee,lookAnchor:ae,lookAround:be},E+=1}};const v=function(){function D(f,x){let M,I,K;if(x)switch(f.op={id:x.type,name:e.opcodeToString(x.type)},f.opData=void 0,x.type){case i.RNM:f.opData=F[x.index].name;break;case i.UDT:f.opData=L[x.index].name;break;case i.BKR:x.index<F.length?M=F[x.index].name:M=L[x.index-F.length].name,I=x.bkrCase===i.BKR_MODE_CI?"%i":"%s",K=x.bkrMode===i.BKR_MODE_UM?"%u":"%p",f.opData=`\\\\${I}${K}${M}`;break;case i.TLS:f.opData=[];for(let te=0;te<x.string.length;te+=1)f.opData.push(x.string[te]);break;case i.TBS:f.opData=[];for(let te=0;te<x.string.length;te+=1)f.opData.push(x.string[te]);break;case i.TRG:f.opData=[x.min,x.max];break;case i.REP:f.opData=[x.min,x.max];break;default:throw new Error("unrecognized opcode")}else f.op={id:void 0,name:void 0},f.opData=void 0}function $(f,x,M){return f===i.MATCH?{index:x,length:M}:f===i.NOMATCH?{index:x,length:0}:f===i.EMPTY?{index:x,length:0}:null}let H=-1;function ee(f,x,M){const I={id:H++,branch:-1,parent:f,up:!1,down:!1,depth:M,children:[]};return x?(I.down=!0,I.state={id:x.state,name:e.stateToString(x.state)},I.phrase=null,D(I,x.opcode)):(I.state={id:void 0,name:void 0},I.phrase=$(),D(I,void 0)),I}function ae(f,x){x&&(f.up=!0,f.state={id:x.state,name:e.stateToString(x.state)},f.phrase=$(x.state,x.phraseIndex,x.phraseLength),f.down||D(f,x.opcode))}let be=0,he=-1,ie=1;function de(f){if(he+=1,f.branch=ie,he>w&&(w=he),f.children.length===0)be+=1;else for(let x=0;x<f.children.length;x+=1)x>0&&(ie+=1),f.children[x].leftMost=!1,f.children[x].rightMost=!1,f.leftMost&&(f.children[x].leftMost=x===0),f.rightMost&&(f.children[x].rightMost=x===f.children.length-1),de(f.children[x]);he-=1}function re(f,x){let M;const I={};if(I.id=f.id,I.branch=f.branch,I.leftMost=f.leftMost,I.rightMost=f.rightMost,M=f.state.name?f.state.name:"ACTIVE",I.state={id:f.state.id,name:M},M=f.op.name?f.op.name:"?",I.op={id:f.op.id,name:M},typeof f.opData=="string")I.opData=f.opData;else if(Array.isArray(f.opData)){I.opData=[];for(let K=0;K<f.opData.length;K+=1)I.opData[K]=f.opData[K]}else I.opData=void 0;f.phrase?I.phrase={index:f.phrase.index,length:f.phrase.length}:I.phrase=null,I.depth=f.depth,I.children=[];for(let K=0;K<f.children.length;K+=1)f.children.length-1,I.children[K]=re(f.children[K]);return I}const ue=[];let j,se,ye,ve,Se=!0;const Le=ee(null,null,-1);for(ue.push(Le),se=Le,n.forEach(f=>{if(ve=g[f],Se&&(Se=!1,ve.depth>0)){const x=ve.dirUp?ve.depth+1:ve.depth;for(let M=0;M<x;M+=1)ye=se,se=ee(se,null,M),ue.push(se),ye.children.push(se)}ve.dirUp?(se=ue.pop(),ae(se,ve),se=ue[ue.length-1]):(ye=se,se=ee(se,ve,ve.depth),ue.push(se),ye.children.push(se))});ue.length>1;)se=ue.pop(),ae(se,null);if(Le.children.length===0)throw new Error("trace.toTree(): parse tree has no nodes");if(ue.length===0)throw new Error("trace.toTree(): integrity check: dummy root node disappeared?");j=Le.children[0];let xt=j;for(;j&&!j.down&&!j.up;)xt=j,j=j.children[0];j=xt,j.leftMost=!0,j.rightMost=!0,de(j),j.branch=0;const ne={};ne.string=[];for(let f=0;f<R.length;f+=1)ne.string[f]=R[f];ne.rules=[];for(let f=0;f<F.length;f+=1)ne.rules[f]=F[f].name;ne.udts=[];for(let f=0;f<L.length;f+=1)ne.udts[f]=L[f].name;ne.id={},ne.id.ALT={id:i.ALT,name:"ALT"},ne.id.CAT={id:i.CAT,name:"CAT"},ne.id.REP={id:i.REP,name:"REP"},ne.id.RNM={id:i.RNM,name:"RNM"},ne.id.TLS={id:i.TLS,name:"TLS"},ne.id.TBS={id:i.TBS,name:"TBS"},ne.id.TRG={id:i.TRG,name:"TRG"},ne.id.UDT={id:i.UDT,name:"UDT"},ne.id.AND={id:i.AND,name:"AND"},ne.id.NOT={id:i.NOT,name:"NOT"},ne.id.BKR={id:i.BKR,name:"BKR"},ne.id.BKA={id:i.BKA,name:"BKA"},ne.id.BKN={id:i.BKN,name:"BKN"},ne.id.ABG={id:i.ABG,name:"ABG"},ne.id.AEN={id:i.AEN,name:"AEN"},ne.id.ACTIVE={id:i.ACTIVE,name:"ACTIVE"},ne.id.MATCH={id:i.MATCH,name:"MATCH"},ne.id.EMPTY={id:i.EMPTY,name:"EMPTY"},ne.id.NOMATCH={id:i.NOMATCH,name:"NOMATCH"},ne.treeDepth=w,ne.leafNodes=be;let A;return j.down?j.up?A="none":A="right":j.up?A="left":A="both",ne.branchesIncomplete=A,ne.tree=re(j,j.depth),ne};this.toTree=function(D){const $=v();return D?JSON.stringify($):$},this.toHtmlPage=function(D,$,H){return e.htmlToPage(this.toHtml(D,$),H)};const C=function(D,$){let H;switch(D){case a:H="hexadecimal";break;case c:H="decimal";break;case l:H="ASCII";break;case u:H="UNICODE";break;default:throw new Error(`${s}htmlHeader: unrecognized mode: ${D}`)}let ee="";return ee+=`<p>display mode: ${H}</p>
`,ee+=`<table class="${t.CLASS_TRACE}">
`,typeof $=="string"&&(ee+=`<caption>${$}</caption>`),ee},B=function(){let D="";return D+=`</table>
`,D+=`<p class="${t.CLASS_MONOSPACE}">legend:<br>
`,D+=`(a)&nbsp;-&nbsp;line number<br>
`,D+=`(b)&nbsp;-&nbsp;matching line number<br>
`,D+=`(c)&nbsp;-&nbsp;phrase offset<br>
`,D+=`(d)&nbsp;-&nbsp;phrase length<br>
`,D+=`(e)&nbsp;-&nbsp;tree depth<br>
`,D+=`(f)&nbsp;-&nbsp;operator state<br>
`,D+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_ACTIVE}">&darr;</span>&nbsp;&nbsp;phrase opened<br>
`,D+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_MATCH}">&uarr;M</span> phrase matched<br>
`,D+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_EMPTY}">&uarr;E</span> empty phrase matched<br>
`,D+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_NOMATCH}">&uarr;N</span> phrase not matched<br>
`,D+=`operator&nbsp;-&nbsp;ALT, CAT, REP, RNM, TRG, TLS, TBS<sup>&dagger;</sup>, UDT, AND, NOT, BKA, BKN, BKR, ABG, AEN<sup>&Dagger;</sup><br>
`,D+=`phrase&nbsp;&nbsp;&nbsp;-&nbsp;up to ${d} characters of the phrase being matched<br>
`,D+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_MATCH}">matched characters</span><br>
`,D+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_LOOKAHEAD}">matched characters in look ahead mode</span><br>
`,D+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_LOOKBEHIND}">matched characters in look behind mode</span><br>
`,D+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_REMAINDER}">remainder characters(not yet examined by parser)</span><br>
`,D+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_CTRLCHAR}">control characters, TAB, LF, CR, etc. (ASCII mode only)</span><br>
`,D+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${Y} empty string<br>
`,D+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${q} end of input string<br>
`,D+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${fe} input string display truncated<br>
`,D+=`</p>
`,D+=`<p class="${t.CLASS_MONOSPACE}">
`,D+=`<sup>&dagger;</sup>original ABNF operators:<br>
`,D+=`ALT - alternation<br>
`,D+=`CAT - concatenation<br>
`,D+=`REP - repetition<br>
`,D+=`RNM - rule name<br>
`,D+=`TRG - terminal range<br>
`,D+=`TLS - terminal literal string (case insensitive)<br>
`,D+=`TBS - terminal binary string (case sensitive)<br>
`,D+=`<br>
`,D+=`<sup>&Dagger;</sup>super set SABNF operators:<br>
`,D+=`UDT - user-defined terminal<br>
`,D+=`AND - positive look ahead<br>
`,D+=`NOT - negative look ahead<br>
`,D+=`BKA - positive look behind<br>
`,D+=`BKN - negative look behind<br>
`,D+=`BKR - back reference<br>
`,D+=`ABG - anchor - begin of input string<br>
`,D+=`AEN - anchor - end of input string<br>
`,D+=`</p>
`,D};this.indent=function(D){let $="";for(let H=0;H<D;H+=1)$+=".";return $};const O=function(D,$){let H="";if($.type===i.TRG)if(D===a||D===u){let ee=$.min.toString(16).toUpperCase();ee.length%2!==0&&(ee=`0${ee}`),H+=D===a?"%x":"U+",H+=ee,ee=$.max.toString(16).toUpperCase(),ee.length%2!==0&&(ee=`0${ee}`),H+=`&ndash;${ee}`}else H=`%d${$.min.toString(10)}&ndash;${$.max.toString(10)}`;return H},G=function(D,$){let H="";if($.type===i.REP)if(D===a){let ee=$.min.toString(16).toUpperCase();ee.length%2!==0&&(ee=`0${ee}`),H=`x${ee}`,$.max<1/0?(ee=$.max.toString(16).toUpperCase(),ee.length%2!==0&&(ee=`0${ee}`)):ee="inf",H+=`&ndash;${ee}`}else $.max<1/0?H=`${$.min.toString(10)}&ndash;${$.max.toString(10)}`:H=`${$.min.toString(10)}&ndash;inf`;return H},V=function(D,$){let H="";if($.type===i.TBS){const ee=Math.min($.string.length,h*2);if(D===a||D===u){H+=D===a?"%x":"U+";for(let ae=0;ae<ee;ae+=1){let be;ae>0&&(H+="."),be=$.string[ae].toString(16).toUpperCase(),be.length%2!==0&&(be=`0${be}`),H+=be}}else{H="%d";for(let ae=0;ae<ee;ae+=1)ae>0&&(H+="."),H+=$.string[ae].toString(10)}ee<$.string.length&&(H+=fe)}return H},k=function(D,$){let H="";if($.type===i.TLS){const ee=Math.min($.string.length,h);if(D===a||D===c){let ae,be,he;D===a?(H="%x",he=16):(H="%d",he=10);for(let ie=0;ie<ee;ie+=1)ie>0&&(H+="."),be=$.string[ie],be>=97&&be<=122?(ae=be-32,H+=`${ae.toString(he)}/${be.toString(he)}`.toUpperCase()):be>=65&&be<=90?(ae=be,be+=32,H+=`${ae.toString(he)}/${be.toString(he)}`.toUpperCase()):H+=be.toString(he).toUpperCase();ee<$.string.length&&(H+=fe)}else{H='"';for(let ae=0;ae<ee;ae+=1)H+=e.asciiChars[$.string[ae]];ee<$.string.length&&(H+=fe),H+='"'}}return H},m=function(D,$,H,ee,ae){if(ee===0)return"";let be="";const he=ae?",":"";switch(D){case a:be=he+e.charsToHex($,H,ee);break;case c:if(ae)return`,${e.charsToDec($,H,ee)}`;be=he+e.charsToDec($,H,ee);break;case u:be=e.charsToUnicode($,H,ee);break;case l:default:be=e.charsToAsciiHtml($,H,ee);break}return be},S=function(D,$,H,ee,ae,be){let he="",ie,de,re,ue,j=q;const se=`<span class="${t.CLASS_LOOKBEHIND}">`,ye=`<span class="${t.CLASS_REMAINDER}">`,ve="</span>";let Se=!1;switch(H){case i.EMPTY:he+=Y;case i.NOMATCH:case i.MATCH:case i.ACTIVE:ie=ee-ae,de=be-ie,re=be,ue=$.length-re;break;default:throw new Error("unrecognized state")}return j=q,de>d?(de=d,j=fe,ue=0):de+ue>d&&(j=fe,ue=d-de),de>0&&(he+=se,he+=m(D,$,ie,de,Se),he+=ve,Se=!0),ue>0&&(he+=ye,he+=m(D,$,re,ue,Se),he+=ve),he+j},W=function(D,$,H,ee,ae,be){let he="",ie,de,re,ue,j=q;const se=`<span class="${t.CLASS_REMAINDER}">`,ye="</span>";let ve=!1;switch(H){case i.EMPTY:he+=Y;case i.NOMATCH:case i.ACTIVE:ie=ee,de=0,re=ee,ue=$.length-re;break;case i.MATCH:ie=ee,de=ae,re=ee+de,ue=$.length-re;break;default:throw new Error("unrecognized state")}return j=q,de>d?(de=d,j=fe,ue=0):de+ue>d&&(j=fe,ue=d-de),de>0&&(he+=be,he+=m(D,$,ie,de,ve),he+=ye,ve=!0),ue>0&&(he+=se,he+=m(D,$,re,ue,ve),he+=ye),he+j},T=function(D,$,H,ee,ae){const be=`<span class="${t.CLASS_LOOKAHEAD}">`;return W(D,$,H,ee,ae,be)},X=function(D,$,H,ee,ae){const be=`<span class="${t.CLASS_MATCH}">`;return W(D,$,H,ee,ae,be)},oe=function(D){if(F===null)return"";let $="",H,ee,ae,be,he,ie;return $+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>",$+=`<th>operator</th><th>phrase</th></tr>
`,n.forEach(de=>{const re=g[de];switch(H=re.thisLine,ee=re.thatLine!==void 0?re.thatLine:"--",ae=!1,be=!1,he=!1,re.lookAround===i.LOOKAROUND_AHEAD&&(ae=!0,he=!0,ie=re.lookAnchor),(re.opcode.type===i.AND||re.opcode.type===i.NOT)&&(ae=!0,he=!0,ie=re.phraseIndex),re.lookAround===i.LOOKAROUND_BEHIND&&(be=!0,he=!0,ie=re.lookAnchor),(re.opcode.type===i.BKA||re.opcode.type===i.BKN)&&(be=!0,he=!0,ie=re.phraseIndex),$+="<tr>",$+=`<td>${H}</td><td>${ee}</td>`,$+=`<td>${re.phraseIndex}</td>`,$+=`<td>${re.phraseLength}</td>`,$+=`<td>${re.depth}</td>`,$+="<td>",re.state){case i.ACTIVE:$+=`<span class="${t.CLASS_ACTIVE}">&darr;&nbsp;</span>`;break;case i.MATCH:$+=`<span class="${t.CLASS_MATCH}">&uarr;M</span>`;break;case i.NOMATCH:$+=`<span class="${t.CLASS_NOMATCH}">&uarr;N</span>`;break;case i.EMPTY:$+=`<span class="${t.CLASS_EMPTY}">&uarr;E</span>`;break;default:$+=`<span class="${t.CLASS_ACTIVE}">--</span>`;break}if($+="</td>",$+="<td>",$+=o.indent(re.depth),ae?$+=`<span class="${t.CLASS_LOOKAHEAD}">`:be&&($+=`<span class="${t.CLASS_LOOKBEHIND}">`),$+=e.opcodeToString(re.opcode.type),re.opcode.type===i.RNM&&($+=`(${F[re.opcode.index].name}) `),re.opcode.type===i.BKR){const ue=re.opcode.bkrCase===i.BKR_MODE_CI?"%i":"%s",j=re.opcode.bkrMode===i.BKR_MODE_UM?"%u":"%p";$+=`(\\${ue}${j}${F[re.opcode.index].name}) `}re.opcode.type===i.UDT&&($+=`(${L[re.opcode.index].name}) `),re.opcode.type===i.TRG&&($+=`(${O(D,re.opcode)}) `),re.opcode.type===i.TBS&&($+=`(${V(D,re.opcode)}) `),re.opcode.type===i.TLS&&($+=`(${k(D,re.opcode)}) `),re.opcode.type===i.REP&&($+=`(${G(D,re.opcode)}) `),he&&($+="</span>"),$+="</td>",$+="<td>",be?$+=S(D,R,re.state,re.phraseIndex,re.phraseLength,ie):ae?$+=T(D,R,re.state,re.phraseIndex,re.phraseLength):$+=X(D,R,re.state,re.phraseIndex,re.phraseLength),$+=`</td></tr>
`}),$+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>",$+=`<th>operator</th><th>phrase</th></tr>
`,$+=`</table>
`,$};this.toHtml=function(D,$){let H=l;if(typeof D=="string"&&D.length>=3){const ae=D.toLowerCase().slice(0,3);ae==="hex"?H=a:ae==="dec"?H=c:ae==="uni"&&(H=u)}let ee="";return ee+=C(H,$),ee+=oe(H),ee+=B(),ee}},Mi={ast:Oy,circular:Qd,ids:Br,parser:Ly,stats:Fy,trace:Dy,utils:Vn,emitcss:Xd,style:$o},Ba,Lu;function Uy(){return Lu||(Lu=1,Ba=function(){this.grammarObject="grammarObject",this.rules=[],this.rules[0]={name:"file",lower:"file",index:0,isBkr:!1},this.rules[1]={name:"line",lower:"line",index:1,isBkr:!1},this.rules[2]={name:"line-text",lower:"line-text",index:2,isBkr:!1},this.rules[3]={name:"last-line",lower:"last-line",index:3,isBkr:!1},this.rules[4]={name:"valid",lower:"valid",index:4,isBkr:!1},this.rules[5]={name:"invalid",lower:"invalid",index:5,isBkr:!1},this.rules[6]={name:"end",lower:"end",index:6,isBkr:!1},this.rules[7]={name:"CRLF",lower:"crlf",index:7,isBkr:!1},this.rules[8]={name:"LF",lower:"lf",index:8,isBkr:!1},this.rules[9]={name:"CR",lower:"cr",index:9,isBkr:!1},this.udts=[],this.rules[0].opcodes=[],this.rules[0].opcodes[0]={type:2,children:[1,3]},this.rules[0].opcodes[1]={type:3,min:0,max:1/0},this.rules[0].opcodes[2]={type:4,index:1},this.rules[0].opcodes[3]={type:3,min:0,max:1},this.rules[0].opcodes[4]={type:4,index:3},this.rules[1].opcodes=[],this.rules[1].opcodes[0]={type:2,children:[1,2]},this.rules[1].opcodes[1]={type:4,index:2},this.rules[1].opcodes[2]={type:4,index:6},this.rules[2].opcodes=[],this.rules[2].opcodes[0]={type:3,min:0,max:1/0},this.rules[2].opcodes[1]={type:1,children:[2,3]},this.rules[2].opcodes[2]={type:4,index:4},this.rules[2].opcodes[3]={type:4,index:5},this.rules[3].opcodes=[],this.rules[3].opcodes[0]={type:3,min:1,max:1/0},this.rules[3].opcodes[1]={type:1,children:[2,3]},this.rules[3].opcodes[2]={type:4,index:4},this.rules[3].opcodes[3]={type:4,index:5},this.rules[4].opcodes=[],this.rules[4].opcodes[0]={type:1,children:[1,2]},this.rules[4].opcodes[1]={type:5,min:32,max:126},this.rules[4].opcodes[2]={type:6,string:[9]},this.rules[5].opcodes=[],this.rules[5].opcodes[0]={type:1,children:[1,2,3,4]},this.rules[5].opcodes[1]={type:5,min:0,max:8},this.rules[5].opcodes[2]={type:5,min:11,max:12},this.rules[5].opcodes[3]={type:5,min:14,max:31},this.rules[5].opcodes[4]={type:5,min:127,max:4294967295},this.rules[6].opcodes=[],this.rules[6].opcodes[0]={type:1,children:[1,2,3]},this.rules[6].opcodes[1]={type:4,index:7},this.rules[6].opcodes[2]={type:4,index:8},this.rules[6].opcodes[3]={type:4,index:9},this.rules[7].opcodes=[],this.rules[7].opcodes[0]={type:6,string:[13,10]},this.rules[8].opcodes=[],this.rules[8].opcodes[0]={type:6,string:[10]},this.rules[9].opcodes=[],this.rules[9].opcodes[0]={type:6,string:[13]},this.toString=function(){let t="";return t+=`file = *line [last-line]
`,t+=`line = line-text end
`,t+=`line-text = *(valid/invalid)
`,t+=`last-line = 1*(valid/invalid)
`,t+=`valid = %d32-126 / %d9
`,t+=`invalid = %d0-8 / %d11-12 /%d14-31 / %x7f-ffffffff
`,t+=`end = CRLF / LF / CR
`,t+=`CRLF = %d13.10
`,t+=`LF = %d10
`,t+=`CR = %d13
`,t}}),Ba}var Ia={},Fu;function $y(){if(Fu)return Ia;Fu=1;const r=Br,e=Vn;function t(d,h,g,b,y){return d===r.SEM_PRE?(y.endLength=0,y.textLength=0,y.invalidCount=0):y.lines.push({lineNo:y.lines.length,beginChar:g,length:b,textLength:y.textLength,endType:y.endType,invalidChars:y.invalidCount}),r.SEM_OK}function n(d,h,g,b,y){return d===r.SEM_PRE&&(y.textLength=b),r.SEM_OK}function i(d,h,g,b,y){return d===r.SEM_PRE?(y.endLength=0,y.textLength=0,y.invalidCount=0):y.strict?(y.lines.push({lineNo:y.lines.length,beginChar:g,length:b,textLength:b,endType:"none",invalidChars:y.invalidCount}),y.errors.push({line:y.lineNo,char:g+b,msg:"no line end on last line - strict ABNF specifies CRLF(\\r\\n, \\x0D\\x0A)"})):(h.push(10),y.lines.push({lineNo:y.lines.length,beginChar:g,length:b+1,textLength:b,endType:"LF",invalidChars:y.invalidCount})),r.SEM_OK}function s(d,h,g,b,y){return d===r.SEM_PRE&&y.errors.push({line:y.lineNo,char:g,msg:`invalid character found '\\x${e.charToHex(h[g])}'`}),r.SEM_OK}function o(d,h,g,b,y){return d===r.SEM_POST&&(y.lineNo+=1),r.SEM_OK}function a(d,h,g,b,y){return d===r.SEM_PRE&&(y.endType="LF",y.strict&&y.errors.push({line:y.lineNo,char:g,msg:"line end character LF(\\n, \\x0A) - strict ABNF specifies CRLF(\\r\\n, \\x0D\\x0A)"})),r.SEM_OK}function c(d,h,g,b,y){return d===r.SEM_PRE&&(y.endType="CR",y.strict&&y.errors.push({line:y.lineNo,char:g,msg:"line end character CR(\\r, \\x0D) - strict ABNF specifies CRLF(\\r\\n, \\x0D\\x0A)"})),r.SEM_OK}function l(d,h,g,b,y){return d===r.SEM_PRE&&(y.endType="CRLF"),r.SEM_OK}const u=[];return u.line=t,u["line-text"]=n,u["last-line"]=i,u.invalid=s,u.end=o,u.lf=a,u.cr=c,u.crlf=l,Ia.callbacks=u,Ia}var Oa,Du;function jy(){return Du||(Du=1,Oa=function(e,t,n,i){const s="scanner.js: ",o=Mi,a=new(Uy()),{callbacks:c}=$y(),l=[],u=new o.parser;if(u.ast=new o.ast,u.ast.callbacks=c,i){if(i.traceObject!=="traceObject")throw new TypeError(`${s}trace argument is not a trace object`);u.trace=i}if(u.parse(a,"file",e).success!==!0){t.push({line:0,char:0,msg:"syntax analysis error analyzing input SABNF grammar"});return}const h={lines:l,lineNo:0,errors:t,strict:!!n};return u.ast.translate(h),l}),Oa}var La,Uu;function Vy(){return Uu||(Uu=1,La=function(){const e="syntax-callbacks.js: ",t=Mi,n=t.ids;let i;const s=function(k,m,S,W){switch(k.state){case n.ACTIVE:W.altStack=[],W.repCount=0;break;case n.EMPTY:W.errors.push({line:0,char:0,msg:"grammar file is empty"});break;case n.MATCH:W.ruleCount===0&&W.errors.push({line:0,char:0,msg:"no rules defined"});break;case n.NOMATCH:throw new Error(`${e}synFile: grammar file NOMATCH: design error: should never happen.`);default:throw new Error(`${e}synFile: unrecognized case.`)}},o=function(V,k,m,S){switch(V.state){case n.ACTIVE:S.altStack.length=0,i={groupOpen:null,groupError:!1,optionOpen:null,optionError:!1,tlsOpen:null,clsOpen:null,prosValOpen:null,basicError:!1},S.altStack.push(i);break;case n.EMPTY:throw new Error(`${e}synRule: EMPTY: rule cannot be empty`);case n.NOMATCH:break;case n.MATCH:S.ruleCount+=1;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},a=function(V,k,m,S){switch(V.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:S.errors.push({line:S.findLine(S.lines,m,S.charsLength),char:m,msg:"Unrecognized SABNF line. Invalid rule, comment or blank line."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},c=function(V,k,m,S){switch(V.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:S.errors.push({line:S.findLine(S.lines,m,S.charsLength),char:m,msg:"Rule names must be alphanum and begin with alphabetic character."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},l=function(V,k,m,S){switch(V.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:S.errors.push({line:S.findLine(S.lines,m,S.charsLength),char:m,msg:"Expected '=' or '=/'. Not found."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},u=function(V,k,m,S){switch(V.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:S.strict&&S.errors.push({line:S.findLine(S.lines,m,S.charsLength),char:m,msg:"AND operator(&) found - strict ABNF specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},d=function(V,k,m,S){switch(V.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:S.strict&&S.errors.push({line:S.findLine(S.lines,m,S.charsLength),char:m,msg:"NOT operator(!) found - strict ABNF specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},h=function(V,k,m,S){switch(V.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:S.strict?S.errors.push({line:S.findLine(S.lines,m,S.charsLength),char:m,msg:"Positive look-behind operator(&&) found - strict ABNF specified."}):S.lite&&S.errors.push({line:S.findLine(S.lines,m,S.charsLength),char:m,msg:"Positive look-behind operator(&&) found - apg-lite specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},g=function(V,k,m,S){switch(V.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:S.strict?S.errors.push({line:S.findLine(S.lines,m,S.charsLength),char:m,msg:"Negative look-behind operator(!!) found - strict ABNF specified."}):S.lite&&S.errors.push({line:S.findLine(S.lines,m,S.charsLength),char:m,msg:"Negative look-behind operator(!!) found - apg-lite specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},b=function(V,k,m,S){switch(V.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:S.strict?S.errors.push({line:S.findLine(S.lines,m,S.charsLength),char:m,msg:"Beginning of string anchor(%^) found - strict ABNF specified."}):S.lite&&S.errors.push({line:S.findLine(S.lines,m,S.charsLength),char:m,msg:"Beginning of string anchor(%^) found - apg-lite specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},y=function(V,k,m,S){switch(V.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:S.strict?S.errors.push({line:S.findLine(S.lines,m,S.charsLength),char:m,msg:"End of string anchor(%$) found - strict ABNF specified."}):S.lite&&S.errors.push({line:S.findLine(S.lines,m,S.charsLength),char:m,msg:"End of string anchor(%$) found - apg-lite specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},E=function(V,k,m,S){switch(V.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:if(S.strict){const W=t.utils.charsToString(k,m,V.phraseLength);S.errors.push({line:S.findLine(S.lines,m,S.charsLength),char:m,msg:`Back reference operator(${W}) found - strict ABNF specified.`})}else if(S.lite){const W=t.utils.charsToString(k,m,V.phraseLength);S.errors.push({line:S.findLine(S.lines,m,S.charsLength),char:m,msg:`Back reference operator(${W}) found - apg-lite specified.`})}break;default:throw new Error(`${e}synFile: unrecognized case.`)}},w=function(V,k,m,S){switch(V.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:if(S.strict){const W=t.utils.charsToString(k,m,V.phraseLength);S.errors.push({line:S.findLine(S.lines,m,S.charsLength),char:m,msg:`UDT operator found(${W}) - strict ABNF specified.`})}break;default:throw new Error(`${e}synFile: unrecognized case.`)}},_=function(V,k,m){switch(V.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:i.tlsOpen=m;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},R=function(V,k,m,S){switch(V.state){case n.ACTIVE:S.stringTabChar=!1;break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:S.stringTabChar!==!1&&S.errors.push({line:S.findLine(S.lines,S.stringTabChar),char:S.stringTabChar,msg:"Tab character (\\t, x09) not allowed in literal string (see 'quoted-string' definition, RFC 7405.)"});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},F=function(V,k,m,S){switch(V.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:S.stringTabChar=m;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},L=function(V,k,m,S){switch(V.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:S.errors.push({line:S.findLine(S.lines,i.tlsOpen),char:i.tlsOpen,msg:'Case-insensitive literal string("...") opened but not closed.'}),i.basicError=!0,i.tlsOpen=null;break;case n.MATCH:i.tlsOpen=null;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},P=function(V,k,m){switch(V.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:i.clsOpen=m;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},U=function(V,k,m,S){switch(V.state){case n.ACTIVE:S.stringTabChar=!1;break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:S.stringTabChar!==!1&&S.errors.push({line:S.findLine(S.lines,S.stringTabChar),char:S.stringTabChar,msg:"Tab character (\\t, x09) not allowed in literal string."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},q=function(V,k,m,S){switch(V.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:S.errors.push({line:S.findLine(S.lines,i.clsOpen),char:i.clsOpen,msg:"Case-sensitive literal string('...') opened but not closed."}),i.clsOpen=null,i.basicError=!0;break;case n.MATCH:S.strict&&S.errors.push({line:S.findLine(S.lines,i.clsOpen),char:i.clsOpen,msg:"Case-sensitive string operator('...') found - strict ABNF specified."}),i.clsOpen=null;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},fe=function(V,k,m){switch(V.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:i.prosValOpen=m;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},Y=function(V,k,m,S){switch(V.state){case n.ACTIVE:S.stringTabChar=!1;break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:S.stringTabChar!==!1&&S.errors.push({line:S.findLine(S.lines,S.stringTabChar),char:S.stringTabChar,msg:"Tab character (\\t, x09) not allowed in prose value string."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},Q=function(V,k,m,S){switch(V.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:S.errors.push({line:S.findLine(S.lines,i.prosValOpen),char:i.prosValOpen,msg:"Prose value operator(<...>) opened but not closed."}),i.basicError=!0,i.prosValOpen=null;break;case n.MATCH:S.errors.push({line:S.findLine(S.lines,i.prosValOpen),char:i.prosValOpen,msg:"Prose value operator(<...>) found. The ABNF syntax is valid, but a parser cannot be generated from this grammar."}),i.prosValOpen=null;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},Z=function(V,k,m,S){switch(V.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:i={groupOpen:m,groupError:!1,optionOpen:null,optionError:!1,tlsOpen:null,clsOpen:null,prosValOpen:null,basicError:!1},S.altStack.push(i);break;default:throw new Error(`${e}synFile: unrecognized case.`)}},N=function(V,k,m,S){switch(V.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:S.errors.push({line:S.findLine(S.lines,i.groupOpen),char:i.groupOpen,msg:'Group "(...)" opened but not closed.'}),i=S.altStack.pop(),i.groupError=!0;break;case n.MATCH:i=S.altStack.pop();break;default:throw new Error(`${e}synFile: unrecognized case.`)}},p=function(V,k,m,S){switch(V.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:i={groupOpen:null,groupError:!1,optionOpen:m,optionError:!1,tlsOpen:null,clsOpen:null,prosValOpen:null,basicError:!1},S.altStack.push(i);break;default:throw new Error(`${e}synFile: unrecognized case.`)}},v=function(V,k,m,S){switch(V.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:S.errors.push({line:S.findLine(S.lines,i.optionOpen),char:i.optionOpen,msg:'Option "[...]" opened but not closed.'}),i=S.altStack.pop(),i.optionError=!0;break;case n.MATCH:i=S.altStack.pop();break;default:throw new Error(`${e}synFile: unrecognized case.`)}},C=function(V,k,m,S){switch(V.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:i.basicError===!1&&S.errors.push({line:S.findLine(S.lines,m,S.charsLength),char:m,msg:"Unrecognized SABNF element."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},B=function(V,k,m,S){switch(V.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:if(V.phraseLength===1&&S.strict){const W=k[m]===13?"CR":"LF";S.errors.push({line:S.findLine(S.lines,m,S.charsLength),char:m,msg:`Line end '${W}' found - strict ABNF specified, only CRLF allowed.`})}break;default:throw new Error(`${e}synFile: unrecognized case.`)}},O=function(V,k,m,S){switch(V.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:S.errors.push({line:S.findLine(S.lines,m,S.charsLength),char:m,msg:"Unrecognized grammar element or characters."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},G=function(V,k,m,S){switch(V.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:S.repCount+=1;break;case n.MATCH:S.repCount+=1;break;default:throw new Error(`${e}synFile: unrecognized case.`)}};this.callbacks=[],this.callbacks.andop=u,this.callbacks.basicelementerr=C,this.callbacks.clsclose=q,this.callbacks.clsopen=P,this.callbacks.clsstring=U,this.callbacks.definedaserror=l,this.callbacks.file=s,this.callbacks.groupclose=N,this.callbacks.groupopen=Z,this.callbacks.lineenderror=O,this.callbacks.lineend=B,this.callbacks.notop=d,this.callbacks.optionclose=v,this.callbacks.optionopen=p,this.callbacks.prosvalclose=Q,this.callbacks.prosvalopen=fe,this.callbacks.prosvalstring=Y,this.callbacks.repetition=G,this.callbacks.rule=o,this.callbacks.ruleerror=a,this.callbacks.rulenameerror=c,this.callbacks.stringtab=F,this.callbacks.tlsclose=L,this.callbacks.tlsopen=_,this.callbacks.tlsstring=R,this.callbacks.udtop=w,this.callbacks.bkaop=h,this.callbacks.bknop=g,this.callbacks.bkrop=E,this.callbacks.abgop=b,this.callbacks.aenop=y}),La}var Fa,$u;function Hy(){return $u||($u=1,Fa=function(){const e=Mi,t=e.ids,n=function(){this.names=[],this.add=function(re){let ue=-1;return this.get(re)===-1&&(ue={name:re,lower:re.toLowerCase(),index:this.names.length},this.names.push(ue)),ue},this.get=function(re){let ue=-1;const j=re.toLowerCase();for(let se=0;se<this.names.length;se+=1)if(this.names[se].lower===j){ue=this.names[se];break}return ue}},i=function(de,re,ue){let j=0;for(let se=re;se<re+ue;se+=1)j=10*j+de[se]-48;return j},s=function(de,re,ue){let j=0;for(let se=re;se<re+ue;se+=1)j=2*j+de[se]-48;return j},o=function(de,re,ue){let j=0;for(let se=re;se<re+ue;se+=1){let ye=de[se];if(ye>=48&&ye<=57)ye-=48;else if(ye>=65&&ye<=70)ye-=55;else if(ye>=97&&ye<=102)ye-=87;else throw new Error("hexnum out of range");j=16*j+ye}return j};function a(ie,de,re,ue,j){const se=t.SEM_OK;if(ie===t.SEM_PRE)j.ruleNames=new n,j.udtNames=new n,j.rules=[],j.udts=[],j.rulesLineMap=[],j.opcodes=[],j.altStack=[],j.topStack=null,j.topRule=null;else if(ie===t.SEM_POST){let ye;j.rules.forEach(ve=>{ve.isBkr=!1,ve.opcodes.forEach(Se=>{Se.type===t.RNM&&(ye=j.ruleNames.get(Se.index.name),ye===-1?(j.errors.push({line:j.findLine(j.lines,Se.index.phraseIndex,j.charsLength),char:Se.index.phraseIndex,msg:`Rule name '${Se.index.name}' used but not defined.`}),Se.index=-1):Se.index=ye.index)})}),j.udts.forEach(ve=>{ve.isBkr=!1}),j.rules.forEach(ve=>{ve.opcodes.forEach(Se=>{Se.type===t.BKR&&(ve.hasBkr=!0,ye=j.ruleNames.get(Se.index.name),ye!==-1?(j.rules[ye.index].isBkr=!0,Se.index=ye.index):(ye=j.udtNames.get(Se.index.name),ye!==-1?(j.udts[ye.index].isBkr=!0,Se.index=j.rules.length+ye.index):(j.errors.push({line:j.findLine(j.lines,Se.index.phraseIndex,j.charsLength),char:Se.index.phraseIndex,msg:`Back reference name '${Se.index.name}' refers to undefined rule or unamed UDT.`}),Se.index=-1)))})})}return se}function c(ie,de,re,ue,j){const se=t.SEM_OK;return ie===t.SEM_PRE&&(j.altStack.length=0,j.topStack=null,j.rulesLineMap.push({line:j.findLine(j.lines,re,j.charsLength),char:re})),se}function l(ie,de,re,ue,j){const se=t.SEM_OK;if(ie===t.SEM_PRE)j.ruleName="",j.definedas="";else if(ie===t.SEM_POST){let ye;j.definedas==="="?(ye=j.ruleNames.add(j.ruleName),ye===-1?(j.definedas=null,j.errors.push({line:j.findLine(j.lines,re,j.charsLength),char:re,msg:`Rule name '${j.ruleName}' previously defined.`})):(j.topRule={name:ye.name,lower:ye.lower,opcodes:[],index:ye.index},j.rules.push(j.topRule),j.opcodes=j.topRule.opcodes)):(ye=j.ruleNames.get(j.ruleName),ye===-1?(j.definedas=null,j.errors.push({line:j.findLine(j.lines,re,j.charsLength),char:re,msg:`Rule name '${j.ruleName}' for incremental alternate not previously defined.`})):(j.topRule=j.rules[ye.index],j.opcodes=j.topRule.opcodes))}return se}function u(ie,de,re,ue,j){let se=t.SEM_OK;if(ie===t.SEM_PRE)for(;;){if(j.definedas===null){se=t.SEM_SKIP;break}if(j.topStack===null){if(j.definedas==="="){j.topStack={alt:{type:t.ALT,children:[]},cat:null},j.altStack.push(j.topStack),j.opcodes.push(j.topStack.alt);break}j.topStack={alt:j.opcodes[0],cat:null},j.altStack.push(j.topStack);break}j.topStack={alt:{type:t.ALT,children:[]},cat:null},j.altStack.push(j.topStack),j.opcodes.push(j.topStack.alt);break}else ie===t.SEM_POST&&(j.altStack.pop(),j.altStack.length>0?j.topStack=j.altStack[j.altStack.length-1]:j.topStack=null);return se}function d(ie,de,re,ue,j){const se=t.SEM_OK;return ie===t.SEM_PRE?(j.topStack.alt.children.push(j.opcodes.length),j.topStack.cat={type:t.CAT,children:[]},j.opcodes.push(j.topStack.cat)):ie===t.SEM_POST&&(j.topStack.cat=null),se}function h(ie,de,re,ue,j){const se=t.SEM_OK;return ie===t.SEM_PRE&&j.topStack.cat.children.push(j.opcodes.length),se}function g(ie,de,re,ue,j){const se=t.SEM_OK;return ie===t.SEM_POST&&j.opcodes.push({type:t.REP,min:0,max:1,char:re}),se}function b(ie,de,re,ue,j){const se=t.SEM_OK;return ie===t.SEM_PRE&&(j.ruleName=e.utils.charsToString(de,re,ue)),se}function y(ie,de,re,ue,j){const se=t.SEM_OK;return ie===t.SEM_POST&&(j.definedas="="),se}function E(ie,de,re,ue,j){const se=t.SEM_OK;return ie===t.SEM_POST&&(j.definedas="=/"),se}function w(ie,de,re,ue,j){const se=t.SEM_OK;return ie===t.SEM_PRE?(j.min=0,j.max=1/0,j.topRep={type:t.REP,min:0,max:1/0},j.opcodes.push(j.topRep)):ie===t.SEM_POST&&(j.min>j.max&&j.errors.push({line:j.findLine(j.lines,re,j.charsLength),char:re,msg:`repetition min cannot be greater than max: min: ${j.min}: max: ${j.max}`}),j.topRep.min=j.min,j.topRep.max=j.max),se}function _(ie,de,re,ue,j){const se=t.SEM_OK;return ie===t.SEM_POST&&(j.min=i(de,re,ue)),se}function R(ie,de,re,ue,j){const se=t.SEM_OK;return ie===t.SEM_POST&&(j.max=i(de,re,ue)),se}function F(ie,de,re,ue,j){const se=t.SEM_OK;return ie===t.SEM_POST&&(j.max=i(de,re,ue),j.min=j.max),se}function L(ie,de,re,ue,j){const se=t.SEM_OK;return ie===t.SEM_POST&&j.opcodes.push({type:t.AND}),se}function P(ie,de,re,ue,j){const se=t.SEM_OK;return ie===t.SEM_POST&&j.opcodes.push({type:t.NOT}),se}function U(ie,de,re,ue,j){const se=t.SEM_OK;return ie===t.SEM_POST&&j.opcodes.push({type:t.RNM,index:{phraseIndex:re,name:e.utils.charsToString(de,re,ue)}}),se}function q(ie,de,re,ue,j){const se=t.SEM_OK;return ie===t.SEM_POST&&j.opcodes.push({type:t.ABG}),se}function fe(ie,de,re,ue,j){const se=t.SEM_OK;return ie===t.SEM_POST&&j.opcodes.push({type:t.AEN}),se}function Y(ie,de,re,ue,j){const se=t.SEM_OK;return ie===t.SEM_POST&&j.opcodes.push({type:t.BKA}),se}function Q(ie,de,re,ue,j){const se=t.SEM_OK;return ie===t.SEM_POST&&j.opcodes.push({type:t.BKN}),se}function Z(ie,de,re,ue,j){const se=t.SEM_OK;return ie===t.SEM_PRE?(j.ci=!0,j.cs=!1,j.um=!0,j.pm=!1):ie===t.SEM_POST&&j.opcodes.push({type:t.BKR,bkrCase:j.cs===!0?t.BKR_MODE_CS:t.BKR_MODE_CI,bkrMode:j.pm===!0?t.BKR_MODE_PM:t.BKR_MODE_UM,index:{phraseIndex:j.bkrname.phraseIndex,name:e.utils.charsToString(de,j.bkrname.phraseIndex,j.bkrname.phraseLength)}}),se}function N(ie,de,re,ue,j){const se=t.SEM_OK;return ie===t.SEM_POST&&(j.ci=!0),se}function p(ie,de,re,ue,j){const se=t.SEM_OK;return ie===t.SEM_POST&&(j.cs=!0),se}function v(ie,de,re,ue,j){const se=t.SEM_OK;return ie===t.SEM_POST&&(j.um=!0),se}function C(ie,de,re,ue,j){const se=t.SEM_OK;return ie===t.SEM_POST&&(j.pm=!0),se}function B(ie,de,re,ue,j){const se=t.SEM_OK;return ie===t.SEM_POST&&(j.bkrname={phraseIndex:re,phraseLength:ue}),se}function O(ie,de,re,ue,j){const se=t.SEM_OK;if(ie===t.SEM_POST){const ye=e.utils.charsToString(de,re,ue);let ve=j.udtNames.add(ye);if(ve===-1){if(ve=j.udtNames.get(ye),ve===-1)throw new Error("semUdtEmpty: name look up error")}else j.udts.push({name:ve.name,lower:ve.lower,index:ve.index,empty:!0});j.opcodes.push({type:t.UDT,empty:!0,index:ve.index})}return se}function G(ie,de,re,ue,j){const se=t.SEM_OK;if(ie===t.SEM_POST){const ye=e.utils.charsToString(de,re,ue);let ve=j.udtNames.add(ye);if(ve===-1){if(ve=j.udtNames.get(ye),ve===-1)throw new Error("semUdtNonEmpty: name look up error")}else j.udts.push({name:ve.name,lower:ve.lower,index:ve.index,empty:!1});j.opcodes.push({type:t.UDT,empty:!1,index:ve.index,syntax:null,semantic:null})}return se}function V(ie,de,re,ue,j){const se=t.SEM_OK;return ie===t.SEM_PRE&&(j.tlscase=!0),se}function k(ie,de,re,ue,j){const se=t.SEM_OK;return ie===t.SEM_POST&&ue>0&&(de[re+1]===83||de[re+1]===115)&&(j.tlscase=!1),se}function m(ie,de,re,ue,j){const se=t.SEM_OK;if(ie===t.SEM_POST)if(j.tlscase){const ye=de.slice(re,re+ue);for(let ve=0;ve<ye.length;ve+=1)ye[ve]>=65&&ye[ve]<=90&&(ye[ve]+=32);j.opcodes.push({type:t.TLS,string:ye})}else j.opcodes.push({type:t.TBS,string:de.slice(re,re+ue)});return se}function S(ie,de,re,ue,j){const se=t.SEM_OK;return ie===t.SEM_POST&&(ue<=2?j.opcodes.push({type:t.TLS,string:[]}):j.opcodes.push({type:t.TBS,string:de.slice(re+1,re+ue-1)})),se}function W(ie,de,re,ue,j){const se=t.SEM_OK;return ie===t.SEM_PRE?j.tbsstr=[]:ie===t.SEM_POST&&j.opcodes.push({type:t.TBS,string:j.tbsstr}),se}function T(ie,de,re,ue,j){const se=t.SEM_OK;return ie===t.SEM_PRE?(j.min=0,j.max=0):ie===t.SEM_POST&&(j.min>j.max&&j.errors.push({line:j.findLine(j.lines,re,j.charsLength),char:re,msg:`TRG, (%dmin-max), min cannot be greater than max: min: ${j.min}: max: ${j.max}`}),j.opcodes.push({type:t.TRG,min:j.min,max:j.max})),se}function X(ie,de,re,ue,j){const se=t.SEM_OK;return ie===t.SEM_POST&&(j.min=i(de,re,ue)),se}function oe(ie,de,re,ue,j){const se=t.SEM_OK;return ie===t.SEM_POST&&(j.max=i(de,re,ue)),se}function D(ie,de,re,ue,j){const se=t.SEM_OK;return ie===t.SEM_POST&&(j.min=s(de,re,ue)),se}function $(ie,de,re,ue,j){const se=t.SEM_OK;return ie===t.SEM_POST&&(j.max=s(de,re,ue)),se}function H(ie,de,re,ue,j){const se=t.SEM_OK;return ie===t.SEM_POST&&(j.min=o(de,re,ue)),se}function ee(ie,de,re,ue,j){const se=t.SEM_OK;return ie===t.SEM_POST&&(j.max=o(de,re,ue)),se}function ae(ie,de,re,ue,j){const se=t.SEM_OK;return ie===t.SEM_POST&&j.tbsstr.push(i(de,re,ue)),se}function be(ie,de,re,ue,j){const se=t.SEM_OK;return ie===t.SEM_POST&&j.tbsstr.push(s(de,re,ue)),se}function he(ie,de,re,ue,j){const se=t.SEM_OK;return ie===t.SEM_POST&&j.tbsstr.push(o(de,re,ue)),se}this.callbacks=[],this.callbacks.abgop=q,this.callbacks.aenop=fe,this.callbacks.alternation=u,this.callbacks.andop=L,this.callbacks.bmax=$,this.callbacks.bmin=D,this.callbacks.bkaop=Y,this.callbacks.bknop=Q,this.callbacks.bkrop=Z,this.callbacks["bkr-name"]=B,this.callbacks.bstring=be,this.callbacks.clsop=S,this.callbacks.ci=N,this.callbacks.cs=p,this.callbacks.um=v,this.callbacks.pm=C,this.callbacks.concatenation=d,this.callbacks.defined=y,this.callbacks.dmax=oe,this.callbacks.dmin=X,this.callbacks.dstring=ae,this.callbacks.file=a,this.callbacks.incalt=E,this.callbacks.notop=P,this.callbacks.optionopen=g,this.callbacks["rep-max"]=R,this.callbacks["rep-min"]=_,this.callbacks["rep-min-max"]=F,this.callbacks.repetition=h,this.callbacks.repop=w,this.callbacks.rnmop=U,this.callbacks.rule=c,this.callbacks.rulelookup=l,this.callbacks.rulename=b,this.callbacks.tbsop=W,this.callbacks.tlscase=k,this.callbacks.tlsstring=m,this.callbacks.tlsop=V,this.callbacks.trgop=T,this.callbacks["udt-empty"]=O,this.callbacks["udt-non-empty"]=G,this.callbacks.xmax=ee,this.callbacks.xmin=H,this.callbacks.xstring=he}),Fa}var Da,ju;function Ky(){return ju||(ju=1,Da=function(){this.grammarObject="grammarObject",this.rules=[],this.rules[0]={name:"File",lower:"file",index:0,isBkr:!1},this.rules[1]={name:"BlankLine",lower:"blankline",index:1,isBkr:!1},this.rules[2]={name:"Rule",lower:"rule",index:2,isBkr:!1},this.rules[3]={name:"RuleLookup",lower:"rulelookup",index:3,isBkr:!1},this.rules[4]={name:"RuleNameTest",lower:"rulenametest",index:4,isBkr:!1},this.rules[5]={name:"RuleName",lower:"rulename",index:5,isBkr:!1},this.rules[6]={name:"RuleNameError",lower:"rulenameerror",index:6,isBkr:!1},this.rules[7]={name:"DefinedAsTest",lower:"definedastest",index:7,isBkr:!1},this.rules[8]={name:"DefinedAsError",lower:"definedaserror",index:8,isBkr:!1},this.rules[9]={name:"DefinedAs",lower:"definedas",index:9,isBkr:!1},this.rules[10]={name:"Defined",lower:"defined",index:10,isBkr:!1},this.rules[11]={name:"IncAlt",lower:"incalt",index:11,isBkr:!1},this.rules[12]={name:"RuleError",lower:"ruleerror",index:12,isBkr:!1},this.rules[13]={name:"LineEndError",lower:"lineenderror",index:13,isBkr:!1},this.rules[14]={name:"Alternation",lower:"alternation",index:14,isBkr:!1},this.rules[15]={name:"Concatenation",lower:"concatenation",index:15,isBkr:!1},this.rules[16]={name:"Repetition",lower:"repetition",index:16,isBkr:!1},this.rules[17]={name:"Modifier",lower:"modifier",index:17,isBkr:!1},this.rules[18]={name:"Predicate",lower:"predicate",index:18,isBkr:!1},this.rules[19]={name:"BasicElement",lower:"basicelement",index:19,isBkr:!1},this.rules[20]={name:"BasicElementErr",lower:"basicelementerr",index:20,isBkr:!1},this.rules[21]={name:"Group",lower:"group",index:21,isBkr:!1},this.rules[22]={name:"GroupError",lower:"grouperror",index:22,isBkr:!1},this.rules[23]={name:"GroupOpen",lower:"groupopen",index:23,isBkr:!1},this.rules[24]={name:"GroupClose",lower:"groupclose",index:24,isBkr:!1},this.rules[25]={name:"Option",lower:"option",index:25,isBkr:!1},this.rules[26]={name:"OptionError",lower:"optionerror",index:26,isBkr:!1},this.rules[27]={name:"OptionOpen",lower:"optionopen",index:27,isBkr:!1},this.rules[28]={name:"OptionClose",lower:"optionclose",index:28,isBkr:!1},this.rules[29]={name:"RnmOp",lower:"rnmop",index:29,isBkr:!1},this.rules[30]={name:"BkrOp",lower:"bkrop",index:30,isBkr:!1},this.rules[31]={name:"bkrModifier",lower:"bkrmodifier",index:31,isBkr:!1},this.rules[32]={name:"cs",lower:"cs",index:32,isBkr:!1},this.rules[33]={name:"ci",lower:"ci",index:33,isBkr:!1},this.rules[34]={name:"um",lower:"um",index:34,isBkr:!1},this.rules[35]={name:"pm",lower:"pm",index:35,isBkr:!1},this.rules[36]={name:"bkr-name",lower:"bkr-name",index:36,isBkr:!1},this.rules[37]={name:"rname",lower:"rname",index:37,isBkr:!1},this.rules[38]={name:"uname",lower:"uname",index:38,isBkr:!1},this.rules[39]={name:"ename",lower:"ename",index:39,isBkr:!1},this.rules[40]={name:"UdtOp",lower:"udtop",index:40,isBkr:!1},this.rules[41]={name:"udt-non-empty",lower:"udt-non-empty",index:41,isBkr:!1},this.rules[42]={name:"udt-empty",lower:"udt-empty",index:42,isBkr:!1},this.rules[43]={name:"RepOp",lower:"repop",index:43,isBkr:!1},this.rules[44]={name:"AltOp",lower:"altop",index:44,isBkr:!1},this.rules[45]={name:"CatOp",lower:"catop",index:45,isBkr:!1},this.rules[46]={name:"StarOp",lower:"starop",index:46,isBkr:!1},this.rules[47]={name:"AndOp",lower:"andop",index:47,isBkr:!1},this.rules[48]={name:"NotOp",lower:"notop",index:48,isBkr:!1},this.rules[49]={name:"BkaOp",lower:"bkaop",index:49,isBkr:!1},this.rules[50]={name:"BknOp",lower:"bknop",index:50,isBkr:!1},this.rules[51]={name:"AbgOp",lower:"abgop",index:51,isBkr:!1},this.rules[52]={name:"AenOp",lower:"aenop",index:52,isBkr:!1},this.rules[53]={name:"TrgOp",lower:"trgop",index:53,isBkr:!1},this.rules[54]={name:"TbsOp",lower:"tbsop",index:54,isBkr:!1},this.rules[55]={name:"TlsOp",lower:"tlsop",index:55,isBkr:!1},this.rules[56]={name:"TlsCase",lower:"tlscase",index:56,isBkr:!1},this.rules[57]={name:"TlsOpen",lower:"tlsopen",index:57,isBkr:!1},this.rules[58]={name:"TlsClose",lower:"tlsclose",index:58,isBkr:!1},this.rules[59]={name:"TlsString",lower:"tlsstring",index:59,isBkr:!1},this.rules[60]={name:"StringTab",lower:"stringtab",index:60,isBkr:!1},this.rules[61]={name:"ClsOp",lower:"clsop",index:61,isBkr:!1},this.rules[62]={name:"ClsOpen",lower:"clsopen",index:62,isBkr:!1},this.rules[63]={name:"ClsClose",lower:"clsclose",index:63,isBkr:!1},this.rules[64]={name:"ClsString",lower:"clsstring",index:64,isBkr:!1},this.rules[65]={name:"ProsVal",lower:"prosval",index:65,isBkr:!1},this.rules[66]={name:"ProsValOpen",lower:"prosvalopen",index:66,isBkr:!1},this.rules[67]={name:"ProsValString",lower:"prosvalstring",index:67,isBkr:!1},this.rules[68]={name:"ProsValClose",lower:"prosvalclose",index:68,isBkr:!1},this.rules[69]={name:"rep-min",lower:"rep-min",index:69,isBkr:!1},this.rules[70]={name:"rep-min-max",lower:"rep-min-max",index:70,isBkr:!1},this.rules[71]={name:"rep-max",lower:"rep-max",index:71,isBkr:!1},this.rules[72]={name:"rep-num",lower:"rep-num",index:72,isBkr:!1},this.rules[73]={name:"dString",lower:"dstring",index:73,isBkr:!1},this.rules[74]={name:"xString",lower:"xstring",index:74,isBkr:!1},this.rules[75]={name:"bString",lower:"bstring",index:75,isBkr:!1},this.rules[76]={name:"Dec",lower:"dec",index:76,isBkr:!1},this.rules[77]={name:"Hex",lower:"hex",index:77,isBkr:!1},this.rules[78]={name:"Bin",lower:"bin",index:78,isBkr:!1},this.rules[79]={name:"dmin",lower:"dmin",index:79,isBkr:!1},this.rules[80]={name:"dmax",lower:"dmax",index:80,isBkr:!1},this.rules[81]={name:"bmin",lower:"bmin",index:81,isBkr:!1},this.rules[82]={name:"bmax",lower:"bmax",index:82,isBkr:!1},this.rules[83]={name:"xmin",lower:"xmin",index:83,isBkr:!1},this.rules[84]={name:"xmax",lower:"xmax",index:84,isBkr:!1},this.rules[85]={name:"dnum",lower:"dnum",index:85,isBkr:!1},this.rules[86]={name:"bnum",lower:"bnum",index:86,isBkr:!1},this.rules[87]={name:"xnum",lower:"xnum",index:87,isBkr:!1},this.rules[88]={name:"alphanum",lower:"alphanum",index:88,isBkr:!1},this.rules[89]={name:"owsp",lower:"owsp",index:89,isBkr:!1},this.rules[90]={name:"wsp",lower:"wsp",index:90,isBkr:!1},this.rules[91]={name:"space",lower:"space",index:91,isBkr:!1},this.rules[92]={name:"comment",lower:"comment",index:92,isBkr:!1},this.rules[93]={name:"LineEnd",lower:"lineend",index:93,isBkr:!1},this.rules[94]={name:"LineContinue",lower:"linecontinue",index:94,isBkr:!1},this.udts=[],this.rules[0].opcodes=[],this.rules[0].opcodes[0]={type:3,min:0,max:1/0},this.rules[0].opcodes[1]={type:1,children:[2,3,4]},this.rules[0].opcodes[2]={type:4,index:1},this.rules[0].opcodes[3]={type:4,index:2},this.rules[0].opcodes[4]={type:4,index:12},this.rules[1].opcodes=[],this.rules[1].opcodes[0]={type:2,children:[1,5,7]},this.rules[1].opcodes[1]={type:3,min:0,max:1/0},this.rules[1].opcodes[2]={type:1,children:[3,4]},this.rules[1].opcodes[3]={type:6,string:[32]},this.rules[1].opcodes[4]={type:6,string:[9]},this.rules[1].opcodes[5]={type:3,min:0,max:1},this.rules[1].opcodes[6]={type:4,index:92},this.rules[1].opcodes[7]={type:4,index:93},this.rules[2].opcodes=[],this.rules[2].opcodes[0]={type:2,children:[1,2,3,4]},this.rules[2].opcodes[1]={type:4,index:3},this.rules[2].opcodes[2]={type:4,index:89},this.rules[2].opcodes[3]={type:4,index:14},this.rules[2].opcodes[4]={type:1,children:[5,8]},this.rules[2].opcodes[5]={type:2,children:[6,7]},this.rules[2].opcodes[6]={type:4,index:89},this.rules[2].opcodes[7]={type:4,index:93},this.rules[2].opcodes[8]={type:2,children:[9,10]},this.rules[2].opcodes[9]={type:4,index:13},this.rules[2].opcodes[10]={type:4,index:93},this.rules[3].opcodes=[],this.rules[3].opcodes[0]={type:2,children:[1,2,3]},this.rules[3].opcodes[1]={type:4,index:4},this.rules[3].opcodes[2]={type:4,index:89},this.rules[3].opcodes[3]={type:4,index:7},this.rules[4].opcodes=[],this.rules[4].opcodes[0]={type:1,children:[1,2]},this.rules[4].opcodes[1]={type:4,index:5},this.rules[4].opcodes[2]={type:4,index:6},this.rules[5].opcodes=[],this.rules[5].opcodes[0]={type:4,index:88},this.rules[6].opcodes=[],this.rules[6].opcodes[0]={type:3,min:1,max:1/0},this.rules[6].opcodes[1]={type:1,children:[2,3]},this.rules[6].opcodes[2]={type:5,min:33,max:60},this.rules[6].opcodes[3]={type:5,min:62,max:126},this.rules[7].opcodes=[],this.rules[7].opcodes[0]={type:1,children:[1,2]},this.rules[7].opcodes[1]={type:4,index:9},this.rules[7].opcodes[2]={type:4,index:8},this.rules[8].opcodes=[],this.rules[8].opcodes[0]={type:3,min:1,max:2},this.rules[8].opcodes[1]={type:5,min:33,max:126},this.rules[9].opcodes=[],this.rules[9].opcodes[0]={type:1,children:[1,2]},this.rules[9].opcodes[1]={type:4,index:11},this.rules[9].opcodes[2]={type:4,index:10},this.rules[10].opcodes=[],this.rules[10].opcodes[0]={type:6,string:[61]},this.rules[11].opcodes=[],this.rules[11].opcodes[0]={type:6,string:[61,47]},this.rules[12].opcodes=[],this.rules[12].opcodes[0]={type:2,children:[1,6]},this.rules[12].opcodes[1]={type:3,min:1,max:1/0},this.rules[12].opcodes[2]={type:1,children:[3,4,5]},this.rules[12].opcodes[3]={type:5,min:32,max:126},this.rules[12].opcodes[4]={type:6,string:[9]},this.rules[12].opcodes[5]={type:4,index:94},this.rules[12].opcodes[6]={type:4,index:93},this.rules[13].opcodes=[],this.rules[13].opcodes[0]={type:3,min:1,max:1/0},this.rules[13].opcodes[1]={type:1,children:[2,3,4]},this.rules[13].opcodes[2]={type:5,min:32,max:126},this.rules[13].opcodes[3]={type:6,string:[9]},this.rules[13].opcodes[4]={type:4,index:94},this.rules[14].opcodes=[],this.rules[14].opcodes[0]={type:2,children:[1,2]},this.rules[14].opcodes[1]={type:4,index:15},this.rules[14].opcodes[2]={type:3,min:0,max:1/0},this.rules[14].opcodes[3]={type:2,children:[4,5,6]},this.rules[14].opcodes[4]={type:4,index:89},this.rules[14].opcodes[5]={type:4,index:44},this.rules[14].opcodes[6]={type:4,index:15},this.rules[15].opcodes=[],this.rules[15].opcodes[0]={type:2,children:[1,2]},this.rules[15].opcodes[1]={type:4,index:16},this.rules[15].opcodes[2]={type:3,min:0,max:1/0},this.rules[15].opcodes[3]={type:2,children:[4,5]},this.rules[15].opcodes[4]={type:4,index:45},this.rules[15].opcodes[5]={type:4,index:16},this.rules[16].opcodes=[],this.rules[16].opcodes[0]={type:2,children:[1,3]},this.rules[16].opcodes[1]={type:3,min:0,max:1},this.rules[16].opcodes[2]={type:4,index:17},this.rules[16].opcodes[3]={type:1,children:[4,5,6,7]},this.rules[16].opcodes[4]={type:4,index:21},this.rules[16].opcodes[5]={type:4,index:25},this.rules[16].opcodes[6]={type:4,index:19},this.rules[16].opcodes[7]={type:4,index:20},this.rules[17].opcodes=[],this.rules[17].opcodes[0]={type:1,children:[1,5]},this.rules[17].opcodes[1]={type:2,children:[2,3]},this.rules[17].opcodes[2]={type:4,index:18},this.rules[17].opcodes[3]={type:3,min:0,max:1},this.rules[17].opcodes[4]={type:4,index:43},this.rules[17].opcodes[5]={type:4,index:43},this.rules[18].opcodes=[],this.rules[18].opcodes[0]={type:1,children:[1,2,3,4]},this.rules[18].opcodes[1]={type:4,index:49},this.rules[18].opcodes[2]={type:4,index:50},this.rules[18].opcodes[3]={type:4,index:47},this.rules[18].opcodes[4]={type:4,index:48},this.rules[19].opcodes=[],this.rules[19].opcodes[0]={type:1,children:[1,2,3,4,5,6,7,8,9,10]},this.rules[19].opcodes[1]={type:4,index:40},this.rules[19].opcodes[2]={type:4,index:29},this.rules[19].opcodes[3]={type:4,index:53},this.rules[19].opcodes[4]={type:4,index:54},this.rules[19].opcodes[5]={type:4,index:55},this.rules[19].opcodes[6]={type:4,index:61},this.rules[19].opcodes[7]={type:4,index:30},this.rules[19].opcodes[8]={type:4,index:51},this.rules[19].opcodes[9]={type:4,index:52},this.rules[19].opcodes[10]={type:4,index:65},this.rules[20].opcodes=[],this.rules[20].opcodes[0]={type:3,min:1,max:1/0},this.rules[20].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[20].opcodes[2]={type:5,min:33,max:40},this.rules[20].opcodes[3]={type:5,min:42,max:46},this.rules[20].opcodes[4]={type:5,min:48,max:92},this.rules[20].opcodes[5]={type:5,min:94,max:126},this.rules[21].opcodes=[],this.rules[21].opcodes[0]={type:2,children:[1,2,3]},this.rules[21].opcodes[1]={type:4,index:23},this.rules[21].opcodes[2]={type:4,index:14},this.rules[21].opcodes[3]={type:1,children:[4,5]},this.rules[21].opcodes[4]={type:4,index:24},this.rules[21].opcodes[5]={type:4,index:22},this.rules[22].opcodes=[],this.rules[22].opcodes[0]={type:3,min:1,max:1/0},this.rules[22].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[22].opcodes[2]={type:5,min:33,max:40},this.rules[22].opcodes[3]={type:5,min:42,max:46},this.rules[22].opcodes[4]={type:5,min:48,max:92},this.rules[22].opcodes[5]={type:5,min:94,max:126},this.rules[23].opcodes=[],this.rules[23].opcodes[0]={type:2,children:[1,2]},this.rules[23].opcodes[1]={type:6,string:[40]},this.rules[23].opcodes[2]={type:4,index:89},this.rules[24].opcodes=[],this.rules[24].opcodes[0]={type:2,children:[1,2]},this.rules[24].opcodes[1]={type:4,index:89},this.rules[24].opcodes[2]={type:6,string:[41]},this.rules[25].opcodes=[],this.rules[25].opcodes[0]={type:2,children:[1,2,3]},this.rules[25].opcodes[1]={type:4,index:27},this.rules[25].opcodes[2]={type:4,index:14},this.rules[25].opcodes[3]={type:1,children:[4,5]},this.rules[25].opcodes[4]={type:4,index:28},this.rules[25].opcodes[5]={type:4,index:26},this.rules[26].opcodes=[],this.rules[26].opcodes[0]={type:3,min:1,max:1/0},this.rules[26].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[26].opcodes[2]={type:5,min:33,max:40},this.rules[26].opcodes[3]={type:5,min:42,max:46},this.rules[26].opcodes[4]={type:5,min:48,max:92},this.rules[26].opcodes[5]={type:5,min:94,max:126},this.rules[27].opcodes=[],this.rules[27].opcodes[0]={type:2,children:[1,2]},this.rules[27].opcodes[1]={type:6,string:[91]},this.rules[27].opcodes[2]={type:4,index:89},this.rules[28].opcodes=[],this.rules[28].opcodes[0]={type:2,children:[1,2]},this.rules[28].opcodes[1]={type:4,index:89},this.rules[28].opcodes[2]={type:6,string:[93]},this.rules[29].opcodes=[],this.rules[29].opcodes[0]={type:4,index:88},this.rules[30].opcodes=[],this.rules[30].opcodes[0]={type:2,children:[1,2,4]},this.rules[30].opcodes[1]={type:6,string:[92]},this.rules[30].opcodes[2]={type:3,min:0,max:1},this.rules[30].opcodes[3]={type:4,index:31},this.rules[30].opcodes[4]={type:4,index:36},this.rules[31].opcodes=[],this.rules[31].opcodes[0]={type:1,children:[1,7,13,19]},this.rules[31].opcodes[1]={type:2,children:[2,3]},this.rules[31].opcodes[2]={type:4,index:32},this.rules[31].opcodes[3]={type:3,min:0,max:1},this.rules[31].opcodes[4]={type:1,children:[5,6]},this.rules[31].opcodes[5]={type:4,index:34},this.rules[31].opcodes[6]={type:4,index:35},this.rules[31].opcodes[7]={type:2,children:[8,9]},this.rules[31].opcodes[8]={type:4,index:33},this.rules[31].opcodes[9]={type:3,min:0,max:1},this.rules[31].opcodes[10]={type:1,children:[11,12]},this.rules[31].opcodes[11]={type:4,index:34},this.rules[31].opcodes[12]={type:4,index:35},this.rules[31].opcodes[13]={type:2,children:[14,15]},this.rules[31].opcodes[14]={type:4,index:34},this.rules[31].opcodes[15]={type:3,min:0,max:1},this.rules[31].opcodes[16]={type:1,children:[17,18]},this.rules[31].opcodes[17]={type:4,index:32},this.rules[31].opcodes[18]={type:4,index:33},this.rules[31].opcodes[19]={type:2,children:[20,21]},this.rules[31].opcodes[20]={type:4,index:35},this.rules[31].opcodes[21]={type:3,min:0,max:1},this.rules[31].opcodes[22]={type:1,children:[23,24]},this.rules[31].opcodes[23]={type:4,index:32},this.rules[31].opcodes[24]={type:4,index:33},this.rules[32].opcodes=[],this.rules[32].opcodes[0]={type:6,string:[37,115]},this.rules[33].opcodes=[],this.rules[33].opcodes[0]={type:6,string:[37,105]},this.rules[34].opcodes=[],this.rules[34].opcodes[0]={type:6,string:[37,117]},this.rules[35].opcodes=[],this.rules[35].opcodes[0]={type:6,string:[37,112]},this.rules[36].opcodes=[],this.rules[36].opcodes[0]={type:1,children:[1,2,3]},this.rules[36].opcodes[1]={type:4,index:38},this.rules[36].opcodes[2]={type:4,index:39},this.rules[36].opcodes[3]={type:4,index:37},this.rules[37].opcodes=[],this.rules[37].opcodes[0]={type:4,index:88},this.rules[38].opcodes=[],this.rules[38].opcodes[0]={type:2,children:[1,2]},this.rules[38].opcodes[1]={type:6,string:[117,95]},this.rules[38].opcodes[2]={type:4,index:88},this.rules[39].opcodes=[],this.rules[39].opcodes[0]={type:2,children:[1,2]},this.rules[39].opcodes[1]={type:6,string:[101,95]},this.rules[39].opcodes[2]={type:4,index:88},this.rules[40].opcodes=[],this.rules[40].opcodes[0]={type:1,children:[1,2]},this.rules[40].opcodes[1]={type:4,index:42},this.rules[40].opcodes[2]={type:4,index:41},this.rules[41].opcodes=[],this.rules[41].opcodes[0]={type:2,children:[1,2]},this.rules[41].opcodes[1]={type:6,string:[117,95]},this.rules[41].opcodes[2]={type:4,index:88},this.rules[42].opcodes=[],this.rules[42].opcodes[0]={type:2,children:[1,2]},this.rules[42].opcodes[1]={type:6,string:[101,95]},this.rules[42].opcodes[2]={type:4,index:88},this.rules[43].opcodes=[],this.rules[43].opcodes[0]={type:1,children:[1,5,8,11,12]},this.rules[43].opcodes[1]={type:2,children:[2,3,4]},this.rules[43].opcodes[2]={type:4,index:69},this.rules[43].opcodes[3]={type:4,index:46},this.rules[43].opcodes[4]={type:4,index:71},this.rules[43].opcodes[5]={type:2,children:[6,7]},this.rules[43].opcodes[6]={type:4,index:69},this.rules[43].opcodes[7]={type:4,index:46},this.rules[43].opcodes[8]={type:2,children:[9,10]},this.rules[43].opcodes[9]={type:4,index:46},this.rules[43].opcodes[10]={type:4,index:71},this.rules[43].opcodes[11]={type:4,index:46},this.rules[43].opcodes[12]={type:4,index:70},this.rules[44].opcodes=[],this.rules[44].opcodes[0]={type:2,children:[1,2]},this.rules[44].opcodes[1]={type:6,string:[47]},this.rules[44].opcodes[2]={type:4,index:89},this.rules[45].opcodes=[],this.rules[45].opcodes[0]={type:4,index:90},this.rules[46].opcodes=[],this.rules[46].opcodes[0]={type:6,string:[42]},this.rules[47].opcodes=[],this.rules[47].opcodes[0]={type:6,string:[38]},this.rules[48].opcodes=[],this.rules[48].opcodes[0]={type:6,string:[33]},this.rules[49].opcodes=[],this.rules[49].opcodes[0]={type:6,string:[38,38]},this.rules[50].opcodes=[],this.rules[50].opcodes[0]={type:6,string:[33,33]},this.rules[51].opcodes=[],this.rules[51].opcodes[0]={type:6,string:[37,94]},this.rules[52].opcodes=[],this.rules[52].opcodes[0]={type:6,string:[37,36]},this.rules[53].opcodes=[],this.rules[53].opcodes[0]={type:2,children:[1,2]},this.rules[53].opcodes[1]={type:6,string:[37]},this.rules[53].opcodes[2]={type:1,children:[3,8,13]},this.rules[53].opcodes[3]={type:2,children:[4,5,6,7]},this.rules[53].opcodes[4]={type:4,index:76},this.rules[53].opcodes[5]={type:4,index:79},this.rules[53].opcodes[6]={type:6,string:[45]},this.rules[53].opcodes[7]={type:4,index:80},this.rules[53].opcodes[8]={type:2,children:[9,10,11,12]},this.rules[53].opcodes[9]={type:4,index:77},this.rules[53].opcodes[10]={type:4,index:83},this.rules[53].opcodes[11]={type:6,string:[45]},this.rules[53].opcodes[12]={type:4,index:84},this.rules[53].opcodes[13]={type:2,children:[14,15,16,17]},this.rules[53].opcodes[14]={type:4,index:78},this.rules[53].opcodes[15]={type:4,index:81},this.rules[53].opcodes[16]={type:6,string:[45]},this.rules[53].opcodes[17]={type:4,index:82},this.rules[54].opcodes=[],this.rules[54].opcodes[0]={type:2,children:[1,2]},this.rules[54].opcodes[1]={type:6,string:[37]},this.rules[54].opcodes[2]={type:1,children:[3,10,17]},this.rules[54].opcodes[3]={type:2,children:[4,5,6]},this.rules[54].opcodes[4]={type:4,index:76},this.rules[54].opcodes[5]={type:4,index:73},this.rules[54].opcodes[6]={type:3,min:0,max:1/0},this.rules[54].opcodes[7]={type:2,children:[8,9]},this.rules[54].opcodes[8]={type:6,string:[46]},this.rules[54].opcodes[9]={type:4,index:73},this.rules[54].opcodes[10]={type:2,children:[11,12,13]},this.rules[54].opcodes[11]={type:4,index:77},this.rules[54].opcodes[12]={type:4,index:74},this.rules[54].opcodes[13]={type:3,min:0,max:1/0},this.rules[54].opcodes[14]={type:2,children:[15,16]},this.rules[54].opcodes[15]={type:6,string:[46]},this.rules[54].opcodes[16]={type:4,index:74},this.rules[54].opcodes[17]={type:2,children:[18,19,20]},this.rules[54].opcodes[18]={type:4,index:78},this.rules[54].opcodes[19]={type:4,index:75},this.rules[54].opcodes[20]={type:3,min:0,max:1/0},this.rules[54].opcodes[21]={type:2,children:[22,23]},this.rules[54].opcodes[22]={type:6,string:[46]},this.rules[54].opcodes[23]={type:4,index:75},this.rules[55].opcodes=[],this.rules[55].opcodes[0]={type:2,children:[1,2,3,4]},this.rules[55].opcodes[1]={type:4,index:56},this.rules[55].opcodes[2]={type:4,index:57},this.rules[55].opcodes[3]={type:4,index:59},this.rules[55].opcodes[4]={type:4,index:58},this.rules[56].opcodes=[],this.rules[56].opcodes[0]={type:3,min:0,max:1},this.rules[56].opcodes[1]={type:1,children:[2,3]},this.rules[56].opcodes[2]={type:7,string:[37,105]},this.rules[56].opcodes[3]={type:7,string:[37,115]},this.rules[57].opcodes=[],this.rules[57].opcodes[0]={type:6,string:[34]},this.rules[58].opcodes=[],this.rules[58].opcodes[0]={type:6,string:[34]},this.rules[59].opcodes=[],this.rules[59].opcodes[0]={type:3,min:0,max:1/0},this.rules[59].opcodes[1]={type:1,children:[2,3,4]},this.rules[59].opcodes[2]={type:5,min:32,max:33},this.rules[59].opcodes[3]={type:5,min:35,max:126},this.rules[59].opcodes[4]={type:4,index:60},this.rules[60].opcodes=[],this.rules[60].opcodes[0]={type:6,string:[9]},this.rules[61].opcodes=[],this.rules[61].opcodes[0]={type:2,children:[1,2,3]},this.rules[61].opcodes[1]={type:4,index:62},this.rules[61].opcodes[2]={type:4,index:64},this.rules[61].opcodes[3]={type:4,index:63},this.rules[62].opcodes=[],this.rules[62].opcodes[0]={type:6,string:[39]},this.rules[63].opcodes=[],this.rules[63].opcodes[0]={type:6,string:[39]},this.rules[64].opcodes=[],this.rules[64].opcodes[0]={type:3,min:0,max:1/0},this.rules[64].opcodes[1]={type:1,children:[2,3,4]},this.rules[64].opcodes[2]={type:5,min:32,max:38},this.rules[64].opcodes[3]={type:5,min:40,max:126},this.rules[64].opcodes[4]={type:4,index:60},this.rules[65].opcodes=[],this.rules[65].opcodes[0]={type:2,children:[1,2,3]},this.rules[65].opcodes[1]={type:4,index:66},this.rules[65].opcodes[2]={type:4,index:67},this.rules[65].opcodes[3]={type:4,index:68},this.rules[66].opcodes=[],this.rules[66].opcodes[0]={type:6,string:[60]},this.rules[67].opcodes=[],this.rules[67].opcodes[0]={type:3,min:0,max:1/0},this.rules[67].opcodes[1]={type:1,children:[2,3,4]},this.rules[67].opcodes[2]={type:5,min:32,max:61},this.rules[67].opcodes[3]={type:5,min:63,max:126},this.rules[67].opcodes[4]={type:4,index:60},this.rules[68].opcodes=[],this.rules[68].opcodes[0]={type:6,string:[62]},this.rules[69].opcodes=[],this.rules[69].opcodes[0]={type:4,index:72},this.rules[70].opcodes=[],this.rules[70].opcodes[0]={type:4,index:72},this.rules[71].opcodes=[],this.rules[71].opcodes[0]={type:4,index:72},this.rules[72].opcodes=[],this.rules[72].opcodes[0]={type:3,min:1,max:1/0},this.rules[72].opcodes[1]={type:5,min:48,max:57},this.rules[73].opcodes=[],this.rules[73].opcodes[0]={type:4,index:85},this.rules[74].opcodes=[],this.rules[74].opcodes[0]={type:4,index:87},this.rules[75].opcodes=[],this.rules[75].opcodes[0]={type:4,index:86},this.rules[76].opcodes=[],this.rules[76].opcodes[0]={type:1,children:[1,2]},this.rules[76].opcodes[1]={type:6,string:[68]},this.rules[76].opcodes[2]={type:6,string:[100]},this.rules[77].opcodes=[],this.rules[77].opcodes[0]={type:1,children:[1,2]},this.rules[77].opcodes[1]={type:6,string:[88]},this.rules[77].opcodes[2]={type:6,string:[120]},this.rules[78].opcodes=[],this.rules[78].opcodes[0]={type:1,children:[1,2]},this.rules[78].opcodes[1]={type:6,string:[66]},this.rules[78].opcodes[2]={type:6,string:[98]},this.rules[79].opcodes=[],this.rules[79].opcodes[0]={type:4,index:85},this.rules[80].opcodes=[],this.rules[80].opcodes[0]={type:4,index:85},this.rules[81].opcodes=[],this.rules[81].opcodes[0]={type:4,index:86},this.rules[82].opcodes=[],this.rules[82].opcodes[0]={type:4,index:86},this.rules[83].opcodes=[],this.rules[83].opcodes[0]={type:4,index:87},this.rules[84].opcodes=[],this.rules[84].opcodes[0]={type:4,index:87},this.rules[85].opcodes=[],this.rules[85].opcodes[0]={type:3,min:1,max:1/0},this.rules[85].opcodes[1]={type:5,min:48,max:57},this.rules[86].opcodes=[],this.rules[86].opcodes[0]={type:3,min:1,max:1/0},this.rules[86].opcodes[1]={type:5,min:48,max:49},this.rules[87].opcodes=[],this.rules[87].opcodes[0]={type:3,min:1,max:1/0},this.rules[87].opcodes[1]={type:1,children:[2,3,4]},this.rules[87].opcodes[2]={type:5,min:48,max:57},this.rules[87].opcodes[3]={type:5,min:65,max:70},this.rules[87].opcodes[4]={type:5,min:97,max:102},this.rules[88].opcodes=[],this.rules[88].opcodes[0]={type:2,children:[1,4]},this.rules[88].opcodes[1]={type:1,children:[2,3]},this.rules[88].opcodes[2]={type:5,min:97,max:122},this.rules[88].opcodes[3]={type:5,min:65,max:90},this.rules[88].opcodes[4]={type:3,min:0,max:1/0},this.rules[88].opcodes[5]={type:1,children:[6,7,8,9]},this.rules[88].opcodes[6]={type:5,min:97,max:122},this.rules[88].opcodes[7]={type:5,min:65,max:90},this.rules[88].opcodes[8]={type:5,min:48,max:57},this.rules[88].opcodes[9]={type:6,string:[45]},this.rules[89].opcodes=[],this.rules[89].opcodes[0]={type:3,min:0,max:1/0},this.rules[89].opcodes[1]={type:4,index:91},this.rules[90].opcodes=[],this.rules[90].opcodes[0]={type:3,min:1,max:1/0},this.rules[90].opcodes[1]={type:4,index:91},this.rules[91].opcodes=[],this.rules[91].opcodes[0]={type:1,children:[1,2,3,4]},this.rules[91].opcodes[1]={type:6,string:[32]},this.rules[91].opcodes[2]={type:6,string:[9]},this.rules[91].opcodes[3]={type:4,index:92},this.rules[91].opcodes[4]={type:4,index:94},this.rules[92].opcodes=[],this.rules[92].opcodes[0]={type:2,children:[1,2]},this.rules[92].opcodes[1]={type:6,string:[59]},this.rules[92].opcodes[2]={type:3,min:0,max:1/0},this.rules[92].opcodes[3]={type:1,children:[4,5]},this.rules[92].opcodes[4]={type:5,min:32,max:126},this.rules[92].opcodes[5]={type:6,string:[9]},this.rules[93].opcodes=[],this.rules[93].opcodes[0]={type:1,children:[1,2,3]},this.rules[93].opcodes[1]={type:6,string:[13,10]},this.rules[93].opcodes[2]={type:6,string:[10]},this.rules[93].opcodes[3]={type:6,string:[13]},this.rules[94].opcodes=[],this.rules[94].opcodes[0]={type:2,children:[1,5]},this.rules[94].opcodes[1]={type:1,children:[2,3,4]},this.rules[94].opcodes[2]={type:6,string:[13,10]},this.rules[94].opcodes[3]={type:6,string:[10]},this.rules[94].opcodes[4]={type:6,string:[13]},this.rules[94].opcodes[5]={type:1,children:[6,7]},this.rules[94].opcodes[6]={type:6,string:[32]},this.rules[94].opcodes[7]={type:6,string:[9]},this.toString=function(){let t="";return t+=`;
`,t+=`; ABNF for JavaScript APG 2.0 SABNF
`,t+=`; RFC 5234 with some restrictions and additions.
`,t+=`; Updated 11/24/2015 for RFC 7405 case-sensitive literal string notation
`,t+=`;  - accepts %s"string" as a case-sensitive string
`,t+=`;  - accepts %i"string" as a case-insensitive string
`,t+=`;  - accepts "string" as a case-insensitive string
`,t+=`;
`,t+=`; Some restrictions:
`,t+=`;   1. Rules must begin at first character of each line.
`,t+=`;      Indentations on first rule and rules thereafter are not allowed.
`,t+=`;   2. Relaxed line endings. CRLF, LF or CR are accepted as valid line ending.
`,t+=`;   3. Prose values, i.e. <prose value>, are accepted as valid grammar syntax.
`,t+=`;      However, a working parser cannot be generated from them.
`,t+=`;
`,t+=`; Super set (SABNF) additions:
`,t+=`;   1. Look-ahead (syntactic predicate) operators are accepted as element prefixes.
`,t+=`;      & is the positive look-ahead operator, succeeds and backtracks if the look-ahead phrase is found
`,t+=`;      ! is the negative look-ahead operator, succeeds and backtracks if the look-ahead phrase is NOT found
`,t+=`;      e.g. &%d13 or &rule or !(A / B)
`,t+=`;   2. User-Defined Terminals (UDT) of the form, u_name and e_name are accepted.
`,t+=`;      'name' is alpha followed by alpha/num/hyphen just like a rule name.
`,t+=`;      u_name may be used as an element but no rule definition is given.
`,t+=`;      e.g. rule = A / u_myUdt
`,t+=`;           A = "a"
`,t+=`;      would be a valid grammar.
`,t+=`;   3. Case-sensitive, single-quoted strings are accepted.
`,t+=`;      e.g. 'abc' would be equivalent to %d97.98.99
`,t+=`;      (kept for backward compatibility, but superseded by %s"abc")  
`,t+=`; New 12/26/2015
`,t+=`;   4. Look-behind operators are accepted as element prefixes.
`,t+=`;      && is the positive look-behind operator, succeeds and backtracks if the look-behind phrase is found
`,t+=`;      !! is the negative look-behind operator, succeeds and backtracks if the look-behind phrase is NOT found
`,t+=`;      e.g. &&%d13 or &&rule or !!(A / B)
`,t+=`;   5. Back reference operators, i.e. \\rulename, are accepted.
`,t+=`;      A back reference operator acts like a TLS or TBS terminal except that the phrase it attempts
`,t+=`;      to match is a phrase previously matched by the rule 'rulename'.
`,t+=`;      There are two modes of previous phrase matching - the parent-frame mode and the universal mode.
`,t+=`;      In universal mode, \\rulename matches the last match to 'rulename' regardless of where it was found.
`,t+=`;      In parent-frame mode, \\rulename matches only the last match found on the parent's frame or parse tree level.
`,t+=`;      Back reference modifiers can be used to specify case and mode.
`,t+=`;      \\A defaults to case-insensitive and universal mode, e.g. \\A === \\%i%uA
`,t+=`;      Modifiers %i and %s determine case-insensitive and case-sensitive mode, respectively.
`,t+=`;      Modifiers %u and %p determine universal mode and parent frame mode, respectively.
`,t+=`;      Case and mode modifiers can appear in any order, e.g. \\%s%pA === \\%p%sA. 
`,t+=`;   7. String begin anchor, ABG(%^) matches the beginning of the input string location.
`,t+=`;      Returns EMPTY or NOMATCH. Never consumes any characters.
`,t+=`;   8. String end anchor, AEN(%$) matches the end of the input string location.
`,t+=`;      Returns EMPTY or NOMATCH. Never consumes any characters.
`,t+=`;
`,t+=`File            = *(BlankLine / Rule / RuleError)
`,t+=`BlankLine       = *(%d32/%d9) [comment] LineEnd
`,t+=`Rule            = RuleLookup owsp Alternation ((owsp LineEnd)
`,t+=`                / (LineEndError LineEnd))
`,t+=`RuleLookup      = RuleNameTest owsp DefinedAsTest
`,t+=`RuleNameTest    = RuleName/RuleNameError
`,t+=`RuleName        = alphanum
`,t+=`RuleNameError   = 1*(%d33-60/%d62-126)
`,t+=`DefinedAsTest   = DefinedAs / DefinedAsError
`,t+=`DefinedAsError  = 1*2%d33-126
`,t+=`DefinedAs       = IncAlt / Defined
`,t+=`Defined         = %d61
`,t+=`IncAlt          = %d61.47
`,t+=`RuleError       = 1*(%d32-126 / %d9  / LineContinue) LineEnd
`,t+=`LineEndError    = 1*(%d32-126 / %d9  / LineContinue)
`,t+=`Alternation     = Concatenation *(owsp AltOp Concatenation)
`,t+=`Concatenation   = Repetition *(CatOp Repetition)
`,t+=`Repetition      = [Modifier] (Group / Option / BasicElement / BasicElementErr)
`,t+=`Modifier        = (Predicate [RepOp])
`,t+=`                / RepOp
`,t+=`Predicate       = BkaOp
`,t+=`                / BknOp
`,t+=`                / AndOp
`,t+=`                / NotOp
`,t+=`BasicElement    = UdtOp
`,t+=`                / RnmOp
`,t+=`                / TrgOp
`,t+=`                / TbsOp
`,t+=`                / TlsOp
`,t+=`                / ClsOp
`,t+=`                / BkrOp
`,t+=`                / AbgOp
`,t+=`                / AenOp
`,t+=`                / ProsVal
`,t+=`BasicElementErr = 1*(%d33-40/%d42-46/%d48-92/%d94-126)
`,t+=`Group           = GroupOpen  Alternation (GroupClose / GroupError)
`,t+=`GroupError      = 1*(%d33-40/%d42-46/%d48-92/%d94-126) ; same as BasicElementErr
`,t+=`GroupOpen       = %d40 owsp
`,t+=`GroupClose      = owsp %d41
`,t+=`Option          = OptionOpen Alternation (OptionClose / OptionError)
`,t+=`OptionError     = 1*(%d33-40/%d42-46/%d48-92/%d94-126) ; same as BasicElementErr
`,t+=`OptionOpen      = %d91 owsp
`,t+=`OptionClose     = owsp %d93
`,t+=`RnmOp           = alphanum
`,t+=`BkrOp           = %d92 [bkrModifier] bkr-name
`,t+=`bkrModifier     = (cs [um / pm]) / (ci [um / pm]) / (um [cs /ci]) / (pm [cs / ci])
`,t+=`cs              = '%s'
`,t+=`ci              = '%i'
`,t+=`um              = '%u'
`,t+=`pm              = '%p'
`,t+=`bkr-name        = uname / ename / rname
`,t+=`rname           = alphanum
`,t+=`uname           = %d117.95 alphanum
`,t+=`ename           = %d101.95 alphanum
`,t+=`UdtOp           = udt-empty
`,t+=`                / udt-non-empty
`,t+=`udt-non-empty   = %d117.95 alphanum
`,t+=`udt-empty       = %d101.95 alphanum
`,t+=`RepOp           = (rep-min StarOp rep-max)
`,t+=`                / (rep-min StarOp)
`,t+=`                / (StarOp rep-max)
`,t+=`                / StarOp
`,t+=`                / rep-min-max
`,t+=`AltOp           = %d47 owsp
`,t+=`CatOp           = wsp
`,t+=`StarOp          = %d42
`,t+=`AndOp           = %d38
`,t+=`NotOp           = %d33
`,t+=`BkaOp           = %d38.38
`,t+=`BknOp           = %d33.33
`,t+=`AbgOp           = %d37.94
`,t+=`AenOp           = %d37.36
`,t+=`TrgOp           = %d37 ((Dec dmin %d45 dmax) / (Hex xmin %d45 xmax) / (Bin bmin %d45 bmax))
`,t+=`TbsOp           = %d37 ((Dec dString *(%d46 dString)) / (Hex xString *(%d46 xString)) / (Bin bString *(%d46 bString)))
`,t+=`TlsOp           = TlsCase TlsOpen TlsString TlsClose
`,t+=`TlsCase         = ["%i" / "%s"]
`,t+=`TlsOpen         = %d34
`,t+=`TlsClose        = %d34
`,t+=`TlsString       = *(%d32-33/%d35-126/StringTab)
`,t+=`StringTab       = %d9
`,t+=`ClsOp           = ClsOpen ClsString ClsClose
`,t+=`ClsOpen         = %d39
`,t+=`ClsClose        = %d39
`,t+=`ClsString       = *(%d32-38/%d40-126/StringTab)
`,t+=`ProsVal         = ProsValOpen ProsValString ProsValClose
`,t+=`ProsValOpen     = %d60
`,t+=`ProsValString   = *(%d32-61/%d63-126/StringTab)
`,t+=`ProsValClose    = %d62
`,t+=`rep-min         = rep-num
`,t+=`rep-min-max     = rep-num
`,t+=`rep-max         = rep-num
`,t+=`rep-num         = 1*(%d48-57)
`,t+=`dString         = dnum
`,t+=`xString         = xnum
`,t+=`bString         = bnum
`,t+=`Dec             = (%d68/%d100)
`,t+=`Hex             = (%d88/%d120)
`,t+=`Bin             = (%d66/%d98)
`,t+=`dmin            = dnum
`,t+=`dmax            = dnum
`,t+=`bmin            = bnum
`,t+=`bmax            = bnum
`,t+=`xmin            = xnum
`,t+=`xmax            = xnum
`,t+=`dnum            = 1*(%d48-57)
`,t+=`bnum            = 1*%d48-49
`,t+=`xnum            = 1*(%d48-57 / %d65-70 / %d97-102)
`,t+=`;
`,t+=`; Basics
`,t+=`alphanum        = (%d97-122/%d65-90) *(%d97-122/%d65-90/%d48-57/%d45)
`,t+=`owsp            = *space
`,t+=`wsp             = 1*space
`,t+=`space           = %d32
`,t+=`                / %d9
`,t+=`                / comment
`,t+=`                / LineContinue
`,t+=`comment         = %d59 *(%d32-126 / %d9)
`,t+=`LineEnd         = %d13.10
`,t+=`                / %d10
`,t+=`                / %d13
`,t+=`LineContinue    = (%d13.10 / %d10 / %d13) (%d32 / %d9)
`,t}}),Da}var Ua,Vu;function Gy(){return Vu||(Vu=1,Ua=function(){const e="parser: ",t=Mi,n=t.ids,i=new(Vy()),s=new(Hy()),o=new(Ky()),a=new t.parser;a.ast=new t.ast,a.callbacks=i.callbacks,a.ast.callbacks=s.callbacks;const c=function(h,g,b){if(g<0||g>=b)return-1;for(let y=0;y<h.length;y+=1)if(g>=h[y].beginChar&&g<h[y].beginChar+h[y].length)return y;return-1},l=function(h,g){let b=-1;if(g<h.length){for(let y=g;y<h.length;y+=1)if(h[y]!==null){b=h[y];break}}return b},u=function(h){h.forEach(g=>{const b=[],y=[];let E=0;g.opcodes.forEach(w=>{w.type===n.ALT&&w.children.length===1||w.type===n.CAT&&w.children.length===1||w.type===n.REP&&w.min===1&&w.max===1?y.push(null):(y.push(E),b.push(w),E+=1)}),y.push(E),b.forEach(w=>{if(w.type===n.ALT||w.type===n.CAT)for(let _=0;_<w.children.length;_+=1)w.children[_]=l(y,w.children[_])}),g.opcodes=b})};this.syntax=function(h,g,b,y,E,w){if(w){if(w.traceObject!=="traceObject")throw new TypeError(`${e}trace argument is not a trace object`);a.trace=w}const _={};_.errors=b,_.strict=!!y,_.lite=!!E,_.lines=g,_.findLine=c,_.charsLength=h.length,_.ruleCount=0,a.parse(o,"file",h,_).success||b.push({line:0,char:0,msg:"syntax analysis of input grammar failed"})},this.semantic=function(h,g,b){const y={};return y.errors=b,y.lines=g,y.findLine=c,y.charsLength=h.length,a.ast.translate(y),b.length?null:(u(y.rules),{rules:y.rules,udts:y.udts,lineMap:y.rulesLineMap})},this.generateSource=function(h,g,b,y,E){let w="",_=!1,R=!1;E&&(E.typescript?(_=!0,R=!1):E.lite&&(_=!1,R=!0));let F,L,P,U=0,q=1/0,fe=0;const Y=[],Q=[];let Z=0,N=0,p=0,v=0,C=0,B=0,O=0,G=0,V=0,k=0,m=0,S=0,W=0,T=0,X=0;b.forEach(D=>{Y.push(D.lower),U+=D.opcodes.length,D.opcodes.forEach($=>{switch($.type){case n.ALT:Z+=1;break;case n.CAT:N+=1;break;case n.RNM:p+=1;break;case n.UDT:v+=1;break;case n.REP:C+=1;break;case n.AND:B+=1;break;case n.NOT:O+=1;break;case n.BKA:S+=1;break;case n.BKN:W+=1;break;case n.BKR:m+=1;break;case n.ABG:T+=1;break;case n.AEN:X+=1;break;case n.TLS:for(G+=1,F=0;F<$.string.length;F+=1)$.string[F]<q&&(q=$.string[F]),$.string[F]>fe&&(fe=$.string[F]);break;case n.TBS:for(V+=1,F=0;F<$.string.length;F+=1)$.string[F]<q&&(q=$.string[F]),$.string[F]>fe&&(fe=$.string[F]);break;case n.TRG:k+=1,$.min<q&&(q=$.min),$.max>fe&&(fe=$.max);break;default:throw new Error("generateSource: unrecognized opcode")}})}),Y.sort(),y.length>0&&(y.forEach(D=>{Q.push(D.lower)}),Q.sort()),w+=`// copyright: Copyright (c) 2024 Lowell D. Thomas, all rights reserved<br>
`,w+=`//   license: BSD-2-Clause (https://opensource.org/licenses/BSD-2-Clause)<br>
`,w+=`//
`,w+=`// Generated by apg-js, Version 4.4.0 [apg-js](https://github.com/ldthomas/apg-js)
`,E?E.funcName?w+=`const ${E.funcName} = function grammar(){
`:_?w+=`export function grammar(){
`:R?w+=`export default function grammar(){
`:w+=`module.exports = function grammar(){
`:w+=`module.exports = function grammar(){
`,w+="  // ```\n",w+=`  // SUMMARY
`,w+=`  //      rules = ${b.length}
`,w+=`  //       udts = ${y.length}
`,w+=`  //    opcodes = ${U}
`,w+=`  //        ---   ABNF original opcodes
`,w+=`  //        ALT = ${Z}
`,w+=`  //        CAT = ${N}
`,w+=`  //        REP = ${C}
`,w+=`  //        RNM = ${p}
`,w+=`  //        TLS = ${G}
`,w+=`  //        TBS = ${V}
`,w+=`  //        TRG = ${k}
`,w+=`  //        ---   SABNF superset opcodes
`,w+=`  //        UDT = ${v}
`,w+=`  //        AND = ${B}
`,w+=`  //        NOT = ${O}
`,R||(w+=`  //        BKA = ${S}
`,w+=`  //        BKN = ${W}
`,w+=`  //        BKR = ${m}
`,w+=`  //        ABG = ${T}
`,w+=`  //        AEN = ${X}
`),w+="  // characters = [",G+V+k===0?w+=" none defined ]":w+=`${q} - ${fe}]`,v>0&&(w+=" + user defined"),w+=`
`,w+="  // ```\n",w+=`  /* OBJECT IDENTIFIER (for internal parser use) */
`,w+=`  this.grammarObject = 'grammarObject';
`,w+=`
`,w+=`  /* RULES */
`,w+=`  this.rules = [];
`,b.forEach((D,$)=>{let H="  this.rules[";H+=$,H+="] = { name: '",H+=D.name,H+="', lower: '",H+=D.lower,H+="', index: ",H+=D.index,H+=", isBkr: ",H+=D.isBkr,H+=` };
`,w+=H}),w+=`
`,w+=`  /* UDTS */
`,w+=`  this.udts = [];
`,y.length>0&&y.forEach((D,$)=>{let H="  this.udts[";H+=$,H+="] = { name: '",H+=D.name,H+="', lower: '",H+=D.lower,H+="', index: ",H+=D.index,H+=", empty: ",H+=D.empty,H+=", isBkr: ",H+=D.isBkr,H+=` };
`,w+=H}),w+=`
`,w+=`  /* OPCODES */
`,b.forEach((D,$)=>{$>0&&(w+=`
`),w+=`  /* ${D.name} */
`,w+=`  this.rules[${$}].opcodes = [];
`,D.opcodes.forEach((H,ee)=>{let ae;switch(H.type){case n.ALT:w+=`  this.rules[${$}].opcodes[${ee}] = { type: ${H.type}, children: [${H.children.toString()}] };// ALT
`;break;case n.CAT:w+=`  this.rules[${$}].opcodes[${ee}] = { type: ${H.type}, children: [${H.children.toString()}] };// CAT
`;break;case n.RNM:w+=`  this.rules[${$}].opcodes[${ee}] = { type: ${H.type}, index: ${H.index} };// RNM(${b[H.index].name})
`;break;case n.BKR:H.index>=b.length?(L=y[H.index-b.length].name,P=y[H.index-b.length].lower):(L=b[H.index].name,P=b[H.index].lower),ae="%i",H.bkrCase===n.BKR_MODE_CS&&(ae="%s"),H.bkrMode===n.BKR_MODE_UM?ae+="%u":ae+="%p",L=ae+L,w+=`  this.rules[${$}].opcodes[${ee}] = { type: ${H.type}, index: ${H.index}, lower: '${P}', bkrCase: ${H.bkrCase}, bkrMode: ${H.bkrMode} };// BKR(\\${L})
`;break;case n.UDT:w+=`  this.rules[${$}].opcodes[${ee}] = { type: ${H.type}, empty: ${H.empty}, index: ${H.index} };// UDT(${y[H.index].name})
`;break;case n.REP:w+=`  this.rules[${$}].opcodes[${ee}] = { type: ${H.type}, min: ${H.min}, max: ${H.max} };// REP
`;break;case n.AND:w+=`  this.rules[${$}].opcodes[${ee}] = { type: ${H.type} };// AND
`;break;case n.NOT:w+=`  this.rules[${$}].opcodes[${ee}] = { type: ${H.type} };// NOT
`;break;case n.ABG:w+=`  this.rules[${$}].opcodes[${ee}] = { type: ${H.type} };// ABG(%^)
`;break;case n.AEN:w+=`  this.rules[${$}].opcodes[${ee}] = { type: ${H.type} };// AEN(%$)
`;break;case n.BKA:w+=`  this.rules[${$}].opcodes[${ee}] = { type: ${H.type} };// BKA
`;break;case n.BKN:w+=`  this.rules[${$}].opcodes[${ee}] = { type: ${H.type} };// BKN
`;break;case n.TLS:w+=`  this.rules[${$}].opcodes[${ee}] = { type: ${H.type}, string: [${H.string.toString()}] };// TLS
`;break;case n.TBS:w+=`  this.rules[${$}].opcodes[${ee}] = { type: ${H.type}, string: [${H.string.toString()}] };// TBS
`;break;case n.TRG:w+=`  this.rules[${$}].opcodes[${ee}] = { type: ${H.type}, min: ${H.min}, max: ${H.max} };// TRG
`;break;default:throw new Error("parser.js: ~143: unrecognized opcode")}})}),w+=`
`,w+="  // The `toString()` function will display the original grammar file(s) that produced these opcodes.\n",w+=`  this.toString = function toString(){
`,w+=`    let str = "";
`;let oe;return g.forEach(D=>{const $=D.beginChar+D.length;oe="",w+='    str += "';for(let H=D.beginChar;H<$;H+=1){switch(h[H]){case 9:oe=" ";break;case 10:oe="\\n";break;case 13:oe="\\r";break;case 34:oe='\\"';break;case 92:oe="\\\\";break;default:oe=String.fromCharCode(h[H]);break}w+=oe}w+=`";
`}),w+=`    return str;
`,w+=`  }
`,w+=`}
`,w},this.generateObject=function(h,g,b){const y={},E=[],w=[],_=h.slice(0);return y.grammarObject="grammarObject",g.forEach(R=>{E.push(R.lower)}),E.sort(),b.length>0&&(b.forEach(R=>{w.push(R.lower)}),w.sort()),y.callbacks=[],E.forEach(R=>{y.callbacks[R]=!1}),b.length>0&&w.forEach(R=>{y.callbacks[R]=!1}),y.rules=g,y.udts=b,y.toString=function(){return _},y}}),Ua}var $a,Hu;function zy(){return Hu||(Hu=1,$a=function(){const e=Br,t="rule-attributes.js";let n=null;function i(Y){return Y.left||Y.nested||Y.right||Y.cyclic?!1:Y.empty}function s(Y){return!!(Y.left||Y.nested||Y.right||Y.cyclic)}function o(Y,Q){let Z=0,N=0,p=0;for(Z=0;Z<Q;Z+=1)if(Y[Z].nested)return!0;for(Z=0;Z<Q;Z+=1)if(Y[Z].right&&!Y[Z].leaf){for(N=Z+1;N<Q;N+=1)if(!i(Y[N]))return!0}for(Z=Q-1;Z>=0;Z-=1)if(Y[Z].left&&!Y[Z].leaf){for(N=Z-1;N>=0;N-=1)if(!i(Y[N]))return!0}for(Z=0;Z<Q;Z+=1)if(!Y[Z].empty&&!s(Y[Z])){for(N=Z+1;N<Q;N+=1)if(s(Y[N])){for(p=N+1;p<Q;p+=1)if(!Y[p].empty&&!s(Y[p]))return!0}}return!1}function a(Y,Q){for(let Z=0;Z<Q;Z+=1)if(!Y[Z].cyclic)return!1;return!0}function c(Y,Q){for(let Z=0;Z<Q;Z+=1){if(Y[Z].left)return!0;if(!Y[Z].empty)return!1}return!1}function l(Y,Q){for(let Z=Q-1;Z>=0;Z-=1){if(Y[Z].right)return!0;if(!Y[Z].empty)return!1}return!1}function u(Y,Q){for(let Z=0;Z<Q;Z+=1)if(!Y[Z].empty)return!1;return!0}function d(Y,Q){for(let Z=0;Z<Q;Z+=1)if(!Y[Z].finite)return!1;return!0}function h(Y,Q,Z,N){let p=0;const v=Q[Z],C=v.children.length,B=[];for(p=0;p<C;p+=1)B.push(Y.attrGen());for(p=0;p<C;p+=1)y(Y,Q,v.children[p],B[p]);N.left=c(B,C),N.right=l(B,C),N.nested=o(B,C),N.empty=u(B,C),N.finite=d(B,C),N.cyclic=a(B,C)}function g(Y,Q,Z,N){let p=0;const v=Q[Z],C=v.children.length,B=[];for(p=0;p<C;p+=1)B.push(Y.attrGen());for(p=0;p<C;p+=1)y(Y,Q,v.children[p],B[p]);for(N.left=!1,N.right=!1,N.nested=!1,N.empty=!1,N.finite=!1,N.cyclic=!1,p=0;p<C;p+=1)B[p].left&&(N.left=!0),B[p].nested&&(N.nested=!0),B[p].right&&(N.right=!0),B[p].empty&&(N.empty=!0),B[p].finite&&(N.finite=!0),B[p].cyclic&&(N.cyclic=!0)}function b(Y,Q,Z,N){const p=Q[Z];p.index>=Y.ruleCount?(N.empty=Y.udts[p.index-Y.ruleCount].empty,N.finite=!0):(E(Y,p.index,N),N.left=!1,N.nested=!1,N.right=!1,N.cyclic=!1)}function y(Y,Q,Z,N){Y.attrInit(N);const p=Q[Z];switch(p.type){case e.ALT:g(Y,Q,Z,N);break;case e.CAT:h(Y,Q,Z,N);break;case e.REP:y(Y,Q,Z+1,N),p.min===0&&(N.empty=!0,N.finite=!0);break;case e.RNM:E(Y,Q[Z].index,N);break;case e.BKR:b(Y,Q,Z,N);break;case e.AND:case e.NOT:case e.BKA:case e.BKN:y(Y,Q,Z+1,N),N.empty=!0;break;case e.TLS:N.empty=!Q[Z].string.length,N.finite=!0,N.cyclic=!1;break;case e.TBS:case e.TRG:N.empty=!1,N.finite=!0,N.cyclic=!1;break;case e.UDT:N.empty=p.empty,N.finite=!0,N.cyclic=!1;break;case e.ABG:case e.AEN:N.empty=!0,N.finite=!0,N.cyclic=!1;break;default:throw new Error(`unknown opcode type: ${p}`)}}function E(Y,Q,Z){const N=Y.attrsWorking[Q];N.isComplete?Y.attrCopy(Z,N):N.isOpen?Q===Y.startRule?Q===Y.startRule&&(Z.left=!0,Z.right=!0,Z.cyclic=!0,Z.leaf=!0):Z.finite=!0:(N.isOpen=!0,y(Y,N.rule.opcodes,0,Z),N.left=Z.left,N.right=Z.right,N.nested=Z.nested,N.empty=Z.empty,N.finite=Z.finite,N.cyclic=Z.cyclic,N.leaf=!1,N.isOpen=!1,N.isComplete=!0)}const w=Y=>{n=Y;let Q=0,Z=0;const N=n.attrGen();for(Q=0;Q<n.ruleCount;Q+=1){for(Z=0;Z<n.ruleCount;Z+=1)n.attrInit(n.attrsWorking[Z]);n.startRule=Q,E(n,Q,N),n.attrCopy(n.attrs[Q],n.attrsWorking[Q])}n.attributesComplete=!0;let p=null;for(Q=0;Q<n.ruleCount;Q+=1)if(p=n.attrs[Q],p.left||!p.finite||p.cyclic){const v=n.attrGen(p.rule);n.attrCopy(v,p),n.attrsErrors.push(v),n.attrsErrorCount+=1}},_=Y=>Y?"t":"f",R=Y=>Y?"e":"f",F=Y=>Y?"t":"e",L=(Y,Q,Z,N)=>{let p=`${Y}:${Q}:`;return p+=`${R(Z.left)} `,p+=`${_(Z.nested)} `,p+=`${_(Z.right)} `,p+=`${R(Z.cyclic)} `,p+=`${F(Z.finite)} `,p+=`${_(Z.empty)}:`,p+=`${n.typeToString(N.recursiveType)}:`,p+=N.recursiveType===e.ATTR_MR?N.groupNumber:"-",p+=`:${Z.rule.name}
`,p},P=()=>{let Y=`LEGEND - t=true, f=false, e=error
`;return Y+=`sequence:rule index:left nested right cyclic finite empty:type:group number:rule name
`,Y},U=()=>{let Y=null,Q=null,Z="";if(Z+=`RULE ATTRIBUTES WITH ERRORS
`,Z+=P(),n.attrsErrorCount)for(let N=0;N<n.attrsErrorCount;N+=1)Y=n.attrsErrors[N],Q=n.ruleDeps[Y.rule.index],Z+=L(N,Y.rule.index,Y,Q);else Z+=`<none>
`;return Z},q=Y=>{let Q=0,Z=0,N=null,p=null,v="",{ruleIndexes:C}=n;for(Y===97?C=n.ruleAlphaIndexes:Y===116&&(C=n.ruleTypeIndexes),Q=0;Q<n.ruleCount;Q+=1)Z=C[Q],N=n.attrs[Z],p=n.ruleDeps[Z],v+=L(Q,Z,N,p);return v};return{ruleAttributes:w,showAttributes:(Y="index")=>{if(!n.attributesComplete)throw new Error(`${t}:showAttributes: attributes not available`);let Q="";const Z=`RULE ATTRIBUTES
`;return Y.charCodeAt(0)===97?(Q+=`alphabetical by rule name
`,Q+=Z,Q+=P(),Q+=q(97)):Y.charCodeAt(0)===116?(Q+=`ordered by rule type
`,Q+=Z,Q+=P(),Q+=q(116)):(Q+=`ordered by rule index
`,Q+=Z,Q+=P(),Q+=q()),Q},showAttributeErrors:U}}()),$a}var ja,Ku;function qy(){return Ku||(Ku=1,ja=(()=>{const r=Br;let e=null;const t=(o,a,c,l)=>{let u=0,d=0;const h=a[c];l[c]=!0;const g=h.rule.opcodes;for(u=0;u<g.length;u+=1){const b=g[u];if(b.type===r.RNM)for(h.refersTo[b.index]=!0,l[b.index]||t(o,a,b.index,l),d=0;d<o;d+=1)a[b.index].refersTo[d]&&(h.refersTo[d]=!0);else b.type===r.UDT?h.refersToUdt[b.index]=!0:b.type===r.BKR&&(b.index<o?(h.refersTo[b.index]=!0,l[b.index]||t(o,a,b.index,l)):h.refersToUdt[o-b.index]=!0)}},n=o=>{e=o;let a=0,c=0,l=0,u=null,d=null,h=!1;e.dependenciesComplete=!1;const g=e.falseArray(e.ruleCount);for(a=0;a<e.ruleCount;a+=1)e.falsifyArray(g),t(e.ruleCount,e.ruleDeps,a,g);for(a=0;a<e.ruleCount;a+=1)for(c=0;c<e.ruleCount;c+=1)a!==c&&e.ruleDeps[c].refersTo[a]&&(e.ruleDeps[a].referencedBy[c]=!0);for(a=0;a<e.ruleCount;a+=1)e.ruleDeps[a].recursiveType=r.ATTR_N,e.ruleDeps[a].refersTo[a]&&(e.ruleDeps[a].recursiveType=r.ATTR_R);for(l=-1,a=0;a<e.ruleCount;a+=1)if(u=e.ruleDeps[a],u.recursiveType===r.ATTR_R)for(h=!0,c=0;c<e.ruleCount;c+=1)a!==c&&(d=e.ruleDeps[c],d.recursiveType===r.ATTR_R&&u.refersTo[c]&&d.refersTo[a]&&(h&&(l+=1,u.recursiveType=r.ATTR_MR,u.groupNumber=l,h=!1),d.recursiveType=r.ATTR_MR,d.groupNumber=l));e.isMutuallyRecursive=l>-1,e.ruleAlphaIndexes.sort(e.compRulesAlpha),e.ruleTypeIndexes.sort(e.compRulesAlpha),e.ruleTypeIndexes.sort(e.compRulesType),e.isMutuallyRecursive&&e.ruleTypeIndexes.sort(e.compRulesGroup),e.udtCount&&e.udtAlphaIndexes.sort(e.compUdtsAlpha),e.dependenciesComplete=!0},i=(o=null)=>{let a=0,c=0,l=0,u=0;const d=e.ruleCount-1,h=e.udtCount-1,g=100;let b="",y="";const E="=> ",w="<= ";let _=!1,R=null,{ruleIndexes:F}=e,{udtIndexes:L}=e;for(o===97?(F=e.ruleAlphaIndexes,L=e.udtAlphaIndexes):o===116&&(F=e.ruleTypeIndexes,L=e.udtAlphaIndexes),a=0;a<e.ruleCount;a+=1){for(R=e.ruleDeps[F[a]],y=`${F[a]}:${e.typeToString(R.recursiveType)}:`,e.isMutuallyRecursive&&(y+=R.groupNumber>-1?R.groupNumber:"-",y+=":"),y+=" ",b+=`${y+e.rules[F[a]].name}
`,_=!0,l=0,u=b.length,b+=y,c=0;c<e.ruleCount;c+=1)R.refersTo[F[c]]&&(_?(b+=E,_=!1,b+=e.ruleDeps[F[c]].rule.name):b+=`, ${e.ruleDeps[F[c]].rule.name}`,l+=1),b.length-u>g&&c!==d&&(b+=`
${y}${E}`,u=b.length);if(e.udtCount)for(c=0;c<e.udtCount;c+=1)R.refersToUdt[L[c]]&&(_?(b+=E,_=!1,b+=e.udts[L[c]].name):b+=`, ${e.udts[L[c]].name}`,l+=1),b.length-u>g&&c!==h&&(b+=`
${y}${E}`,u=b.length);for(l===0&&(b+=`=> <none>
`),_===!1&&(b+=`
`),_=!0,l=0,u=b.length,b+=y,c=0;c<e.ruleCount;c+=1)R.referencedBy[F[c]]&&(_?(b+=w,_=!1,b+=e.ruleDeps[F[c]].rule.name):b+=`, ${e.ruleDeps[F[c]].rule.name}`,l+=1),b.length-u>g&&c!==d&&(b+=`
${y}${E}`,u=b.length);l===0&&(b+=`<= <none>
`),_===!1&&(b+=`
`),b+=`
`}return b};return{ruleDependencies:n,showRuleDependencies:(o="index")=>{let a=`RULE DEPENDENCIES(index:type:[group number:])
`;return a+=`=> refers to rule names
`,a+=`<= referenced by rule names
`,e.dependenciesComplete&&(o.charCodeAt(0)===97?(a+=`alphabetical by rule name
`,a+=i(97)):o.charCodeAt(0)===116?(a+=`ordered by rule type
`,a+=i(116)):(a+=`ordered by rule index
`,a+=i(null))),a}}})()),ja}var Va,Gu;function Wy(){return Gu||(Gu=1,Va=function(){const e=Br,{ruleAttributes:t,showAttributes:n,showAttributeErrors:i}=zy(),{ruleDependencies:s,showRuleDependencies:o}=qy();class a{constructor(u,d){this.rules=u,this.udts=d,this.ruleCount=u.length,this.udtCount=d.length,this.startRule=0,this.dependenciesComplete=!1,this.attributesComplete=!1,this.isMutuallyRecursive=!1,this.ruleIndexes=this.indexArray(this.ruleCount),this.ruleAlphaIndexes=this.indexArray(this.ruleCount),this.ruleTypeIndexes=this.indexArray(this.ruleCount),this.udtIndexes=this.indexArray(this.udtCount),this.udtAlphaIndexes=this.indexArray(this.udtCount),this.attrsErrorCount=0,this.attrs=[],this.attrsErrors=[],this.attrsWorking=[],this.ruleDeps=[];for(let h=0;h<this.ruleCount;h+=1)this.attrs.push(this.attrGen(this.rules[h])),this.attrsWorking.push(this.attrGen(this.rules[h])),this.ruleDeps.push(this.rdGen(u[h],this.ruleCount,this.udtCount));this.compRulesAlpha=this.compRulesAlpha.bind(this),this.compUdtsAlpha=this.compUdtsAlpha.bind(this),this.compRulesType=this.compRulesType.bind(this),this.compRulesGroup=this.compRulesGroup.bind(this)}attrGen(u){return{left:!1,nested:!1,right:!1,empty:!1,finite:!1,cyclic:!1,leaf:!1,isOpen:!1,isComplete:!1,rule:u}}attrInit(u){u.left=!1,u.nested=!1,u.right=!1,u.empty=!1,u.finite=!1,u.cyclic=!1,u.leaf=!1,u.isOpen=!1,u.isComplete=!1}attrCopy(u,d){u.left=d.left,u.nested=d.nested,u.right=d.right,u.empty=d.empty,u.finite=d.finite,u.cyclic=d.cyclic,u.leaf=d.leaf,u.isOpen=d.isOpen,u.isComplete=d.isComplete,u.rule=d.rule}rdGen(u,d,h){return{rule:u,recursiveType:e.ATTR_N,groupNumber:-1,refersTo:this.falseArray(d),refersToUdt:this.falseArray(h),referencedBy:this.falseArray(d)}}typeToString(u){switch(u){case e.ATTR_N:return" N";case e.ATTR_R:return" R";case e.ATTR_MR:return"MR";default:return"UNKNOWN"}}falseArray(u){const d=[];if(u>0)for(let h=0;h<u;h+=1)d.push(!1);return d}falsifyArray(u){for(let d=0;d<u.length;d+=1)u[d]=!1}indexArray(u){const d=[];if(u>0)for(let h=0;h<u;h+=1)d.push(h);return d}compRulesAlpha(u,d){return this.rules[u].lower<this.rules[d].lower?-1:this.rules[u].lower>this.rules[d].lower?1:0}compUdtsAlpha(u,d){return this.udts[u].lower<this.udts[d].lower?-1:this.udts[u].lower>this.udts[d].lower?1:0}compRulesType(u,d){return this.ruleDeps[u].recursiveType<this.ruleDeps[d].recursiveType?-1:this.ruleDeps[u].recursiveType>this.ruleDeps[d].recursiveType?1:0}compRulesGroup(u,d){if(this.ruleDeps[u].recursiveType===e.ATTR_MR&&this.ruleDeps[d].recursiveType===e.ATTR_MR){if(this.ruleDeps[u].groupNumber<this.ruleDeps[d].groupNumber)return-1;if(this.ruleDeps[u].groupNumber>this.ruleDeps[d].groupNumber)return 1}return 0}}return{attributes:function(u=[],d=[],h=[],g=[]){const b=new a(u,d);return s(b),t(b),b.attrsErrorCount&&g.push({line:0,char:0,msg:`${b.attrsErrorCount} attribute errors`}),b.attrsErrorCount},showAttributes:n,showAttributeErrors:i,showRuleDependencies:o}}()),Va}var Ha,zu;function Yy(){return zu||(zu=1,Ha=function(){const e="show-rules.js";return function(i=[],s=[],o="index"){const a="showRules";let c=[],l=[];const u=[],d=[],h=i,g=s,b=i.length,y=s.length;let E="RULE/UDT NAMES",w;function _(F,L){return h[F].lower<h[L].lower?-1:h[F].lower>h[L].lower?1:0}function R(F,L){return g[F].lower<g[L].lower?-1:g[F].lower>g[L].lower?1:0}if(!(Array.isArray(i)&&i.length))throw new Error(`${e}:${a}: rules arg must be array with length > 0`);if(!Array.isArray(s))throw new Error(`${e}:${a}: udts arg must be array`);for(w=0;w<b;w+=1)u.push(w);if(c=u.slice(0),c.sort(_),y){for(w=0;w<y;w+=1)d.push(w);l=d.slice(0),l.sort(R)}if(o.charCodeAt(0)===97){for(E+=` - alphabetical by rule/UDT name
`,w=0;w<b;w+=1)E+=`${w}: ${c[w]}: ${h[c[w]].name}
`;if(y)for(w=0;w<y;w+=1)E+=`${w}: ${l[w]}: ${g[l[w]].name}
`}else{for(E+=` - ordered by rule/UDT index
`,w=0;w<b;w+=1)E+=`${w}: ${h[w].name}
`;if(y)for(w=0;w<y;w+=1)E+=`${w}: ${g[w].name}
`}return E}}()),Ha}var Jy=function(e){const{Buffer:t}=No,n="api.js: ",i=this,s=Mi,o=Fl,a=jy(),c=new(Gy()),{attributes:l,showAttributes:u,showAttributeErrors:d,showRuleDependencies:h}=Wy(),g=Yy(),b=function(Q,Z,N){const B=`<span class="${s.style.CLASS_CTRLCHAR}">`,O="</span>",G=`<span class="${s.style.CLASS_NOMATCH}">`,V="</span>";let k,m="";const S=!0;for(;S&&!(!Array.isArray(Q)||Q.length===0);){if(typeof Z!="number")throw new Error("abnfToHtml: beg must be type number");if(Z>=Q.length)break;typeof N!="number"||Z+N>=Q.length?k=Q.length:k=Z+N;let W=0;for(let T=Z;T<k;T+=1){const X=Q[T];if(X>=32&&X<=126)switch(W===1?(m+=O,W=0):W===2&&(m+=V,W=0),X){case 32:m+="&nbsp;";break;case 60:m+="&lt;";break;case 62:m+="&gt;";break;case 38:m+="&amp;";break;case 34:m+="&quot;";break;case 39:m+="&#039;";break;case 92:m+="&#092;";break;default:m+=String.fromCharCode(X);break}else X===9||X===10||X===13?(W===0?(m+=B,W=1):W===2&&(m+=V+B,W=1),X===9&&(m+="TAB"),X===10&&(m+="LF"),X===13&&(m+="CR")):(W===0?(m+=G,W=2):W===1&&(m+=O+G,W=2),m+=`\\x${s.utils.charToHex(X)}`)}W===2&&(m+=V),W===1&&(m+=O);break}return m},y=function(Q,Z,N){let p="";for(let v=Z;v<Z+N;v+=1){const C=Q[v];if(C>=32&&C<=126)p+=String.fromCharCode(C);else switch(C){case 9:p+="\\t";break;case 10:p+="\\n";break;case 13:p+="\\r";break;default:p+="\\unknown";break}}return p},E=function(Q){let Z="Annotated Input Grammar";return Q.forEach(N=>{Z+=`
`,Z+=`line no: ${N.lineNo}`,Z+=` : char index: ${N.beginChar}`,Z+=` : length: ${N.length}`,Z+=` : abnf: ${y(i.chars,N.beginChar,N.length)}`}),Z+=`
`,Z},w=function(Q){let Z="";return Z+=`<table class="${s.style.CLASS_GRAMMAR}">
`,Z+=`<caption>Annotated Input Grammar</caption>
`,Z+="<tr>",Z+="<th>line<br>no.</th><th>first<br>char</th><th><br>length</th><th><br>text</th>",Z+=`</tr>
`,Q.forEach(p=>{Z+="<tr>",Z+=`<td>${p.lineNo}`,Z+=`</td><td>${p.beginChar}`,Z+=`</td><td>${p.length}`,Z+=`</td><td>${b(i.chars,p.beginChar,p.length)}`,Z+="</td>",Z+=`</tr>
`}),Z+=`</table>
`,Z},_=function(Q,Z,N,p){const[v]=s;let C="";const B=`<span class="${v.CLASS_NOMATCH}">&raquo;</span>`;return C+=`<p><table class="${v.CLASS_GRAMMAR}">
`,p&&typeof p=="string"&&(C+=`<caption>${p}</caption>
`),C+=`<tr><th>line<br>no.</th><th>line<br>offset</th><th>error<br>offset</th><th><br>text</th></tr>
`,Q.forEach(O=>{let G,V,k,m,S,W="",T="";Z.length===0?(S=B,V=0):(G=Z[O.line],k=G.beginChar,O.char>k&&(W=b(N,k,O.char-k)),k=O.char,m=G.beginChar+G.length,k<m&&(T=b(N,k,m-k)),S=W+B+T,V=O.char-G.beginChar,C+="<tr>",C+=`<td>${O.line}</td><td>${G.beginChar}</td><td>${V}</td><td>${S}</td>`,C+=`</tr>
`,C+="<tr>",C+=`<td colspan="3"></td><td>&uarr;:&nbsp;${s.utils.stringToAsciiHtml(O.msg)}</td>`,C+=`</tr>
`)}),C+=`</table></p>
`,C},R=function(Q,Z,N){let p,v,C,B;return p="",Q.forEach(O=>{v=Z[O.line],p+=`${v.lineNo}: `,p+=`${v.beginChar}: `,p+=`${O.char-v.beginChar}: `,C=v.beginChar,B=O.char-v.beginChar,p+=y(N,C,B),p+=" >> ",C=O.char,B=v.beginChar+v.length-O.char,p+=y(N,C,B),p+=`
`,p+=`${v.lineNo}: `,p+=`${v.beginChar}: `,p+=`${O.char-v.beginChar}: `,p+="error: ",p+=O.msg,p+=`
`}),p};let F=!1,L=!1,P=!1,U=!1,q=0,fe;if(this.errors=[],t.isBuffer(e))this.chars=o.decode("BINARY",e);else if(Array.isArray(e))this.chars=e.slice();else if(typeof e=="string")this.chars=o.decode("STRING",e);else throw new Error(`${n}input source is not a string, byte Buffer or character array`);this.sabnf=o.encode("STRING",this.chars),this.scan=function(Q,Z){this.lines=a(this.chars,this.errors,Q,Z),F=!0},this.parse=function(Q,Z,N){if(!F)throw new Error(`${n}grammar not scanned`);c.syntax(this.chars,this.lines,this.errors,Q,Z,N),L=!0},this.translate=function(){if(!L)throw new Error(`${n}grammar not scanned and parsed`);const Q=c.semantic(this.chars,this.lines,this.errors);this.errors.length===0&&(this.rules=Q.rules,this.udts=Q.udts,fe=Q.lineMap,P=!0)},this.attributes=function(){if(!P)throw new Error(`${n}grammar not scanned, parsed and translated`);return q=l(this.rules,this.udts,fe,this.errors),U=!0,q},this.generate=function(Q){if(this.lines=a(this.chars,this.errors,Q),this.errors.length||(c.syntax(this.chars,this.lines,this.errors,Q),this.errors.length))return;const Z=c.semantic(this.chars,this.lines,this.errors);this.errors.length||(this.rules=Z.rules,this.udts=Z.udts,fe=Z.lineMap,q=l(this.rules,this.udts,fe,this.errors),U=!0)},this.displayRules=function(Q="index"){if(!P)throw new Error(`${n}grammar not scanned, parsed and translated`);return g(this.rules,this.udts,Q)},this.displayRuleDependencies=function(Q="index"){if(!U)throw new Error(`${n}no attributes - must be preceeded by call to attributes()`);return h(Q)},this.displayAttributes=function(Q="index"){if(!U)throw new Error(`${n}no attributes - must be preceeded by call to attributes()`);return q&&d(Q),u(Q)},this.displayAttributeErrors=function(){if(!U)throw new Error(`${n}no attributes - must be preceeded by call to attributes()`);return d()},this.toSource=function(Q=void 0){if(!U)throw new Error(`${n}can't generate parser source - must be preceeded by call to attributes()`);if(q)throw new Error(`${n}can't generate parser source - attributes have ${q} errors`);return c.generateSource(this.chars,this.lines,this.rules,this.udts,Q)},this.toObject=function(){if(!U)throw new Error(`${n}can't generate parser source - must be preceeded by call to attributes()`);if(q)throw new Error(`${n}can't generate parser source - attributes have ${q} errors`);return c.generateObject(this.sabnf,this.rules,this.udts)},this.errorsToAscii=function(){return R(this.errors,this.lines,this.chars)},this.errorsToHtml=function(Q){return _(this.errors,this.lines,this.chars,Q)},this.linesToAscii=function(){return E(this.lines)},this.linesToHtml=function(){return w(this.lines)}},Ln={};const Xy=_o(mx),Qy=_o(xx);Object.defineProperty(Ln,"__esModule",{value:!0});Ln.parseIntegerNumber=Ln.isEIP55Address=void 0;const Zy=Xy,ew=Qy,tw=r=>{if(r.length!=42)return!1;const e=`${r}`.toLowerCase().replace("0x",""),t=(0,ew.bytesToHex)((0,Zy.keccak_256)(e));let n="0x";for(let i=0;i<e.length;i++)parseInt(t[i],16)>=8?n+=e[i].toUpperCase():n+=e[i];return r===n};Ln.isEIP55Address=tw;const rw=r=>{const e=parseInt(r);if(isNaN(e))throw new Error("Invalid number.");if(e===1/0)throw new Error("Invalid number.");return e};Ln.parseIntegerNumber=rw;var Zd=mt&&mt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},ep;Object.defineProperty(Uo,"__esModule",{value:!0});Uo.ParsedMessage=void 0;const nw=Zd(Jy),Rt=Zd(Mi),qu=Ln,iw=`
sign-in-with-ethereum =
    [ scheme "://" ] domain %s" wants you to sign in with your Ethereum account:" LF
    address LF
    LF
    [ statement LF ]
    LF
    %s"URI: " URI LF
    %s"Version: " version LF
    %s"Chain ID: " chain-id LF
    %s"Nonce: " nonce LF
    %s"Issued At: " issued-at
    [ LF %s"Expiration Time: " expiration-time ]
    [ LF %s"Not Before: " not-before ]
    [ LF %s"Request ID: " request-id ]
    [ LF %s"Resources:"
    resources ]

domain = authority

address = "0x" 40*40HEXDIG
    ; Must also conform to captilization
    ; checksum encoding specified in EIP-55
    ; where applicable (EOAs).

statement = 1*( reserved / unreserved / " " )
    ; The purpose is to exclude LF (line breaks).

version = "1"

nonce = 8*( ALPHA / DIGIT )

issued-at = date-time
expiration-time = date-time
not-before = date-time

request-id = *pchar

chain-id = 1*DIGIT
    ; See EIP-155 for valid CHAIN_IDs.

resources = *( LF resource )

resource = "- " URI

; ------------------------------------------------------------------------------
; RFC 3986

URI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]

hier-part     = "//" authority path-abempty
              / path-absolute
              / path-rootless
              / path-empty

scheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )

authority     = [ userinfo "@" ] host [ ":" port ]
userinfo      = *( unreserved / pct-encoded / sub-delims / ":" )
host          = IP-literal / IPv4address / reg-name
port          = *DIGIT

IP-literal    = "[" ( IPv6address / IPvFuture  ) "]"

IPvFuture     = "v" 1*HEXDIG "." 1*( unreserved / sub-delims / ":" )

IPv6address   =                            6( h16 ":" ) ls32
              /                       "::" 5( h16 ":" ) ls32
              / [               h16 ] "::" 4( h16 ":" ) ls32
              / [ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32
              / [ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32
              / [ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32
              / [ *4( h16 ":" ) h16 ] "::"              ls32
              / [ *5( h16 ":" ) h16 ] "::"              h16
              / [ *6( h16 ":" ) h16 ] "::"

h16           = 1*4HEXDIG
ls32          = ( h16 ":" h16 ) / IPv4address
IPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet
dec-octet     = DIGIT                 ; 0-9
                 / %x31-39 DIGIT         ; 10-99
                 / "1" 2DIGIT            ; 100-199
                 / "2" %x30-34 DIGIT     ; 200-249
                 / "25" %x30-35          ; 250-255

reg-name      = *( unreserved / pct-encoded / sub-delims )

path-abempty  = *( "/" segment )
path-absolute = "/" [ segment-nz *( "/" segment ) ]
path-rootless = segment-nz *( "/" segment )
path-empty    = 0pchar

segment       = *pchar
segment-nz    = 1*pchar

pchar         = unreserved / pct-encoded / sub-delims / ":" / "@"

query         = *( pchar / "/" / "?" )

fragment      = *( pchar / "/" / "?" )

pct-encoded   = "%" HEXDIG HEXDIG

unreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"
reserved      = gen-delims / sub-delims
gen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"
sub-delims    = "!" / "$" / "&" / "'" / "(" / ")"
              / "*" / "+" / "," / ";" / "="

; ------------------------------------------------------------------------------
; RFC 3339

date-fullyear   = 4DIGIT
date-month      = 2DIGIT  ; 01-12
date-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on
                          ; month/year
time-hour       = 2DIGIT  ; 00-23
time-minute     = 2DIGIT  ; 00-59
time-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second
                          ; rules
time-secfrac    = "." 1*DIGIT
time-numoffset  = ("+" / "-") time-hour ":" time-minute
time-offset     = "Z" / time-numoffset

partial-time    = time-hour ":" time-minute ":" time-second
                  [time-secfrac]
full-date       = date-fullyear "-" date-month "-" date-mday
full-time       = partial-time time-offset

date-time       = full-date "T" full-time

; ------------------------------------------------------------------------------
; RFC 5234

ALPHA          =  %x41-5A / %x61-7A   ; A-Z / a-z
LF             =  %x0A
                  ; linefeed
DIGIT          =  %x30-39
                  ; 0-9
HEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"
`;class Dl{static generateApi(){const e=new nw.default(iw);if(e.generate(),e.errors.length)throw console.error(e.errorsToAscii()),console.error(e.linesToAscii()),console.log(e.displayAttributeErrors()),new Error("ABNF grammar has errors");return e.toObject()}}ep=Dl;Dl.grammarObj=ep.generateApi();class sw{constructor(e){const t=new Rt.default.parser;t.ast=new Rt.default.ast;const n=Rt.default.ids,i=function(R,F,L,P,U){const q=n.SEM_OK;return R===n.SEM_PRE&&L===0&&(U.scheme=Rt.default.utils.charsToString(F,L,P)),q};t.ast.callbacks.scheme=i;const s=function(R,F,L,P,U){const q=n.SEM_OK;return R===n.SEM_PRE&&(U.domain=Rt.default.utils.charsToString(F,L,P)),q};t.ast.callbacks.domain=s;const o=function(R,F,L,P,U){const q=n.SEM_OK;return R===n.SEM_PRE&&(U.address=Rt.default.utils.charsToString(F,L,P)),q};t.ast.callbacks.address=o;const a=function(R,F,L,P,U){const q=n.SEM_OK;return R===n.SEM_PRE&&(U.statement=Rt.default.utils.charsToString(F,L,P)),q};t.ast.callbacks.statement=a;const c=function(R,F,L,P,U){const q=n.SEM_OK;return R===n.SEM_PRE&&(U.uri||(U.uri=Rt.default.utils.charsToString(F,L,P))),q};t.ast.callbacks.uri=c;const l=function(R,F,L,P,U){const q=n.SEM_OK;return R===n.SEM_PRE&&(U.version=Rt.default.utils.charsToString(F,L,P)),q};t.ast.callbacks.version=l;const u=function(R,F,L,P,U){const q=n.SEM_OK;return R===n.SEM_PRE&&(U.chainId=(0,qu.parseIntegerNumber)(Rt.default.utils.charsToString(F,L,P))),q};t.ast.callbacks["chain-id"]=u;const d=function(R,F,L,P,U){const q=n.SEM_OK;return R===n.SEM_PRE&&(U.nonce=Rt.default.utils.charsToString(F,L,P)),q};t.ast.callbacks.nonce=d;const h=function(R,F,L,P,U){const q=n.SEM_OK;return R===n.SEM_PRE&&(U.issuedAt=Rt.default.utils.charsToString(F,L,P)),q};t.ast.callbacks["issued-at"]=h;const g=function(R,F,L,P,U){const q=n.SEM_OK;return R===n.SEM_PRE&&(U.expirationTime=Rt.default.utils.charsToString(F,L,P)),q};t.ast.callbacks["expiration-time"]=g;const b=function(R,F,L,P,U){const q=n.SEM_OK;return R===n.SEM_PRE&&(U.notBefore=Rt.default.utils.charsToString(F,L,P)),q};t.ast.callbacks["not-before"]=b;const y=function(R,F,L,P,U){const q=n.SEM_OK;return R===n.SEM_PRE&&(U.requestId=Rt.default.utils.charsToString(F,L,P)),q};t.ast.callbacks["request-id"]=y;const E=function(R,F,L,P,U){const q=n.SEM_OK;return R===n.SEM_PRE&&(U.resources=Rt.default.utils.charsToString(F,L,P).slice(3).split(`
- `)),q};t.ast.callbacks.resources=E;const w=t.parse(Dl.grammarObj,"sign-in-with-ethereum",e);if(!w.success)throw new Error(`Invalid message: ${JSON.stringify(w)}`);const _={};t.ast.translate(_);for(const[R,F]of Object.entries(_))this[R]=F;if(this.domain.length===0)throw new Error("Domain cannot be empty.");if(!(0,qu.isEIP55Address)(this.address))throw new Error("Address not conformant to EIP-55.")}}Uo.ParsedMessage=sw;(function(r){var e=mt&&mt.__createBinding||(Object.create?function(i,s,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(s,o);(!c||("get"in c?!s.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(i,a,c)}:function(i,s,o,a){a===void 0&&(a=o),i[a]=s[o]}),t=mt&&mt.__exportStar||function(i,s){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&e(s,i,o)};Object.defineProperty(r,"__esModule",{value:!0}),r.ParsedMessage=void 0;const n=Uo;Object.defineProperty(r,"ParsedMessage",{enumerable:!0,get:function(){return n.ParsedMessage}}),t(Ln,r)})(Yd);var tp={exports:{}};(function(r){(function(e){e.exports.is_uri=n,e.exports.is_http_uri=i,e.exports.is_https_uri=s,e.exports.is_web_uri=o,e.exports.isUri=n,e.exports.isHttpUri=i,e.exports.isHttpsUri=s,e.exports.isWebUri=o;var t=function(a){var c=a.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/);return c};function n(a){if(a&&!/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(a)&&!/%[^0-9a-f]/i.test(a)&&!/%[0-9a-f](:?[^0-9a-f]|$)/i.test(a)){var c=[],l="",u="",d="",h="",g="",b="";if(c=t(a),l=c[1],u=c[2],d=c[3],h=c[4],g=c[5],!!(l&&l.length&&d.length>=0)){if(u&&u.length){if(!(d.length===0||/^\//.test(d)))return}else if(/^\/\//.test(d))return;if(/^[a-z][a-z0-9\+\-\.]*$/.test(l.toLowerCase()))return b+=l+":",u&&u.length&&(b+="//"+u),b+=d,h&&h.length&&(b+="?"+h),g&&g.length&&(b+="#"+g),b}}}function i(a,c){if(n(a)){var l=[],u="",d="",h="",g="",b="",y="",E="";if(l=t(a),u=l[1],d=l[2],h=l[3],b=l[4],y=l[5],!!u){if(c){if(u.toLowerCase()!="https")return}else if(u.toLowerCase()!="http")return;if(d)return/:(\d+)$/.test(d)&&(g=d.match(/:(\d+)$/)[0],d=d.replace(/:\d+$/,"")),E+=u+":",E+="//"+d,g&&(E+=g),E+=h,b&&b.length&&(E+="?"+b),y&&y.length&&(E+="#"+y),E}}}function s(a){return i(a,!0)}function o(a){return i(a)||s(a)}})(r)})(tp);var ow=tp.exports,jr={};const aw="logger/5.8.0";let Wu=!1,Yu=!1;const Js={debug:1,default:2,info:2,warning:3,error:4,off:5};let Ju=Js.default,Ka=null;function cw(){try{const r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{r.push(e)}}),r.length)throw new Error("missing "+r.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(r){return r.message}return null}const Xu=cw();var _c;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(_c||(_c={}));var Kt;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"})(Kt||(Kt={}));const Qu="0123456789abcdef";class J{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const n=e.toLowerCase();Js[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(Ju>Js[n])&&console.log.apply(console,t)}debug(...e){this._log(J.levels.DEBUG,e)}info(...e){this._log(J.levels.INFO,e)}warn(...e){this._log(J.levels.WARNING,e)}makeError(e,t,n){if(Yu)return this.makeError("censored error",t,{});t||(t=J.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let d=0;d<l.length;d++)u+=Qu[l[d]>>4],u+=Qu[l[d]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${t}`),i.push(`version=${this.version}`);const s=e;let o="";switch(t){case Kt.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Kt.CALL_EXCEPTION:case Kt.INSUFFICIENT_FUNDS:case Kt.MISSING_NEW:case Kt.NONCE_EXPIRED:case Kt.REPLACEMENT_UNDERPRICED:case Kt.TRANSACTION_REPLACED:case Kt.UNPREDICTABLE_GAS_LIMIT:o=t;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=t,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,J.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,i){e||this.throwError(t,n,i)}assertArgument(e,t,n,i){e||this.throwArgumentError(t,n,i)}checkNormalize(e){Xu&&this.throwError("platform missing String.prototype.normalize",J.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Xu})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,J.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,J.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n?n=": "+n:n="",e<t&&this.throwError("missing argument"+n,J.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,J.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",J.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",J.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",J.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return Ka||(Ka=new J(aw)),Ka}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",J.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Wu){if(!e)return;this.globalLogger().throwError("error censorship permanent",J.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Yu=!!e,Wu=!!t}static setLogLevel(e){const t=Js[e.toLowerCase()];if(t==null){J.globalLogger().warn("invalid log level - "+e);return}Ju=t}static from(e){return new J(e)}}J.errors=Kt;J.levels=_c;const lw="bytes/5.8.0",ht=new J(lw);function rp(r){return!!r.toHexString}function ui(r){return r.slice||(r.slice=function(){const e=Array.prototype.slice.call(arguments);return ui(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function Es(r){return Ne(r)&&!(r.length%2)||pn(r)}function Zu(r){return typeof r=="number"&&r==r&&r%1===0}function pn(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!Zu(r.length)||r.length<0)return!1;for(let e=0;e<r.length;e++){const t=r[e];if(!Zu(t)||t<0||t>=256)return!1}return!0}function me(r,e){if(e||(e={}),typeof r=="number"){ht.checkSafeUint53(r,"invalid arrayify value");const t=[];for(;r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),ui(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),rp(r)&&(r=r.toHexString()),Ne(r)){let t=r.substring(2);t.length%2&&(e.hexPad==="left"?t="0"+t:e.hexPad==="right"?t+="0":ht.throwArgumentError("hex data is odd-length","value",r));const n=[];for(let i=0;i<t.length;i+=2)n.push(parseInt(t.substring(i,i+2),16));return ui(new Uint8Array(n))}return pn(r)?ui(new Uint8Array(r)):ht.throwArgumentError("invalid arrayify value","value",r)}function He(r){const e=r.map(i=>me(i)),t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),ui(n)}function Tr(r){let e=me(r);if(e.length===0)return e;let t=0;for(;t<e.length&&e[t]===0;)t++;return t&&(e=e.slice(t)),e}function Xi(r,e){r=me(r),r.length>e&&ht.throwArgumentError("value out of range","value",arguments[0]);const t=new Uint8Array(e);return t.set(r,e-r.length),ui(t)}function Ne(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}const Ga="0123456789abcdef";function xe(r,e){if(e||(e={}),typeof r=="number"){ht.checkSafeUint53(r,"invalid hexlify value");let t="";for(;r;)t=Ga[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),rp(r))return r.toHexString();if(Ne(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":ht.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(pn(r)){let t="0x";for(let n=0;n<r.length;n++){let i=r[n];t+=Ga[(i&240)>>4]+Ga[i&15]}return t}return ht.throwArgumentError("invalid hexlify value","value",r)}function Mr(r){if(typeof r!="string")r=xe(r);else if(!Ne(r)||r.length%2)return null;return(r.length-2)/2}function wt(r,e,t){return typeof r!="string"?r=xe(r):(!Ne(r)||r.length%2)&&ht.throwArgumentError("invalid hexData","value",r),e=2+2*e,t!=null?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}function Ft(r){let e="0x";return r.forEach(t=>{e+=xe(t).substring(2)}),e}function Ts(r){const e=np(xe(r,{hexPad:"left"}));return e==="0x"?"0x0":e}function np(r){typeof r!="string"&&(r=xe(r)),Ne(r)||ht.throwArgumentError("invalid hex string","value",r),r=r.substring(2);let e=0;for(;e<r.length&&r[e]==="0";)e++;return"0x"+r.substring(e)}function Ke(r,e){for(typeof r!="string"?r=xe(r):Ne(r)||ht.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&ht.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}function Hn(r){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Es(r)){let t=me(r);t.length===64?(e.v=27+(t[32]>>7),t[32]&=127,e.r=xe(t.slice(0,32)),e.s=xe(t.slice(32,64))):t.length===65?(e.r=xe(t.slice(0,32)),e.s=xe(t.slice(32,64)),e.v=t[64]):ht.throwArgumentError("invalid signature string","signature",r),e.v<27&&(e.v===0||e.v===1?e.v+=27:ht.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=xe(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){const i=Xi(me(e._vs),32);e._vs=xe(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&ht.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),i[0]&=127;const o=xe(i);e.s==null?e.s=o:e.s!==o&&ht.throwArgumentError("signature v mismatch _vs","signature",r)}if(e.recoveryParam==null)e.v==null?ht.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&ht.throwArgumentError("signature recoveryParam mismatch v","signature",r)}e.r==null||!Ne(e.r)?ht.throwArgumentError("signature missing or invalid r","signature",r):e.r=Ke(e.r,32),e.s==null||!Ne(e.s)?ht.throwArgumentError("signature missing or invalid s","signature",r):e.s=Ke(e.s,32);const t=me(e.s);t[0]>=128&&ht.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(t[0]|=128);const n=xe(t);e._vs&&(Ne(e._vs)||ht.throwArgumentError("signature invalid _vs","signature",r),e._vs=Ke(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&ht.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function Nc(r){return r=Hn(r),xe(He([r.r,r.s,r.recoveryParam?"0x1c":"0x1b"]))}const ip="bignumber/5.8.0";var fs=Me.BN;const Lr=new J(ip),za={},e0=9007199254740991;function fw(r){return r!=null&&(pe.isBigNumber(r)||typeof r=="number"&&r%1===0||typeof r=="string"&&!!r.match(/^-?[0-9]+$/)||Ne(r)||typeof r=="bigint"||pn(r))}let t0=!1;class pe{constructor(e,t){e!==za&&Lr.throwError("cannot call constructor directly; use BigNumber.from",J.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return $t(Be(this).fromTwos(e))}toTwos(e){return $t(Be(this).toTwos(e))}abs(){return this._hex[0]==="-"?pe.from(this._hex.substring(1)):this}add(e){return $t(Be(this).add(Be(e)))}sub(e){return $t(Be(this).sub(Be(e)))}div(e){return pe.from(e).isZero()&&Xt("division-by-zero","div"),$t(Be(this).div(Be(e)))}mul(e){return $t(Be(this).mul(Be(e)))}mod(e){const t=Be(e);return t.isNeg()&&Xt("division-by-zero","mod"),$t(Be(this).umod(t))}pow(e){const t=Be(e);return t.isNeg()&&Xt("negative-power","pow"),$t(Be(this).pow(t))}and(e){const t=Be(e);return(this.isNegative()||t.isNeg())&&Xt("unbound-bitwise-result","and"),$t(Be(this).and(t))}or(e){const t=Be(e);return(this.isNegative()||t.isNeg())&&Xt("unbound-bitwise-result","or"),$t(Be(this).or(t))}xor(e){const t=Be(e);return(this.isNegative()||t.isNeg())&&Xt("unbound-bitwise-result","xor"),$t(Be(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&Xt("negative-width","mask"),$t(Be(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Xt("negative-width","shl"),$t(Be(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Xt("negative-width","shr"),$t(Be(this).shrn(e))}eq(e){return Be(this).eq(Be(e))}lt(e){return Be(this).lt(Be(e))}lte(e){return Be(this).lte(Be(e))}gt(e){return Be(this).gt(Be(e))}gte(e){return Be(this).gte(Be(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Be(this).isZero()}toNumber(){try{return Be(this).toNumber()}catch{Xt("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Lr.throwError("this platform does not support BigInt",J.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?t0||(t0=!0,Lr.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Lr.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",J.errors.UNEXPECTED_ARGUMENT,{}):Lr.throwError("BigNumber.toString does not accept parameters",J.errors.UNEXPECTED_ARGUMENT,{})),Be(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof pe)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new pe(za,us(e)):e.match(/^-?[0-9]+$/)?new pe(za,us(new fs(e))):Lr.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Xt("underflow","BigNumber.from",e),(e>=e0||e<=-e0)&&Xt("overflow","BigNumber.from",e),pe.from(String(e));const t=e;if(typeof t=="bigint")return pe.from(t.toString());if(pn(t))return pe.from(xe(t));if(t)if(t.toHexString){const n=t.toHexString();if(typeof n=="string")return pe.from(n)}else{let n=t._hex;if(n==null&&t.type==="BigNumber"&&(n=t.hex),typeof n=="string"&&(Ne(n)||n[0]==="-"&&Ne(n.substring(1))))return pe.from(n)}return Lr.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function us(r){if(typeof r!="string")return us(r.toString(16));if(r[0]==="-")return r=r.substring(1),r[0]==="-"&&Lr.throwArgumentError("invalid hex","value",r),r=us(r),r==="0x00"?r:"-"+r;if(r.substring(0,2)!=="0x"&&(r="0x"+r),r==="0x")return"0x00";for(r.length%2&&(r="0x0"+r.substring(2));r.length>4&&r.substring(0,4)==="0x00";)r="0x"+r.substring(4);return r}function $t(r){return pe.from(us(r))}function Be(r){const e=pe.from(r).toHexString();return e[0]==="-"?new fs("-"+e.substring(3),16):new fs(e.substring(2),16)}function Xt(r,e,t){const n={fault:r,operation:e};return t!=null&&(n.value=t),Lr.throwError(r,J.errors.NUMERIC_FAULT,n)}function uw(r){return new fs(r,36).toString(16)}function hw(r){return new fs(r,16).toString(36)}const Dt=new J(ip),Qi={},sp=pe.from(0),op=pe.from(-1);function ap(r,e,t,n){const i={fault:e,operation:t};return n!==void 0&&(i.value=n),Dt.throwError(r,J.errors.NUMERIC_FAULT,i)}let Zi="0";for(;Zi.length<256;)Zi+=Zi;function Ul(r){if(typeof r!="number")try{r=pe.from(r).toNumber()}catch{}return typeof r=="number"&&r>=0&&r<=256&&!(r%1)?"1"+Zi.substring(0,r):Dt.throwArgumentError("invalid decimal size","decimals",r)}function Xs(r,e){e==null&&(e=0);const t=Ul(e);r=pe.from(r);const n=r.lt(sp);n&&(r=r.mul(op));let i=r.mod(t).toString();for(;i.length<t.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=r.div(t).toString();return t.length===1?r=s:r=s+"."+i,n&&(r="-"+r),r}function mr(r,e){e==null&&(e=0);const t=Ul(e);(typeof r!="string"||!r.match(/^-?[0-9.]+$/))&&Dt.throwArgumentError("invalid decimal value","value",r);const n=r.substring(0,1)==="-";n&&(r=r.substring(1)),r==="."&&Dt.throwArgumentError("missing value","value",r);const i=r.split(".");i.length>2&&Dt.throwArgumentError("too many decimal points","value",r);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>t.length-1&&ap("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<t.length-1;)o+="0";const a=pe.from(s),c=pe.from(o);let l=a.mul(t).add(c);return n&&(l=l.mul(op)),l}class hi{constructor(e,t,n,i){e!==Qi&&Dt.throwError("cannot use FixedFormat constructor; use FixedFormat.from",J.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=n,this.decimals=i,this.name=(t?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=Ul(i),Object.freeze(this)}static from(e){if(e instanceof hi)return e;typeof e=="number"&&(e=`fixed128x${e}`);let t=!0,n=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")t=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||Dt.throwArgumentError("invalid fixed format","format",e),t=s[1]!=="u",n=parseInt(s[2]),i=parseInt(s[3])}}else if(e){const s=(o,a,c)=>e[o]==null?c:(typeof e[o]!==a&&Dt.throwArgumentError("invalid fixed format ("+o+" not "+a+")","format."+o,e[o]),e[o]);t=s("signed","boolean",t),n=s("width","number",n),i=s("decimals","number",i)}return n%8&&Dt.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&Dt.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new hi(Qi,t,n,i)}}class Et{constructor(e,t,n,i){e!==Qi&&Dt.throwError("cannot use FixedNumber constructor; use FixedNumber.from",J.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=t,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&Dt.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const t=mr(this._value,this.format.decimals),n=mr(e._value,e.format.decimals);return Et.fromValue(t.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const t=mr(this._value,this.format.decimals),n=mr(e._value,e.format.decimals);return Et.fromValue(t.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const t=mr(this._value,this.format.decimals),n=mr(e._value,e.format.decimals);return Et.fromValue(t.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const t=mr(this._value,this.format.decimals),n=mr(e._value,e.format.decimals);return Et.fromValue(t.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let t=Et.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(t=t.subUnsafe(r0.toFormat(t.format))),t}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let t=Et.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(t=t.addUnsafe(r0.toFormat(t.format))),t}round(e){e==null&&(e=0);const t=this.toString().split(".");if(t.length===1&&t.push("0"),(e<0||e>80||e%1)&&Dt.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;const n=Et.from("1"+Zi.substring(0,e),this.format),i=dw.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&Dt.throwArgumentError("invalid byte width","width",e);const t=pe.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return Ke(t,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Et.fromString(this._value,e)}static fromValue(e,t,n){return n==null&&t!=null&&!fw(t)&&(n=t,t=null),t==null&&(t=0),n==null&&(n="fixed"),Et.fromString(Xs(e,t),hi.from(n))}static fromString(e,t){t==null&&(t="fixed");const n=hi.from(t),i=mr(e,n.decimals);!n.signed&&i.lt(sp)&&ap("unsigned value cannot be negative","overflow","value",e);let s=null;n.signed?s=i.toTwos(n.width).toHexString():(s=i.toHexString(),s=Ke(s,n.width/8));const o=Xs(i,n.decimals);return new Et(Qi,s,o,n)}static fromBytes(e,t){t==null&&(t="fixed");const n=hi.from(t);if(me(e).length>n.width/8)throw new Error("overflow");let i=pe.from(e);n.signed&&(i=i.fromTwos(n.width));const s=i.toTwos((n.signed?0:1)+n.width).toHexString(),o=Xs(i,n.decimals);return new Et(Qi,s,o,n)}static from(e,t){if(typeof e=="string")return Et.fromString(e,t);if(pn(e))return Et.fromBytes(e,t);try{return Et.fromValue(e,0,t)}catch(n){if(n.code!==J.errors.INVALID_ARGUMENT)throw n}return Dt.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const r0=Et.from(1),dw=Et.from("0.5"),pw="properties/5.8.0";var mw=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(r,e||[])).next())})};const po=new J(pw);function ce(r,e,t){Object.defineProperty(r,e,{enumerable:!0,value:t,writable:!1})}function Mt(r,e){for(let t=0;t<32;t++){if(r[e])return r[e];if(!r.prototype||typeof r.prototype!="object")break;r=Object.getPrototypeOf(r.prototype).constructor}return null}function pt(r){return mw(this,void 0,void 0,function*(){const e=Object.keys(r).map(n=>{const i=r[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function $l(r,e){(!r||typeof r!="object")&&po.throwArgumentError("invalid object","object",r),Object.keys(r).forEach(t=>{e[t]||po.throwArgumentError("invalid object key - "+t,"transaction:"+t,r)})}function Ge(r){const e={};for(const t in r)e[t]=r[t];return e}const xw={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function cp(r){if(r==null||xw[typeof r])return!0;if(Array.isArray(r)||typeof r=="object"){if(!Object.isFrozen(r))return!1;const e=Object.keys(r);for(let t=0;t<e.length;t++){let n=null;try{n=r[e[t]]}catch{continue}if(!cp(n))return!1}return!0}return po.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function gw(r){if(cp(r))return r;if(Array.isArray(r))return Object.freeze(r.map(e=>Ut(e)));if(typeof r=="object"){const e={};for(const t in r){const n=r[t];n!==void 0&&ce(e,t,Ut(n))}return e}return po.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function Ut(r){return gw(r)}class Kn{constructor(e){for(const t in e)this[t]=Ut(e[t])}}const Ss="abi/5.8.0",Oe=new J(Ss),Fn={};let n0={calldata:!0,memory:!0,storage:!0},bw={calldata:!0,memory:!0};function Is(r,e){if(r==="bytes"||r==="string"){if(n0[e])return!0}else if(r==="address"){if(e==="payable")return!0}else if((r.indexOf("[")>=0||r==="tuple")&&bw[e])return!0;return(n0[e]||e==="payable")&&Oe.throwArgumentError("invalid modifier","name",e),!1}function yw(r,e){let t=r;function n(a){Oe.throwArgumentError(`unexpected character at position ${a}`,"param",r)}r=r.replace(/\s/g," ");function i(a){let c={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(c.indexed=!1),c}let s={type:"",name:"",state:{allowType:!0}},o=s;for(let a=0;a<r.length;a++){let c=r[a];switch(c){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||n(a),o.state.allowType=!1,o.type=ei(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),Is(o.type,o.name)&&(o.name=""),o.type=ei(o.type);let l=o;o=o.parent,o||n(a),delete l.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),Is(o.type,o.name)&&(o.name=""),o.type=ei(o.type);let u=i(o.parent);o.parent.components.push(u),delete o.parent,o=u;break;case" ":o.state.allowType&&o.type!==""&&(o.type=ei(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||n(a),o.indexed&&n(a),o.indexed=!0,o.name=""):Is(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(a),o.type+=c,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(a),o.type+=c,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=c,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=c,delete o.state.allowArray):o.state.readArray?o.type+=c:n(a)}}return o.parent&&Oe.throwArgumentError("unexpected eof","param",r),delete s.state,o.name==="indexed"?(e||n(t.length-7),o.indexed&&n(t.length-7),o.indexed=!0,o.name=""):Is(o.type,o.name)&&(o.name=""),s.type=ei(s.type),s}function Qs(r,e){for(let t in e)ce(r,t,e[t])}const Fe=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),ww=new RegExp(/^(.*)\[([0-9]*)\]$/);class Tt{constructor(e,t){e!==Fn&&Oe.throwError("use fromString",J.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Qs(this,t);let n=this.type.match(ww);n?Qs(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:Tt.fromObject({type:n[1],components:this.components}),baseType:"array"}):Qs(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=Fe.sighash),Fe[e]||Oe.throwArgumentError("invalid format type","format",e),e===Fe.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let t="";return this.baseType==="array"?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==Fe.sighash&&(t+=this.type),t+="("+this.components.map(n=>n.format(e)).join(e===Fe.full?", ":",")+")"):t+=this.type,e!==Fe.sighash&&(this.indexed===!0&&(t+=" indexed"),e===Fe.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return typeof e=="string"?Tt.fromString(e,t):Tt.fromObject(e)}static fromObject(e){return Tt.isParamType(e)?e:new Tt(Fn,{name:e.name||null,type:ei(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(Tt.fromObject):null})}static fromString(e,t){function n(i){return Tt.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(yw(e,!!t))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function hs(r,e){return Aw(r).map(t=>Tt.fromString(t,e))}class wr{constructor(e,t){e!==Fn&&Oe.throwError("use a static from method",J.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Qs(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return wr.isFragment(e)?e:typeof e=="string"?wr.fromString(e):wr.fromObject(e)}static fromObject(e){if(wr.isFragment(e))return e;switch(e.type){case"function":return ur.fromObject(e);case"event":return yr.fromObject(e);case"constructor":return fr.fromObject(e);case"error":return Dr.fromObject(e);case"fallback":case"receive":return null}return Oe.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?yr.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?ur.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?fr.fromString(e.trim()):e.split(" ")[0]==="error"?Dr.fromString(e.substring(5).trim()):Oe.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class yr extends wr{format(e){if(e||(e=Fe.sighash),Fe[e]||Oe.throwArgumentError("invalid format type","format",e),e===Fe.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==Fe.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Fe.full?", ":",")+") ",e!==Fe.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return typeof e=="string"?yr.fromString(e):yr.fromObject(e)}static fromObject(e){if(yr.isEventFragment(e))return e;e.type!=="event"&&Oe.throwArgumentError("invalid event object","value",e);const t={name:ds(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(Tt.fromObject):[],type:"event"};return new yr(Fn,t)}static fromString(e){let t=e.match(ps);t||Oe.throwArgumentError("invalid event string","value",e);let n=!1;return t[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:Oe.warn("unknown modifier: "+i)}}),yr.fromObject({name:t[1].trim(),anonymous:n,inputs:hs(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function lp(r,e){e.gas=null;let t=r.split("@");return t.length!==1?(t.length>2&&Oe.throwArgumentError("invalid human-readable ABI signature","value",r),t[1].match(/^[0-9]+$/)||Oe.throwArgumentError("invalid human-readable ABI signature gas","value",r),e.gas=pe.from(t[1]),t[0]):r}function fp(r,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",r.split(" ").forEach(t=>{switch(t.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+t)}})}function up(r){let e={constant:!1,payable:!0,stateMutability:"payable"};return r.stateMutability!=null?(e.stateMutability=r.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",r.constant!=null&&!!r.constant!==e.constant&&Oe.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",r),e.payable=e.stateMutability==="payable",r.payable!=null&&!!r.payable!==e.payable&&Oe.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",r)):r.payable!=null?(e.payable=!!r.payable,r.constant==null&&!e.payable&&r.type!=="constructor"&&Oe.throwArgumentError("unable to determine stateMutability","value",r),e.constant=!!r.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&Oe.throwArgumentError("cannot have constant payable function","value",r)):r.constant!=null?(e.constant=!!r.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):r.type!=="constructor"&&Oe.throwArgumentError("unable to determine stateMutability","value",r),e}class fr extends wr{format(e){if(e||(e=Fe.sighash),Fe[e]||Oe.throwArgumentError("invalid format type","format",e),e===Fe.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===Fe.sighash&&Oe.throwError("cannot format a constructor for sighash",J.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map(n=>n.format(e)).join(e===Fe.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "),t.trim()}static from(e){return typeof e=="string"?fr.fromString(e):fr.fromObject(e)}static fromObject(e){if(fr.isConstructorFragment(e))return e;e.type!=="constructor"&&Oe.throwArgumentError("invalid constructor object","value",e);let t=up(e);t.constant&&Oe.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(Tt.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?pe.from(e.gas):null};return new fr(Fn,n)}static fromString(e){let t={type:"constructor"};e=lp(e,t);let n=e.match(ps);return(!n||n[1].trim()!=="constructor")&&Oe.throwArgumentError("invalid constructor string","value",e),t.inputs=hs(n[2].trim(),!1),fp(n[3].trim(),t),fr.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class ur extends fr{format(e){if(e||(e=Fe.sighash),Fe[e]||Oe.throwArgumentError("invalid format type","format",e),e===Fe.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==Fe.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Fe.full?", ":",")+") ",e!==Fe.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return typeof e=="string"?ur.fromString(e):ur.fromObject(e)}static fromObject(e){if(ur.isFunctionFragment(e))return e;e.type!=="function"&&Oe.throwArgumentError("invalid function object","value",e);let t=up(e);const n={type:e.type,name:ds(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(Tt.fromObject):[],outputs:e.outputs?e.outputs.map(Tt.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?pe.from(e.gas):null};return new ur(Fn,n)}static fromString(e){let t={type:"function"};e=lp(e,t);let n=e.split(" returns ");n.length>2&&Oe.throwArgumentError("invalid function string","value",e);let i=n[0].match(ps);if(i||Oe.throwArgumentError("invalid function signature","value",e),t.name=i[1].trim(),t.name&&ds(t.name),t.inputs=hs(i[2],!1),fp(i[3].trim(),t),n.length>1){let s=n[1].match(ps);(s[1].trim()!=""||s[3].trim()!="")&&Oe.throwArgumentError("unexpected tokens","value",e),t.outputs=hs(s[2],!1)}else t.outputs=[];return ur.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function i0(r){const e=r.format();return(e==="Error(string)"||e==="Panic(uint256)")&&Oe.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",r),r}class Dr extends wr{format(e){if(e||(e=Fe.sighash),Fe[e]||Oe.throwArgumentError("invalid format type","format",e),e===Fe.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==Fe.sighash&&(t+="error "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Fe.full?", ":",")+") ",t.trim()}static from(e){return typeof e=="string"?Dr.fromString(e):Dr.fromObject(e)}static fromObject(e){if(Dr.isErrorFragment(e))return e;e.type!=="error"&&Oe.throwArgumentError("invalid error object","value",e);const t={type:e.type,name:ds(e.name),inputs:e.inputs?e.inputs.map(Tt.fromObject):[]};return i0(new Dr(Fn,t))}static fromString(e){let t={type:"error"},n=e.match(ps);return n||Oe.throwArgumentError("invalid error signature","value",e),t.name=n[1].trim(),t.name&&ds(t.name),t.inputs=hs(n[2],!1),i0(Dr.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function ei(r){return r.match(/^uint($|[^1-9])/)?r="uint256"+r.substring(4):r.match(/^int($|[^1-9])/)&&(r="int256"+r.substring(3)),r}const vw=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function ds(r){return(!r||!r.match(vw))&&Oe.throwArgumentError(`invalid identifier "${r}"`,"value",r),r}const ps=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function Aw(r){r=r.trim();let e=[],t="",n=0;for(let i=0;i<r.length;i++){let s=r[i];s===","&&n===0?(e.push(t),t=""):(t+=s,s==="("?n++:s===")"&&(n--,n===-1&&Oe.throwArgumentError("unbalanced parenthesis","value",r)))}return t&&e.push(t),e}const jl=new J(Ss);function hp(r){const e=[],t=function(n,i){if(Array.isArray(i))for(let s in i){const o=n.slice();o.push(s);try{t(o,i[s])}catch(a){e.push({path:o,error:a})}}};return t([],r),e}class zr{constructor(e,t,n,i){this.name=e,this.type=t,this.localName=n,this.dynamic=i}_throwError(e,t){jl.throwArgumentError(e,this.localName,t)}}class Rc{constructor(e){ce(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return Ft(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(He(e._data))}writeBytes(e){let t=me(e);const n=t.length%this.wordSize;return n&&(t=He([t,this._padding.slice(n)])),this._writeData(t)}_getValue(e){let t=me(pe.from(e));return t.length>this.wordSize&&jl.throwError("value out-of-bounds",J.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=He([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class mo{constructor(e,t,n,i){ce(this,"_data",me(e)),ce(this,"wordSize",t||32),ce(this,"_coerceFunc",n),ce(this,"allowLoose",i),this._offset=0}get data(){return xe(this._data)}get consumed(){return this._offset}static coerce(e,t){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):mo.coerce(e,t)}_peekBytes(e,t,n){let i=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+t<=this._data.length?i=t:jl.throwError("data out-of-bounds",J.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new mo(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let n=this._peekBytes(0,e,!!t);return this._offset+=n.length,n.slice(0,e)}readValue(){return pe.from(this.readBytes(this.wordSize))}}var dp={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(r){(function(){var e="input is invalid type",t="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=mt:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&r.exports,c=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",l="0123456789abcdef".split(""),u=[31,7936,2031616,520093696],d=[4,1024,262144,67108864],h=[1,256,65536,16777216],g=[6,1536,393216,100663296],b=[0,8,16,24],y=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],E=[224,256,384,512],w=[128,256],_=["hex","buffer","arrayBuffer","array","digest"],R={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(T){return Object.prototype.toString.call(T)==="[object Array]"}),c&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(T){return typeof T=="object"&&T.buffer&&T.buffer.constructor===ArrayBuffer});for(var F=function(T,X,oe){return function(D){return new m(T,X,T).update(D)[oe]()}},L=function(T,X,oe){return function(D,$){return new m(T,X,$).update(D)[oe]()}},P=function(T,X,oe){return function(D,$,H,ee){return p["cshake"+T].update(D,$,H,ee)[oe]()}},U=function(T,X,oe){return function(D,$,H,ee){return p["kmac"+T].update(D,$,H,ee)[oe]()}},q=function(T,X,oe,D){for(var $=0;$<_.length;++$){var H=_[$];T[H]=X(oe,D,H)}return T},fe=function(T,X){var oe=F(T,X,"hex");return oe.create=function(){return new m(T,X,T)},oe.update=function(D){return oe.create().update(D)},q(oe,F,T,X)},Y=function(T,X){var oe=L(T,X,"hex");return oe.create=function(D){return new m(T,X,D)},oe.update=function(D,$){return oe.create($).update(D)},q(oe,L,T,X)},Q=function(T,X){var oe=R[T],D=P(T,X,"hex");return D.create=function($,H,ee){return!H&&!ee?p["shake"+T].create($):new m(T,X,$).bytepad([H,ee],oe)},D.update=function($,H,ee,ae){return D.create(H,ee,ae).update($)},q(D,P,T,X)},Z=function(T,X){var oe=R[T],D=U(T,X,"hex");return D.create=function($,H,ee){return new S(T,X,H).bytepad(["KMAC",ee],oe).bytepad([$],oe)},D.update=function($,H,ee,ae){return D.create($,ee,ae).update(H)},q(D,U,T,X)},N=[{name:"keccak",padding:h,bits:E,createMethod:fe},{name:"sha3",padding:g,bits:E,createMethod:fe},{name:"shake",padding:u,bits:w,createMethod:Y},{name:"cshake",padding:d,bits:w,createMethod:Q},{name:"kmac",padding:d,bits:w,createMethod:Z}],p={},v=[],C=0;C<N.length;++C)for(var B=N[C],O=B.bits,G=0;G<O.length;++G){var V=B.name+"_"+O[G];if(v.push(V),p[V]=B.createMethod(O[G],B.padding),B.name!=="sha3"){var k=B.name+O[G];v.push(k),p[k]=p[V]}}function m(T,X,oe){this.blocks=[],this.s=[],this.padding=X,this.outputBits=oe,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(T<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=oe>>5,this.extraBytes=(oe&31)>>3;for(var D=0;D<50;++D)this.s[D]=0}m.prototype.update=function(T){if(this.finalized)throw new Error(t);var X,oe=typeof T;if(oe!=="string"){if(oe==="object"){if(T===null)throw new Error(e);if(c&&T.constructor===ArrayBuffer)T=new Uint8Array(T);else if(!Array.isArray(T)&&(!c||!ArrayBuffer.isView(T)))throw new Error(e)}else throw new Error(e);X=!0}for(var D=this.blocks,$=this.byteCount,H=T.length,ee=this.blockCount,ae=0,be=this.s,he,ie;ae<H;){if(this.reset)for(this.reset=!1,D[0]=this.block,he=1;he<ee+1;++he)D[he]=0;if(X)for(he=this.start;ae<H&&he<$;++ae)D[he>>2]|=T[ae]<<b[he++&3];else for(he=this.start;ae<H&&he<$;++ae)ie=T.charCodeAt(ae),ie<128?D[he>>2]|=ie<<b[he++&3]:ie<2048?(D[he>>2]|=(192|ie>>6)<<b[he++&3],D[he>>2]|=(128|ie&63)<<b[he++&3]):ie<55296||ie>=57344?(D[he>>2]|=(224|ie>>12)<<b[he++&3],D[he>>2]|=(128|ie>>6&63)<<b[he++&3],D[he>>2]|=(128|ie&63)<<b[he++&3]):(ie=65536+((ie&1023)<<10|T.charCodeAt(++ae)&1023),D[he>>2]|=(240|ie>>18)<<b[he++&3],D[he>>2]|=(128|ie>>12&63)<<b[he++&3],D[he>>2]|=(128|ie>>6&63)<<b[he++&3],D[he>>2]|=(128|ie&63)<<b[he++&3]);if(this.lastByteIndex=he,he>=$){for(this.start=he-$,this.block=D[ee],he=0;he<ee;++he)be[he]^=D[he];W(be),this.reset=!0}else this.start=he}return this},m.prototype.encode=function(T,X){var oe=T&255,D=1,$=[oe];for(T=T>>8,oe=T&255;oe>0;)$.unshift(oe),T=T>>8,oe=T&255,++D;return X?$.push(D):$.unshift(D),this.update($),$.length},m.prototype.encodeString=function(T){var X,oe=typeof T;if(oe!=="string"){if(oe==="object"){if(T===null)throw new Error(e);if(c&&T.constructor===ArrayBuffer)T=new Uint8Array(T);else if(!Array.isArray(T)&&(!c||!ArrayBuffer.isView(T)))throw new Error(e)}else throw new Error(e);X=!0}var D=0,$=T.length;if(X)D=$;else for(var H=0;H<T.length;++H){var ee=T.charCodeAt(H);ee<128?D+=1:ee<2048?D+=2:ee<55296||ee>=57344?D+=3:(ee=65536+((ee&1023)<<10|T.charCodeAt(++H)&1023),D+=4)}return D+=this.encode(D*8),this.update(T),D},m.prototype.bytepad=function(T,X){for(var oe=this.encode(X),D=0;D<T.length;++D)oe+=this.encodeString(T[D]);var $=X-oe%X,H=[];return H.length=$,this.update(H),this},m.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var T=this.blocks,X=this.lastByteIndex,oe=this.blockCount,D=this.s;if(T[X>>2]|=this.padding[X&3],this.lastByteIndex===this.byteCount)for(T[0]=T[oe],X=1;X<oe+1;++X)T[X]=0;for(T[oe-1]|=2147483648,X=0;X<oe;++X)D[X]^=T[X];W(D)}},m.prototype.toString=m.prototype.hex=function(){this.finalize();for(var T=this.blockCount,X=this.s,oe=this.outputBlocks,D=this.extraBytes,$=0,H=0,ee="",ae;H<oe;){for($=0;$<T&&H<oe;++$,++H)ae=X[$],ee+=l[ae>>4&15]+l[ae&15]+l[ae>>12&15]+l[ae>>8&15]+l[ae>>20&15]+l[ae>>16&15]+l[ae>>28&15]+l[ae>>24&15];H%T===0&&(W(X),$=0)}return D&&(ae=X[$],ee+=l[ae>>4&15]+l[ae&15],D>1&&(ee+=l[ae>>12&15]+l[ae>>8&15]),D>2&&(ee+=l[ae>>20&15]+l[ae>>16&15])),ee},m.prototype.arrayBuffer=function(){this.finalize();var T=this.blockCount,X=this.s,oe=this.outputBlocks,D=this.extraBytes,$=0,H=0,ee=this.outputBits>>3,ae;D?ae=new ArrayBuffer(oe+1<<2):ae=new ArrayBuffer(ee);for(var be=new Uint32Array(ae);H<oe;){for($=0;$<T&&H<oe;++$,++H)be[H]=X[$];H%T===0&&W(X)}return D&&(be[$]=X[$],ae=ae.slice(0,ee)),ae},m.prototype.buffer=m.prototype.arrayBuffer,m.prototype.digest=m.prototype.array=function(){this.finalize();for(var T=this.blockCount,X=this.s,oe=this.outputBlocks,D=this.extraBytes,$=0,H=0,ee=[],ae,be;H<oe;){for($=0;$<T&&H<oe;++$,++H)ae=H<<2,be=X[$],ee[ae]=be&255,ee[ae+1]=be>>8&255,ee[ae+2]=be>>16&255,ee[ae+3]=be>>24&255;H%T===0&&W(X)}return D&&(ae=H<<2,be=X[$],ee[ae]=be&255,D>1&&(ee[ae+1]=be>>8&255),D>2&&(ee[ae+2]=be>>16&255)),ee};function S(T,X,oe){m.call(this,T,X,oe)}S.prototype=new m,S.prototype.finalize=function(){return this.encode(this.outputBits,!0),m.prototype.finalize.call(this)};var W=function(T){var X,oe,D,$,H,ee,ae,be,he,ie,de,re,ue,j,se,ye,ve,Se,Le,xt,ne,A,f,x,M,I,K,te,Ae,we,ge,ke,Te,$e,gn,ze,qe,bn,We,Ye,yn,Je,Xe,wn,Qe,Ze,vn,et,tt,An,rt,nt,En,it,st,Tn,ot,at,Wr,Yr,Jr,Xr,Qr;for(D=0;D<48;D+=2)$=T[0]^T[10]^T[20]^T[30]^T[40],H=T[1]^T[11]^T[21]^T[31]^T[41],ee=T[2]^T[12]^T[22]^T[32]^T[42],ae=T[3]^T[13]^T[23]^T[33]^T[43],be=T[4]^T[14]^T[24]^T[34]^T[44],he=T[5]^T[15]^T[25]^T[35]^T[45],ie=T[6]^T[16]^T[26]^T[36]^T[46],de=T[7]^T[17]^T[27]^T[37]^T[47],re=T[8]^T[18]^T[28]^T[38]^T[48],ue=T[9]^T[19]^T[29]^T[39]^T[49],X=re^(ee<<1|ae>>>31),oe=ue^(ae<<1|ee>>>31),T[0]^=X,T[1]^=oe,T[10]^=X,T[11]^=oe,T[20]^=X,T[21]^=oe,T[30]^=X,T[31]^=oe,T[40]^=X,T[41]^=oe,X=$^(be<<1|he>>>31),oe=H^(he<<1|be>>>31),T[2]^=X,T[3]^=oe,T[12]^=X,T[13]^=oe,T[22]^=X,T[23]^=oe,T[32]^=X,T[33]^=oe,T[42]^=X,T[43]^=oe,X=ee^(ie<<1|de>>>31),oe=ae^(de<<1|ie>>>31),T[4]^=X,T[5]^=oe,T[14]^=X,T[15]^=oe,T[24]^=X,T[25]^=oe,T[34]^=X,T[35]^=oe,T[44]^=X,T[45]^=oe,X=be^(re<<1|ue>>>31),oe=he^(ue<<1|re>>>31),T[6]^=X,T[7]^=oe,T[16]^=X,T[17]^=oe,T[26]^=X,T[27]^=oe,T[36]^=X,T[37]^=oe,T[46]^=X,T[47]^=oe,X=ie^($<<1|H>>>31),oe=de^(H<<1|$>>>31),T[8]^=X,T[9]^=oe,T[18]^=X,T[19]^=oe,T[28]^=X,T[29]^=oe,T[38]^=X,T[39]^=oe,T[48]^=X,T[49]^=oe,j=T[0],se=T[1],Ze=T[11]<<4|T[10]>>>28,vn=T[10]<<4|T[11]>>>28,te=T[20]<<3|T[21]>>>29,Ae=T[21]<<3|T[20]>>>29,Yr=T[31]<<9|T[30]>>>23,Jr=T[30]<<9|T[31]>>>23,Je=T[40]<<18|T[41]>>>14,Xe=T[41]<<18|T[40]>>>14,$e=T[2]<<1|T[3]>>>31,gn=T[3]<<1|T[2]>>>31,ye=T[13]<<12|T[12]>>>20,ve=T[12]<<12|T[13]>>>20,et=T[22]<<10|T[23]>>>22,tt=T[23]<<10|T[22]>>>22,we=T[33]<<13|T[32]>>>19,ge=T[32]<<13|T[33]>>>19,Xr=T[42]<<2|T[43]>>>30,Qr=T[43]<<2|T[42]>>>30,it=T[5]<<30|T[4]>>>2,st=T[4]<<30|T[5]>>>2,ze=T[14]<<6|T[15]>>>26,qe=T[15]<<6|T[14]>>>26,Se=T[25]<<11|T[24]>>>21,Le=T[24]<<11|T[25]>>>21,An=T[34]<<15|T[35]>>>17,rt=T[35]<<15|T[34]>>>17,ke=T[45]<<29|T[44]>>>3,Te=T[44]<<29|T[45]>>>3,x=T[6]<<28|T[7]>>>4,M=T[7]<<28|T[6]>>>4,Tn=T[17]<<23|T[16]>>>9,ot=T[16]<<23|T[17]>>>9,bn=T[26]<<25|T[27]>>>7,We=T[27]<<25|T[26]>>>7,xt=T[36]<<21|T[37]>>>11,ne=T[37]<<21|T[36]>>>11,nt=T[47]<<24|T[46]>>>8,En=T[46]<<24|T[47]>>>8,wn=T[8]<<27|T[9]>>>5,Qe=T[9]<<27|T[8]>>>5,I=T[18]<<20|T[19]>>>12,K=T[19]<<20|T[18]>>>12,at=T[29]<<7|T[28]>>>25,Wr=T[28]<<7|T[29]>>>25,Ye=T[38]<<8|T[39]>>>24,yn=T[39]<<8|T[38]>>>24,A=T[48]<<14|T[49]>>>18,f=T[49]<<14|T[48]>>>18,T[0]=j^~ye&Se,T[1]=se^~ve&Le,T[10]=x^~I&te,T[11]=M^~K&Ae,T[20]=$e^~ze&bn,T[21]=gn^~qe&We,T[30]=wn^~Ze&et,T[31]=Qe^~vn&tt,T[40]=it^~Tn&at,T[41]=st^~ot&Wr,T[2]=ye^~Se&xt,T[3]=ve^~Le&ne,T[12]=I^~te&we,T[13]=K^~Ae&ge,T[22]=ze^~bn&Ye,T[23]=qe^~We&yn,T[32]=Ze^~et&An,T[33]=vn^~tt&rt,T[42]=Tn^~at&Yr,T[43]=ot^~Wr&Jr,T[4]=Se^~xt&A,T[5]=Le^~ne&f,T[14]=te^~we&ke,T[15]=Ae^~ge&Te,T[24]=bn^~Ye&Je,T[25]=We^~yn&Xe,T[34]=et^~An&nt,T[35]=tt^~rt&En,T[44]=at^~Yr&Xr,T[45]=Wr^~Jr&Qr,T[6]=xt^~A&j,T[7]=ne^~f&se,T[16]=we^~ke&x,T[17]=ge^~Te&M,T[26]=Ye^~Je&$e,T[27]=yn^~Xe&gn,T[36]=An^~nt&wn,T[37]=rt^~En&Qe,T[46]=Yr^~Xr&it,T[47]=Jr^~Qr&st,T[8]=A^~j&ye,T[9]=f^~se&ve,T[18]=ke^~x&I,T[19]=Te^~M&K,T[28]=Je^~$e&ze,T[29]=Xe^~gn&qe,T[38]=nt^~wn&Ze,T[39]=En^~Qe&vn,T[48]=Xr^~it&Tn,T[49]=Qr^~st&ot,T[0]^=y[D],T[1]^=y[D+1]};if(a)r.exports=p;else for(C=0;C<v.length;++C)i[v[C]]=p[v[C]]})()})(dp);var Ew=dp.exports;const Tw=Ti(Ew);function Ve(r){return"0x"+Tw.keccak_256(me(r))}const Sw="rlp/5.8.0",xr=new J(Sw);function s0(r){const e=[];for(;r;)e.unshift(r&255),r>>=8;return e}function o0(r,e,t){let n=0;for(let i=0;i<t;i++)n=n*256+r[e+i];return n}function pp(r){if(Array.isArray(r)){let n=[];if(r.forEach(function(s){n=n.concat(pp(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=s0(n.length);return i.unshift(247+i.length),i.concat(n)}Es(r)||xr.throwArgumentError("RLP object must be BytesLike","object",r);const e=Array.prototype.slice.call(me(r));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=s0(e.length);return t.unshift(183+t.length),t.concat(e)}function Dn(r){return xe(pp(r))}function a0(r,e,t,n){const i=[];for(;t<e+1+n;){const s=mp(r,t);i.push(s.result),t+=s.consumed,t>e+1+n&&xr.throwError("child data too short",J.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function mp(r,e){if(r.length===0&&xr.throwError("data too short",J.errors.BUFFER_OVERRUN,{}),r[e]>=248){const t=r[e]-247;e+1+t>r.length&&xr.throwError("data short segment too short",J.errors.BUFFER_OVERRUN,{});const n=o0(r,e+1,t);return e+1+t+n>r.length&&xr.throwError("data long segment too short",J.errors.BUFFER_OVERRUN,{}),a0(r,e,e+1+t,t+n)}else if(r[e]>=192){const t=r[e]-192;return e+1+t>r.length&&xr.throwError("data array too short",J.errors.BUFFER_OVERRUN,{}),a0(r,e,e+1,t)}else if(r[e]>=184){const t=r[e]-183;e+1+t>r.length&&xr.throwError("data array too short",J.errors.BUFFER_OVERRUN,{});const n=o0(r,e+1,t);e+1+t+n>r.length&&xr.throwError("data array too short",J.errors.BUFFER_OVERRUN,{});const i=xe(r.slice(e+1+t,e+1+t+n));return{consumed:1+t+n,result:i}}else if(r[e]>=128){const t=r[e]-128;e+1+t>r.length&&xr.throwError("data too short",J.errors.BUFFER_OVERRUN,{});const n=xe(r.slice(e+1,e+1+t));return{consumed:1+t,result:n}}return{consumed:1,result:xe(r[e])}}function jo(r){const e=me(r),t=mp(e,0);return t.consumed!==e.length&&xr.throwArgumentError("invalid rlp data","data",r),t.result}const kw=Object.freeze(Object.defineProperty({__proto__:null,decode:jo,encode:Dn},Symbol.toStringTag,{value:"Module"})),Cw="address/5.8.0",on=new J(Cw);function c0(r){Ne(r,20)||on.throwArgumentError("invalid address","address",r),r=r.toLowerCase();const e=r.substring(2).split(""),t=new Uint8Array(40);for(let i=0;i<40;i++)t[i]=e[i].charCodeAt(0);const n=me(Ve(t));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const Mw=9007199254740991;function _w(r){return Math.log10?Math.log10(r):Math.log(r)/Math.LN10}const Vl={};for(let r=0;r<10;r++)Vl[String(r)]=String(r);for(let r=0;r<26;r++)Vl[String.fromCharCode(65+r)]=String(10+r);const l0=Math.floor(_w(Mw));function xp(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(n=>Vl[n]).join("");for(;e.length>=l0;){let n=e.substring(0,l0);e=parseInt(n,10)%97+e.substring(n.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}function Ue(r){let e=null;if(typeof r!="string"&&on.throwArgumentError("invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/))r.substring(0,2)!=="0x"&&(r="0x"+r),e=c0(r),r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==r&&on.throwArgumentError("bad address checksum","address",r);else if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(r.substring(2,4)!==xp(r)&&on.throwArgumentError("bad icap checksum","address",r),e=uw(r.substring(4));e.length<40;)e="0"+e;e=c0("0x"+e)}else on.throwArgumentError("invalid address","address",r);return e}function Nw(r){try{return Ue(r),!0}catch{}return!1}function Rw(r){let e=hw(Ue(r).substring(2)).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+xp("XE00"+e)+e}function Vo(r){let e=null;try{e=Ue(r.from)}catch{on.throwArgumentError("missing from address","transaction",r)}const t=Tr(me(pe.from(r.nonce).toHexString()));return Ue(wt(Ve(Dn([e,t])),12))}function Pw(r,e,t){return Mr(e)!==32&&on.throwArgumentError("salt must be 32 bytes","salt",e),Mr(t)!==32&&on.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",t),Ue(wt(Ve(He(["0xff",Ue(r),e,t])),12))}class Bw extends zr{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=Ue(t)}catch(n){this._throwError(n.message,t)}return e.writeValue(t)}decode(e){return Ue(Ke(e.readValue().toHexString(),20))}}class Iw extends zr{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const ci=new J(Ss);function gp(r,e,t){let n=null;if(Array.isArray(t))n=t;else if(t&&typeof t=="object"){let c={};n=e.map(l=>{const u=l.localName;return u||ci.throwError("cannot encode object for signature with missing names",J.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:t}),c[u]&&ci.throwError("cannot encode object for signature with duplicate names",J.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:t}),c[u]=!0,t[u]})}else ci.throwArgumentError("invalid tuple value","tuple",t);e.length!==n.length&&ci.throwArgumentError("types/value length mismatch","tuple",t);let i=new Rc(r.wordSize),s=new Rc(r.wordSize),o=[];e.forEach((c,l)=>{let u=n[l];if(c.dynamic){let d=s.length;c.encode(s,u);let h=i.writeUpdatableValue();o.push(g=>{h(g+d)})}else c.encode(i,u)}),o.forEach(c=>{c(i.length)});let a=r.appendWriter(i);return a+=r.appendWriter(s),a}function bp(r,e){let t=[],n=r.subReader(0);e.forEach(s=>{let o=null;if(s.dynamic){let a=r.readValue(),c=n.subReader(a.toNumber());try{o=s.decode(c)}catch(l){if(l.code===J.errors.BUFFER_OVERRUN)throw l;o=l,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(r)}catch(a){if(a.code===J.errors.BUFFER_OVERRUN)throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}o!=null&&t.push(o)});const i=e.reduce((s,o)=>{const a=o.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});e.forEach((s,o)=>{let a=s.localName;if(!a||i[a]!==1||(a==="length"&&(a="_length"),t[a]!=null))return;const c=t[o];c instanceof Error?Object.defineProperty(t,a,{enumerable:!0,get:()=>{throw c}}):t[a]=c});for(let s=0;s<t.length;s++){const o=t[s];o instanceof Error&&Object.defineProperty(t,s,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(t)}class Ow extends zr{constructor(e,t,n){const i=e.type+"["+(t>=0?t:"")+"]",s=t===-1||e.dynamic;super("array",i,n,s),this.coder=e,this.length=t}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let n=this.length;n===-1&&(n=t.length,e.writeValue(t.length)),ci.checkArgumentCount(t.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<t.length;s++)i.push(this.coder);return gp(e,i,t)}decode(e){let t=this.length;t===-1&&(t=e.readValue().toNumber(),t*32>e._data.length&&ci.throwError("insufficient data length",J.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}));let n=[];for(let i=0;i<t;i++)n.push(new Iw(this.coder));return e.coerce(this.name,bp(e,n))}}class Lw extends zr{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class yp extends zr{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=me(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class Fw extends yp{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,xe(super.decode(e)))}}class Dw extends zr{constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,t){let n=me(t);return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return e.coerce(this.name,xe(e.readBytes(this.size)))}}class Uw extends zr{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const wp="0x0000000000000000000000000000000000000000",vp=pe.from(-1),Hl=pe.from(0),Ap=pe.from(1),$w=pe.from(2),jw=pe.from("1000000000000000000"),Ep=pe.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Vw=pe.from("-0x8000000000000000000000000000000000000000000000000000000000000000"),Hw=pe.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Kl="0x0000000000000000000000000000000000000000000000000000000000000000",Kw="",Tp=Object.freeze(Object.defineProperty({__proto__:null,AddressZero:wp,EtherSymbol:Kw,HashZero:Kl,MaxInt256:Hw,MaxUint256:Ep,MinInt256:Vw,NegativeOne:vp,One:Ap,Two:$w,WeiPerEther:jw,Zero:Hl},Symbol.toStringTag,{value:"Module"}));class Gw extends zr{constructor(e,t,n){const i=(t?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let n=pe.from(t),i=Ep.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(n.gt(s)||n.lt(s.add(Ap).mul(vp)))&&this._throwError("value out-of-bounds",t)}else(n.lt(Hl)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",t);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let t=e.readValue().mask(this.size*8);return this.signed&&(t=t.fromTwos(this.size*8)),e.coerce(this.name,t)}}const zw="strings/5.8.0",Sp=new J(zw);var _r;(function(r){r.current="",r.NFC="NFC",r.NFD="NFD",r.NFKC="NFKC",r.NFKD="NFKD"})(_r||(_r={}));var Vt;(function(r){r.UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation"})(Vt||(Vt={}));function qw(r,e,t,n,i){return Sp.throwArgumentError(`invalid codepoint at offset ${e}; ${r}`,"bytes",t)}function kp(r,e,t,n,i){if(r===Vt.BAD_PREFIX||r===Vt.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<t.length&&t[o]>>6===2;o++)s++;return s}return r===Vt.OVERRUN?t.length-e-1:0}function Ww(r,e,t,n,i){return r===Vt.OVERLONG?(n.push(i),0):(n.push(65533),kp(r,e,t))}const Cp=Object.freeze({error:qw,ignore:kp,replace:Ww});function Gl(r,e){e==null&&(e=Cp.error),r=me(r);const t=[];let n=0;for(;n<r.length;){const i=r[n++];if(!(i>>7)){t.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(Vt.UNEXPECTED_CONTINUE,n-1,r,t):n+=e(Vt.BAD_PREFIX,n-1,r,t);continue}if(n-1+s>=r.length){n+=e(Vt.OVERRUN,n-1,r,t);continue}let a=i&(1<<8-s-1)-1;for(let c=0;c<s;c++){let l=r[n];if((l&192)!=128){n+=e(Vt.MISSING_CONTINUE,n,r,t),a=null;break}a=a<<6|l&63,n++}if(a!==null){if(a>1114111){n+=e(Vt.OUT_OF_RANGE,n-1-s,r,t,a);continue}if(a>=55296&&a<=57343){n+=e(Vt.UTF16_SURROGATE,n-1-s,r,t,a);continue}if(a<=o){n+=e(Vt.OVERLONG,n-1-s,r,t,a);continue}t.push(a)}}return t}function vt(r,e=_r.current){e!=_r.current&&(Sp.checkNormalize(),r=r.normalize(e));let t=[];for(let n=0;n<r.length;n++){const i=r.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192),t.push(i&63|128);else if((i&64512)==55296){n++;const s=r.charCodeAt(n);if(n>=r.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(o&63|128)}else t.push(i>>12|224),t.push(i>>6&63|128),t.push(i&63|128)}return me(t)}function qa(r){const e="0000"+r.toString(16);return"\\u"+e.substring(e.length-4)}function Yw(r,e){return'"'+Gl(r,e).map(t=>{if(t<256){switch(t){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(t>=32&&t<127)return String.fromCharCode(t)}return t<=65535?qa(t):(t-=65536,qa((t>>10&1023)+55296)+qa((t&1023)+56320))}).join("")+'"'}function Pc(r){return r.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Gn(r,e){return Pc(Gl(r,e))}function xo(r,e=_r.current){return Gl(vt(r,e))}function Jw(r){const e=vt(r);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return xe(He([e,Kl]).slice(0,32))}function Xw(r){const e=me(r);if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let t=31;for(;e[t-1]===0;)t--;return Gn(e.slice(0,t))}function Qw(r){if(r.length%4!==0)throw new Error("bad data");let e=[];for(let t=0;t<r.length;t+=4)e.push(parseInt(r.substring(t,t+4),16));return e}function zl(r,e){e||(e=function(i){return[parseInt(i,16)]});let t=0,n={};return r.split(",").forEach(i=>{let s=i.split(":");t+=parseInt(s[0],16),n[t]=e(s[1])}),n}function Mp(r){let e=0;return r.split(",").map(t=>{let n=t.split("-");n.length===1?n[1]="0":n[1]===""&&(n[1]="1");let i=e+parseInt(n[0],16);return e=parseInt(n[1],16),{l:i,h:e}})}function ql(r,e){let t=0;for(let n=0;n<e.length;n++){let i=e[n];if(t+=i.l,r>=t&&r<=t+i.h&&(r-t)%(i.d||1)===0){if(i.e&&i.e.indexOf(r-t)!==-1)continue;return i}}return null}const Zw=Mp("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),e3="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(r=>parseInt(r,16)),t3=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],r3=zl("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),n3=zl("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),i3=zl("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",Qw),s3=Mp("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function o3(r){return r.reduce((e,t)=>(t.forEach(n=>{e.push(n)}),e),[])}function a3(r){return!!ql(r,Zw)}function c3(r){let e=ql(r,t3);if(e)return[r+e.s];let t=r3[r];if(t)return t;let n=n3[r];if(n)return[r+n[0]];let i=i3[r];return i||null}function l3(r){return!!ql(r,s3)}function f3(r){if(r.match(/^[a-z0-9-]*$/i)&&r.length<=59)return r.toLowerCase();let e=xo(r);e=o3(e.map(n=>{if(e3.indexOf(n)>=0)return[];if(n>=65024&&n<=65039)return[];let i=c3(n);return i||[n]})),e=xo(Pc(e),_r.NFKC),e.forEach(n=>{if(l3(n))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),e.forEach(n=>{if(a3(n))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let t=Pc(e);if(t.substring(0,1)==="-"||t.substring(2,4)==="--"||t.substring(t.length-1)==="-")throw new Error("invalid hyphen");return t}class u3 extends yp{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,vt(t))}decode(e){return Gn(super.decode(e))}}class Os extends zr{constructor(e,t){let n=!1;const i=[];e.forEach(o=>{o.dynamic&&(n=!0),i.push(o.type)});const s="tuple("+i.join(",")+")";super("tuple",s,t,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const t=this.coders.reduce((n,i)=>{const s=i.localName;return s&&(n[s]||(n[s]=0),n[s]++),n},{});return this.coders.forEach((n,i)=>{let s=n.localName;!s||t[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,t){return gp(e,this.coders,t)}decode(e){return e.coerce(this.name,bp(e,this.coders))}}const Ls=new J(Ss),h3=new RegExp(/^bytes([0-9]*)$/),d3=new RegExp(/^(u?int)([0-9]*)$/);class _p{constructor(e){ce(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new Bw(e.name);case"bool":return new Lw(e.name);case"string":return new u3(e.name);case"bytes":return new Fw(e.name);case"array":return new Ow(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Os((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new Uw(e.name)}let t=e.type.match(d3);if(t){let n=parseInt(t[2]||"256");return(n===0||n>256||n%8!==0)&&Ls.throwArgumentError("invalid "+t[1]+" bit length","param",e),new Gw(n/8,t[1]==="int",e.name)}if(t=e.type.match(h3),t){let n=parseInt(t[1]);return(n===0||n>32)&&Ls.throwArgumentError("invalid bytes length","param",e),new Dw(n,e.name)}return Ls.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new mo(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new Rc(this._getWordSize())}getDefaultValue(e){const t=e.map(i=>this._getCoder(Tt.from(i)));return new Os(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&Ls.throwError("types/values length mismatch",J.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const n=e.map(o=>this._getCoder(Tt.from(o))),i=new Os(n,"_"),s=this._getWriter();return i.encode(s,t),s.data}decode(e,t,n){const i=e.map(o=>this._getCoder(Tt.from(o)));return new Os(i,"_").decode(this._getReader(me(t),n))}}const Np=new _p;function an(r){return Ve(vt(r))}const Rp="hash/5.8.0";function Wl(r){r=atob(r);const e=[];for(let t=0;t<r.length;t++)e.push(r.charCodeAt(t));return me(e)}function Yl(r){r=me(r);let e="";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return btoa(e)}const p3=Object.freeze(Object.defineProperty({__proto__:null,decode:Wl,encode:Yl},Symbol.toStringTag,{value:"Module"}));function Pp(r,e){e==null&&(e=1);const t=[],n=t.forEach,i=function(s,o){n.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):t.push(a)})};return i(r,e),t}function m3(r){const e={};for(let t=0;t<r.length;t++){const n=r[t];e[n[0]]=n[1]}return e}function x3(r){let e=0;function t(){return r[e++]<<8|r[e++]}let n=t(),i=1,s=[0,1];for(let L=1;L<n;L++)s.push(i+=t());let o=t(),a=e;e+=o;let c=0,l=0;function u(){return c==0&&(l=l<<8|r[e++],c=8),l>>--c&1}const d=31,h=Math.pow(2,d),g=h>>>1,b=g>>1,y=h-1;let E=0;for(let L=0;L<d;L++)E=E<<1|u();let w=[],_=0,R=h;for(;;){let L=Math.floor(((E-_+1)*i-1)/R),P=0,U=n;for(;U-P>1;){let Y=P+U>>>1;L<s[Y]?U=Y:P=Y}if(P==0)break;w.push(P);let q=_+Math.floor(R*s[P]/i),fe=_+Math.floor(R*s[P+1]/i)-1;for(;!((q^fe)&g);)E=E<<1&y|u(),q=q<<1&y,fe=fe<<1&y|1;for(;q&~fe&b;)E=E&g|E<<1&y>>>1|u(),q=q<<1^g,fe=(fe^g)<<1|g|1;_=q,R=1+fe-q}let F=n-4;return w.map(L=>{switch(L-F){case 3:return F+65792+(r[a++]<<16|r[a++]<<8|r[a++]);case 2:return F+256+(r[a++]<<8|r[a++]);case 1:return F+r[a++];default:return L-1}})}function g3(r){let e=0;return()=>r[e++]}function b3(r){return g3(x3(r))}function y3(r){return r&1?~r>>1:r>>1}function w3(r,e){let t=Array(r);for(let n=0;n<r;n++)t[n]=1+e();return t}function f0(r,e){let t=Array(r);for(let n=0,i=-1;n<r;n++)t[n]=i+=1+e();return t}function v3(r,e){let t=Array(r);for(let n=0,i=0;n<r;n++)t[n]=i+=y3(e());return t}function go(r,e){let t=f0(r(),r),n=r(),i=f0(n,r),s=w3(n,r);for(let o=0;o<n;o++)for(let a=0;a<s[o];a++)t.push(i[o]+a);return e?t.map(o=>e[o]):t}function A3(r){let e=[];for(;;){let t=r();if(t==0)break;e.push(T3(t,r))}for(;;){let t=r()-1;if(t<0)break;e.push(S3(t,r))}return m3(Pp(e))}function E3(r){let e=[];for(;;){let t=r();if(t==0)break;e.push(t)}return e}function Bp(r,e,t){let n=Array(r).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)v3(r,t).forEach((s,o)=>n[o].push(s));return n}function T3(r,e){let t=1+e(),n=e(),i=E3(e),s=Bp(i.length,1+r,e);return Pp(s.map((o,a)=>{const c=o[0],l=o.slice(1);return Array(i[a]).fill(void 0).map((u,d)=>{let h=d*n;return[c+d*t,l.map(g=>g+h)]})}))}function S3(r,e){let t=1+e();return Bp(t,1+r,e).map(i=>[i[0],i.slice(1)])}function k3(r){let e=go(r).sort((n,i)=>n-i);return t();function t(){let n=[];for(;;){let l=go(r,e);if(l.length==0)break;n.push({set:new Set(l),node:t()})}n.sort((l,u)=>u.set.size-l.set.size);let i=r(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,c=i==2;return{branches:n,valid:s,fe0f:o,save:a,check:c}}}function C3(){return b3(Wl("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const Ho=C3(),M3=new Set(go(Ho)),_3=new Set(go(Ho)),N3=A3(Ho),R3=k3(Ho),u0=45,h0=95;function Ip(r){return xo(r)}function P3(r){return r.filter(e=>e!=65039)}function Op(r){for(let e of r.split(".")){let t=Ip(e);try{for(let n=t.lastIndexOf(h0)-1;n>=0;n--)if(t[n]!==h0)throw new Error("underscore only allowed at start");if(t.length>=4&&t.every(n=>n<128)&&t[2]===u0&&t[3]===u0)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return r}function B3(r){return Op(I3(r,P3))}function I3(r,e){let t=Ip(r).reverse(),n=[];for(;t.length;){let i=L3(t);if(i){n.push(...e(i));continue}let s=t.pop();if(M3.has(s)){n.push(s);continue}if(_3.has(s))continue;let o=N3[s];if(o){n.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return Op(O3(String.fromCodePoint(...n)))}function O3(r){return r.normalize("NFC")}function L3(r,e){var t;let n=R3,i,s,o=[],a=r.length;for(;a;){let c=r[--a];if(n=(t=n.branches.find(l=>l.set.has(c)))===null||t===void 0?void 0:t.node,!n)break;if(n.save)s=c;else if(n.check&&c===s)break;o.push(c),n.fe0f&&(o.push(65039),a>0&&r[a-1]==65039&&a--),n.valid&&(i=o.slice(),n.valid==2&&i.splice(1,1),r.length=a)}return i}const F3=new J(Rp),Lp=new Uint8Array(32);Lp.fill(0);function d0(r){if(r.length===0)throw new Error("invalid ENS name; empty component");return r}function Jl(r){const e=vt(B3(r)),t=[];if(r.length===0)return t;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(t.push(d0(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return t.push(d0(e.slice(n))),t}function D3(r){try{return Jl(r).length!==0}catch{}return!1}function es(r){typeof r!="string"&&F3.throwArgumentError("invalid ENS name; not a string","name",r);let e=Lp;const t=Jl(r);for(;t.length;)e=Ve(He([e,Ve(t.pop())]));return xe(e)}function Fp(r){return xe(He(Jl(r).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t})))+"00"}const U3=`Ethereum Signed Message:
`;function Xl(r){return typeof r=="string"&&(r=vt(r)),Ve(He([vt(U3),vt(String(r.length)),r]))}var $3=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(r,e||[])).next())})};const ft=new J(Rp),Dp=new Uint8Array(32);Dp.fill(0);const j3=pe.from(-1),Up=pe.from(0),$p=pe.from(1),V3=pe.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function H3(r){const e=me(r),t=e.length%32;return t?Ft([e,Dp.slice(t)]):xe(e)}const K3=Ke($p.toHexString(),32),G3=Ke(Up.toHexString(),32),p0={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Wa=["name","version","chainId","verifyingContract","salt"];function m0(r){return function(e){return typeof e!="string"&&ft.throwArgumentError(`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,e),e}}const z3={name:m0("name"),version:m0("version"),chainId:function(r){try{return pe.from(r).toString()}catch{}return ft.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",r)},verifyingContract:function(r){try{return Ue(r).toLowerCase()}catch{}return ft.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){try{const e=me(r);if(e.length!==32)throw new Error("bad length");return xe(e)}catch{}return ft.throwArgumentError('invalid domain value "salt"',"domain.salt",r)}};function Ya(r){{const e=r.match(/^(u?)int(\d*)$/);if(e){const t=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&ft.throwArgumentError("invalid numeric width","type",r);const i=V3.mask(t?n-1:n),s=t?i.add($p).mul(j3):Up;return function(o){const a=pe.from(o);return(a.lt(s)||a.gt(i))&&ft.throwArgumentError(`value out-of-bounds for ${r}`,"value",o),Ke(a.toTwos(256).toHexString(),32)}}}{const e=r.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return(t===0||t>32||e[1]!==String(t))&&ft.throwArgumentError("invalid bytes width","type",r),function(n){return me(n).length!==t&&ft.throwArgumentError(`invalid length for ${r}`,"value",n),H3(n)}}}switch(r){case"address":return function(e){return Ke(Ue(e),32)};case"bool":return function(e){return e?K3:G3};case"bytes":return function(e){return Ve(e)};case"string":return function(e){return an(e)}}return null}function x0(r,e){return`${r}(${e.map(({name:t,type:n})=>n+" "+t).join(",")})`}class Ct{constructor(e){ce(this,"types",Object.freeze(Ut(e))),ce(this,"_encoderCache",{}),ce(this,"_types",{});const t={},n={},i={};Object.keys(e).forEach(a=>{t[a]={},n[a]=[],i[a]={}});for(const a in e){const c={};e[a].forEach(l=>{c[l.name]&&ft.throwArgumentError(`duplicate variable name ${JSON.stringify(l.name)} in ${JSON.stringify(a)}`,"types",e),c[l.name]=!0;const u=l.type.match(/^([^\x5b]*)(\x5b|$)/)[1];u===a&&ft.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",e),!Ya(u)&&(n[u]||ft.throwArgumentError(`unknown type ${JSON.stringify(u)}`,"types",e),n[u].push(a),t[a][u]=!0)})}const s=Object.keys(n).filter(a=>n[a].length===0);s.length===0?ft.throwArgumentError("missing primary type","types",e):s.length>1&&ft.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),ce(this,"primaryType",s[0]);function o(a,c){c[a]&&ft.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),c[a]=!0,Object.keys(t[a]).forEach(l=>{n[l]&&(o(l,c),Object.keys(c).forEach(u=>{i[u][l]=!0}))}),delete c[a]}o(this.primaryType,{});for(const a in i){const c=Object.keys(i[a]);c.sort(),this._types[a]=x0(a,e[a])+c.map(l=>x0(l,e[l])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const i=Ya(e);if(i)return i}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const i=t[1],s=this.getEncoder(i),o=parseInt(t[3]);return a=>{o>=0&&a.length!==o&&ft.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let c=a.map(s);return this._types[i]&&(c=c.map(Ve)),Ve(Ft(c))}}const n=this.types[e];if(n){const i=an(this._types[e]);return s=>{const o=n.map(({name:a,type:c})=>{const l=this.getEncoder(c)(s[a]);return this._types[c]?Ve(l):l});return o.unshift(i),Ft(o)}}return ft.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];return t||ft.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Ve(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(Ya(e))return n(e,t);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&t.length!==a&&ft.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(c=>this._visit(o,c,n))}const s=this.types[e];return s?s.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,t[a],n),o),{}):ft.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Ct(e)}static getPrimaryType(e){return Ct.from(e).primaryType}static hashStruct(e,t,n){return Ct.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){const i=p0[n];i||ft.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:i})}return t.sort((n,i)=>Wa.indexOf(n.name)-Wa.indexOf(i.name)),Ct.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return Ft(["0x1901",Ct.hashDomain(e),Ct.from(t).hash(n)])}static hash(e,t,n){return Ve(Ct.encode(e,t,n))}static resolveNames(e,t,n,i){return $3(this,void 0,void 0,function*(){e=Ge(e);const s={};e.verifyingContract&&!Ne(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=Ct.from(t);o.visit(n,(a,c)=>(a==="address"&&!Ne(c,20)&&(s[c]="0x"),c));for(const a in s)s[a]=yield i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=o.visit(n,(a,c)=>a==="address"&&s[c]?s[c]:c),{domain:e,value:n}})}static getPayload(e,t,n){Ct.hashDomain(e);const i={},s=[];Wa.forEach(c=>{const l=e[c];l!=null&&(i[c]=z3[c](l),s.push({name:c,type:p0[c]}))});const o=Ct.from(t),a=Ge(t);return a.EIP712Domain?ft.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):a.EIP712Domain=s,o.encode(n),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(n,(c,l)=>{if(c.match(/^bytes(\d*)/))return xe(me(l));if(c.match(/^u?int/))return pe.from(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return typeof l!="string"&&ft.throwArgumentError("invalid string","value",l),l}return ft.throwArgumentError("unsupported type","type",c)})}}}const lt=new J(Ss);class jp extends Kn{}class Vp extends Kn{}class q3 extends Kn{}class bo extends Kn{static isIndexed(e){return!!(e&&e._isIndexed)}}const W3={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function g0(r,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${r}`);return t.error=e,t}class Bc{constructor(e){let t=[];typeof e=="string"?t=JSON.parse(e):t=e,ce(this,"fragments",t.map(n=>wr.from(n)).filter(n=>n!=null)),ce(this,"_abiCoder",Mt(new.target,"getAbiCoder")()),ce(this,"functions",{}),ce(this,"errors",{}),ce(this,"events",{}),ce(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){lt.warn("duplicate definition - constructor");return}ce(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=n.format();if(i[s]){lt.warn("duplicate definition - "+s);return}i[s]=n}),this.deploy||ce(this,"deploy",fr.from({payable:!1,type:"constructor"})),ce(this,"_isInterface",!0)}format(e){e||(e=Fe.full),e===Fe.sighash&&lt.throwArgumentError("interface does not support formatting sighash","format",e);const t=this.fragments.map(n=>n.format(e));return e===Fe.json?JSON.stringify(t.map(n=>JSON.parse(n))):t}static getAbiCoder(){return Np}static getAddress(e){return Ue(e)}static getSighash(e){return wt(an(e.format()),0,4)}static getEventTopic(e){return an(e.format())}getFunction(e){if(Ne(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];lt.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===n);return i.length===0?lt.throwArgumentError("no matching function","name",n):i.length>1&&lt.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const t=this.functions[ur.fromString(e).format()];return t||lt.throwArgumentError("no matching function","signature",e),t}getEvent(e){if(Ne(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];lt.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===n);return i.length===0?lt.throwArgumentError("no matching event","name",n):i.length>1&&lt.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const t=this.events[yr.fromString(e).format()];return t||lt.throwArgumentError("no matching event","signature",e),t}getError(e){if(Ne(e)){const n=Mt(this.constructor,"getSighash");for(const i in this.errors){const s=this.errors[i];if(e===n(s))return this.errors[i]}lt.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===n);return i.length===0?lt.throwArgumentError("no matching error","name",n):i.length>1&&lt.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const t=this.errors[ur.fromString(e).format()];return t||lt.throwArgumentError("no matching error","signature",e),t}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch{throw t}}return Mt(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Mt(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){typeof e=="string"&&(e=this.getError(e));const n=me(t);return xe(n.slice(0,4))!==this.getSighash(e)&&lt.throwArgumentError(`data signature does not match error ${e.name}.`,"data",xe(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,t){return typeof e=="string"&&(e=this.getError(e)),xe(He([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){typeof e=="string"&&(e=this.getFunction(e));const n=me(t);return xe(n.slice(0,4))!==this.getSighash(e)&&lt.throwArgumentError(`data signature does not match function ${e.name}.`,"data",xe(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,t){return typeof e=="string"&&(e=this.getFunction(e)),xe(He([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){typeof e=="string"&&(e=this.getFunction(e));let n=me(t),i=null,s="",o=null,a=null,c=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const l=xe(n.slice(0,4)),u=W3[l];if(u)o=this._abiCoder.decode(u.inputs,n.slice(4)),a=u.name,c=u.signature,u.reason&&(i=o[0]),a==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:a==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{const d=this.getError(l);o=this._abiCoder.decode(d.inputs,n.slice(4)),a=d.name,c=d.format()}catch{}break}}return lt.throwError("call revert exception"+s,J.errors.CALL_EXCEPTION,{method:e.format(),data:xe(t),errorArgs:o,errorName:a,errorSignature:c,reason:i})}encodeFunctionResult(e,t){return typeof e=="string"&&(e=this.getFunction(e)),xe(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){typeof e=="string"&&(e=this.getEvent(e)),t.length>e.inputs.length&&lt.throwError("too many arguments for "+e.format(),J.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(s,o)=>s.type==="string"?an(o):s.type==="bytes"?Ve(xe(o)):(s.type==="bool"&&typeof o=="boolean"&&(o=o?"0x01":"0x00"),s.type.match(/^u?int/)&&(o=pe.from(o).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[o]),Ke(xe(o),32));for(t.forEach((s,o)=>{let a=e.inputs[o];if(!a.indexed){s!=null&&lt.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?lt.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?n.push(s.map(c=>i(a,c))):n.push(i(a,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,t){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],s=[];return e.anonymous||n.push(this.getEventTopic(e)),t.length!==e.inputs.length&&lt.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((o,a)=>{const c=t[a];if(o.indexed)if(o.type==="string")n.push(an(c));else if(o.type==="bytes")n.push(Ve(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([o.type],[c]))}else i.push(o),s.push(c)}),{data:this._abiCoder.encode(i,s),topics:n}}decodeEventLog(e,t,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let h=this.getEventTopic(e);(!Ne(n[0],32)||n[0].toLowerCase()!==h)&&lt.throwError("fragment/topic mismatch",J.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:h,value:n[0]}),n=n.slice(1)}let i=[],s=[],o=[];e.inputs.forEach((h,g)=>{h.indexed?h.type==="string"||h.type==="bytes"||h.baseType==="tuple"||h.baseType==="array"?(i.push(Tt.fromObject({type:"bytes32",name:h.name})),o.push(!0)):(i.push(h),o.push(!1)):(s.push(h),o.push(!1))});let a=n!=null?this._abiCoder.decode(i,He(n)):null,c=this._abiCoder.decode(s,t,!0),l=[],u=0,d=0;e.inputs.forEach((h,g)=>{if(h.indexed)if(a==null)l[g]=new bo({_isIndexed:!0,hash:null});else if(o[g])l[g]=new bo({_isIndexed:!0,hash:a[d++]});else try{l[g]=a[d++]}catch(b){l[g]=b}else try{l[g]=c[u++]}catch(b){l[g]=b}if(h.name&&l[h.name]==null){const b=l[g];b instanceof Error?Object.defineProperty(l,h.name,{enumerable:!0,get:()=>{throw g0(`property ${JSON.stringify(h.name)}`,b)}}):l[h.name]=b}});for(let h=0;h<l.length;h++){const g=l[h];g instanceof Error&&Object.defineProperty(l,h,{enumerable:!0,get:()=>{throw g0(`index ${h}`,g)}})}return Object.freeze(l)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new Vp({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:pe.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new jp({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){const t=xe(e);let n=this.getError(t.substring(0,10).toLowerCase());return n?new q3({args:this._abiCoder.decode(n.inputs,"0x"+t.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const Y3="abstract-provider/5.8.0";var J3=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(r,e||[])).next())})};const X3=new J(Y3);class Q3 extends Kn{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class zn{constructor(){X3.checkAbstract(new.target,zn),ce(this,"_isProvider",!0)}getFeeData(){return J3(this,void 0,void 0,function*(){const{block:e,gasPrice:t}=yield pt({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let n=null,i=null,s=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,s=pe.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:t}})}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}}const Z3="abstract-signer/5.8.0";var sr=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(r,e||[])).next())})};const Qt=new J(Z3),ev=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],tv=[J.errors.INSUFFICIENT_FUNDS,J.errors.NONCE_EXPIRED,J.errors.REPLACEMENT_UNDERPRICED];class qr{constructor(){Qt.checkAbstract(new.target,qr),ce(this,"_isSigner",!0)}getBalance(e){return sr(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return sr(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return sr(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const t=yield pt(this.checkTransaction(e));return yield this.provider.estimateGas(t)})}call(e,t){return sr(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield pt(this.checkTransaction(e));return yield this.provider.call(n,t)})}sendTransaction(e){return sr(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e),n=yield this.signTransaction(t);return yield this.provider.sendTransaction(n)})}getChainId(){return sr(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return sr(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return sr(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return sr(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)ev.indexOf(n)===-1&&Qt.throwArgumentError("invalid transaction key: "+n,"transaction",e);const t=Ge(e);return t.from==null?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&Qt.throwArgumentError("from address mismatch","transaction",e),n[0])),t}populateTransaction(e){return sr(this,void 0,void 0,function*(){const t=yield pt(this.checkTransaction(e));t.to!=null&&(t.to=Promise.resolve(t.to).then(i=>sr(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&Qt.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),t.to.catch(i=>{}));const n=t.maxFeePerGas!=null||t.maxPriorityFeePerGas!=null;if(t.gasPrice!=null&&(t.type===2||n)?Qt.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(t.type===0||t.type===1)&&n&&Qt.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(t.type===2||t.type==null)&&t.maxFeePerGas!=null&&t.maxPriorityFeePerGas!=null)t.type=2;else if(t.type===0||t.type===1)t.gasPrice==null&&(t.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(t.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(t.type=2,t.gasPrice!=null){const s=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=s,t.maxPriorityFeePerGas=s}else t.maxFeePerGas==null&&(t.maxFeePerGas=i.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&Qt.throwError("network does not support EIP-1559",J.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),t.gasPrice==null&&(t.gasPrice=i.gasPrice),t.type=0):Qt.throwError("failed to get consistent fee data",J.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else t.type===2&&(t.maxFeePerGas==null&&(t.maxFeePerGas=i.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return t.nonce==null&&(t.nonce=this.getTransactionCount("pending")),t.gasLimit==null&&(t.gasLimit=this.estimateGas(t).catch(i=>{if(tv.indexOf(i.code)>=0)throw i;return Qt.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",J.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:t})})),t.chainId==null?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&Qt.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield pt(t)})}_checkProvider(e){this.provider||Qt.throwError("missing provider",J.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class ks extends qr{constructor(e,t){super(),ce(this,"address",e),ce(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then(()=>{Qt.throwError(e,J.errors.UNSUPPORTED_OPERATION,{operation:t})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new ks(this.address,e)}}var Hp={},Ie={},Cs=Kp;function Kp(r,e){if(!r)throw new Error(e||"Assertion failed")}Kp.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var rv=Cs,nv=Nx;Ie.inherits=nv;function iv(r,e){return(r.charCodeAt(e)&64512)!==55296||e<0||e+1>=r.length?!1:(r.charCodeAt(e+1)&64512)===56320}function sv(r,e){if(Array.isArray(r))return r.slice();if(!r)return[];var t=[];if(typeof r=="string")if(e){if(e==="hex")for(r=r.replace(/[^a-z0-9]+/ig,""),r.length%2!==0&&(r="0"+r),i=0;i<r.length;i+=2)t.push(parseInt(r[i]+r[i+1],16))}else for(var n=0,i=0;i<r.length;i++){var s=r.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):iv(r,i)?(s=65536+((s&1023)<<10)+(r.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}else for(i=0;i<r.length;i++)t[i]=r[i]|0;return t}Ie.toArray=sv;function ov(r){for(var e="",t=0;t<r.length;t++)e+=zp(r[t].toString(16));return e}Ie.toHex=ov;function Gp(r){var e=r>>>24|r>>>8&65280|r<<8&16711680|(r&255)<<24;return e>>>0}Ie.htonl=Gp;function av(r,e){for(var t="",n=0;n<r.length;n++){var i=r[n];e==="little"&&(i=Gp(i)),t+=qp(i.toString(16))}return t}Ie.toHex32=av;function zp(r){return r.length===1?"0"+r:r}Ie.zero2=zp;function qp(r){return r.length===7?"0"+r:r.length===6?"00"+r:r.length===5?"000"+r:r.length===4?"0000"+r:r.length===3?"00000"+r:r.length===2?"000000"+r:r.length===1?"0000000"+r:r}Ie.zero8=qp;function cv(r,e,t,n){var i=t-e;rv(i%4===0);for(var s=new Array(i/4),o=0,a=e;o<s.length;o++,a+=4){var c;n==="big"?c=r[a]<<24|r[a+1]<<16|r[a+2]<<8|r[a+3]:c=r[a+3]<<24|r[a+2]<<16|r[a+1]<<8|r[a],s[o]=c>>>0}return s}Ie.join32=cv;function lv(r,e){for(var t=new Array(r.length*4),n=0,i=0;n<r.length;n++,i+=4){var s=r[n];e==="big"?(t[i]=s>>>24,t[i+1]=s>>>16&255,t[i+2]=s>>>8&255,t[i+3]=s&255):(t[i+3]=s>>>24,t[i+2]=s>>>16&255,t[i+1]=s>>>8&255,t[i]=s&255)}return t}Ie.split32=lv;function fv(r,e){return r>>>e|r<<32-e}Ie.rotr32=fv;function uv(r,e){return r<<e|r>>>32-e}Ie.rotl32=uv;function hv(r,e){return r+e>>>0}Ie.sum32=hv;function dv(r,e,t){return r+e+t>>>0}Ie.sum32_3=dv;function pv(r,e,t,n){return r+e+t+n>>>0}Ie.sum32_4=pv;function mv(r,e,t,n,i){return r+e+t+n+i>>>0}Ie.sum32_5=mv;function xv(r,e,t,n){var i=r[e],s=r[e+1],o=n+s>>>0,a=(o<n?1:0)+t+i;r[e]=a>>>0,r[e+1]=o}Ie.sum64=xv;function gv(r,e,t,n){var i=e+n>>>0,s=(i<e?1:0)+r+t;return s>>>0}Ie.sum64_hi=gv;function bv(r,e,t,n){var i=e+n;return i>>>0}Ie.sum64_lo=bv;function yv(r,e,t,n,i,s,o,a){var c=0,l=e;l=l+n>>>0,c+=l<e?1:0,l=l+s>>>0,c+=l<s?1:0,l=l+a>>>0,c+=l<a?1:0;var u=r+t+i+o+c;return u>>>0}Ie.sum64_4_hi=yv;function wv(r,e,t,n,i,s,o,a){var c=e+n+s+a;return c>>>0}Ie.sum64_4_lo=wv;function vv(r,e,t,n,i,s,o,a,c,l){var u=0,d=e;d=d+n>>>0,u+=d<e?1:0,d=d+s>>>0,u+=d<s?1:0,d=d+a>>>0,u+=d<a?1:0,d=d+l>>>0,u+=d<l?1:0;var h=r+t+i+o+c+u;return h>>>0}Ie.sum64_5_hi=vv;function Av(r,e,t,n,i,s,o,a,c,l){var u=e+n+s+a+l;return u>>>0}Ie.sum64_5_lo=Av;function Ev(r,e,t){var n=e<<32-t|r>>>t;return n>>>0}Ie.rotr64_hi=Ev;function Tv(r,e,t){var n=r<<32-t|e>>>t;return n>>>0}Ie.rotr64_lo=Tv;function Sv(r,e,t){return r>>>t}Ie.shr64_hi=Sv;function kv(r,e,t){var n=r<<32-t|e>>>t;return n>>>0}Ie.shr64_lo=kv;var _i={},b0=Ie,Cv=Cs;function Ko(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}_i.BlockHash=Ko;Ko.prototype.update=function(e,t){if(e=b0.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=b0.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};Ko.prototype.digest=function(e){return this.update(this._pad()),Cv(this.pending===null),this._digest(e)};Ko.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,i=new Array(n+this.padLength);i[0]=128;for(var s=1;s<n;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,o=8;o<this.padLength;o++)i[s++]=0;return i};var Ni={},Ir={},Mv=Ie,Sr=Mv.rotr32;function _v(r,e,t,n){if(r===0)return Wp(e,t,n);if(r===1||r===3)return Jp(e,t,n);if(r===2)return Yp(e,t,n)}Ir.ft_1=_v;function Wp(r,e,t){return r&e^~r&t}Ir.ch32=Wp;function Yp(r,e,t){return r&e^r&t^e&t}Ir.maj32=Yp;function Jp(r,e,t){return r^e^t}Ir.p32=Jp;function Nv(r){return Sr(r,2)^Sr(r,13)^Sr(r,22)}Ir.s0_256=Nv;function Rv(r){return Sr(r,6)^Sr(r,11)^Sr(r,25)}Ir.s1_256=Rv;function Pv(r){return Sr(r,7)^Sr(r,18)^r>>>3}Ir.g0_256=Pv;function Bv(r){return Sr(r,17)^Sr(r,19)^r>>>10}Ir.g1_256=Bv;var bi=Ie,Iv=_i,Ov=Ir,Ja=bi.rotl32,Oi=bi.sum32,Lv=bi.sum32_5,Fv=Ov.ft_1,Xp=Iv.BlockHash,Dv=[1518500249,1859775393,2400959708,3395469782];function Nr(){if(!(this instanceof Nr))return new Nr;Xp.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}bi.inherits(Nr,Xp);var Uv=Nr;Nr.blockSize=512;Nr.outSize=160;Nr.hmacStrength=80;Nr.padLength=64;Nr.prototype._update=function(e,t){for(var n=this.W,i=0;i<16;i++)n[i]=e[t+i];for(;i<n.length;i++)n[i]=Ja(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var s=this.h[0],o=this.h[1],a=this.h[2],c=this.h[3],l=this.h[4];for(i=0;i<n.length;i++){var u=~~(i/20),d=Lv(Ja(s,5),Fv(u,o,a,c),l,n[i],Dv[u]);l=c,c=a,a=Ja(o,30),o=s,s=d}this.h[0]=Oi(this.h[0],s),this.h[1]=Oi(this.h[1],o),this.h[2]=Oi(this.h[2],a),this.h[3]=Oi(this.h[3],c),this.h[4]=Oi(this.h[4],l)};Nr.prototype._digest=function(e){return e==="hex"?bi.toHex32(this.h,"big"):bi.split32(this.h,"big")};var yi=Ie,$v=_i,Ri=Ir,jv=Cs,or=yi.sum32,Vv=yi.sum32_4,Hv=yi.sum32_5,Kv=Ri.ch32,Gv=Ri.maj32,zv=Ri.s0_256,qv=Ri.s1_256,Wv=Ri.g0_256,Yv=Ri.g1_256,Qp=$v.BlockHash,Jv=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Rr(){if(!(this instanceof Rr))return new Rr;Qp.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Jv,this.W=new Array(64)}yi.inherits(Rr,Qp);var Zp=Rr;Rr.blockSize=512;Rr.outSize=256;Rr.hmacStrength=192;Rr.padLength=64;Rr.prototype._update=function(e,t){for(var n=this.W,i=0;i<16;i++)n[i]=e[t+i];for(;i<n.length;i++)n[i]=Vv(Yv(n[i-2]),n[i-7],Wv(n[i-15]),n[i-16]);var s=this.h[0],o=this.h[1],a=this.h[2],c=this.h[3],l=this.h[4],u=this.h[5],d=this.h[6],h=this.h[7];for(jv(this.k.length===n.length),i=0;i<n.length;i++){var g=Hv(h,qv(l),Kv(l,u,d),this.k[i],n[i]),b=or(zv(s),Gv(s,o,a));h=d,d=u,u=l,l=or(c,g),c=a,a=o,o=s,s=or(g,b)}this.h[0]=or(this.h[0],s),this.h[1]=or(this.h[1],o),this.h[2]=or(this.h[2],a),this.h[3]=or(this.h[3],c),this.h[4]=or(this.h[4],l),this.h[5]=or(this.h[5],u),this.h[6]=or(this.h[6],d),this.h[7]=or(this.h[7],h)};Rr.prototype._digest=function(e){return e==="hex"?yi.toHex32(this.h,"big"):yi.split32(this.h,"big")};var Ic=Ie,em=Zp;function Hr(){if(!(this instanceof Hr))return new Hr;em.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Ic.inherits(Hr,em);var Xv=Hr;Hr.blockSize=512;Hr.outSize=224;Hr.hmacStrength=192;Hr.padLength=64;Hr.prototype._digest=function(e){return e==="hex"?Ic.toHex32(this.h.slice(0,7),"big"):Ic.split32(this.h.slice(0,7),"big")};var Ht=Ie,Qv=_i,Zv=Cs,kr=Ht.rotr64_hi,Cr=Ht.rotr64_lo,tm=Ht.shr64_hi,rm=Ht.shr64_lo,Zr=Ht.sum64,Xa=Ht.sum64_hi,Qa=Ht.sum64_lo,e6=Ht.sum64_4_hi,t6=Ht.sum64_4_lo,r6=Ht.sum64_5_hi,n6=Ht.sum64_5_lo,nm=Qv.BlockHash,i6=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function pr(){if(!(this instanceof pr))return new pr;nm.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=i6,this.W=new Array(160)}Ht.inherits(pr,nm);var im=pr;pr.blockSize=1024;pr.outSize=512;pr.hmacStrength=192;pr.padLength=128;pr.prototype._prepareBlock=function(e,t){for(var n=this.W,i=0;i<32;i++)n[i]=e[t+i];for(;i<n.length;i+=2){var s=m6(n[i-4],n[i-3]),o=x6(n[i-4],n[i-3]),a=n[i-14],c=n[i-13],l=d6(n[i-30],n[i-29]),u=p6(n[i-30],n[i-29]),d=n[i-32],h=n[i-31];n[i]=e6(s,o,a,c,l,u,d,h),n[i+1]=t6(s,o,a,c,l,u,d,h)}};pr.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],c=this.h[4],l=this.h[5],u=this.h[6],d=this.h[7],h=this.h[8],g=this.h[9],b=this.h[10],y=this.h[11],E=this.h[12],w=this.h[13],_=this.h[14],R=this.h[15];Zv(this.k.length===n.length);for(var F=0;F<n.length;F+=2){var L=_,P=R,U=u6(h,g),q=h6(h,g),fe=s6(h,g,b,y,E),Y=o6(h,g,b,y,E,w),Q=this.k[F],Z=this.k[F+1],N=n[F],p=n[F+1],v=r6(L,P,U,q,fe,Y,Q,Z,N,p),C=n6(L,P,U,q,fe,Y,Q,Z,N,p);L=l6(i,s),P=f6(i,s),U=a6(i,s,o,a,c),q=c6(i,s,o,a,c,l);var B=Xa(L,P,U,q),O=Qa(L,P,U,q);_=E,R=w,E=b,w=y,b=h,y=g,h=Xa(u,d,v,C),g=Qa(d,d,v,C),u=c,d=l,c=o,l=a,o=i,a=s,i=Xa(v,C,B,O),s=Qa(v,C,B,O)}Zr(this.h,0,i,s),Zr(this.h,2,o,a),Zr(this.h,4,c,l),Zr(this.h,6,u,d),Zr(this.h,8,h,g),Zr(this.h,10,b,y),Zr(this.h,12,E,w),Zr(this.h,14,_,R)};pr.prototype._digest=function(e){return e==="hex"?Ht.toHex32(this.h,"big"):Ht.split32(this.h,"big")};function s6(r,e,t,n,i){var s=r&t^~r&i;return s<0&&(s+=4294967296),s}function o6(r,e,t,n,i,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function a6(r,e,t,n,i){var s=r&t^r&i^t&i;return s<0&&(s+=4294967296),s}function c6(r,e,t,n,i,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function l6(r,e){var t=kr(r,e,28),n=kr(e,r,2),i=kr(e,r,7),s=t^n^i;return s<0&&(s+=4294967296),s}function f6(r,e){var t=Cr(r,e,28),n=Cr(e,r,2),i=Cr(e,r,7),s=t^n^i;return s<0&&(s+=4294967296),s}function u6(r,e){var t=kr(r,e,14),n=kr(r,e,18),i=kr(e,r,9),s=t^n^i;return s<0&&(s+=4294967296),s}function h6(r,e){var t=Cr(r,e,14),n=Cr(r,e,18),i=Cr(e,r,9),s=t^n^i;return s<0&&(s+=4294967296),s}function d6(r,e){var t=kr(r,e,1),n=kr(r,e,8),i=tm(r,e,7),s=t^n^i;return s<0&&(s+=4294967296),s}function p6(r,e){var t=Cr(r,e,1),n=Cr(r,e,8),i=rm(r,e,7),s=t^n^i;return s<0&&(s+=4294967296),s}function m6(r,e){var t=kr(r,e,19),n=kr(e,r,29),i=tm(r,e,6),s=t^n^i;return s<0&&(s+=4294967296),s}function x6(r,e){var t=Cr(r,e,19),n=Cr(e,r,29),i=rm(r,e,6),s=t^n^i;return s<0&&(s+=4294967296),s}var Oc=Ie,sm=im;function Kr(){if(!(this instanceof Kr))return new Kr;sm.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Oc.inherits(Kr,sm);var g6=Kr;Kr.blockSize=1024;Kr.outSize=384;Kr.hmacStrength=192;Kr.padLength=128;Kr.prototype._digest=function(e){return e==="hex"?Oc.toHex32(this.h.slice(0,12),"big"):Oc.split32(this.h.slice(0,12),"big")};Ni.sha1=Uv;Ni.sha224=Xv;Ni.sha256=Zp;Ni.sha384=g6;Ni.sha512=im;var om={},Un=Ie,b6=_i,Fs=Un.rotl32,y0=Un.sum32,Li=Un.sum32_3,w0=Un.sum32_4,am=b6.BlockHash;function Pr(){if(!(this instanceof Pr))return new Pr;am.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Un.inherits(Pr,am);om.ripemd160=Pr;Pr.blockSize=512;Pr.outSize=160;Pr.hmacStrength=192;Pr.padLength=64;Pr.prototype._update=function(e,t){for(var n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],c=n,l=i,u=s,d=o,h=a,g=0;g<80;g++){var b=y0(Fs(w0(n,v0(g,i,s,o),e[v6[g]+t],y6(g)),E6[g]),a);n=a,a=o,o=Fs(s,10),s=i,i=b,b=y0(Fs(w0(c,v0(79-g,l,u,d),e[A6[g]+t],w6(g)),T6[g]),h),c=h,h=d,d=Fs(u,10),u=l,l=b}b=Li(this.h[1],s,d),this.h[1]=Li(this.h[2],o,h),this.h[2]=Li(this.h[3],a,c),this.h[3]=Li(this.h[4],n,l),this.h[4]=Li(this.h[0],i,u),this.h[0]=b};Pr.prototype._digest=function(e){return e==="hex"?Un.toHex32(this.h,"little"):Un.split32(this.h,"little")};function v0(r,e,t,n){return r<=15?e^t^n:r<=31?e&t|~e&n:r<=47?(e|~t)^n:r<=63?e&n|t&~n:e^(t|~n)}function y6(r){return r<=15?0:r<=31?1518500249:r<=47?1859775393:r<=63?2400959708:2840853838}function w6(r){return r<=15?1352829926:r<=31?1548603684:r<=47?1836072691:r<=63?2053994217:0}var v6=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],A6=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],E6=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],T6=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],S6=Ie,k6=Cs;function wi(r,e,t){if(!(this instanceof wi))return new wi(r,e,t);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(S6.toArray(e,t))}var C6=wi;wi.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),k6(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)};wi.prototype.update=function(e,t){return this.inner.update(e,t),this};wi.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(r){var e=r;e.utils=Ie,e.common=_i,e.sha=Ni,e.ripemd=om,e.hmac=C6,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(Hp);const jt=Ti(Hp);function Pi(r,e,t){return t={path:e,exports:{},require:function(n,i){return M6(n,i??t.path)}},r(t,t.exports),t.exports}function M6(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Ql=cm;function cm(r,e){if(!r)throw new Error(e||"Assertion failed")}cm.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var hr=Pi(function(r,e){var t=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var l=0;l<o.length;l++)c[l]=o[l]|0;return c}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var l=0;l<o.length;l+=2)c.push(parseInt(o[l]+o[l+1],16))}else for(var l=0;l<o.length;l++){var u=o.charCodeAt(l),d=u>>8,h=u&255;d?c.push(d,h):c.push(h)}return c}t.toArray=n;function i(o){return o.length===1?"0"+o:o}t.zero2=i;function s(o){for(var a="",c=0;c<o.length;c++)a+=i(o[c].toString(16));return a}t.toHex=s,t.encode=function(a,c){return c==="hex"?s(a):a}}),Yt=Pi(function(r,e){var t=e;t.assert=Ql,t.toArray=hr.toArray,t.zero2=hr.zero2,t.toHex=hr.toHex,t.encode=hr.encode;function n(c,l,u){var d=new Array(Math.max(c.bitLength(),u)+1),h;for(h=0;h<d.length;h+=1)d[h]=0;var g=1<<l+1,b=c.clone();for(h=0;h<d.length;h++){var y,E=b.andln(g-1);b.isOdd()?(E>(g>>1)-1?y=(g>>1)-E:y=E,b.isubn(y)):y=0,d[h]=y,b.iushrn(1)}return d}t.getNAF=n;function i(c,l){var u=[[],[]];c=c.clone(),l=l.clone();for(var d=0,h=0,g;c.cmpn(-d)>0||l.cmpn(-h)>0;){var b=c.andln(3)+d&3,y=l.andln(3)+h&3;b===3&&(b=-1),y===3&&(y=-1);var E;b&1?(g=c.andln(7)+d&7,(g===3||g===5)&&y===2?E=-b:E=b):E=0,u[0].push(E);var w;y&1?(g=l.andln(7)+h&7,(g===3||g===5)&&b===2?w=-y:w=y):w=0,u[1].push(w),2*d===E+1&&(d=1-d),2*h===w+1&&(h=1-h),c.iushrn(1),l.iushrn(1)}return u}t.getJSF=i;function s(c,l,u){var d="_"+l;c.prototype[l]=function(){return this[d]!==void 0?this[d]:this[d]=u.call(this)}}t.cachedProperty=s;function o(c){return typeof c=="string"?t.toArray(c,"hex"):c}t.parseBytes=o;function a(c){return new Me(c,"hex","le")}t.intFromLE=a}),yo=Yt.getNAF,_6=Yt.getJSF,wo=Yt.assert;function mn(r,e){this.type=r,this.p=new Me(e.p,16),this.red=e.prime?Me.red(e.prime):Me.mont(this.p),this.zero=new Me(0).toRed(this.red),this.one=new Me(1).toRed(this.red),this.two=new Me(2).toRed(this.red),this.n=e.n&&new Me(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var qn=mn;mn.prototype.point=function(){throw new Error("Not implemented")};mn.prototype.validate=function(){throw new Error("Not implemented")};mn.prototype._fixedNafMul=function(e,t){wo(e.precomputed);var n=e._getDoubles(),i=yo(t,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var l=a+n.step-1;l>=a;l--)c=(c<<1)+i[l];o.push(c)}for(var u=this.jpoint(null,null,null),d=this.jpoint(null,null,null),h=s;h>0;h--){for(a=0;a<o.length;a++)c=o[a],c===h?d=d.mixedAdd(n.points[a]):c===-h&&(d=d.mixedAdd(n.points[a].neg()));u=u.add(d)}return u.toP()};mn.prototype._wnafMul=function(e,t){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=yo(t,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var l=0;c>=0&&o[c]===0;c--)l++;if(c>=0&&l++,a=a.dblp(l),c<0)break;var u=o[c];wo(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(s[u-1>>1]):a=a.mixedAdd(s[-u-1>>1].neg()):u>0?a=a.add(s[u-1>>1]):a=a.add(s[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};mn.prototype._wnafMulAdd=function(e,t,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,l=0,u,d,h;for(u=0;u<i;u++){h=t[u];var g=h._getNAFPoints(e);o[u]=g.wnd,a[u]=g.points}for(u=i-1;u>=1;u-=2){var b=u-1,y=u;if(o[b]!==1||o[y]!==1){c[b]=yo(n[b],o[b],this._bitLength),c[y]=yo(n[y],o[y],this._bitLength),l=Math.max(c[b].length,l),l=Math.max(c[y].length,l);continue}var E=[t[b],null,null,t[y]];t[b].y.cmp(t[y].y)===0?(E[1]=t[b].add(t[y]),E[2]=t[b].toJ().mixedAdd(t[y].neg())):t[b].y.cmp(t[y].y.redNeg())===0?(E[1]=t[b].toJ().mixedAdd(t[y]),E[2]=t[b].add(t[y].neg())):(E[1]=t[b].toJ().mixedAdd(t[y]),E[2]=t[b].toJ().mixedAdd(t[y].neg()));var w=[-3,-1,-5,-7,0,7,5,1,3],_=_6(n[b],n[y]);for(l=Math.max(_[0].length,l),c[b]=new Array(l),c[y]=new Array(l),d=0;d<l;d++){var R=_[0][d]|0,F=_[1][d]|0;c[b][d]=w[(R+1)*3+(F+1)],c[y][d]=0,a[b]=E}}var L=this.jpoint(null,null,null),P=this._wnafT4;for(u=l;u>=0;u--){for(var U=0;u>=0;){var q=!0;for(d=0;d<i;d++)P[d]=c[d][u]|0,P[d]!==0&&(q=!1);if(!q)break;U++,u--}if(u>=0&&U++,L=L.dblp(U),u<0)break;for(d=0;d<i;d++){var fe=P[d];fe!==0&&(fe>0?h=a[d][fe-1>>1]:fe<0&&(h=a[d][-fe-1>>1].neg()),h.type==="affine"?L=L.mixedAdd(h):L=L.add(h))}}for(u=0;u<i;u++)a[u]=null;return s?L:L.toP()};function nr(r,e){this.curve=r,this.type=e,this.precomputed=null}mn.BasePoint=nr;nr.prototype.eq=function(){throw new Error("Not implemented")};nr.prototype.validate=function(){return this.curve.validate(this)};mn.prototype.decodePoint=function(e,t){e=Yt.toArray(e,t);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?wo(e[e.length-1]%2===0):e[0]===7&&wo(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};nr.prototype.encodeCompressed=function(e){return this.encode(e,!0)};nr.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))};nr.prototype.encode=function(e,t){return Yt.encode(this._encode(t),e)};nr.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this};nr.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1};nr.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<t;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};nr.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)t[s]=t[s-1].add(i);return{wnd:e,points:t}};nr.prototype._getBeta=function(){return null};nr.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t};var Zl=Pi(function(r){typeof Object.create=="function"?r.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:r.exports=function(t,n){if(n){t.super_=n;var i=function(){};i.prototype=n.prototype,t.prototype=new i,t.prototype.constructor=t}}}),N6=Yt.assert;function ir(r){qn.call(this,"short",r),this.a=new Me(r.a,16).toRed(this.red),this.b=new Me(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Zl(ir,qn);var R6=ir;ir.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,n;if(e.beta)t=new Me(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)n=new Me(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(t))===0?n=s[0]:(n=s[1],N6(this.g.mul(n).x.cmp(this.g.x.redMul(t))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new Me(a.a,16),b:new Me(a.b,16)}}):o=this._getEndoBasis(n),{beta:t,lambda:n,basis:o}}};ir.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Me.mont(e),n=new Me(2).toRed(t).redInvm(),i=n.redNeg(),s=new Me(3).toRed(t).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};ir.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new Me(1),o=new Me(0),a=new Me(0),c=new Me(1),l,u,d,h,g,b,y,E=0,w,_;n.cmpn(0)!==0;){var R=i.div(n);w=i.sub(R.mul(n)),_=a.sub(R.mul(s));var F=c.sub(R.mul(o));if(!d&&w.cmp(t)<0)l=y.neg(),u=s,d=w.neg(),h=_;else if(d&&++E===2)break;y=w,i=n,n=w,a=s,s=_,c=o,o=F}g=w.neg(),b=_;var L=d.sqr().add(h.sqr()),P=g.sqr().add(b.sqr());return P.cmp(L)>=0&&(g=l,b=u),d.negative&&(d=d.neg(),h=h.neg()),g.negative&&(g=g.neg(),b=b.neg()),[{a:d,b:h},{a:g,b}]};ir.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],i=t[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),l=s.mul(n.b),u=o.mul(i.b),d=e.sub(a).sub(c),h=l.add(u).neg();return{k1:d,k2:h}};ir.prototype.pointFromX=function(e,t){e=new Me(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(t&&!s||!t&&s)&&(i=i.redNeg()),this.point(e,i)};ir.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,i=this.a.redMul(t),s=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};ir.prototype._endoWnafMulAdd=function(e,t,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),c=e[o],l=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[o*2]=c,i[o*2+1]=l,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,s,o*2,n),d=0;d<o*2;d++)i[d]=null,s[d]=null;return u};function St(r,e,t,n){qn.BasePoint.call(this,r,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Me(e,16),this.y=new Me(t,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Zl(St,qn.BasePoint);ir.prototype.point=function(e,t,n){return new St(this,e,t,n)};ir.prototype.pointFromJSON=function(e,t){return St.fromJSON(this,e,t)};St.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}};St.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};St.fromJSON=function(e,t,n){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],n);if(!t[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=t[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};St.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};St.prototype.isInfinity=function(){return this.inf};St.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};St.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};St.prototype.getX=function(){return this.x.fromRed()};St.prototype.getY=function(){return this.y.fromRed()};St.prototype.mul=function(e){return e=new Me(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};St.prototype.mulAdd=function(e,t,n){var i=[this,t],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};St.prototype.jmulAdd=function(e,t,n){var i=[this,t],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};St.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};St.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return t};St.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function _t(r,e,t,n){qn.BasePoint.call(this,r,"jacobian"),e===null&&t===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Me(0)):(this.x=new Me(e,16),this.y=new Me(t,16),this.z=new Me(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Zl(_t,qn.BasePoint);ir.prototype.jpoint=function(e,t,n){return new _t(this,e,t,n)};_t.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(n,i)};_t.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};_t.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(t),s=e.x.redMul(n),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),l=o.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),d=u.redMul(c),h=i.redMul(u),g=l.redSqr().redIAdd(d).redISub(h).redISub(h),b=l.redMul(h.redISub(g)).redISub(o.redMul(d)),y=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(g,b,y)};_t.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,i=e.x.redMul(t),s=this.y,o=e.y.redMul(t).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),d=n.redMul(l),h=c.redSqr().redIAdd(u).redISub(d).redISub(d),g=c.redMul(d.redISub(h)).redISub(s.redMul(u)),b=this.z.redMul(a);return this.curve.jpoint(h,g,b)};_t.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,l=c.redSqr().redSqr(),u=a.redAdd(a);for(t=0;t<e;t++){var d=o.redSqr(),h=u.redSqr(),g=h.redSqr(),b=d.redAdd(d).redIAdd(d).redIAdd(i.redMul(l)),y=o.redMul(h),E=b.redSqr().redISub(y.redAdd(y)),w=y.redISub(E),_=b.redMul(w);_=_.redIAdd(_).redISub(g);var R=u.redMul(c);t+1<e&&(l=l.redMul(g)),o=E,c=R,u=_}return this.curve.jpoint(o,u.redMul(s),c)};_t.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};_t.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),l=c.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=l,t=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var d=this.x.redSqr(),h=this.y.redSqr(),g=h.redSqr(),b=this.x.redAdd(h).redSqr().redISub(d).redISub(g);b=b.redIAdd(b);var y=d.redAdd(d).redIAdd(d),E=y.redSqr(),w=g.redIAdd(g);w=w.redIAdd(w),w=w.redIAdd(w),e=E.redISub(b).redISub(b),t=y.redMul(b.redISub(e)).redISub(w),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,t,n)};_t.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=c.redSqr().redISub(a).redISub(a);e=l;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),t=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var d=this.z.redSqr(),h=this.y.redSqr(),g=this.x.redMul(h),b=this.x.redSub(d).redMul(this.x.redAdd(d));b=b.redAdd(b).redIAdd(b);var y=g.redIAdd(g);y=y.redIAdd(y);var E=y.redAdd(y);e=b.redSqr().redISub(E),n=this.y.redAdd(this.z).redSqr().redISub(h).redISub(d);var w=h.redSqr();w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w),t=b.redMul(y.redISub(e)).redISub(w)}return this.curve.jpoint(e,t,n)};_t.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=t.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),l=t.redAdd(t);l=l.redIAdd(l);var u=l.redMul(a),d=c.redSqr().redISub(u.redAdd(u)),h=u.redISub(d),g=a.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var b=c.redMul(h).redISub(g),y=n.redAdd(n).redMul(i);return this.curve.jpoint(d,b,y)};_t.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),i=t.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(l),d=t.redMul(u);d=d.redIAdd(d),d=d.redIAdd(d);var h=this.x.redMul(c).redISub(d);h=h.redIAdd(h),h=h.redIAdd(h);var g=this.y.redMul(u.redMul(l.redISub(u)).redISub(a.redMul(c)));g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var b=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(h,g,b)};_t.prototype.mul=function(e,t){return e=new Me(e,t),this.curve._wnafMul(this,e)};_t.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};_t.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};_t.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};_t.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Zs=Pi(function(r,e){var t=e;t.base=qn,t.short=R6,t.mont=null,t.edwards=null}),eo=Pi(function(r,e){var t=e,n=Yt.assert;function i(a){a.type==="short"?this.curve=new Zs.short(a):a.type==="edwards"?this.curve=new Zs.edwards(a):this.curve=new Zs.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=i;function s(a,c){Object.defineProperty(t,a,{configurable:!0,enumerable:!0,get:function(){var l=new i(c);return Object.defineProperty(t,a,{configurable:!0,enumerable:!0,value:l}),l}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:jt.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:jt.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:jt.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:jt.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:jt.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:jt.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:jt.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:jt.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function un(r){if(!(this instanceof un))return new un(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=hr.toArray(r.entropy,r.entropyEnc||"hex"),t=hr.toArray(r.nonce,r.nonceEnc||"hex"),n=hr.toArray(r.pers,r.persEnc||"hex");Ql(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,n)}var lm=un;un.prototype._init=function(e,t,n){var i=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};un.prototype._hmac=function(){return new jt.hmac(this.hash,this.K)};un.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};un.prototype.reseed=function(e,t,n,i){typeof t!="string"&&(i=n,n=t,t=null),e=hr.toArray(e,t),n=hr.toArray(n,i),Ql(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};un.prototype.generate=function(e,t,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=n,n=t,t=null),n&&(n=hr.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,hr.encode(o,t)};var Lc=Yt.assert;function Lt(r,e){this.ec=r,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var ef=Lt;Lt.fromPublic=function(e,t,n){return t instanceof Lt?t:new Lt(e,{pub:t,pubEnc:n})};Lt.fromPrivate=function(e,t,n){return t instanceof Lt?t:new Lt(e,{priv:t,privEnc:n})};Lt.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Lt.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub};Lt.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Lt.prototype._importPrivate=function(e,t){this.priv=new Me(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)};Lt.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?Lc(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Lc(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};Lt.prototype.derive=function(e){return e.validate()||Lc(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Lt.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)};Lt.prototype.verify=function(e,t,n){return this.ec.verify(e,t,this,void 0,n)};Lt.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var P6=Yt.assert;function Go(r,e){if(r instanceof Go)return r;this._importDER(r,e)||(P6(r.r&&r.s,"Signature without r or s"),this.r=new Me(r.r,16),this.s=new Me(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}var zo=Go;function B6(){this.place=0}function Za(r,e){var t=r[e.place++];if(!(t&128))return t;var n=t&15;if(n===0||n>4||r[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=r[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function A0(r){for(var e=0,t=r.length-1;!r[e]&&!(r[e+1]&128)&&e<t;)e++;return e===0?r:r.slice(e)}Go.prototype._importDER=function(e,t){e=Yt.toArray(e,t);var n=new B6;if(e[n.place++]!==48)return!1;var i=Za(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=Za(e,n);if(s===!1||e[n.place]&128)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=Za(e,n);if(a===!1||e.length!==a+n.place||e[n.place]&128)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new Me(o),this.s=new Me(c),this.recoveryParam=null,!0};function ec(r,e){if(e<128){r.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(r.push(t|128);--t;)r.push(e>>>(t<<3)&255);r.push(e)}Go.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),n[0]&128&&(n=[0].concat(n)),t=A0(t),n=A0(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];ec(i,t.length),i=i.concat(t),i.push(2),ec(i,n.length);var s=i.concat(n),o=[48];return ec(o,s.length),o=o.concat(s),Yt.encode(o,e)};var I6=function(){throw new Error("unsupported")},_n=Yt.assert;function rr(r){if(!(this instanceof rr))return new rr(r);typeof r=="string"&&(_n(Object.prototype.hasOwnProperty.call(eo,r),"Unknown curve "+r),r=eo[r]),r instanceof eo.PresetCurve&&(r={curve:r}),this.curve=r.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=r.curve.g,this.g.precompute(r.curve.n.bitLength()+1),this.hash=r.hash||r.curve.hash}var O6=rr;rr.prototype.keyPair=function(e){return new ef(this,e)};rr.prototype.keyFromPrivate=function(e,t){return ef.fromPrivate(this,e,t)};rr.prototype.keyFromPublic=function(e,t){return ef.fromPublic(this,e,t)};rr.prototype.genKeyPair=function(e){e||(e={});for(var t=new lm({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||I6(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Me(2));;){var s=new Me(t.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};rr.prototype._truncateToN=function(e,t,n){var i;if(Me.isBN(e)||typeof e=="number")e=new Me(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new Me(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new Me(s,16)}typeof n!="number"&&(n=i*8);var o=n-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e};rr.prototype.sign=function(e,t,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!Me.isBN(e)){_n(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),_n(e.length>>>0===e.length);for(var s=0;s<e.length;s++)_n((e[s]&255)===e[s])}t=this.keyFromPrivate(t,n),e=this._truncateToN(e,!1,i.msgBitLength),_n(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=t.getPrivate().toArray("be",o),c=e.toArray("be",o);_n(new Me(c).eq(e),"Can not sign message");for(var l=new lm({hash:this.hash,entropy:a,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new Me(1)),d=0;;d++){var h=i.k?i.k(d):new Me(l.generate(this.n.byteLength()));if(h=this._truncateToN(h,!0),!(h.cmpn(1)<=0||h.cmp(u)>=0)){var g=this.g.mul(h);if(!g.isInfinity()){var b=g.getX(),y=b.umod(this.n);if(y.cmpn(0)!==0){var E=h.invm(this.n).mul(y.mul(t.getPrivate()).iadd(e));if(E=E.umod(this.n),E.cmpn(0)!==0){var w=(g.getY().isOdd()?1:0)|(b.cmp(y)!==0?2:0);return i.canonical&&E.cmp(this.nh)>0&&(E=this.n.sub(E),w^=1),new zo({r:y,s:E,recoveryParam:w})}}}}}};rr.prototype.verify=function(e,t,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),t=new zo(t,"hex");var o=t.r,a=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var c=a.invm(this.n),l=c.mul(e).umod(this.n),u=c.mul(o).umod(this.n),d;return this.curve._maxwellTrick?(d=this.g.jmulAdd(l,n.getPublic(),u),d.isInfinity()?!1:d.eqXToP(o)):(d=this.g.mulAdd(l,n.getPublic(),u),d.isInfinity()?!1:d.getX().umod(this.n).cmp(o)===0)};rr.prototype.recoverPubKey=function(r,e,t,n){_n((3&t)===t,"The recovery param is more than two bits"),e=new zo(e,n);var i=this.n,s=new Me(r),o=e.r,a=e.s,c=t&1,l=t>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var u=e.r.invm(i),d=i.sub(s).mul(u).umod(i),h=a.mul(u).umod(i);return this.g.mulAdd(d,o,h)};rr.prototype.getKeyRecoveryParam=function(r,e,t,n){if(e=new zo(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(r,e,i)}catch{continue}if(s.eq(t))return i}throw new Error("Unable to find valid recovery factor")};var L6=Pi(function(r,e){var t=e;t.version="6.6.1",t.utils=Yt,t.rand=function(){throw new Error("unsupported")},t.curve=Zs,t.curves=eo,t.ec=O6,t.eddsa=null}),F6=L6.ec;const D6="signing-key/5.8.0",Fc=new J(D6);let tc=null;function gr(){return tc||(tc=new F6("secp256k1")),tc}class In{constructor(e){ce(this,"curve","secp256k1"),ce(this,"privateKey",xe(e)),Mr(this.privateKey)!==32&&Fc.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=gr().keyFromPrivate(me(this.privateKey));ce(this,"publicKey","0x"+t.getPublic(!1,"hex")),ce(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),ce(this,"_isSigningKey",!0)}_addPoint(e){const t=gr().keyFromPublic(me(this.publicKey)),n=gr().keyFromPublic(me(e));return"0x"+t.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const t=gr().keyFromPrivate(me(this.privateKey)),n=me(e);n.length!==32&&Fc.throwArgumentError("bad digest length","digest",e);const i=t.sign(n,{canonical:!0});return Hn({recoveryParam:i.recoveryParam,r:Ke("0x"+i.r.toString(16),32),s:Ke("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const t=gr().keyFromPrivate(me(this.privateKey)),n=gr().keyFromPublic(me(tf(e)));return Ke("0x"+t.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function fm(r,e){const t=Hn(e),n={r:me(t.r),s:me(t.s)};return"0x"+gr().recoverPubKey(me(r),n,t.recoveryParam).encode("hex",!1)}function tf(r,e){const t=me(r);if(t.length===32){const n=new In(t);return e?"0x"+gr().keyFromPrivate(t).getPublic(!0,"hex"):n.publicKey}else{if(t.length===33)return e?xe(t):"0x"+gr().keyFromPublic(t).getPublic(!1,"hex");if(t.length===65)return e?"0x"+gr().keyFromPublic(t).getPublic(!0,"hex"):xe(t)}return Fc.throwArgumentError("invalid public or private key","key","[REDACTED]")}const U6="transactions/5.8.0",It=new J(U6);var Dc;(function(r){r[r.legacy=0]="legacy",r[r.eip2930=1]="eip2930",r[r.eip1559=2]="eip1559"})(Dc||(Dc={}));function rf(r){return r==="0x"?null:Ue(r)}function Bt(r){return r==="0x"?Hl:pe.from(r)}const $6=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],j6={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function cn(r){const e=tf(r);return Ue(wt(Ve(wt(e,1)),12))}function Ms(r,e){return cn(fm(me(r),e))}function Gt(r,e){const t=Tr(pe.from(r).toHexString());return t.length>32&&It.throwArgumentError("invalid length for "+e,"transaction:"+e,r),t}function rc(r,e){return{address:Ue(r),storageKeys:(e||[]).map((t,n)=>(Mr(t)!==32&&It.throwArgumentError("invalid access list storageKey",`accessList[${r}:${n}]`,t),t.toLowerCase()))}}function xn(r){if(Array.isArray(r))return r.map((t,n)=>Array.isArray(t)?(t.length>2&&It.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,t),rc(t[0],t[1])):rc(t.address,t.storageKeys));const e=Object.keys(r).map(t=>{const n=r[t].reduce((i,s)=>(i[s]=!0,i),{});return rc(t,Object.keys(n).sort())});return e.sort((t,n)=>t.address.localeCompare(n.address)),e}function um(r){return xn(r).map(e=>[e.address,e.storageKeys])}function hm(r,e){if(r.gasPrice!=null){const n=pe.from(r.gasPrice),i=pe.from(r.maxFeePerGas||0);n.eq(i)||It.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const t=[Gt(r.chainId||0,"chainId"),Gt(r.nonce||0,"nonce"),Gt(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Gt(r.maxFeePerGas||0,"maxFeePerGas"),Gt(r.gasLimit||0,"gasLimit"),r.to!=null?Ue(r.to):"0x",Gt(r.value||0,"value"),r.data||"0x",um(r.accessList||[])];if(e){const n=Hn(e);t.push(Gt(n.recoveryParam,"recoveryParam")),t.push(Tr(n.r)),t.push(Tr(n.s))}return Ft(["0x02",Dn(t)])}function dm(r,e){const t=[Gt(r.chainId||0,"chainId"),Gt(r.nonce||0,"nonce"),Gt(r.gasPrice||0,"gasPrice"),Gt(r.gasLimit||0,"gasLimit"),r.to!=null?Ue(r.to):"0x",Gt(r.value||0,"value"),r.data||"0x",um(r.accessList||[])];if(e){const n=Hn(e);t.push(Gt(n.recoveryParam,"recoveryParam")),t.push(Tr(n.r)),t.push(Tr(n.s))}return Ft(["0x01",Dn(t)])}function V6(r,e){$l(r,j6);const t=[];$6.forEach(function(o){let a=r[o.name]||[];const c={};o.numeric&&(c.hexPad="left"),a=me(xe(a,c)),o.length&&a.length!==o.length&&a.length>0&&It.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a),o.maxLength&&(a=Tr(a),a.length>o.maxLength&&It.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a)),t.push(xe(a))});let n=0;if(r.chainId!=null?(n=r.chainId,typeof n!="number"&&It.throwArgumentError("invalid transaction.chainId","transaction",r)):e&&!Es(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(t.push(xe(n)),t.push("0x"),t.push("0x")),!e)return Dn(t);const i=Hn(e);let s=27+i.recoveryParam;return n!==0?(t.pop(),t.pop(),t.pop(),s+=n*2+8,i.v>28&&i.v!==s&&It.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==s&&It.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),t.push(xe(s)),t.push(Tr(me(i.r))),t.push(Tr(me(i.s))),Dn(t)}function Uc(r,e){if(r.type==null||r.type===0)return r.accessList!=null&&It.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",r),V6(r,e);switch(r.type){case 1:return dm(r,e);case 2:return hm(r,e)}return It.throwError(`unsupported transaction type: ${r.type}`,J.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:r.type})}function pm(r,e,t){try{const n=Bt(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");r.v=n}catch{It.throwArgumentError("invalid v for transaction type: 1","v",e[0])}r.r=Ke(e[1],32),r.s=Ke(e[2],32);try{const n=Ve(t(r));r.from=Ms(n,{r:r.r,s:r.s,recoveryParam:r.v})}catch{}}function H6(r){const e=jo(r.slice(1));e.length!==9&&e.length!==12&&It.throwArgumentError("invalid component count for transaction type: 2","payload",xe(r));const t=Bt(e[2]),n=Bt(e[3]),i={type:2,chainId:Bt(e[0]).toNumber(),nonce:Bt(e[1]).toNumber(),maxPriorityFeePerGas:t,maxFeePerGas:n,gasPrice:null,gasLimit:Bt(e[4]),to:rf(e[5]),value:Bt(e[6]),data:e[7],accessList:xn(e[8])};return e.length===9||(i.hash=Ve(r),pm(i,e.slice(9),hm)),i}function K6(r){const e=jo(r.slice(1));e.length!==8&&e.length!==11&&It.throwArgumentError("invalid component count for transaction type: 1","payload",xe(r));const t={type:1,chainId:Bt(e[0]).toNumber(),nonce:Bt(e[1]).toNumber(),gasPrice:Bt(e[2]),gasLimit:Bt(e[3]),to:rf(e[4]),value:Bt(e[5]),data:e[6],accessList:xn(e[7])};return e.length===8||(t.hash=Ve(r),pm(t,e.slice(8),dm)),t}function G6(r){const e=jo(r);e.length!==9&&e.length!==6&&It.throwArgumentError("invalid raw transaction","rawTransaction",r);const t={nonce:Bt(e[0]).toNumber(),gasPrice:Bt(e[1]),gasLimit:Bt(e[2]),to:rf(e[3]),value:Bt(e[4]),data:e[5],chainId:0};if(e.length===6)return t;try{t.v=pe.from(e[6]).toNumber()}catch{return t}if(t.r=Ke(e[7],32),t.s=Ke(e[8],32),pe.from(t.r).isZero()&&pe.from(t.s).isZero())t.chainId=t.v,t.v=0;else{t.chainId=Math.floor((t.v-35)/2),t.chainId<0&&(t.chainId=0);let n=t.v-27;const i=e.slice(0,6);t.chainId!==0&&(i.push(xe(t.chainId)),i.push("0x"),i.push("0x"),n-=t.chainId*2+8);const s=Ve(Dn(i));try{t.from=Ms(s,{r:xe(t.r),s:xe(t.s),recoveryParam:n})}catch{}t.hash=Ve(r)}return t.type=null,t}function mm(r){const e=me(r);if(e[0]>127)return G6(e);switch(e[0]){case 1:return K6(e);case 2:return H6(e)}return It.throwError(`unsupported transaction type: ${e[0]}`,J.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const z6="contracts/5.8.0";var hn=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(r,e||[])).next())})};const je=new J(z6),q6={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function vo(r,e){return hn(this,void 0,void 0,function*(){const t=yield e;typeof t!="string"&&je.throwArgumentError("invalid address or ENS name","name",t);try{return Ue(t)}catch{}r||je.throwError("a provider or signer is needed to resolve ENS names",J.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield r.resolveName(t);return n==null&&je.throwArgumentError("resolver or addr is not configured for ENS name","name",t),n})}function ts(r,e,t){return hn(this,void 0,void 0,function*(){return Array.isArray(t)?yield Promise.all(t.map((n,i)=>ts(r,Array.isArray(e)?e[i]:e[n.name],n))):t.type==="address"?yield vo(r,e):t.type==="tuple"?yield ts(r,e,t.components):t.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>ts(r,n,t.arrayChildren))):Promise.reject(je.makeError("invalid value for array",J.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function qo(r,e,t){return hn(this,void 0,void 0,function*(){let n={};t.length===e.inputs.length+1&&typeof t[t.length-1]=="object"&&(n=Ge(t.pop())),je.checkArgumentCount(t.length,e.inputs.length,"passed to contract"),r.signer?n.from?n.from=pt({override:vo(r.signer,n.from),signer:r.signer.getAddress()}).then(l=>hn(this,void 0,void 0,function*(){return Ue(l.signer)!==l.override&&je.throwError("Contract with a Signer cannot override from",J.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),l.override})):n.from=r.signer.getAddress():n.from&&(n.from=vo(r.provider,n.from));const i=yield pt({args:ts(r.signer||r.provider,t,e.inputs),address:r.resolvedAddress,overrides:pt(n)||{}}),s=r.interface.encodeFunctionData(e,i.args),o={data:s,to:i.address},a=i.overrides;if(a.nonce!=null&&(o.nonce=pe.from(a.nonce).toNumber()),a.gasLimit!=null&&(o.gasLimit=pe.from(a.gasLimit)),a.gasPrice!=null&&(o.gasPrice=pe.from(a.gasPrice)),a.maxFeePerGas!=null&&(o.maxFeePerGas=pe.from(a.maxFeePerGas)),a.maxPriorityFeePerGas!=null&&(o.maxPriorityFeePerGas=pe.from(a.maxPriorityFeePerGas)),a.from!=null&&(o.from=a.from),a.type!=null&&(o.type=a.type),a.accessList!=null&&(o.accessList=xn(a.accessList)),o.gasLimit==null&&e.gas!=null){let l=21e3;const u=me(s);for(let d=0;d<u.length;d++)l+=4,u[d]&&(l+=64);o.gasLimit=pe.from(e.gas).add(l)}if(a.value){const l=pe.from(a.value);!l.isZero()&&!e.payable&&je.throwError("non-payable method cannot override value",J.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),o.value=l}a.customData&&(o.customData=Ge(a.customData)),a.ccipReadEnabled&&(o.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const c=Object.keys(n).filter(l=>n[l]!=null);return c.length&&je.throwError(`cannot override ${c.map(l=>JSON.stringify(l)).join(",")}`,J.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:c}),o})}function W6(r,e){return function(...t){return qo(r,e,t)}}function Y6(r,e){const t=r.signer||r.provider;return function(...n){return hn(this,void 0,void 0,function*(){t||je.throwError("estimate require a provider or signer",J.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield qo(r,e,n);return yield t.estimateGas(i)})}}function xm(r,e){const t=e.wait.bind(e);e.wait=n=>t(n).then(i=>(i.events=i.logs.map(s=>{let o=Ut(s),a=null;try{a=r.interface.parseLog(s)}catch{}return a&&(o.args=a.args,o.decode=(c,l)=>r.interface.decodeEventLog(a.eventFragment,c,l),o.event=a.name,o.eventSignature=a.signature),o.removeListener=()=>r.provider,o.getBlock=()=>r.provider.getBlock(i.blockHash),o.getTransaction=()=>r.provider.getTransaction(i.transactionHash),o.getTransactionReceipt=()=>Promise.resolve(i),o}),i))}function gm(r,e,t){const n=r.signer||r.provider;return function(...i){return hn(this,void 0,void 0,function*(){let s;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const c=Ge(i.pop());c.blockTag!=null&&(s=yield c.blockTag),delete c.blockTag,i.push(c)}r.deployTransaction!=null&&(yield r._deployed(s));const o=yield qo(r,e,i),a=yield n.call(o,s);try{let c=r.interface.decodeFunctionResult(e,a);return t&&e.outputs.length===1&&(c=c[0]),c}catch(c){throw c.code===J.errors.CALL_EXCEPTION&&(c.address=r.address,c.args=i,c.transaction=o),c}})}}function J6(r,e){return function(...t){return hn(this,void 0,void 0,function*(){r.signer||je.throwError("sending a transaction requires a signer",J.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),r.deployTransaction!=null&&(yield r._deployed());const n=yield qo(r,e,t),i=yield r.signer.sendTransaction(n);return xm(r,i),i})}}function E0(r,e,t){return e.constant?gm(r,e,t):J6(r,e)}function bm(r){return r.address&&(r.topics==null||r.topics.length===0)?"*":(r.address||"*")+"@"+(r.topics?r.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class ms{constructor(e,t){ce(this,"tag",e),ce(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter(n=>t||n.listener!==e?!0:(t=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),t}prepareEvent(e){}getEmit(e){return[e]}}class X6 extends ms{constructor(){super("error",null)}}class T0 extends ms{constructor(e,t,n,i){const s={address:e};let o=t.getEventTopic(n);i?(o!==i[0]&&je.throwArgumentError("topic mismatch","topics",i),s.topics=i.slice()):s.topics=[o],super(bm(s),s),ce(this,"address",e),ce(this,"interface",t),ce(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(t,n)=>this.interface.decodeEventLog(this.fragment,t,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=hp(e.args);if(t.length)throw t[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class S0 extends ms{constructor(e,t){super("*",{address:e}),ce(this,"address",e),ce(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(n,i)=>this.interface.decodeEventLog(t.eventFragment,n,i),e.args=t.args}catch{}}}class nf{constructor(e,t,n){ce(this,"interface",Mt(new.target,"getInterface")(t)),n==null?(ce(this,"provider",null),ce(this,"signer",null)):qr.isSigner(n)?(ce(this,"provider",n.provider||null),ce(this,"signer",n)):zn.isProvider(n)?(ce(this,"provider",n),ce(this,"signer",null)):je.throwArgumentError("invalid signer or provider","signerOrProvider",n),ce(this,"callStatic",{}),ce(this,"estimateGas",{}),ce(this,"functions",{}),ce(this,"populateTransaction",{}),ce(this,"filters",{});{const o={};Object.keys(this.interface.events).forEach(a=>{const c=this.interface.events[a];ce(this.filters,a,(...l)=>({address:this.address,topics:this.interface.encodeFilterTopics(c,l)})),o[c.name]||(o[c.name]=[]),o[c.name].push(a)}),Object.keys(o).forEach(a=>{const c=o[a];c.length===1?ce(this.filters,a,this.filters[c[0]]):je.warn(`Duplicate definition of ${a} (${c.join(", ")})`)})}if(ce(this,"_runningEvents",{}),ce(this,"_wrappedEmits",{}),e==null&&je.throwArgumentError("invalid contract address or ENS name","addressOrName",e),ce(this,"address",e),this.provider)ce(this,"resolvedAddress",vo(this.provider,e));else try{ce(this,"resolvedAddress",Promise.resolve(Ue(e)))}catch{je.throwError("provider is required to use ENS name as contract address",J.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(o=>{});const i={},s={};Object.keys(this.interface.functions).forEach(o=>{const a=this.interface.functions[o];if(s[o]){je.warn(`Duplicate ABI entry for ${JSON.stringify(o)}`);return}s[o]=!0;{const c=a.name;i[`%${c}`]||(i[`%${c}`]=[]),i[`%${c}`].push(o)}this[o]==null&&ce(this,o,E0(this,a,!0)),this.functions[o]==null&&ce(this.functions,o,E0(this,a,!1)),this.callStatic[o]==null&&ce(this.callStatic,o,gm(this,a,!0)),this.populateTransaction[o]==null&&ce(this.populateTransaction,o,W6(this,a)),this.estimateGas[o]==null&&ce(this.estimateGas,o,Y6(this,a))}),Object.keys(i).forEach(o=>{const a=i[o];if(a.length>1)return;o=o.substring(1);const c=a[0];try{this[o]==null&&ce(this,o,this[c])}catch{}this.functions[o]==null&&ce(this.functions,o,this.functions[c]),this.callStatic[o]==null&&ce(this.callStatic,o,this.callStatic[c]),this.populateTransaction[o]==null&&ce(this.populateTransaction,o,this.populateTransaction[c]),this.estimateGas[o]==null&&ce(this.estimateGas,o,this.estimateGas[c])})}static getContractAddress(e){return Vo(e)}static getInterface(e){return Bc.isInterface(e)?e:new Bc(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(t=>(t==="0x"&&je.throwError("contract not deployed",J.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||je.throwError("sending a transactions require a signer",J.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=Ge(e||{});return["from","to"].forEach(function(n){t[n]!=null&&je.throwError("cannot override "+n,J.errors.UNSUPPORTED_OPERATION,{operation:n})}),t.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(t))}connect(e){typeof e=="string"&&(e=new ks(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&ce(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return bo.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new X6);if(e==="event")return this._normalizeRunningEvent(new ms("event",null));if(e==="*")return this._normalizeRunningEvent(new S0(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new T0(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new T0(this.address,this.interface,i,e.topics))}catch{}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new ms(bm(t),t))}return this._normalizeRunningEvent(new S0(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,n){const i=Ut(t);return i.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(t.blockHash),i.getTransaction=()=>this.provider.getTransaction(t.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(i),i}_addEventListener(e,t,n){if(this.provider||je.throwError("events require a provider or a signer with a provider",J.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=s=>{let o=this._wrapEvent(e,s,t);if(o.decodeError==null)try{const a=e.getEmit(o);this.emit(e.filter,...a)}catch(a){o.decodeError=a.error}e.filter!=null&&this.emit("event",o),o.decodeError!=null&&this.emit("error",o.decodeError,o)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,t,n){const i=this._getRunningEvent(e),s=Ge(i.filter);return typeof t=="string"&&Ne(t,32)?(n!=null&&je.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),s.blockHash=t):(s.fromBlock=t??0,s.toBlock=n??"latest"),this.provider.getLogs(s).then(o=>o.map(a=>this._wrapEvent(i,a,null)))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;const n=this._getRunningEvent(e),i=n.run(t)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((t,n)=>t+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const t=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{t.push(i)});return t}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(t),this._checkRunningEvents(n),this}removeListener(e,t){return this.off(e,t)}}class Ao extends nf{}class ym{constructor(e,t,n){let i=null;typeof t=="string"?i=t:pn(t)?i=xe(t):t&&typeof t.object=="string"?i=t.object:i="!",i.substring(0,2)!=="0x"&&(i="0x"+i),(!Ne(i)||i.length%2)&&je.throwArgumentError("invalid bytecode","bytecode",t),n&&!qr.isSigner(n)&&je.throwArgumentError("invalid signer","signer",n),ce(this,"bytecode",i),ce(this,"interface",Mt(new.target,"getInterface")(e)),ce(this,"signer",n||null)}getDeployTransaction(...e){let t={};if(e.length===this.interface.deploy.inputs.length+1&&typeof e[e.length-1]=="object"){t=Ge(e.pop());for(const n in t)if(!q6[n])throw new Error("unknown transaction override "+n)}return["data","from","to"].forEach(n=>{t[n]!=null&&je.throwError("cannot override "+n,J.errors.UNSUPPORTED_OPERATION,{operation:n})}),t.value&&!pe.from(t.value).isZero()&&!this.interface.deploy.payable&&je.throwError("non-payable constructor cannot override value",J.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:t.value}),je.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),t.data=xe(He([this.bytecode,this.interface.encodeDeploy(e)])),t}deploy(...e){return hn(this,void 0,void 0,function*(){let t={};e.length===this.interface.deploy.inputs.length+1&&(t=e.pop()),je.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const n=yield ts(this.signer,e,this.interface.deploy.inputs);n.push(t);const i=this.getDeployTransaction(...n),s=yield this.signer.sendTransaction(i),o=Mt(this.constructor,"getContractAddress")(s),a=Mt(this.constructor,"getContract")(o,this.interface,this.signer);return xm(a,s),ce(a,"deployTransaction",s),a})}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,t){e==null&&je.throwError("missing compiler output",J.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof e=="string"&&(e=JSON.parse(e));const n=e.abi;let i=null;return e.bytecode?i=e.bytecode:e.evm&&e.evm.bytecode&&(i=e.evm.bytecode),new this(n,i,t)}static getInterface(e){return Ao.getInterface(e)}static getContractAddress(e){return Vo(e)}static getContract(e,t,n){return new Ao(e,t,n)}}class wm{constructor(e){ce(this,"alphabet",e),ce(this,"base",e.length),ce(this,"_alphabetMap",{}),ce(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=me(e);if(t.length===0)return"";let n=[0];for(let s=0;s<t.length;++s){let o=t[s];for(let a=0;a<n.length;++a)o+=n[a]<<8,n[a]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;t[s]===0&&s<t.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let t=[];if(e.length===0)return new Uint8Array(t);t.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<t.length;++o)s+=t[o]*this.base,t[o]=s&255,s>>=8;for(;s>0;)t.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)t.push(0);return me(new Uint8Array(t.reverse()))}}new wm("abcdefghijklmnopqrstuvwxyz234567");const vi=new wm("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var Ai;(function(r){r.sha256="sha256",r.sha512="sha512"})(Ai||(Ai={}));const Q6="sha2/5.8.0",Z6=new J(Q6);function vm(r){return"0x"+jt.ripemd160().update(me(r)).digest("hex")}function Gr(r){return"0x"+jt.sha256().update(me(r)).digest("hex")}function e4(r){return"0x"+jt.sha512().update(me(r)).digest("hex")}function xs(r,e,t){return Ai[r]||Z6.throwError("unsupported algorithm "+r,J.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:r}),"0x"+jt.hmac(jt[r],me(e)).update(me(t)).digest("hex")}function sf(r,e,t,n,i){r=me(r),e=me(e);let s,o=1;const a=new Uint8Array(n),c=new Uint8Array(e.length+4);c.set(e);let l,u;for(let d=1;d<=o;d++){c[e.length]=d>>24&255,c[e.length+1]=d>>16&255,c[e.length+2]=d>>8&255,c[e.length+3]=d&255;let h=me(xs(i,r,c));s||(s=h.length,u=new Uint8Array(s),o=Math.ceil(n/s),l=n-(o-1)*s),u.set(h);for(let y=1;y<t;y++){h=me(xs(i,r,h));for(let E=0;E<s;E++)u[E]^=h[E]}const g=(d-1)*s,b=d===o?l:s;a.set(me(u).slice(0,b),g)}return xe(a)}const t4="wordlists/5.8.0",r4=new J(t4);class Wn{constructor(e){r4.checkAbstract(new.target,Wn),ce(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const t=[];for(let n=0;n<2048;n++){const i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";t.push(i)}return an(t.join(`
`)+`
`)}static register(e,t){t||(t=e.locale)}}const n4="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let rs=null;function k0(r){if(rs==null&&(rs=n4.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),Wn.check(r)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw rs=null,new Error("BIP39 Wordlist for en (English) FAILED")}class i4 extends Wn{constructor(){super("en")}getWord(e){return k0(this),rs[e]}getWordIndex(e){return k0(this),rs.indexOf(e)}}const Am=new i4;Wn.register(Am);const Eo={en:Am},s4="hdnode/5.8.0",gs=new J(s4),o4=pe.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),a4=vt("Bitcoin seed"),ti=2147483648;function Em(r){return(1<<r)-1<<8-r}function c4(r){return(1<<r)-1}function Ds(r){return Ke(xe(r),32)}function C0(r){return vi.encode(He([r,wt(Gr(Gr(r)),0,4)]))}function of(r){if(r==null)return Eo.en;if(typeof r=="string"){const e=Eo[r];return e==null&&gs.throwArgumentError("unknown locale","wordlist",r),e}return r}const Jn={},Ei="m/44'/60'/0'/0/0";class zt{constructor(e,t,n,i,s,o,a,c){if(e!==Jn)throw new Error("HDNode constructor cannot be called directly");if(t){const l=new In(t);ce(this,"privateKey",l.privateKey),ce(this,"publicKey",l.compressedPublicKey)}else ce(this,"privateKey",null),ce(this,"publicKey",xe(n));ce(this,"parentFingerprint",i),ce(this,"fingerprint",wt(vm(Gr(this.publicKey)),0,4)),ce(this,"address",cn(this.publicKey)),ce(this,"chainCode",s),ce(this,"index",o),ce(this,"depth",a),c==null?(ce(this,"mnemonic",null),ce(this,"path",null)):typeof c=="string"?(ce(this,"mnemonic",null),ce(this,"path",c)):(ce(this,"mnemonic",c),ce(this,"path",c.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return C0(He([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",xe(this.depth),this.parentFingerprint,Ke(xe(this.index),4),this.chainCode,this.privateKey!=null?He(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new zt(Jn,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(e&~ti));const n=new Uint8Array(37);if(e&ti){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(me(this.privateKey),1),t&&(t+="'")}else n.set(me(this.publicKey));for(let d=24;d>=0;d-=8)n[33+(d>>3)]=e>>24-d&255;const i=me(xs(Ai.sha512,this.chainCode,n)),s=i.slice(0,32),o=i.slice(32);let a=null,c=null;this.privateKey?a=Ds(pe.from(s).add(this.privateKey).mod(o4)):c=new In(xe(s))._addPoint(this.publicKey);let l=t;const u=this.mnemonic;return u&&(l=Object.freeze({phrase:u.phrase,path:t,locale:u.locale||"en"})),new zt(Jn,a,c,this.fingerprint,Ds(o),e,this.depth+1,l)}derivePath(e){const t=e.split("/");if(t.length===0||t[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);t[0]==="m"&&t.shift();let n=this;for(let i=0;i<t.length;i++){const s=t[i];if(s.match(/^[0-9]+'$/)){const o=parseInt(s.substring(0,s.length-1));if(o>=ti)throw new Error("invalid path index - "+s);n=n._derive(ti+o)}else if(s.match(/^[0-9]+$/)){const o=parseInt(s);if(o>=ti)throw new Error("invalid path index - "+s);n=n._derive(o)}else throw new Error("invalid path component - "+s)}return n}static _fromSeed(e,t){const n=me(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const i=me(xs(Ai.sha512,a4,n));return new zt(Jn,Ds(i.slice(0,32)),null,"0x00000000",Ds(i.slice(32)),0,0,t)}static fromMnemonic(e,t,n){return n=of(n),e=Yo(Wo(e,n),n),zt._fromSeed(Tm(e,t),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return zt._fromSeed(e,null)}static fromExtendedKey(e){const t=vi.decode(e);(t.length!==82||C0(t.slice(0,78))!==e)&&gs.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=t[4],i=xe(t.slice(5,9)),s=parseInt(xe(t.slice(9,13)).substring(2),16),o=xe(t.slice(13,45)),a=t.slice(45,78);switch(xe(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new zt(Jn,null,xe(a),i,o,s,n,null);case"0x0488ade4":case"0x04358394 ":if(a[0]!==0)break;return new zt(Jn,xe(a.slice(1)),null,i,o,s,n,null)}return gs.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function Tm(r,e){e||(e="");const t=vt("mnemonic"+e,_r.NFKD);return sf(vt(r,_r.NFKD),t,2048,64,"sha512")}function Wo(r,e){e=of(e),gs.checkNormalize();const t=e.split(r);if(t.length%3!==0)throw new Error("invalid mnemonic");const n=me(new Uint8Array(Math.ceil(11*t.length/8)));let i=0;for(let l=0;l<t.length;l++){let u=e.getWordIndex(t[l].normalize("NFKD"));if(u===-1)throw new Error("invalid mnemonic");for(let d=0;d<11;d++)u&1<<10-d&&(n[i>>3]|=1<<7-i%8),i++}const s=32*t.length/3,o=t.length/3,a=Em(o);if((me(Gr(n.slice(0,s/8)))[0]&a)!==(n[n.length-1]&a))throw new Error("invalid checksum");return xe(n.slice(0,s/8))}function Yo(r,e){if(e=of(e),r=me(r),r.length%4!==0||r.length<16||r.length>32)throw new Error("invalid entropy");const t=[0];let n=11;for(let o=0;o<r.length;o++)n>8?(t[t.length-1]<<=8,t[t.length-1]|=r[o],n-=8):(t[t.length-1]<<=n,t[t.length-1]|=r[o]>>8-n,t.push(r[o]&c4(8-n)),n+=3);const i=r.length/4,s=me(Gr(r))[0]&Em(i);return t[t.length-1]<<=i,t[t.length-1]|=s>>8-i,e.join(t.map(o=>e.getWord(o)))}function l4(r,e){try{return Wo(r,e),!0}catch{}return!1}function f4(r){return(typeof r!="number"||r<0||r>=ti||r%1)&&gs.throwArgumentError("invalid account index","index",r),`m/44'/60'/${r}'/0/0`}const u4="random/5.8.0",$c=new J(u4);function h4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const M0=h4();let to=M0.crypto||M0.msCrypto;(!to||!to.getRandomValues)&&($c.warn("WARNING: Missing strong random number source"),to={getRandomValues:function(r){return $c.throwError("no secure random source avaialble",J.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function li(r){(r<=0||r>1024||r%1||r!=r)&&$c.throwArgumentError("invalid length","length",r);const e=new Uint8Array(r);return to.getRandomValues(e),me(e)}function Sm(r){r=r.slice();for(let e=r.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1)),n=r[e];r[e]=r[t],r[t]=n}return r}var km={exports:{}};(function(r,e){(function(t){function n(k){return parseInt(k)===k}function i(k){if(!n(k.length))return!1;for(var m=0;m<k.length;m++)if(!n(k[m])||k[m]<0||k[m]>255)return!1;return!0}function s(k,m){if(k.buffer&&ArrayBuffer.isView(k)&&k.name==="Uint8Array")return m&&(k.slice?k=k.slice():k=Array.prototype.slice.call(k)),k;if(Array.isArray(k)){if(!i(k))throw new Error("Array contains invalid value: "+k);return new Uint8Array(k)}if(n(k.length)&&i(k))return new Uint8Array(k);throw new Error("unsupported array-like object")}function o(k){return new Uint8Array(k)}function a(k,m,S,W,T){(W!=null||T!=null)&&(k.slice?k=k.slice(W,T):k=Array.prototype.slice.call(k,W,T)),m.set(k,S)}var c=function(){function k(S){var W=[],T=0;for(S=encodeURI(S);T<S.length;){var X=S.charCodeAt(T++);X===37?(W.push(parseInt(S.substr(T,2),16)),T+=2):W.push(X)}return s(W)}function m(S){for(var W=[],T=0;T<S.length;){var X=S[T];X<128?(W.push(String.fromCharCode(X)),T++):X>191&&X<224?(W.push(String.fromCharCode((X&31)<<6|S[T+1]&63)),T+=2):(W.push(String.fromCharCode((X&15)<<12|(S[T+1]&63)<<6|S[T+2]&63)),T+=3)}return W.join("")}return{toBytes:k,fromBytes:m}}(),l=function(){function k(W){for(var T=[],X=0;X<W.length;X+=2)T.push(parseInt(W.substr(X,2),16));return T}var m="0123456789abcdef";function S(W){for(var T=[],X=0;X<W.length;X++){var oe=W[X];T.push(m[(oe&240)>>4]+m[oe&15])}return T.join("")}return{toBytes:k,fromBytes:S}}(),u={16:10,24:12,32:14},d=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],h=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],g=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],b=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],y=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],E=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],w=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],_=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],R=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],F=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],L=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],P=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],U=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],q=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],fe=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function Y(k){for(var m=[],S=0;S<k.length;S+=4)m.push(k[S]<<24|k[S+1]<<16|k[S+2]<<8|k[S+3]);return m}var Q=function(k){if(!(this instanceof Q))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:s(k,!0)}),this._prepare()};Q.prototype._prepare=function(){var k=u[this.key.length];if(k==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var m=0;m<=k;m++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var S=(k+1)*4,W=this.key.length/4,T=Y(this.key),X,m=0;m<W;m++)X=m>>2,this._Ke[X][m%4]=T[m],this._Kd[k-X][m%4]=T[m];for(var oe=0,D=W,$;D<S;){if($=T[W-1],T[0]^=h[$>>16&255]<<24^h[$>>8&255]<<16^h[$&255]<<8^h[$>>24&255]^d[oe]<<24,oe+=1,W!=8)for(var m=1;m<W;m++)T[m]^=T[m-1];else{for(var m=1;m<W/2;m++)T[m]^=T[m-1];$=T[W/2-1],T[W/2]^=h[$&255]^h[$>>8&255]<<8^h[$>>16&255]<<16^h[$>>24&255]<<24;for(var m=W/2+1;m<W;m++)T[m]^=T[m-1]}for(var m=0,H,ee;m<W&&D<S;)H=D>>2,ee=D%4,this._Ke[H][ee]=T[m],this._Kd[k-H][ee]=T[m++],D++}for(var H=1;H<k;H++)for(var ee=0;ee<4;ee++)$=this._Kd[H][ee],this._Kd[H][ee]=P[$>>24&255]^U[$>>16&255]^q[$>>8&255]^fe[$&255]},Q.prototype.encrypt=function(k){if(k.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var m=this._Ke.length-1,S=[0,0,0,0],W=Y(k),T=0;T<4;T++)W[T]^=this._Ke[0][T];for(var X=1;X<m;X++){for(var T=0;T<4;T++)S[T]=b[W[T]>>24&255]^y[W[(T+1)%4]>>16&255]^E[W[(T+2)%4]>>8&255]^w[W[(T+3)%4]&255]^this._Ke[X][T];W=S.slice()}for(var oe=o(16),D,T=0;T<4;T++)D=this._Ke[m][T],oe[4*T]=(h[W[T]>>24&255]^D>>24)&255,oe[4*T+1]=(h[W[(T+1)%4]>>16&255]^D>>16)&255,oe[4*T+2]=(h[W[(T+2)%4]>>8&255]^D>>8)&255,oe[4*T+3]=(h[W[(T+3)%4]&255]^D)&255;return oe},Q.prototype.decrypt=function(k){if(k.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var m=this._Kd.length-1,S=[0,0,0,0],W=Y(k),T=0;T<4;T++)W[T]^=this._Kd[0][T];for(var X=1;X<m;X++){for(var T=0;T<4;T++)S[T]=_[W[T]>>24&255]^R[W[(T+3)%4]>>16&255]^F[W[(T+2)%4]>>8&255]^L[W[(T+1)%4]&255]^this._Kd[X][T];W=S.slice()}for(var oe=o(16),D,T=0;T<4;T++)D=this._Kd[m][T],oe[4*T]=(g[W[T]>>24&255]^D>>24)&255,oe[4*T+1]=(g[W[(T+3)%4]>>16&255]^D>>16)&255,oe[4*T+2]=(g[W[(T+2)%4]>>8&255]^D>>8)&255,oe[4*T+3]=(g[W[(T+1)%4]&255]^D)&255;return oe};var Z=function(k){if(!(this instanceof Z))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new Q(k)};Z.prototype.encrypt=function(k){if(k=s(k),k.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var m=o(k.length),S=o(16),W=0;W<k.length;W+=16)a(k,S,0,W,W+16),S=this._aes.encrypt(S),a(S,m,W);return m},Z.prototype.decrypt=function(k){if(k=s(k),k.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var m=o(k.length),S=o(16),W=0;W<k.length;W+=16)a(k,S,0,W,W+16),S=this._aes.decrypt(S),a(S,m,W);return m};var N=function(k,m){if(!(this instanceof N))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!m)m=o(16);else if(m.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=s(m,!0),this._aes=new Q(k)};N.prototype.encrypt=function(k){if(k=s(k),k.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var m=o(k.length),S=o(16),W=0;W<k.length;W+=16){a(k,S,0,W,W+16);for(var T=0;T<16;T++)S[T]^=this._lastCipherblock[T];this._lastCipherblock=this._aes.encrypt(S),a(this._lastCipherblock,m,W)}return m},N.prototype.decrypt=function(k){if(k=s(k),k.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var m=o(k.length),S=o(16),W=0;W<k.length;W+=16){a(k,S,0,W,W+16),S=this._aes.decrypt(S);for(var T=0;T<16;T++)m[W+T]=S[T]^this._lastCipherblock[T];a(k,this._lastCipherblock,0,W,W+16)}return m};var p=function(k,m,S){if(!(this instanceof p))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!m)m=o(16);else if(m.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");S||(S=1),this.segmentSize=S,this._shiftRegister=s(m,!0),this._aes=new Q(k)};p.prototype.encrypt=function(k){if(k.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var m=s(k,!0),S,W=0;W<m.length;W+=this.segmentSize){S=this._aes.encrypt(this._shiftRegister);for(var T=0;T<this.segmentSize;T++)m[W+T]^=S[T];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(m,this._shiftRegister,16-this.segmentSize,W,W+this.segmentSize)}return m},p.prototype.decrypt=function(k){if(k.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var m=s(k,!0),S,W=0;W<m.length;W+=this.segmentSize){S=this._aes.encrypt(this._shiftRegister);for(var T=0;T<this.segmentSize;T++)m[W+T]^=S[T];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(k,this._shiftRegister,16-this.segmentSize,W,W+this.segmentSize)}return m};var v=function(k,m){if(!(this instanceof v))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!m)m=o(16);else if(m.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=s(m,!0),this._lastPrecipherIndex=16,this._aes=new Q(k)};v.prototype.encrypt=function(k){for(var m=s(k,!0),S=0;S<m.length;S++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),m[S]^=this._lastPrecipher[this._lastPrecipherIndex++];return m},v.prototype.decrypt=v.prototype.encrypt;var C=function(k){if(!(this instanceof C))throw Error("Counter must be instanitated with `new`");k!==0&&!k&&(k=1),typeof k=="number"?(this._counter=o(16),this.setValue(k)):this.setBytes(k)};C.prototype.setValue=function(k){if(typeof k!="number"||parseInt(k)!=k)throw new Error("invalid counter value (must be an integer)");for(var m=15;m>=0;--m)this._counter[m]=k%256,k=k>>8},C.prototype.setBytes=function(k){if(k=s(k,!0),k.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=k},C.prototype.increment=function(){for(var k=15;k>=0;k--)if(this._counter[k]===255)this._counter[k]=0;else{this._counter[k]++;break}};var B=function(k,m){if(!(this instanceof B))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",m instanceof C||(m=new C(m)),this._counter=m,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new Q(k)};B.prototype.encrypt=function(k){for(var m=s(k,!0),S=0;S<m.length;S++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),m[S]^=this._remainingCounter[this._remainingCounterIndex++];return m},B.prototype.decrypt=B.prototype.encrypt;function O(k){k=s(k,!0);var m=16-k.length%16,S=o(k.length+m);a(k,S);for(var W=k.length;W<S.length;W++)S[W]=m;return S}function G(k){if(k=s(k,!0),k.length<16)throw new Error("PKCS#7 invalid length");var m=k[k.length-1];if(m>16)throw new Error("PKCS#7 padding byte out of range");for(var S=k.length-m,W=0;W<m;W++)if(k[S+W]!==m)throw new Error("PKCS#7 invalid padding byte");var T=o(S);return a(k,T,0,0,S),T}var V={AES:Q,Counter:C,ModeOfOperation:{ecb:Z,cbc:N,cfb:p,ofb:v,ctr:B},utils:{hex:l,utf8:c},padding:{pkcs7:{pad:O,strip:G}},_arrayTest:{coerceArray:s,createArray:o,copyArray:a}};r.exports=V})()})(km);var d4=km.exports;const vr=Ti(d4),Cm="json-wallets/5.8.0";function On(r){return typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),me(r)}function Fi(r,e){for(r=String(r);r.length<e;)r="0"+r;return r}function af(r){return typeof r=="string"?vt(r,_r.NFKC):me(r)}function bt(r,e){let t=r;const n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let s=null;for(const o in t)if(o.toLowerCase()===n[i]){s=t[o];break}if(s===null)return null;t=s}return t}function p4(r){const e=me(r);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=xe(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}const m4=new J(Cm);class x4 extends Kn{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function Mm(r,e){const t=JSON.parse(r);e=af(e);const n=Ue(bt(t,"ethaddr")),i=On(bt(t,"encseed"));(!i||i.length%16!==0)&&m4.throwArgumentError("invalid encseed","json",r);const s=me(sf(e,e,2e3,32,"sha256")).slice(0,16),o=i.slice(0,16),a=i.slice(16),c=new vr.ModeOfOperation.cbc(s,o),l=vr.padding.pkcs7.strip(me(c.decrypt(a)));let u="";for(let g=0;g<l.length;g++)u+=String.fromCharCode(l[g]);const d=vt(u),h=Ve(d);return new x4({_isCrowdsaleAccount:!0,address:n,privateKey:h})}function cf(r){let e=null;try{e=JSON.parse(r)}catch{return!1}return e.encseed&&e.ethaddr}function lf(r){let e=null;try{e=JSON.parse(r)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}function g4(r){if(cf(r))try{return Ue(JSON.parse(r).ethaddr)}catch{return null}if(lf(r))try{return Ue(JSON.parse(r).address)}catch{return null}return null}var _m={exports:{}};(function(r,e){(function(t){function i(y){const E=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let w=1779033703,_=3144134277,R=1013904242,F=2773480762,L=1359893119,P=2600822924,U=528734635,q=1541459225;const fe=new Uint32Array(64);function Y(B){let O=0,G=B.length;for(;G>=64;){let V=w,k=_,m=R,S=F,W=L,T=P,X=U,oe=q,D,$,H,ee,ae;for($=0;$<16;$++)H=O+$*4,fe[$]=(B[H]&255)<<24|(B[H+1]&255)<<16|(B[H+2]&255)<<8|B[H+3]&255;for($=16;$<64;$++)D=fe[$-2],ee=(D>>>17|D<<15)^(D>>>19|D<<13)^D>>>10,D=fe[$-15],ae=(D>>>7|D<<25)^(D>>>18|D<<14)^D>>>3,fe[$]=(ee+fe[$-7]|0)+(ae+fe[$-16]|0)|0;for($=0;$<64;$++)ee=(((W>>>6|W<<26)^(W>>>11|W<<21)^(W>>>25|W<<7))+(W&T^~W&X)|0)+(oe+(E[$]+fe[$]|0)|0)|0,ae=((V>>>2|V<<30)^(V>>>13|V<<19)^(V>>>22|V<<10))+(V&k^V&m^k&m)|0,oe=X,X=T,T=W,W=S+ee|0,S=m,m=k,k=V,V=ee+ae|0;w=w+V|0,_=_+k|0,R=R+m|0,F=F+S|0,L=L+W|0,P=P+T|0,U=U+X|0,q=q+oe|0,O+=64,G-=64}}Y(y);let Q,Z=y.length%64,N=y.length/536870912|0,p=y.length<<3,v=Z<56?56:120,C=y.slice(y.length-Z,y.length);for(C.push(128),Q=Z+1;Q<v;Q++)C.push(0);return C.push(N>>>24&255),C.push(N>>>16&255),C.push(N>>>8&255),C.push(N>>>0&255),C.push(p>>>24&255),C.push(p>>>16&255),C.push(p>>>8&255),C.push(p>>>0&255),Y(C),[w>>>24&255,w>>>16&255,w>>>8&255,w>>>0&255,_>>>24&255,_>>>16&255,_>>>8&255,_>>>0&255,R>>>24&255,R>>>16&255,R>>>8&255,R>>>0&255,F>>>24&255,F>>>16&255,F>>>8&255,F>>>0&255,L>>>24&255,L>>>16&255,L>>>8&255,L>>>0&255,P>>>24&255,P>>>16&255,P>>>8&255,P>>>0&255,U>>>24&255,U>>>16&255,U>>>8&255,U>>>0&255,q>>>24&255,q>>>16&255,q>>>8&255,q>>>0&255]}function s(y,E,w){y=y.length<=64?y:i(y);const _=64+E.length+4,R=new Array(_),F=new Array(64);let L,P=[];for(L=0;L<64;L++)R[L]=54;for(L=0;L<y.length;L++)R[L]^=y[L];for(L=0;L<E.length;L++)R[64+L]=E[L];for(L=_-4;L<_;L++)R[L]=0;for(L=0;L<64;L++)F[L]=92;for(L=0;L<y.length;L++)F[L]^=y[L];function U(){for(let q=_-1;q>=_-4;q--){if(R[q]++,R[q]<=255)return;R[q]=0}}for(;w>=32;)U(),P=P.concat(i(F.concat(i(R)))),w-=32;return w>0&&(U(),P=P.concat(i(F.concat(i(R))).slice(0,w))),P}function o(y,E,w,_,R){let F;for(u(y,(2*w-1)*16,R,0,16),F=0;F<2*w;F++)l(y,F*16,R,16),c(R,_),u(R,0,y,E+F*16,16);for(F=0;F<w;F++)u(y,E+F*2*16,y,F*16,16);for(F=0;F<w;F++)u(y,E+(F*2+1)*16,y,(F+w)*16,16)}function a(y,E){return y<<E|y>>>32-E}function c(y,E){u(y,0,E,0,16);for(let w=8;w>0;w-=2)E[4]^=a(E[0]+E[12],7),E[8]^=a(E[4]+E[0],9),E[12]^=a(E[8]+E[4],13),E[0]^=a(E[12]+E[8],18),E[9]^=a(E[5]+E[1],7),E[13]^=a(E[9]+E[5],9),E[1]^=a(E[13]+E[9],13),E[5]^=a(E[1]+E[13],18),E[14]^=a(E[10]+E[6],7),E[2]^=a(E[14]+E[10],9),E[6]^=a(E[2]+E[14],13),E[10]^=a(E[6]+E[2],18),E[3]^=a(E[15]+E[11],7),E[7]^=a(E[3]+E[15],9),E[11]^=a(E[7]+E[3],13),E[15]^=a(E[11]+E[7],18),E[1]^=a(E[0]+E[3],7),E[2]^=a(E[1]+E[0],9),E[3]^=a(E[2]+E[1],13),E[0]^=a(E[3]+E[2],18),E[6]^=a(E[5]+E[4],7),E[7]^=a(E[6]+E[5],9),E[4]^=a(E[7]+E[6],13),E[5]^=a(E[4]+E[7],18),E[11]^=a(E[10]+E[9],7),E[8]^=a(E[11]+E[10],9),E[9]^=a(E[8]+E[11],13),E[10]^=a(E[9]+E[8],18),E[12]^=a(E[15]+E[14],7),E[13]^=a(E[12]+E[15],9),E[14]^=a(E[13]+E[12],13),E[15]^=a(E[14]+E[13],18);for(let w=0;w<16;++w)y[w]+=E[w]}function l(y,E,w,_){for(let R=0;R<_;R++)w[R]^=y[E+R]}function u(y,E,w,_,R){for(;R--;)w[_++]=y[E++]}function d(y){if(!y||typeof y.length!="number")return!1;for(let E=0;E<y.length;E++){const w=y[E];if(typeof w!="number"||w%1||w<0||w>=256)return!1}return!0}function h(y,E){if(typeof y!="number"||y%1)throw new Error("invalid "+E);return y}function g(y,E,w,_,R,F,L){if(w=h(w,"N"),_=h(_,"r"),R=h(R,"p"),F=h(F,"dkLen"),w===0||w&w-1)throw new Error("N must be power of 2");if(w>2147483647/128/_)throw new Error("N too large");if(_>2147483647/128/R)throw new Error("r too large");if(!d(y))throw new Error("password must be an array or buffer");if(y=Array.prototype.slice.call(y),!d(E))throw new Error("salt must be an array or buffer");E=Array.prototype.slice.call(E);let P=s(y,E,R*128*_);const U=new Uint32Array(R*32*_);for(let W=0;W<U.length;W++){const T=W*4;U[W]=(P[T+3]&255)<<24|(P[T+2]&255)<<16|(P[T+1]&255)<<8|(P[T+0]&255)<<0}const q=new Uint32Array(64*_),fe=new Uint32Array(32*_*w),Y=32*_,Q=new Uint32Array(16),Z=new Uint32Array(16),N=R*w*2;let p=0,v=null,C=!1,B=0,O=0,G,V;const k=L?parseInt(1e3/_):4294967295,m=typeof setImmediate<"u"?setImmediate:setTimeout,S=function(){if(C)return L(new Error("cancelled"),p/N);let W;switch(B){case 0:V=O*32*_,u(U,V,q,0,Y),B=1,G=0;case 1:W=w-G,W>k&&(W=k);for(let X=0;X<W;X++)u(q,0,fe,(G+X)*Y,Y),o(q,Y,_,Q,Z);if(G+=W,p+=W,L){const X=parseInt(1e3*p/N);if(X!==v){if(C=L(null,p/N),C)break;v=X}}if(G<w)break;G=0,B=2;case 2:W=w-G,W>k&&(W=k);for(let X=0;X<W;X++){const oe=(2*_-1)*16,D=q[oe]&w-1;l(fe,D*Y,q,Y),o(q,Y,_,Q,Z)}if(G+=W,p+=W,L){const X=parseInt(1e3*p/N);if(X!==v){if(C=L(null,p/N),C)break;v=X}}if(G<w)break;if(u(q,0,U,V,Y),O++,O<R){B=0;break}P=[];for(let X=0;X<U.length;X++)P.push(U[X]>>0&255),P.push(U[X]>>8&255),P.push(U[X]>>16&255),P.push(U[X]>>24&255);const T=s(y,P,F);return L&&L(null,1,T),T}L&&m(S)};if(!L)for(;;){const W=S();if(W!=null)return W}S()}const b={scrypt:function(y,E,w,_,R,F,L){return new Promise(function(P,U){let q=0;L&&L(0),g(y,E,w,_,R,F,function(fe,Y,Q){if(fe)U(fe);else if(Q)L&&q!==1&&L(1),P(new Uint8Array(Q));else if(L&&Y!==q)return q=Y,L(Y)})})},syncScrypt:function(y,E,w,_,R,F){return new Uint8Array(g(y,E,w,_,R,F))}};r.exports=b})()})(_m);var b4=_m.exports;const ff=Ti(b4);var y4=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(r,e||[])).next())})};const jc=new J(Cm);function _0(r){return r!=null&&r.mnemonic&&r.mnemonic.phrase}class w4 extends Kn{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function v4(r,e,t){if(bt(r,"crypto/cipher")==="aes-128-ctr"){const i=On(bt(r,"crypto/cipherparams/iv")),s=new vr.Counter(i),o=new vr.ModeOfOperation.ctr(e,s);return me(o.decrypt(t))}return null}function Nm(r,e){const t=On(bt(r,"crypto/ciphertext"));if(xe(Ve(He([e.slice(16,32),t]))).substring(2)!==bt(r,"crypto/mac").toLowerCase())throw new Error("invalid password");const i=v4(r,e.slice(0,16),t);i||jc.throwError("unsupported cipher",J.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const s=e.slice(32,64),o=cn(i);if(r.address){let c=r.address.toLowerCase();if(c.substring(0,2)!=="0x"&&(c="0x"+c),Ue(c)!==o)throw new Error("address mismatch")}const a={_isKeystoreAccount:!0,address:o,privateKey:xe(i)};if(bt(r,"x-ethers/version")==="0.1"){const c=On(bt(r,"x-ethers/mnemonicCiphertext")),l=On(bt(r,"x-ethers/mnemonicCounter")),u=new vr.Counter(l),d=new vr.ModeOfOperation.ctr(s,u),h=bt(r,"x-ethers/path")||Ei,g=bt(r,"x-ethers/locale")||"en",b=me(d.decrypt(c));try{const y=Yo(b,g),E=zt.fromMnemonic(y,null,g).derivePath(h);if(E.privateKey!=a.privateKey)throw new Error("mnemonic mismatch");a.mnemonic=E.mnemonic}catch(y){if(y.code!==J.errors.INVALID_ARGUMENT||y.argument!=="wordlist")throw y}}return new w4(a)}function Rm(r,e,t,n,i){return me(sf(r,e,t,n,i))}function A4(r,e,t,n,i){return Promise.resolve(Rm(r,e,t,n,i))}function Pm(r,e,t,n,i){const s=af(e),o=bt(r,"crypto/kdf");if(o&&typeof o=="string"){const a=function(c,l){return jc.throwArgumentError("invalid key-derivation function parameters",c,l)};if(o.toLowerCase()==="scrypt"){const c=On(bt(r,"crypto/kdfparams/salt")),l=parseInt(bt(r,"crypto/kdfparams/n")),u=parseInt(bt(r,"crypto/kdfparams/r")),d=parseInt(bt(r,"crypto/kdfparams/p"));(!l||!u||!d)&&a("kdf",o),l&l-1&&a("N",l);const h=parseInt(bt(r,"crypto/kdfparams/dklen"));return h!==32&&a("dklen",h),n(s,c,l,u,d,64,i)}else if(o.toLowerCase()==="pbkdf2"){const c=On(bt(r,"crypto/kdfparams/salt"));let l=null;const u=bt(r,"crypto/kdfparams/prf");u==="hmac-sha256"?l="sha256":u==="hmac-sha512"?l="sha512":a("prf",u);const d=parseInt(bt(r,"crypto/kdfparams/c")),h=parseInt(bt(r,"crypto/kdfparams/dklen"));return h!==32&&a("dklen",h),t(s,c,d,h,l)}}return jc.throwArgumentError("unsupported key-derivation function","kdf",o)}function E4(r,e){const t=JSON.parse(r),n=Pm(t,e,Rm,ff.syncScrypt);return Nm(t,n)}function T4(r,e,t){return y4(this,void 0,void 0,function*(){const n=JSON.parse(r),i=yield Pm(n,e,A4,ff.scrypt,t);return Nm(n,i)})}function S4(r,e,t,n){try{if(Ue(r.address)!==cn(r.privateKey))throw new Error("address/privateKey mismatch");if(_0(r)){const E=r.mnemonic;if(zt.fromMnemonic(E.phrase,null,E.locale).derivePath(E.path||Ei).privateKey!=r.privateKey)throw new Error("mnemonic mismatch")}}catch(E){return Promise.reject(E)}typeof t=="function"&&!n&&(n=t,t={}),t||(t={});const i=me(r.privateKey),s=af(e);let o=null,a=null,c=null;if(_0(r)){const E=r.mnemonic;o=me(Wo(E.phrase,E.locale||"en")),a=E.path||Ei,c=E.locale||"en"}let l=t.client;l||(l="ethers.js");let u=null;t.salt?u=me(t.salt):u=li(32);let d=null;if(t.iv){if(d=me(t.iv),d.length!==16)throw new Error("invalid iv")}else d=li(16);let h=null;if(t.uuid){if(h=me(t.uuid),h.length!==16)throw new Error("invalid uuid")}else h=li(16);let g=1<<17,b=8,y=1;return t.scrypt&&(t.scrypt.N&&(g=t.scrypt.N),t.scrypt.r&&(b=t.scrypt.r),t.scrypt.p&&(y=t.scrypt.p)),ff.scrypt(s,u,g,b,y,64,n).then(E=>{E=me(E);const w=E.slice(0,16),_=E.slice(16,32),R=E.slice(32,64),F=new vr.Counter(d),L=new vr.ModeOfOperation.ctr(w,F),P=me(L.encrypt(i)),U=Ve(He([_,P])),q={address:r.address.substring(2).toLowerCase(),id:p4(h),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:xe(d).substring(2)},ciphertext:xe(P).substring(2),kdf:"scrypt",kdfparams:{salt:xe(u).substring(2),n:g,dklen:32,p:y,r:b},mac:U.substring(2)}};if(o){const fe=li(16),Y=new vr.Counter(fe),Q=new vr.ModeOfOperation.ctr(R,Y),Z=me(Q.encrypt(o)),N=new Date,p=N.getUTCFullYear()+"-"+Fi(N.getUTCMonth()+1,2)+"-"+Fi(N.getUTCDate(),2)+"T"+Fi(N.getUTCHours(),2)+"-"+Fi(N.getUTCMinutes(),2)+"-"+Fi(N.getUTCSeconds(),2)+".0Z";q["x-ethers"]={client:l,gethFilename:"UTC--"+p+"--"+q.address,mnemonicCounter:xe(fe).substring(2),mnemonicCiphertext:xe(Z).substring(2),path:a,locale:c,version:"0.1"}}return JSON.stringify(q)})}function k4(r,e,t){if(cf(r)){t&&t(0);const n=Mm(r,e);return t&&t(1),Promise.resolve(n)}return lf(r)?T4(r,e,t):Promise.reject(new Error("invalid JSON wallet"))}function C4(r,e){if(cf(r))return Mm(r,e);if(lf(r))return E4(r,e);throw new Error("invalid JSON wallet")}const M4="wallet/5.8.0";var N0=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(r,e||[])).next())})};const Xn=new J(M4);function _4(r){return r!=null&&Ne(r.privateKey,32)&&r.address!=null}function N4(r){const e=r.mnemonic;return e&&e.phrase}class nn extends qr{constructor(e,t){if(super(),_4(e)){const n=new In(e.privateKey);if(ce(this,"_signingKey",()=>n),ce(this,"address",cn(this.publicKey)),this.address!==Ue(e.address)&&Xn.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),N4(e)){const i=e.mnemonic;ce(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||Ei,locale:i.locale||"en"}));const s=this.mnemonic,o=zt.fromMnemonic(s.phrase,null,s.locale).derivePath(s.path);cn(o.privateKey)!==this.address&&Xn.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else ce(this,"_mnemonic",()=>null)}else{if(In.isSigningKey(e))e.curve!=="secp256k1"&&Xn.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),ce(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);const n=new In(e);ce(this,"_signingKey",()=>n)}ce(this,"_mnemonic",()=>null),ce(this,"address",cn(this.publicKey))}t&&!zn.isProvider(t)&&Xn.throwArgumentError("invalid provider","provider",t),ce(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new nn(this,e)}signTransaction(e){return pt(e).then(t=>{t.from!=null&&(Ue(t.from)!==this.address&&Xn.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);const n=this._signingKey().signDigest(Ve(Uc(t)));return Uc(t,n)})}signMessage(e){return N0(this,void 0,void 0,function*(){return Nc(this._signingKey().signDigest(Xl(e)))})}_signTypedData(e,t,n){return N0(this,void 0,void 0,function*(){const i=yield Ct.resolveNames(e,t,n,s=>(this.provider==null&&Xn.throwError("cannot resolve ENS names without a provider",J.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:s}),this.provider.resolveName(s)));return Nc(this._signingKey().signDigest(Ct.hash(i.domain,t,i.value)))})}encrypt(e,t,n){if(typeof t=="function"&&!n&&(n=t,t={}),n&&typeof n!="function")throw new Error("invalid callback");return t||(t={}),S4(this,e,t,n)}static createRandom(e){let t=li(16);e||(e={}),e.extraEntropy&&(t=me(wt(Ve(He([t,e.extraEntropy])),0,16)));const n=Yo(t,e.locale);return nn.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,t,n){return k4(e,t,n).then(i=>new nn(i))}static fromEncryptedJsonSync(e,t){return new nn(C4(e,t))}static fromMnemonic(e,t,n){return t||(t=Ei),new nn(zt.fromMnemonic(e,null,n).derivePath(t))}}function R4(r,e){return Ms(Xl(r),e)}function P4(r,e,t,n){return Ms(Ct.hash(r,e,t),n)}const B4="networks/5.8.0",R0=new J(B4);function I4(r){return r&&typeof r.renetwork=="function"}function lr(r){const e=function(t,n){n==null&&(n={});const i=[];if(t.InfuraProvider&&n.infura!=="-")try{i.push(new t.InfuraProvider(r,n.infura))}catch{}if(t.EtherscanProvider&&n.etherscan!=="-")try{i.push(new t.EtherscanProvider(r,n.etherscan))}catch{}if(t.AlchemyProvider&&n.alchemy!=="-")try{i.push(new t.AlchemyProvider(r,n.alchemy))}catch{}if(t.PocketProvider&&n.pocket!=="-"){const s=["goerli","ropsten","rinkeby","sepolia"];try{const o=new t.PocketProvider(r,n.pocket);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}}if(t.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new t.CloudflareProvider(r))}catch{}if(t.AnkrProvider&&n.ankr!=="-")try{const s=["ropsten"],o=new t.AnkrProvider(r,n.ankr);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}if(t.QuickNodeProvider&&n.quicknode!=="-")try{i.push(new t.QuickNodeProvider(r,n.quicknode))}catch{}if(i.length===0)return null;if(t.FallbackProvider){let s=1;return n.quorum!=null?s=n.quorum:r==="homestead"&&(s=2),new t.FallbackProvider(i,s)}return i[0]};return e.renetwork=function(t){return lr(t)},e}function To(r,e){const t=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(r,e):null};return t.renetwork=function(n){return To(r,n)},t}const P0={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:lr("homestead")},B0={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:lr("ropsten")},I0={chainId:63,name:"classicMordor",_defaultProvider:To("https://www.ethercluster.com/mordor","classicMordor")},Us={unspecified:{chainId:0,name:"unspecified"},homestead:P0,mainnet:P0,morden:{chainId:2,name:"morden"},ropsten:B0,testnet:B0,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:lr("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:lr("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:lr("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:lr("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:lr("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:To("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:I0,classicTestnet:I0,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:To("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:lr("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:lr("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:lr("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function uf(r){if(r==null)return null;if(typeof r=="number"){for(const n in Us){const i=Us[n];if(i.chainId===r)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:r,name:"unknown"}}if(typeof r=="string"){const n=Us[r];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=Us[r.name];if(!e)return typeof r.chainId!="number"&&R0.throwArgumentError("invalid network chainId","network",r),r;r.chainId!==0&&r.chainId!==e.chainId&&R0.throwArgumentError("network chainId mismatch","network",r);let t=r._defaultProvider||null;return t==null&&e._defaultProvider&&(I4(e._defaultProvider)?t=e._defaultProvider.renetwork(r):t=e._defaultProvider),{name:r.name,chainId:e.chainId,ensAddress:r.ensAddress||e.ensAddress||null,_defaultProvider:t}}const O4="web/5.8.0";var L4=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(r,e||[])).next())})};function F4(r,e){return L4(this,void 0,void 0,function*(){e==null&&(e={});const t={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(t.mode="cors",t.cache="no-cache",t.credentials="same-origin",t.redirect="follow",t.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(t.mode=o.mode),o.cache&&(t.cache=o.cache),o.credentials&&(t.credentials=o.credentials),o.redirect&&(t.redirect=o.redirect),o.referrer&&(t.referrer=o.referrer)}const n=yield fetch(r,t),i=yield n.arrayBuffer(),s={};return n.headers.forEach?n.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):n.headers.keys().forEach(o=>{s[o.toLowerCase()]=n.headers.get(o)}),{headers:s,statusCode:n.status,statusMessage:n.statusText,body:me(new Uint8Array(i))}})}var D4=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(r,e||[])).next())})};const ar=new J(O4);function O0(r){return new Promise(e=>{setTimeout(e,r)})}function en(r,e){if(r==null)return null;if(typeof r=="string")return r;if(Es(r)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return Gn(r)}catch{}return xe(r)}return r}function U4(r){return vt(r.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function Bm(r,e,t){const n=typeof r=="object"&&r.throttleLimit!=null?r.throttleLimit:12;ar.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof r=="object"?r.throttleCallback:null,s=typeof r=="object"&&typeof r.throttleSlotInterval=="number"?r.throttleSlotInterval:100;ar.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof r=="object"?!!r.errorPassThrough:!1,a={};let c=null;const l={method:"GET"};let u=!1,d=2*60*1e3;if(typeof r=="string")c=r;else if(typeof r=="object"){if((r==null||r.url==null)&&ar.throwArgumentError("missing URL","connection.url",r),c=r.url,typeof r.timeout=="number"&&r.timeout>0&&(d=r.timeout),r.headers)for(const w in r.headers)a[w.toLowerCase()]={key:w,value:String(r.headers[w])},["if-none-match","if-modified-since"].indexOf(w.toLowerCase())>=0&&(u=!0);if(l.allowGzip=!!r.allowGzip,r.user!=null&&r.password!=null){c.substring(0,6)!=="https:"&&r.allowInsecureAuthentication!==!0&&ar.throwError("basic authentication requires a secure https url",J.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:r.user,password:"[REDACTED]"});const w=r.user+":"+r.password;a.authorization={key:"Authorization",value:"Basic "+Yl(vt(w))}}r.skipFetchSetup!=null&&(l.skipFetchSetup=!!r.skipFetchSetup),r.fetchOptions!=null&&(l.fetchOptions=Ge(r.fetchOptions))}const h=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),g=c?c.match(h):null;if(g)try{const w={statusCode:200,statusMessage:"OK",headers:{"content-type":g[1]||"text/plain"},body:g[2]?Wl(g[3]):U4(g[3])};let _=w.body;return t&&(_=t(w.body,w)),Promise.resolve(_)}catch(w){ar.throwError("processing response error",J.errors.SERVER_ERROR,{body:en(g[1],g[2]),error:w,requestBody:null,requestMethod:"GET",url:c})}e&&(l.method="POST",l.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const b={};Object.keys(a).forEach(w=>{const _=a[w];b[_.key]=_.value}),l.headers=b;const y=function(){let w=null;return{promise:new Promise(function(F,L){d&&(w=setTimeout(()=>{w!=null&&(w=null,L(ar.makeError("timeout",J.errors.TIMEOUT,{requestBody:en(l.body,b["content-type"]),requestMethod:l.method,timeout:d,url:c})))},d))}),cancel:function(){w!=null&&(clearTimeout(w),w=null)}}}(),E=function(){return D4(this,void 0,void 0,function*(){for(let w=0;w<n;w++){let _=null;try{if(_=yield F4(c,l),w<n){if(_.statusCode===301||_.statusCode===302){const F=_.headers.location||"";if(l.method==="GET"&&F.match(/^https:/)){c=_.headers.location;continue}}else if(_.statusCode===429){let F=!0;if(i&&(F=yield i(w,c)),F){let L=0;const P=_.headers["retry-after"];typeof P=="string"&&P.match(/^[1-9][0-9]*$/)?L=parseInt(P)*1e3:L=s*parseInt(String(Math.random()*Math.pow(2,w))),yield O0(L);continue}}}}catch(F){_=F.response,_==null&&(y.cancel(),ar.throwError("missing response",J.errors.SERVER_ERROR,{requestBody:en(l.body,b["content-type"]),requestMethod:l.method,serverError:F,url:c}))}let R=_.body;if(u&&_.statusCode===304?R=null:!o&&(_.statusCode<200||_.statusCode>=300)&&(y.cancel(),ar.throwError("bad response",J.errors.SERVER_ERROR,{status:_.statusCode,headers:_.headers,body:en(R,_.headers?_.headers["content-type"]:null),requestBody:en(l.body,b["content-type"]),requestMethod:l.method,url:c})),t)try{const F=yield t(R,_);return y.cancel(),F}catch(F){if(F.throttleRetry&&w<n){let L=!0;if(i&&(L=yield i(w,c)),L){const P=s*parseInt(String(Math.random()*Math.pow(2,w)));yield O0(P);continue}}y.cancel(),ar.throwError("processing response error",J.errors.SERVER_ERROR,{body:en(R,_.headers?_.headers["content-type"]:null),error:F,requestBody:en(l.body,b["content-type"]),requestMethod:l.method,url:c})}return y.cancel(),R}return ar.throwError("failed response",J.errors.SERVER_ERROR,{requestBody:en(l.body,b["content-type"]),requestMethod:l.method,url:c})})}();return Promise.race([y.promise,E])}function Bi(r,e,t){let n=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(Gn(s))}catch(c){ar.throwError("invalid JSON",J.errors.SERVER_ERROR,{body:s,error:c})}return t&&(a=t(a,o)),a},i=null;if(e!=null){i=vt(e);const s=typeof r=="string"?{url:r}:Ge(r);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=Ge(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},r=s}return Bm(r,i,n)}function Pn(r,e){return e||(e={}),e=Ge(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(t,n){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&n(new Error("timeout"))},e.timeout));const a=e.retryLimit;let c=0;function l(){return r().then(function(u){if(u!==void 0)o()&&t(u);else if(e.oncePoll)e.oncePoll.once("poll",l);else if(e.onceBlock)e.onceBlock.once("block",l);else if(!s){if(c++,c>a){o()&&n(new Error("retry limit reached"));return}let d=e.interval*parseInt(String(Math.random()*Math.pow(2,c)));d<e.floor&&(d=e.floor),d>e.ceiling&&(d=e.ceiling),setTimeout(l,d)}return null},function(u){o()&&n(u)})}l()})}var So="qpzry9x8gf2tvdw0s3jn54khce6mua7l",Vc={};for(var $s=0;$s<So.length;$s++){var nc=So.charAt($s);if(Vc[nc]!==void 0)throw new TypeError(nc+" is ambiguous");Vc[nc]=$s}function di(r){var e=r>>25;return(r&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function Im(r){for(var e=1,t=0;t<r.length;++t){var n=r.charCodeAt(t);if(n<33||n>126)return"Invalid prefix ("+r+")";e=di(e)^n>>5}for(e=di(e),t=0;t<r.length;++t){var i=r.charCodeAt(t);e=di(e)^i&31}return e}function $4(r,e,t){if(t=t||90,r.length+7+e.length>t)throw new TypeError("Exceeds length limit");r=r.toLowerCase();var n=Im(r);if(typeof n=="string")throw new Error(n);for(var i=r+"1",s=0;s<e.length;++s){var o=e[s];if(o>>5)throw new Error("Non 5-bit word");n=di(n)^o,i+=So.charAt(o)}for(s=0;s<6;++s)n=di(n);for(n^=1,s=0;s<6;++s){var a=n>>(5-s)*5&31;i+=So.charAt(a)}return i}function Om(r,e){if(e=e||90,r.length<8)return r+" too short";if(r.length>e)return"Exceeds length limit";var t=r.toLowerCase(),n=r.toUpperCase();if(r!==t&&r!==n)return"Mixed-case string "+r;r=t;var i=r.lastIndexOf("1");if(i===-1)return"No separator character for "+r;if(i===0)return"Missing prefix for "+r;var s=r.slice(0,i),o=r.slice(i+1);if(o.length<6)return"Data too short";var a=Im(s);if(typeof a=="string")return a;for(var c=[],l=0;l<o.length;++l){var u=o.charAt(l),d=Vc[u];if(d===void 0)return"Unknown character "+u;a=di(a)^d,!(l+6>=o.length)&&c.push(d)}return a!==1?"Invalid checksum for "+r:{prefix:s,words:c}}function j4(){var r=Om.apply(null,arguments);if(typeof r=="object")return r}function V4(r){var e=Om.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function Jo(r,e,t,n){for(var i=0,s=0,o=(1<<t)-1,a=[],c=0;c<r.length;++c)for(i=i<<e|r[c],s+=e;s>=t;)s-=t,a.push(i>>s&o);if(n)s>0&&a.push(i<<t-s&o);else{if(s>=e)return"Excess padding";if(i<<t-s&o)return"Non-zero padding"}return a}function H4(r){var e=Jo(r,8,5,!0);if(Array.isArray(e))return e}function K4(r){var e=Jo(r,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function G4(r){var e=Jo(r,5,8,!1);if(Array.isArray(e))return e}function z4(r){var e=Jo(r,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var q4={decodeUnsafe:j4,decode:V4,encode:$4,toWordsUnsafe:H4,toWords:K4,fromWordsUnsafe:G4,fromWords:z4};const L0=Ti(q4),Nt="providers/5.8.0",Di=new J(Nt);class Ee{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},t=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),s=this.data.bind(this),o=this.hash.bind(this),a=this.hex.bind(this),c=this.number.bind(this),l=this.type.bind(this),u=d=>this.data(d,!0);return e.transaction={hash:o,type:l,accessList:Ee.allowNull(this.accessList.bind(this),null),blockHash:Ee.allowNull(o,null),blockNumber:Ee.allowNull(c,null),transactionIndex:Ee.allowNull(c,null),confirmations:Ee.allowNull(c,null),from:t,gasPrice:Ee.allowNull(n),maxPriorityFeePerGas:Ee.allowNull(n),maxFeePerGas:Ee.allowNull(n),gasLimit:n,to:Ee.allowNull(t,null),value:n,nonce:c,data:s,r:Ee.allowNull(this.uint256),s:Ee.allowNull(this.uint256),v:Ee.allowNull(c),creates:Ee.allowNull(t,null),raw:Ee.allowNull(s)},e.transactionRequest={from:Ee.allowNull(t),nonce:Ee.allowNull(c),gasLimit:Ee.allowNull(n),gasPrice:Ee.allowNull(n),maxPriorityFeePerGas:Ee.allowNull(n),maxFeePerGas:Ee.allowNull(n),to:Ee.allowNull(t),value:Ee.allowNull(n),data:Ee.allowNull(u),type:Ee.allowNull(c),accessList:Ee.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:c,blockNumber:c,transactionHash:o,address:t,topics:Ee.arrayOf(o),data:s,logIndex:c,blockHash:o},e.receipt={to:Ee.allowNull(this.address,null),from:Ee.allowNull(this.address,null),contractAddress:Ee.allowNull(t,null),transactionIndex:c,root:Ee.allowNull(a),gasUsed:n,logsBloom:Ee.allowNull(s),blockHash:o,transactionHash:o,logs:Ee.arrayOf(this.receiptLog.bind(this)),blockNumber:c,confirmations:Ee.allowNull(c,null),cumulativeGasUsed:n,effectiveGasPrice:Ee.allowNull(n),status:Ee.allowNull(c),type:l},e.block={hash:Ee.allowNull(o),parentHash:o,number:c,timestamp:c,nonce:Ee.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:Ee.allowNull(t),extraData:s,transactions:Ee.allowNull(Ee.arrayOf(o)),baseFeePerGas:Ee.allowNull(n)},e.blockWithTransactions=Ge(e.block),e.blockWithTransactions.transactions=Ee.allowNull(Ee.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:Ee.allowNull(i,void 0),toBlock:Ee.allowNull(i,void 0),blockHash:Ee.allowNull(o,void 0),address:Ee.allowNull(t,void 0),topics:Ee.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:Ee.allowNull(c),blockHash:Ee.allowNull(o),transactionIndex:c,removed:Ee.allowNull(this.boolean.bind(this)),address:t,data:Ee.allowFalsish(s,"0x"),topics:Ee.arrayOf(o),transactionHash:o,logIndex:c},e}accessList(e){return xn(e||[])}number(e){return e==="0x"?0:pe.from(e).toNumber()}type(e){return e==="0x"||e==null?0:pe.from(e).toNumber()}bigNumber(e){return pe.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,t){return typeof e=="string"&&(!t&&e.substring(0,2)!=="0x"&&(e="0x"+e),Ne(e))?e.toLowerCase():Di.throwArgumentError("invalid hash","value",e)}data(e,t){const n=this.hex(e,t);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return Ue(e)}callAddress(e){if(!Ne(e,32))return null;const t=Ue(wt(e,12));return t===wp?null:t}contractAddress(e){return Vo(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||Ne(e))return Ts(e);throw new Error("invalid blockTag")}hash(e,t){const n=this.hex(e,t);return Mr(n)!==32?Di.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const t=pe.from(e);try{return t.toNumber()}catch{}return null}uint256(e){if(!Ne(e))throw new Error("invalid uint256");return Ke(e,32)}_block(e,t){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=Ee.check(t,e);return i._difficulty=n==null?null:pe.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return Ee.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&pe.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const t=Ee.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;Ne(n)&&(n=pe.from(n).toNumber()),t.chainId=n}else{let n=e.networkId;n==null&&t.v==null&&(n=e.chainId),Ne(n)&&(n=pe.from(n).toNumber()),typeof n!="number"&&t.v!=null&&(n=(t.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),t.chainId=n}return t.blockHash&&t.blockHash.replace(/0/g,"")==="x"&&(t.blockHash=null),t}transaction(e){return mm(e)}receiptLog(e){return Ee.check(this.formats.receiptLog,e)}receipt(e){const t=Ee.check(this.formats.receipt,e);if(t.root!=null)if(t.root.length<=4){const n=pe.from(t.root).toNumber();n===0||n===1?(t.status!=null&&t.status!==n&&Di.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=n,delete t.root):Di.throwArgumentError("invalid alt-root-status","value.root",t.root)}else t.root.length!==66&&Di.throwArgumentError("invalid root hash","value.root",t.root);return t.status!=null&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map(t=>this.topics(t)):e!=null?this.hash(e,!0):null}filter(e){return Ee.check(this.formats.filter,e)}filterLog(e){return Ee.check(this.formats.filterLog,e)}static check(e,t){const n={};for(const i in e)try{const s=e[i](t[i]);s!==void 0&&(n[i]=s)}catch(s){throw s.checkKey=i,s.checkValue=t[i],s}return n}static allowNull(e,t){return function(n){return n==null?t:e(n)}}static allowFalsish(e,t){return function(n){return n?e(n):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");const n=[];return t.forEach(function(i){n.push(e(i))}),n}}}function Lm(r){return r&&typeof r.isCommunityResource=="function"}function Hc(r){return Lm(r)&&r.isCommunityResource()}let F0=!1;function _s(){F0||(F0=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var _e=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(r,e||[])).next())})};const Re=new J(Nt),W4=10;function D0(r){return r==null?"null":(Mr(r)!==32&&Re.throwArgumentError("invalid topic","topic",r),r.toLowerCase())}function U0(r){for(r=r.slice();r.length>0&&r[r.length-1]==null;)r.pop();return r.map(e=>{if(Array.isArray(e)){const t={};e.forEach(i=>{t[D0(i)]=!0});const n=Object.keys(t);return n.sort(),n.join("|")}else return D0(e)}).join("&")}function Y4(r){return r===""?[]:r.split(/&/g).map(e=>{if(e==="")return[];const t=e.split("|").map(n=>n==="null"?null:n);return t.length===1?t[0]:t})}function Qn(r){if(typeof r=="string"){if(r=r.toLowerCase(),Mr(r)===32)return"tx:"+r;if(r.indexOf(":")===-1)return r}else{if(Array.isArray(r))return"filter:*:"+U0(r);if(Q3.isForkEvent(r))throw Re.warn("not implemented"),new Error("not implemented");if(r&&typeof r=="object")return"filter:"+(r.address||"*")+":"+U0(r.topics||[])}throw new Error("invalid event - "+r)}function Ui(){return new Date().getTime()}function $0(r){return new Promise(e=>{setTimeout(e,r)})}const J4=["block","network","pending","poll"];class X4{constructor(e,t,n){ce(this,"tag",e),ce(this,"listener",t),ce(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const t=e[1],n=Y4(e[2]),i={};return n.length>0&&(i.topics=n),t&&t!=="*"&&(i.address=t),i}pollable(){return this.tag.indexOf(":")>=0||J4.indexOf(this.tag)>=0}}const Q4={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function ic(r){return Ke(pe.from(r).toHexString(),32)}function j0(r){return vi.encode(He([r,wt(Gr(Gr(r)),0,4)]))}const Fm=new RegExp("^(ipfs)://(.*)$","i"),V0=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Fm,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function ro(r,e){try{return Gn(bs(r,e))}catch{}return null}function bs(r,e){if(r==="0x")return null;const t=pe.from(wt(r,e,e+32)).toNumber(),n=pe.from(wt(r,t,t+32)).toNumber();return wt(r,t+32,t+32+n)}function sc(r){return r.match(/^ipfs:\/\/ipfs\//i)?r=r.substring(12):r.match(/^ipfs:\/\//i)?r=r.substring(7):Re.throwArgumentError("unsupported IPFS format","link",r),`https://gateway.ipfs.io/ipfs/${r}`}function H0(r){const e=me(r);if(e.length>32)throw new Error("internal; should not happen");const t=new Uint8Array(32);return t.set(e,32-e.length),t}function Z4(r){if(r.length%32===0)return r;const e=new Uint8Array(Math.ceil(r.length/32)*32);return e.set(r),e}function Dm(r){const e=[];let t=0;for(let n=0;n<r.length;n++)e.push(null),t+=32;for(let n=0;n<r.length;n++){const i=me(r[n]);e[n]=H0(t),e.push(H0(i.length)),e.push(Z4(i)),t+=32+Math.ceil(i.length/32)*32}return Ft(e)}class Kc{constructor(e,t,n,i){ce(this,"provider",e),ce(this,"name",n),ce(this,"address",e.formatter.address(t)),ce(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>pe.from(e).eq(1)).catch(e=>{if(e.code===J.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,t){return _e(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:Ft([e,es(this.name),t||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=Ft(["0x9061b923",Dm([Fp(this.name),n.data])]));try{let s=yield this.provider.call(n);return me(s).length%32===4&&Re.throwError("resolver threw error",J.errors.CALL_EXCEPTION,{transaction:n,data:s}),i&&(s=bs(s,0)),s}catch(s){if(s.code===J.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,t){return _e(this,void 0,void 0,function*(){const n=yield this._fetch(e,t);return n!=null?bs(n,0):null})}_getAddress(e,t){const n=Q4[String(e)];if(n==null&&Re.throwError(`unsupported coin type: ${e}`,J.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(t);const i=me(t);if(n.p2pkh!=null){const s=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return j0(He([[n.p2pkh],"0x"+s[2]]))}}if(n.p2sh!=null){const s=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return j0(He([[n.p2sh],"0x"+s[2]]))}}if(n.prefix!=null){const s=i[1];let o=i[0];if(o===0?s!==20&&s!==32&&(o=-1):o=-1,o>=0&&i.length===2+s&&s>=1&&s<=75){const a=L0.toWords(i.slice(2));return a.unshift(o),L0.encode(n.prefix,a)}}return null}getAddress(e){return _e(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===Kl?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===J.errors.CALL_EXCEPTION)return null;throw i}const t=yield this._fetchBytes("0xf1cb7e06",ic(e));if(t==null||t==="0x")return null;const n=this._getAddress(e,t);return n==null&&Re.throwError("invalid or unsupported coin data",J.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t}),n})}getAvatar(){return _e(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const t=yield this.getText("avatar");if(t==null)return null;for(let n=0;n<V0.length;n++){const i=t.match(V0[n]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:sc(t)};case"erc721":case"erc1155":{const o=s==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:s,content:t});const a=this._resolvedAddress||(yield this.getAddress()),c=(i[2]||"").split("/");if(c.length!==2)return null;const l=yield this.provider.formatter.address(c[0]),u=Ke(pe.from(c[1]).toHexString(),32);if(s==="erc721"){const y=this.provider.formatter.callAddress(yield this.provider.call({to:l,data:Ft(["0x6352211e",u])}));if(a!==y)return null;e.push({type:"owner",content:y})}else if(s==="erc1155"){const y=pe.from(yield this.provider.call({to:l,data:Ft(["0x00fdd58e",Ke(a,32),u])}));if(y.isZero())return null;e.push({type:"balance",content:y.toString()})}const d={to:this.provider.formatter.address(c[0]),data:Ft([o,u])};let h=ro(yield this.provider.call(d),0);if(h==null)return null;e.push({type:"metadata-url-base",content:h}),s==="erc1155"&&(h=h.replace("{id}",u.substring(2)),e.push({type:"metadata-url-expanded",content:h})),h.match(/^ipfs:/i)&&(h=sc(h)),e.push({type:"metadata-url",content:h});const g=yield Bi(h);if(!g)return null;e.push({type:"metadata",content:JSON.stringify(g)});let b=g.image;if(typeof b!="string")return null;if(!b.match(/^(https:\/\/|data:)/i)){if(b.match(Fm)==null)return null;e.push({type:"url-ipfs",content:b}),b=sc(b)}return e.push({type:"url",content:b}),{linkage:e,url:b}}}}}catch{}return null})}getContentHash(){return _e(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const o=parseInt(t[3],16);if(t[4].length===o*2)return"ipfs://"+vi.encode("0x"+t[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const o=parseInt(n[3],16);if(n[4].length===o*2)return"ipns://"+vi.encode("0x"+n[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];const s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===34*2){const o={"=":"","+":"-","/":"_"};return"sia://"+Yl("0x"+s[1]).replace(/[=+\/]/g,c=>o[c])}return Re.throwError("invalid or unsupported content hash data",J.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return _e(this,void 0,void 0,function*(){let t=vt(e);t=He([ic(64),ic(t.length),t]),t.length%32!==0&&(t=He([t,Ke("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",xe(t));return n==null||n==="0x"?null:Gn(n)})}}let oc=null,e5=1;class Xo extends zn{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),ce(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(t=>{}),this._ready().catch(t=>{});else{const t=Mt(new.target,"getNetwork")(e);t?(ce(this,"_network",t),this.emit("network",t,null)):Re.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return _e(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||Re.throwError("no network detected",J.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:ce(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return Pn(()=>this._ready().then(e=>e,e=>{if(!(e.code===J.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return oc==null&&(oc=new Ee),oc}static getNetwork(e){return uf(e??"homestead")}ccipReadFetch(e,t,n){return _e(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=e.to.toLowerCase(),s=t.toLowerCase(),o=[];for(let a=0;a<n.length;a++){const c=n[a],l=c.replace("{sender}",i).replace("{data}",s),u=c.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:i}),d=yield Bi({url:l,errorPassThrough:!0},u,(g,b)=>(g.status=b.statusCode,g));if(d.data)return d.data;const h=d.message||"unknown error";if(d.status>=400&&d.status<500)return Re.throwError(`response not found during CCIP fetch: ${h}`,J.errors.SERVER_ERROR,{url:c,errorMessage:h});o.push(h)}return Re.throwError(`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,J.errors.SERVER_ERROR,{urls:n,errorMessages:o})})}_getInternalBlockNumber(e){return _e(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const s=yield i;if(Ui()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const t=Ui(),n=pt({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:s})=>{if(s)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),s;const o=Ui();return i=pe.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:t,respTime:o}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return _e(this,void 0,void 0,function*(){const e=e5++,t=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)Re.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",Re.makeError("network block skew detected",J.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const s=this._emitted[i];s!=="pending"&&n-s>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const s=i.hash;let o=this.getTransactionReceipt(s).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+s]=a.blockNumber,this.emit(s,a)),null)).catch(a=>{this.emit("error",a)});t.push(o);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const s=i.filter;s.fromBlock=i._lastBlockNumber+1,s.toBlock=n;const o=s.toBlock-this._maxFilterBlockRange;o>s.fromBlock&&(s.fromBlock=o),s.fromBlock<0&&(s.fromBlock=0);const a=this.getLogs(s).then(c=>{i._inflight=!1,c.length!==0&&c.forEach(l=>{l.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=l.blockNumber),this._emitted["b:"+l.blockHash]=l.blockNumber,this._emitted["t:"+l.transactionHash]=l.blockNumber,this.emit(s,l)})}).catch(c=>{this.emit("error",c),i._inflight=!1});t.push(a)}break}}}),this._lastBlockNumber=n,Promise.all(t).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return _e(this,void 0,void 0,function*(){return Re.throwError("provider does not support network detection",J.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return _e(this,void 0,void 0,function*(){const e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield $0(0),this._network;const n=Re.makeError("underlying network changed",J.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=Ui();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(t=>((this._fastBlockNumber==null||t>this._fastBlockNumber)&&(this._fastBlockNumber=t),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=Ui(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,n){return _e(this,void 0,void 0,function*(){return this._waitForTransaction(e,t??1,n||0,null)})}_waitForTransaction(e,t,n,i){return _e(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=t?s:new Promise((o,a)=>{const c=[];let l=!1;const u=function(){return l?!0:(l=!0,c.forEach(h=>{h()}),!1)},d=h=>{h.confirmations<t||u()||o(h)};if(this.on(e,d),c.push(()=>{this.removeListener(e,d)}),i){let h=i.startBlock,g=null;const b=y=>_e(this,void 0,void 0,function*(){l||(yield $0(1e3),this.getTransactionCount(i.from).then(E=>_e(this,void 0,void 0,function*(){if(!l){if(E<=i.nonce)h=y;else{{const w=yield this.getTransaction(e);if(w&&w.blockNumber!=null)return}for(g==null&&(g=h-3,g<i.startBlock&&(g=i.startBlock));g<=y;){if(l)return;const w=yield this.getBlockWithTransactions(g);for(let _=0;_<w.transactions.length;_++){const R=w.transactions[_];if(R.hash===e)return;if(R.from===i.from&&R.nonce===i.nonce){if(l)return;const F=yield this.waitForTransaction(R.hash,t);if(u())return;let L="replaced";R.data===i.data&&R.to===i.to&&R.value.eq(i.value)?L="repriced":R.data==="0x"&&R.from===R.to&&R.value.isZero()&&(L="cancelled"),a(Re.makeError("transaction was replaced",J.errors.TRANSACTION_REPLACED,{cancelled:L==="replaced"||L==="cancelled",reason:L,replacement:this._wrapTransaction(R),hash:e,receipt:F}));return}}g++}}l||this.once("block",b)}}),E=>{l||this.once("block",b)}))});if(l)return;this.once("block",b),c.push(()=>{this.removeListener("block",b)})}if(typeof n=="number"&&n>0){const h=setTimeout(()=>{u()||a(Re.makeError("timeout exceeded",J.errors.TIMEOUT,{timeout:n}))},n);h.unref&&h.unref(),c.push(()=>{clearTimeout(h)})}})})}getBlockNumber(){return _e(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return _e(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return pe.from(e)}catch(t){return Re.throwError("bad result from backend",J.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}})}getBalance(e,t){return _e(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield pt({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getBalance",n);try{return pe.from(i)}catch(s){return Re.throwError("bad result from backend",J.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:s})}})}getTransactionCount(e,t){return _e(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield pt({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getTransactionCount",n);try{return pe.from(i).toNumber()}catch(s){return Re.throwError("bad result from backend",J.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:s})}})}getCode(e,t){return _e(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield pt({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getCode",n);try{return xe(i)}catch(s){return Re.throwError("bad result from backend",J.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:s})}})}getStorageAt(e,t,n){return _e(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield pt({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(t).then(o=>Ts(o))}),s=yield this.perform("getStorageAt",i);try{return xe(s)}catch(o){return Re.throwError("bad result from backend",J.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:s,error:o})}})}_wrapTransaction(e,t,n){if(t!=null&&Mr(t)!==32)throw new Error("invalid response - sendTransaction");const i=e;return t!=null&&e.hash!==t&&Re.throwError("Transaction hash mismatch from Provider.sendTransaction.",J.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),i.wait=(s,o)=>_e(this,void 0,void 0,function*(){s==null&&(s=1),o==null&&(o=0);let a;s!==0&&n!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const c=yield this._waitForTransaction(e.hash,s,o,a);return c==null&&s===0?null:(this._emitted["t:"+e.hash]=c.blockNumber,c.status===0&&Re.throwError("transaction failed",J.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:c}),c)}),i}sendTransaction(e){return _e(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield Promise.resolve(e).then(s=>xe(s)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(n,s,i)}catch(s){throw s.transaction=n,s.transactionHash=n.hash,s}})}_getTransactionRequest(e){return _e(this,void 0,void 0,function*(){const t=yield e,n={};return["from","to"].forEach(i=>{t[i]!=null&&(n[i]=Promise.resolve(t[i]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{t[i]!=null&&(n[i]=Promise.resolve(t[i]).then(s=>s?pe.from(s):null))}),["type"].forEach(i=>{t[i]!=null&&(n[i]=Promise.resolve(t[i]).then(s=>s??null))}),t.accessList&&(n.accessList=this.formatter.accessList(t.accessList)),["data"].forEach(i=>{t[i]!=null&&(n[i]=Promise.resolve(t[i]).then(s=>s?xe(s):null))}),this.formatter.transactionRequest(yield pt(n))})}_getFilter(e){return _e(this,void 0,void 0,function*(){e=yield e;const t={};return e.address!=null&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(t[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(t[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield pt(t))})}_call(e,t,n){return _e(this,void 0,void 0,function*(){n>=W4&&Re.throwError("CCIP read exceeded maximum redirections",J.errors.SERVER_ERROR,{redirects:n,transaction:e});const i=e.to,s=yield this.perform("call",{transaction:e,blockTag:t});if(n>=0&&t==="latest"&&i!=null&&s.substring(0,10)==="0x556f1830"&&Mr(s)%32===4)try{const o=wt(s,4),a=wt(o,0,32);pe.from(a).eq(i)||Re.throwError("CCIP Read sender did not match",J.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const c=[],l=pe.from(wt(o,32,64)).toNumber(),u=pe.from(wt(o,l,l+32)).toNumber(),d=wt(o,l+32);for(let w=0;w<u;w++){const _=ro(d,w*32);_==null&&Re.throwError("CCIP Read contained corrupt URL string",J.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s}),c.push(_)}const h=bs(o,64);pe.from(wt(o,100,128)).isZero()||Re.throwError("CCIP Read callback selector included junk",J.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const g=wt(o,96,100),b=bs(o,128),y=yield this.ccipReadFetch(e,h,c);y==null&&Re.throwError("CCIP Read disabled or provided no URLs",J.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const E={to:i,data:Ft([g,Dm([y,b])])};return this._call(E,t,n+1)}catch(o){if(o.code===J.errors.SERVER_ERROR)throw o}try{return xe(s)}catch(o){return Re.throwError("bad result from backend",J.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:s,error:o})}})}call(e,t){return _e(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield pt({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return _e(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield pt({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",t);try{return pe.from(n)}catch(i){return Re.throwError("bad result from backend",J.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:n,error:i})}})}_getAddress(e){return _e(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&Re.throwArgumentError("invalid address or ENS name","name",e);const t=yield this.resolveName(e);return t==null&&Re.throwError("ENS name not configured",J.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t})}_getBlock(e,t){return _e(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!t};if(Ne(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),Ne(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{Re.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return Pn(()=>_e(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",i);if(s==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(t){let o=null;for(let c=0;c<s.transactions.length;c++){const l=s.transactions[c];if(l.blockNumber==null)l.confirmations=0;else if(l.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let u=o-l.blockNumber+1;u<=0&&(u=1),l.confirmations=u}}const a=this.formatter.blockWithTransactions(s);return a.transactions=a.transactions.map(c=>this._wrapTransaction(c)),a}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return _e(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return Pn(()=>_e(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",t);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return _e(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return Pn(()=>_e(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",t);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return i}),{oncePoll:this})})}getLogs(e){return _e(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield pt({filter:this._getFilter(e)}),n=yield this.perform("getLogs",t);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),Ee.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return _e(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return _e(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&Re.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return t+=e,t<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)})}getResolver(e){return _e(this,void 0,void 0,function*(){let t=e;for(;;){if(t===""||t==="."||e!=="eth"&&t==="eth")return null;const n=yield this._getResolver(t,"getResolver");if(n!=null){const i=new Kc(this,n,e);return t!==e&&!(yield i.supportsWildcard())?null:i}t=t.split(".").slice(1).join(".")}})}_getResolver(e,t){return _e(this,void 0,void 0,function*(){t==null&&(t="ENS");const n=yield this.getNetwork();n.ensAddress||Re.throwError("network does not support ENS",J.errors.UNSUPPORTED_OPERATION,{operation:t,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+es(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return _e(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(Ne(e))throw n}typeof e!="string"&&Re.throwArgumentError("invalid ENS name","name",e);const t=yield this.getResolver(e);return t?yield t.getAddress():null})}lookupAddress(e){return _e(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const t=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(t,"lookupAddress");if(n==null)return null;const i=ro(yield this.call({to:n,data:"0x691f3431"+es(t).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return _e(this,void 0,void 0,function*(){let t=null;if(Ne(e)){const s=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(s,"getAvatar");if(!o)return null;t=new Kc(this,o,s);try{const a=yield t.getAvatar();if(a)return a.url}catch(a){if(a.code!==J.errors.CALL_EXCEPTION)throw a}try{const a=ro(yield this.call({to:o,data:"0x691f3431"+es(s).substring(2)}),0);t=yield this.getResolver(a)}catch(a){if(a.code!==J.errors.CALL_EXCEPTION)throw a;return null}}else if(t=yield this.getResolver(e),!t)return null;const n=yield t.getAvatar();return n==null?null:n.url})}perform(e,t){return Re.throwError(e+" not implemented",J.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(t=>t.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(t=>t.pollable()).length>0}_addEventListener(e,t,n){const i=new X4(Qn(e),t,n);return this._events.push(i),this._startEvent(i),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let n=!1,i=[],s=Qn(e);return this._events=this._events.filter(o=>o.tag!==s?!0:(setTimeout(()=>{o.listener.apply(this,t)},0),n=!0,o.once?(i.push(o),!1):!0)),i.forEach(o=>{this._stopEvent(o)}),n}listenerCount(e){if(!e)return this._events.length;let t=Qn(e);return this._events.filter(n=>n.tag===t).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let t=Qn(e);return this._events.filter(n=>n.tag===t).map(n=>n.listener)}off(e,t){if(t==null)return this.removeAllListeners(e);const n=[];let i=!1,s=Qn(e);return this._events=this._events.filter(o=>o.tag!==s||o.listener!=t||i?!0:(i=!0,n.push(o),!1)),n.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let t=[];if(e==null)t=this._events,this._events=[];else{const n=Qn(e);this._events=this._events.filter(i=>i.tag!==n?!0:(t.push(i),!1))}return t.forEach(n=>{this._stopEvent(n)}),this}}var Fr=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(r,e||[])).next())})};const At=new J(Nt),t5=["call","estimateGas"];function ns(r,e){if(r==null)return null;if(typeof r.message=="string"&&r.message.match("reverted")){const t=Ne(r.data)?r.data:null;if(!e||t)return{message:r.message,data:t}}if(typeof r=="object"){for(const t in r){const n=ns(r[t],e);if(n)return n}return null}if(typeof r=="string")try{return ns(JSON.parse(r),e)}catch{}return null}function Um(r,e,t){const n=t.transaction||t.signedTransaction;if(r==="call"){const s=ns(e,!0);if(s)return s.data;At.throwError("missing revert data in call exception; Transaction reverted without a reason string",J.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(r==="estimateGas"){let s=ns(e.body,!1);s==null&&(s=ns(e,!1)),s&&At.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",J.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:r,transaction:n,error:e})}let i=e.message;throw e.code===J.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&At.throwError("insufficient funds for intrinsic transaction cost",J.errors.INSUFFICIENT_FUNDS,{error:e,method:r,transaction:n}),i.match(/nonce (is )?too low/i)&&At.throwError("nonce has already been used",J.errors.NONCE_EXPIRED,{error:e,method:r,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&At.throwError("replacement fee too low",J.errors.REPLACEMENT_UNDERPRICED,{error:e,method:r,transaction:n}),i.match(/only replay-protected/i)&&At.throwError("legacy pre-eip-155 transactions not supported",J.errors.UNSUPPORTED_OPERATION,{error:e,method:r,transaction:n}),t5.indexOf(r)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&At.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",J.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:r,transaction:n}),e}function K0(r){return new Promise(function(e){setTimeout(e,r)})}function r5(r){if(r.error){const e=new Error(r.error.message);throw e.code=r.error.code,e.data=r.error.data,e}return r.result}function $i(r){return r&&r.toLowerCase()}const Gc={};class hf extends qr{constructor(e,t,n){if(super(),e!==Gc)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");ce(this,"provider",t),n==null&&(n=0),typeof n=="string"?(ce(this,"_address",this.provider.formatter.address(n)),ce(this,"_index",null)):typeof n=="number"?(ce(this,"_index",n),ce(this,"_address",null)):At.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return At.throwError("cannot alter JSON-RPC Signer connection",J.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new n5(Gc,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&At.throwError("unknown account #"+this._index,J.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=Ge(e);const t=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=Ge(e);n.from=t,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>Fr(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&At.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),pt({tx:pt(e),sender:t}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&At.throwArgumentError("from address mismatch","transaction",e):n.from=i;const s=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&At.throwError("user rejected transaction",J.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),Um("sendTransaction",o,s)))})}signTransaction(e){return At.throwError("signing transactions is unsupported",J.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Fr(this,void 0,void 0,function*(){const t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield Pn(()=>Fr(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,t)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return Fr(this,void 0,void 0,function*(){const t=typeof e=="string"?vt(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[xe(t),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&At.throwError("user rejected signing",J.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),i}})}_legacySignMessage(e){return Fr(this,void 0,void 0,function*(){const t=typeof e=="string"?vt(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),xe(t)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&At.throwError("user rejected signing",J.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),i}})}_signTypedData(e,t,n){return Fr(this,void 0,void 0,function*(){const i=yield Ct.resolveNames(e,t,n,o=>this.provider.resolveName(o)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(Ct.getPayload(i.domain,t,i.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&At.throwError("user rejected signing",J.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:i.domain,types:t,value:i.value}}),o}})}unlock(e){return Fr(this,void 0,void 0,function*(){const t=this.provider,n=yield this.getAddress();return t.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class n5 extends hf{sendTransaction(e){return this.sendUncheckedTransaction(e).then(t=>({hash:t,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(t,n)}))}}const i5={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class $n extends Xo{constructor(e,t){let n=t;n==null&&(n=new Promise((i,s)=>{setTimeout(()=>{this.detectNetwork().then(o=>{i(o)},o=>{s(o)})},0)})),super(n),e||(e=Mt(this.constructor,"defaultUrl")()),typeof e=="string"?ce(this,"connection",Object.freeze({url:e})):ce(this,"connection",Object.freeze(Ge(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Fr(this,void 0,void 0,function*(){yield K0(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const t=Mt(this.constructor,"getNetwork");try{return t(pe.from(e).toNumber())}catch(n){return At.throwError("could not detect network",J.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return At.throwError("could not detect network",J.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new hf(Gc,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(t=>this.formatter.address(t)))}send(e,t){const n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Ut(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const s=Bi(this.connection,JSON.stringify(n),r5).then(o=>(this.emit("debug",{action:"response",request:n,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:n,provider:this}),o});return i&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[$i(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[$i(t.address),t.blockTag]];case"getCode":return["eth_getCode",[$i(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[$i(t.address),Ke(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[Mt(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[Mt(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&t.filter.address!=null&&(t.filter.address=$i(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return Fr(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=t.transaction;if(i&&i.type!=null&&pe.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(t=Ge(t),t.transaction=Ge(i),delete t.transaction.type)}}const n=this.prepareRequest(e,t);n==null&&At.throwError(e+" not implemented",J.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return Um(e,i,t)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(s){if(e._pendingFilter!=t)return null;let o=Promise.resolve();return s.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(a).then(function(c){return e.emit("pending",c),null})})}),o.then(function(){return K0(1e3)})}).then(function(){if(e._pendingFilter!=t){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(s=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){const n=Ge(i5);if(t)for(const s in t)t[s]&&(n[s]=!0);$l(e,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;const o=Ts(pe.from(e[s]));s==="gasLimit"&&(s="gas"),i[s]=o}),["from","to","data"].forEach(function(s){e[s]!=null&&(i[s]=xe(e[s]))}),e.accessList&&(i.accessList=xn(e.accessList)),i}}let is=null;try{if(is=WebSocket,is==null)throw new Error("inject please")}catch{const e=new J(Nt);is=function(){e.throwError("WebSockets not supported in this environment",J.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var ac=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(r,e||[])).next())})};const js=new J(Nt);let s5=1;class Qo extends $n{constructor(e,t){t==="any"&&js.throwError("WebSocketProvider does not support 'any' network yet",J.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),typeof e=="string"?super(e,t):super("_websocket",t),this._pollingInterval=-1,this._wsReady=!1,typeof e=="string"?ce(this,"_websocket",new is(this.connection.url)):ce(this,"_websocket",e),ce(this,"_requests",{}),ce(this,"_subs",{}),ce(this,"_subIds",{}),ce(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(i=>{this.websocket.send(this._requests[i].payload)})},this.websocket.onmessage=i=>{const s=i.data,o=JSON.parse(s);if(o.id!=null){const a=String(o.id),c=this._requests[a];if(delete this._requests[a],o.result!==void 0)c.callback(null,o.result),this.emit("debug",{action:"response",request:JSON.parse(c.payload),response:o.result,provider:this});else{let l=null;o.error?(l=new Error(o.error.message||"unknown error"),ce(l,"code",o.error.code||null),ce(l,"response",s)):l=new Error("unknown error"),c.callback(l,void 0),this.emit("debug",{action:"response",error:l,request:JSON.parse(c.payload),provider:this})}}else if(o.method==="eth_subscription"){const a=this._subs[o.params.subscription];a&&a.processFunc(o.params.result)}else console.warn("this should not happen")};const n=setInterval(()=>{this.emit("poll")},1e3);n.unref&&n.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){js.throwError("cannot reset events block on WebSocketProvider",J.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){js.throwError("cannot set polling interval on WebSocketProvider",J.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return ac(this,void 0,void 0,function*(){return null})}set polling(e){e&&js.throwError("cannot set polling on WebSocketProvider",J.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,t){const n=s5++;return new Promise((i,s)=>{function o(c,l){return c?s(c):i(l)}const a=JSON.stringify({method:e,params:t,id:n,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(a),provider:this}),this._requests[String(n)]={callback:o,payload:a},this._wsReady&&this.websocket.send(a)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,t,n){return ac(this,void 0,void 0,function*(){let i=this._subIds[e];i==null&&(i=Promise.all(t).then(o=>this.send("eth_subscribe",o)),this._subIds[e]=i);const s=yield i;this._subs[s]={tag:e,processFunc:n}})}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],t=>{const n=pe.from(t.number).toNumber();this._emitted.block=n,this.emit("block",n)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],t=>{this.emit("pending",t)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],t=>{t.removed==null&&(t.removed=!1),this.emit(e.filter,this.formatter.filterLog(t))});break;case"tx":{const t=n=>{const i=n.hash;this.getTransactionReceipt(i).then(s=>{s&&this.emit(i,s)})};t(e),this._subscribe("tx",["newHeads"],n=>{this._events.filter(i=>i.type==="tx").forEach(t)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e);break}}_stopEvent(e){let t=e.tag;if(e.type==="tx"){if(this._events.filter(i=>i.type==="tx").length)return;t="tx"}else if(this.listenerCount(e.event))return;const n=this._subIds[t];n&&(delete this._subIds[t],n.then(i=>{this._subs[i]&&(delete this._subs[i],this.send("eth_unsubscribe",[i]))}))}destroy(){return ac(this,void 0,void 0,function*(){this.websocket.readyState===is.CONNECTING&&(yield new Promise(e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}})),this.websocket.close(1e3)})}}var o5=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(r,e||[])).next())})};const Gi=new J(Nt);class $m extends $n{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return o5(this,void 0,void 0,function*(){let t=this.network;return t==null&&(t=yield e.detectNetwork.call(this),t||Gi.throwError("no network detected",J.errors.UNKNOWN_ERROR,{}),this._network==null&&(ce(this,"_network",t),this.emit("network",t,null))),t})}}class Or extends $m{constructor(e,t){Gi.checkAbstract(new.target,Or),e=Mt(new.target,"getNetwork")(e),t=Mt(new.target,"getApiKey")(t);const n=Mt(new.target,"getUrl")(e,t);super(n,e),typeof t=="string"?ce(this,"apiKey",t):t!=null&&Object.keys(t).forEach(i=>{ce(this,i,t[i])})}_startPending(){Gi.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return Gi.throwError("API provider does not support signing",J.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,t){return Gi.throwError("not implemented; sub-classes must override getUrl",J.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const G0=new J(Nt),no="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class jm extends Qo{constructor(e,t){const n=new df(e,t),i=n.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(i,n.network),ce(this,"apiKey",n.apiKey)}isCommunityResource(){return this.apiKey===no}}class df extends Or{static getWebSocketProvider(e,t){return new jm(e,t)}static getApiKey(e){return e==null?no:(e&&typeof e!="string"&&G0.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,t){let n=null;switch(e.name){case"homestead":n="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":n="eth-goerli.g.alchemy.com/v2/";break;case"sepolia":n="eth-sepolia.g.alchemy.com/v2/";break;case"matic":n="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":n="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":n="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":n="arb-goerli.g.alchemy.com/v2/";break;case"arbitrum-sepolia":n="arb-sepolia.g.alchemy.com/v2/";break;case"optimism":n="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":n="opt-goerli.g.alchemy.com/v2/";break;case"optimism-sepolia":n="opt-sepolia.g.alchemy.com/v2/";break;default:G0.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+n+t,throttleCallback:(i,s)=>(t===no&&_s(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===no}}const a5=new J(Nt),Vs="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function c5(r){switch(r){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"sepolia":return"rpc.ankr.com/eth_sepolia/";case"matic":return"rpc.ankr.com/polygon/";case"maticmum":return"rpc.ankr.com/polygon_mumbai/";case"optimism":return"rpc.ankr.com/optimism/";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet/";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return a5.throwArgumentError("unsupported network","name",r)}class Vm extends Or{isCommunityResource(){return this.apiKey===Vs}static getApiKey(e){return e??Vs}static getUrl(e,t){t==null&&(t=Vs);const n={allowGzip:!0,url:"https://"+c5(e.name)+t,throttleCallback:(i,s)=>(t.apiKey===Vs&&_s(),Promise.resolve(!0))};return t.projectSecret!=null&&(n.user="",n.password=t.projectSecret),n}}var l5=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(r,e||[])).next())})};const z0=new J(Nt);class Hm extends Or{static getApiKey(e){return e!=null&&z0.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,t){let n=null;switch(e.name){case"homestead":n="https://cloudflare-eth.com/";break;default:z0.throwArgumentError("unsupported network","network",arguments[0])}return n}perform(e,t){const n=Object.create(null,{perform:{get:()=>super.perform}});return l5(this,void 0,void 0,function*(){return e==="getBlockNumber"?(yield n.perform.call(this,"getBlock",{blockTag:"latest"})).number:n.perform.call(this,e,t)})}}var Hs=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(r,e||[])).next())})};const sn=new J(Nt);function q0(r){const e={};for(let t in r){if(r[t]==null)continue;let n=r[t];t==="type"&&n===0||({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[t]?n=Ts(xe(n)):t==="accessList"?n="["+xn(n).map(i=>`{address:"${i.address}",storageKeys:["${i.storageKeys.join('","')}"]}`).join(",")+"]":n=xe(n),e[t]=n)}return e}function f5(r){if(r.status==0&&(r.message==="No records found"||r.message==="No transactions found"))return r.result;if(r.status!=1||typeof r.message!="string"||!r.message.match(/^OK/)){const e=new Error("invalid response");throw e.result=JSON.stringify(r),(r.result||"").toLowerCase().indexOf("rate limit")>=0&&(e.throttleRetry=!0),e}return r.result}function W0(r){if(r&&r.status==0&&r.message=="NOTOK"&&(r.result||"").toLowerCase().indexOf("rate limit")>=0){const e=new Error("throttled response");throw e.result=JSON.stringify(r),e.throttleRetry=!0,e}if(r.jsonrpc!="2.0"){const e=new Error("invalid response");throw e.result=JSON.stringify(r),e}if(r.error){const e=new Error(r.error.message||"unknown error");throw r.error.code&&(e.code=r.error.code),r.error.data&&(e.data=r.error.data),e}return r.result}function Y0(r){if(r==="pending")throw new Error("pending not supported");return r==="latest"?r:parseInt(r.substring(2),16)}function cc(r,e,t){if(r==="call"&&e.code===J.errors.SERVER_ERROR){const i=e.error;if(i&&(i.message.match(/reverted/i)||i.message.match(/VM execution error/i))){let s=i.data;if(s&&(s="0x"+s.replace(/^.*0x/i,"")),Ne(s))return s;sn.throwError("missing revert data in call exception",J.errors.CALL_EXCEPTION,{error:e,data:"0x"})}}let n=e.message;throw e.code===J.errors.SERVER_ERROR&&(e.error&&typeof e.error.message=="string"?n=e.error.message:typeof e.body=="string"?n=e.body:typeof e.responseText=="string"&&(n=e.responseText)),n=(n||"").toLowerCase(),n.match(/insufficient funds/)&&sn.throwError("insufficient funds for intrinsic transaction cost",J.errors.INSUFFICIENT_FUNDS,{error:e,method:r,transaction:t}),n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&sn.throwError("nonce has already been used",J.errors.NONCE_EXPIRED,{error:e,method:r,transaction:t}),n.match(/another transaction with same nonce/)&&sn.throwError("replacement fee too low",J.errors.REPLACEMENT_UNDERPRICED,{error:e,method:r,transaction:t}),n.match(/execution failed due to an exception|execution reverted/)&&sn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",J.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:r,transaction:t}),e}class Km extends Xo{constructor(e,t){super(e),ce(this,"baseUrl",this.getBaseUrl()),ce(this,"apiKey",t||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return sn.throwArgumentError("unsupported network","network",this.network.name)}getUrl(e,t){const n=Object.keys(t).reduce((s,o)=>{const a=t[o];return a!=null&&(s+=`&${o}=${a}`),s},""),i=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${n}${i}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t}fetch(e,t,n){return Hs(this,void 0,void 0,function*(){const i=n?this.getPostUrl():this.getUrl(e,t),s=n?this.getPostData(e,t):null,o=e==="proxy"?W0:f5;this.emit("debug",{action:"request",request:i,provider:this});const a={url:i,throttleSlotInterval:1e3,throttleCallback:(u,d)=>(this.isCommunityResource()&&_s(),Promise.resolve(!0))};let c=null;s&&(a.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},c=Object.keys(s).map(u=>`${u}=${s[u]}`).join("&"));const l=yield Bi(a,c,o||W0);return this.emit("debug",{action:"response",request:i,response:Ut(l),provider:this}),l})}detectNetwork(){return Hs(this,void 0,void 0,function*(){return this.network})}perform(e,t){const n=Object.create(null,{perform:{get:()=>super.perform}});return Hs(this,void 0,void 0,function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},!0).catch(i=>cc("sendTransaction",i,t.signedTransaction));case"getBlock":if(t.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.transactionHash});case"call":{if(t.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const i=q0(t.transaction);i.module="proxy",i.action="eth_call";try{return yield this.fetch("proxy",i,!0)}catch(s){return cc("call",s,t.transaction)}}case"estimateGas":{const i=q0(t.transaction);i.module="proxy",i.action="eth_estimateGas";try{return yield this.fetch("proxy",i,!0)}catch(s){return cc("estimateGas",s,t.transaction)}}case"getLogs":{const i={action:"getLogs"};if(t.filter.fromBlock&&(i.fromBlock=Y0(t.filter.fromBlock)),t.filter.toBlock&&(i.toBlock=Y0(t.filter.toBlock)),t.filter.address&&(i.address=t.filter.address),t.filter.topics&&t.filter.topics.length>0&&(t.filter.topics.length>1&&sn.throwError("unsupported topic count",J.errors.UNSUPPORTED_OPERATION,{topics:t.filter.topics}),t.filter.topics.length===1)){const a=t.filter.topics[0];(typeof a!="string"||a.length!==66)&&sn.throwError("unsupported topic format",J.errors.UNSUPPORTED_OPERATION,{topic0:a}),i.topic0=a}const s=yield this.fetch("logs",i);let o={};for(let a=0;a<s.length;a++){const c=s[a];if(c.blockHash==null){if(o[c.blockNumber]==null){const l=yield this.getBlock(c.blockNumber);l&&(o[c.blockNumber]=l.hash)}c.blockHash=o[c.blockNumber]}}return s}case"getEtherPrice":return this.network.name!=="homestead"?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return n.perform.call(this,e,t)})}getHistory(e,t,n){return Hs(this,void 0,void 0,function*(){const i={action:"txlist",address:yield this.resolveName(e),startblock:t??0,endblock:n??99999999,sort:"asc"};return(yield this.fetch("account",i)).map(o=>{["contractAddress","to"].forEach(function(c){o[c]==""&&delete o[c]}),o.creates==null&&o.contractAddress!=null&&(o.creates=o.contractAddress);const a=this.formatter.transactionResponse(o);return o.timeStamp&&(a.timestamp=parseInt(o.timeStamp)),a})})}isCommunityResource(){return this.apiKey==null}}var ko=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(r,e||[])).next())})};const Nn=new J(Nt);function Ks(){return new Date().getTime()}function J0(r){let e=null;for(let t=0;t<r.length;t++){const n=r[t];if(n==null)return null;e?e.name===n.name&&e.chainId===n.chainId&&(e.ensAddress===n.ensAddress||e.ensAddress==null&&n.ensAddress==null)||Nn.throwArgumentError("provider mismatch","networks",r):e=n}return e}function X0(r,e){r=r.slice().sort();const t=Math.floor(r.length/2);if(r.length%2)return r[t];const n=r[t-1],i=r[t];return e!=null&&Math.abs(n-i)>e?null:(n+i)/2}function fi(r){if(r===null)return"null";if(typeof r=="number"||typeof r=="boolean")return JSON.stringify(r);if(typeof r=="string")return r;if(pe.isBigNumber(r))return r.toString();if(Array.isArray(r))return JSON.stringify(r.map(e=>fi(e)));if(typeof r=="object"){const e=Object.keys(r);return e.sort(),"{"+e.map(t=>{let n=r[t];return typeof n=="function"?n="[function]":n=fi(n),JSON.stringify(t)+":"+n}).join(",")+"}"}throw new Error("unknown value type: "+typeof r)}let u5=1;function Q0(r){let e=null,t=null,n=new Promise(o=>{e=function(){t&&(clearTimeout(t),t=null),o()},t=setTimeout(e,r)});const i=o=>(n=n.then(o),n);function s(){return n}return{cancel:e,getPromise:s,wait:i}}const h5=[J.errors.CALL_EXCEPTION,J.errors.INSUFFICIENT_FUNDS,J.errors.NONCE_EXPIRED,J.errors.REPLACEMENT_UNDERPRICED,J.errors.UNPREDICTABLE_GAS_LIMIT],d5=["address","args","errorArgs","errorSignature","method","transaction"];function Gs(r,e){const t={weight:r.weight};return Object.defineProperty(t,"provider",{get:()=>r.provider}),r.start&&(t.start=r.start),e&&(t.duration=e-r.start),r.done&&(r.error?t.error=r.error:t.result=r.result||null),t}function p5(r,e){return function(t){const n={};t.forEach(s=>{const o=r(s.result);n[o]||(n[o]={count:0,result:s.result}),n[o].count++});const i=Object.keys(n);for(let s=0;s<i.length;s++){const o=n[i[s]];if(o.count>=e)return o.result}}}function m5(r,e,t){let n=fi;switch(e){case"getBlockNumber":return function(i){const s=i.map(a=>a.result);let o=X0(i.map(a=>a.result),2);if(o!=null)return o=Math.ceil(o),s.indexOf(o+1)>=0&&o++,o>=r._highestBlockNumber&&(r._highestBlockNumber=o),r._highestBlockNumber};case"getGasPrice":return function(i){const s=i.map(o=>o.result);return s.sort(),s[Math.floor(s.length/2)]};case"getEtherPrice":return function(i){return X0(i.map(s=>s.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(i){return i==null?null:(i=Ge(i),i.confirmations=-1,fi(i))};break;case"getBlock":t.includeTransactions?n=function(i){return i==null?null:(i=Ge(i),i.transactions=i.transactions.map(s=>(s=Ge(s),s.confirmations=-1,s)),fi(i))}:n=function(i){return i==null?null:fi(i)};break;default:throw new Error("unknown method: "+e)}return p5(n,r.quorum)}function ji(r,e){return ko(this,void 0,void 0,function*(){const t=r.provider;return t.blockNumber!=null&&t.blockNumber>=e||e===-1?t:Pn(()=>new Promise((n,i)=>{setTimeout(function(){return t.blockNumber>=e?n(t):r.cancelled?n(null):n(void 0)},0)}),{oncePoll:t})})}function x5(r,e,t,n){return ko(this,void 0,void 0,function*(){let i=r.provider;switch(t){case"getBlockNumber":case"getGasPrice":return i[t]();case"getEtherPrice":if(i.getEtherPrice)return i.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return n.blockTag&&Ne(n.blockTag)&&(i=yield ji(r,e)),i[t](n.address,n.blockTag||"latest");case"getStorageAt":return n.blockTag&&Ne(n.blockTag)&&(i=yield ji(r,e)),i.getStorageAt(n.address,n.position,n.blockTag||"latest");case"getBlock":return n.blockTag&&Ne(n.blockTag)&&(i=yield ji(r,e)),i[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash);case"call":case"estimateGas":return n.blockTag&&Ne(n.blockTag)&&(i=yield ji(r,e)),t==="call"&&n.blockTag?i[t](n.transaction,n.blockTag):i[t](n.transaction);case"getTransaction":case"getTransactionReceipt":return i[t](n.transactionHash);case"getLogs":{let s=n.filter;return(s.fromBlock&&Ne(s.fromBlock)||s.toBlock&&Ne(s.toBlock))&&(i=yield ji(r,e)),i.getLogs(s)}}return Nn.throwError("unknown method error",J.errors.UNKNOWN_ERROR,{method:t,params:n})})}class Gm extends Xo{constructor(e,t){e.length===0&&Nn.throwArgumentError("missing providers","providers",e);const n=e.map((o,a)=>{if(zn.isProvider(o)){const u=Hc(o)?2e3:750;return Object.freeze({provider:o,weight:1,stallTimeout:u,priority:1})}const c=Ge(o);c.priority==null&&(c.priority=1),c.stallTimeout==null&&(c.stallTimeout=Hc(o)?2e3:750),c.weight==null&&(c.weight=1);const l=c.weight;return(l%1||l>512||l<1)&&Nn.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${a}].weight`,l),Object.freeze(c)}),i=n.reduce((o,a)=>o+a.weight,0);t==null?t=i/2:t>i&&Nn.throwArgumentError("quorum will always fail; larger than total weight","quorum",t);let s=J0(n.map(o=>o.provider.network));s==null&&(s=new Promise((o,a)=>{setTimeout(()=>{this.detectNetwork().then(o,a)},0)})),super(s),ce(this,"providerConfigs",Object.freeze(n)),ce(this,"quorum",t),this._highestBlockNumber=-1}detectNetwork(){return ko(this,void 0,void 0,function*(){const e=yield Promise.all(this.providerConfigs.map(t=>t.provider.getNetwork()));return J0(e)})}perform(e,t){return ko(this,void 0,void 0,function*(){if(e==="sendTransaction"){const c=yield Promise.all(this.providerConfigs.map(l=>l.provider.sendTransaction(t.signedTransaction).then(u=>u.hash,u=>u)));for(let l=0;l<c.length;l++){const u=c[l];if(typeof u=="string")return u}throw c[0]}this._highestBlockNumber===-1&&e!=="getBlockNumber"&&(yield this.getBlockNumber());const n=m5(this,e,t),i=Sm(this.providerConfigs.map(Ge));i.sort((c,l)=>c.priority-l.priority);const s=this._highestBlockNumber;let o=0,a=!0;for(;;){const c=Ks();let l=i.filter(g=>g.runner&&c-g.start<g.stallTimeout).reduce((g,b)=>g+b.weight,0);for(;l<this.quorum&&o<i.length;){const g=i[o++],b=u5++;g.start=Ks(),g.staller=Q0(g.stallTimeout),g.staller.wait(()=>{g.staller=null}),g.runner=x5(g,s,e,t).then(y=>{g.done=!0,g.result=y,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:b,backend:Gs(g,Ks()),request:{method:e,params:Ut(t)},provider:this})},y=>{g.done=!0,g.error=y,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:b,backend:Gs(g,Ks()),request:{method:e,params:Ut(t)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:b,backend:Gs(g,null),request:{method:e,params:Ut(t)},provider:this}),l+=g.weight}const u=[];i.forEach(g=>{g.done||!g.runner||(u.push(g.runner),g.staller&&u.push(g.staller.getPromise()))}),u.length&&(yield Promise.race(u));const d=i.filter(g=>g.done&&g.error==null);if(d.length>=this.quorum){const g=n(d);if(g!==void 0)return i.forEach(b=>{b.staller&&b.staller.cancel(),b.cancelled=!0}),g;a||(yield Q0(100).getPromise()),a=!1}const h=i.reduce((g,b)=>{if(!b.done||b.error==null)return g;const y=b.error.code;return h5.indexOf(y)>=0&&(g[y]||(g[y]={error:b.error,weight:0}),g[y].weight+=b.weight),g},{});if(Object.keys(h).forEach(g=>{const b=h[g];if(b.weight<this.quorum)return;i.forEach(w=>{w.staller&&w.staller.cancel(),w.cancelled=!0});const y=b.error,E={};d5.forEach(w=>{y[w]!=null&&(E[w]=y[w])}),Nn.throwError(y.reason||y.message,g,E)}),i.filter(g=>!g.done).length===0)break}return i.forEach(c=>{c.staller&&c.staller.cancel(),c.cancelled=!0}),Nn.throwError("failed to meet quorum",J.errors.SERVER_ERROR,{method:e,params:t,results:i.map(c=>Gs(c)),provider:this})})}}const zm=null,io=new J(Nt),zi="84842078b09946638c03157f83405213";class qm extends Qo{constructor(e,t){const n=new pf(e,t),i=n.connection;i.password&&io.throwError("INFURA WebSocket project secrets unsupported",J.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});const s=i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(s,e),ce(this,"apiKey",n.projectId),ce(this,"projectId",n.projectId),ce(this,"projectSecret",n.projectSecret)}isCommunityResource(){return this.projectId===zi}}class pf extends Or{static getWebSocketProvider(e,t){return new qm(e,t)}static getApiKey(e){const t={apiKey:zi,projectId:zi,projectSecret:null};return e==null||(typeof e=="string"?t.projectId=e:e.projectSecret!=null?(io.assertArgument(typeof e.projectId=="string","projectSecret requires a projectId","projectId",e.projectId),io.assertArgument(typeof e.projectSecret=="string","invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t}static getUrl(e,t){let n=null;switch(e?e.name:"unknown"){case"homestead":n="mainnet.infura.io";break;case"goerli":n="goerli.infura.io";break;case"sepolia":n="sepolia.infura.io";break;case"matic":n="polygon-mainnet.infura.io";break;case"maticmum":n="polygon-mumbai.infura.io";break;case"optimism":n="optimism-mainnet.infura.io";break;case"optimism-goerli":n="optimism-goerli.infura.io";break;case"optimism-sepolia":n="optimism-sepolia.infura.io";break;case"arbitrum":n="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":n="arbitrum-goerli.infura.io";break;case"arbitrum-sepolia":n="arbitrum-sepolia.infura.io";break;default:io.throwError("unsupported network",J.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const i={allowGzip:!0,url:"https://"+n+"/v3/"+t.projectId,throttleCallback:(s,o)=>(t.projectId===zi&&_s(),Promise.resolve(!0))};return t.projectSecret!=null&&(i.user="",i.password=t.projectSecret),i}isCommunityResource(){return this.projectId===zi}}class g5 extends $n{send(e,t){const n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this._pendingBatch==null&&(this._pendingBatch=[]);const i={request:n,resolve:null,reject:null},s=new Promise((o,a)=>{i.resolve=o,i.reject=a});return this._pendingBatch.push(i),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{const o=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const a=o.map(c=>c.request);return this.emit("debug",{action:"requestBatch",request:Ut(a),provider:this}),Bi(this.connection,JSON.stringify(a)).then(c=>{this.emit("debug",{action:"response",request:a,response:c,provider:this}),o.forEach((l,u)=>{const d=c[u];if(d.error){const h=new Error(d.error.message);h.code=d.error.code,h.data=d.error.data,l.reject(h)}else l.resolve(d.result)})},c=>{this.emit("debug",{action:"response",error:c,request:a,provider:this}),o.forEach(l=>{l.reject(c)})})},10)),s}}const lc=new J(Nt),b5="ETHERS_JS_SHARED";class Wm extends Or{static getApiKey(e){return e&&typeof e!="string"&&lc.throwArgumentError("invalid apiKey","apiKey",e),e||b5}static getUrl(e,t){lc.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let n=null;switch(e.name){case"homestead":n="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":n="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":n="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":n="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":n="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:lc.throwArgumentError("unsupported network","network",arguments[0])}return n+"?apiKey="+t}}const Z0=new J(Nt),eh="62e1ad51b37b8e00394bda3b";class Ym extends Or{static getApiKey(e){const t={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return e==null?t.applicationId=eh:typeof e=="string"?t.applicationId=e:e.applicationSecretKey!=null?(t.applicationId=e.applicationId,t.applicationSecretKey=e.applicationSecretKey):e.applicationId?t.applicationId=e.applicationId:Z0.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),t}static getUrl(e,t){let n=null;switch(e?e.name:"unknown"){case"goerli":n="eth-goerli.gateway.pokt.network";break;case"homestead":n="eth-mainnet.gateway.pokt.network";break;case"kovan":n="poa-kovan.gateway.pokt.network";break;case"matic":n="poly-mainnet.gateway.pokt.network";break;case"maticmum":n="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":n="eth-rinkeby.gateway.pokt.network";break;case"ropsten":n="eth-ropsten.gateway.pokt.network";break;default:Z0.throwError("unsupported network",J.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const i=`https://${n}/v1/lb/${t.applicationId}`,s={headers:{},url:i};return t.applicationSecretKey!=null&&(s.user="",s.password=t.applicationSecretKey),s}isCommunityResource(){return this.applicationId===eh}}const th=new J(Nt),y5="919b412a057b5e9c9b6dce193c5a60242d6efadb";class Jm extends Or{static getApiKey(e){return e&&typeof e!="string"&&th.throwArgumentError("invalid apiKey","apiKey",e),e||y5}static getUrl(e,t){let n=null;switch(e.name){case"homestead":n="ethers.quiknode.pro";break;case"goerli":n="ethers.ethereum-goerli.quiknode.pro";break;case"sepolia":n="ethers.ethereum-sepolia.quiknode.pro";break;case"holesky":n="ethers.ethereum-holesky.quiknode.pro";break;case"arbitrum":n="ethers.arbitrum-mainnet.quiknode.pro";break;case"arbitrum-goerli":n="ethers.arbitrum-goerli.quiknode.pro";break;case"arbitrum-sepolia":n="ethers.arbitrum-sepolia.quiknode.pro";break;case"base":n="ethers.base-mainnet.quiknode.pro";break;case"base-goerli":n="ethers.base-goerli.quiknode.pro";break;case"base-spolia":n="ethers.base-sepolia.quiknode.pro";break;case"bnb":n="ethers.bsc.quiknode.pro";break;case"bnbt":n="ethers.bsc-testnet.quiknode.pro";break;case"matic":n="ethers.matic.quiknode.pro";break;case"maticmum":n="ethers.matic-testnet.quiknode.pro";break;case"optimism":n="ethers.optimism.quiknode.pro";break;case"optimism-goerli":n="ethers.optimism-goerli.quiknode.pro";break;case"optimism-sepolia":n="ethers.optimism-sepolia.quiknode.pro";break;case"xdai":n="ethers.xdai.quiknode.pro";break;default:th.throwArgumentError("unsupported network","network",arguments[0])}return"https://"+n+"/"+t}}const rh=new J(Nt);let w5=1;function nh(r,e){const t="Web3LegacyFetcher";return function(n,i){const s={method:n,params:i,id:w5++,jsonrpc:"2.0"};return new Promise((o,a)=>{this.emit("debug",{action:"request",fetcher:t,request:Ut(s),provider:this}),e(s,(c,l)=>{if(c)return this.emit("debug",{action:"response",fetcher:t,error:c,request:s,provider:this}),a(c);if(this.emit("debug",{action:"response",fetcher:t,request:s,response:l,provider:this}),l.error){const u=new Error(l.error.message);return u.code=l.error.code,u.data=l.error.data,a(u)}o(l.result)})})}}function v5(r){return function(e,t){t==null&&(t=[]);const n={method:e,params:t};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Ut(n),provider:this}),r.request(n).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:i,provider:this}),i})}}class Xm extends $n{constructor(e,t){e==null&&rh.throwArgumentError("missing provider","provider",e);let n=null,i=null,s=null;typeof e=="function"?(n="unknown:",i=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),s=e,e.request?(n===""&&(n="eip-1193:"),i=v5(e)):e.sendAsync?i=nh(e,e.sendAsync.bind(e)):e.send?i=nh(e,e.send.bind(e)):rh.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,t),ce(this,"jsonRpcFetchFunc",i),ce(this,"provider",s)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}const ih=new J(Nt);function mf(r,e){if(r==null&&(r="homestead"),typeof r=="string"){const n=r.match(/^(ws|http)s?:/i);if(n)switch(n[1].toLowerCase()){case"http":case"https":return new $n(r);case"ws":case"wss":return new Qo(r);default:ih.throwArgumentError("unsupported URL scheme","network",r)}}const t=uf(r);return(!t||!t._defaultProvider)&&ih.throwError("unsupported getDefaultProvider network",J.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:r}),t._defaultProvider({FallbackProvider:Gm,AlchemyProvider:df,AnkrProvider:Vm,CloudflareProvider:Hm,EtherscanProvider:Km,InfuraProvider:pf,JsonRpcProvider:$n,NodesmithProvider:Wm,PocketProvider:Ym,QuickNodeProvider:Jm,Web3Provider:Xm,IpcProvider:zm},e)}const Qm=Object.freeze(Object.defineProperty({__proto__:null,AlchemyProvider:df,AlchemyWebSocketProvider:jm,AnkrProvider:Vm,BaseProvider:Xo,CloudflareProvider:Hm,EtherscanProvider:Km,FallbackProvider:Gm,Formatter:Ee,InfuraProvider:pf,InfuraWebSocketProvider:qm,IpcProvider:zm,JsonRpcBatchProvider:g5,JsonRpcProvider:$n,JsonRpcSigner:hf,NodesmithProvider:Wm,PocketProvider:Ym,Provider:zn,QuickNodeProvider:Jm,Resolver:Kc,StaticJsonRpcProvider:$m,UrlJsonRpcProvider:Or,Web3Provider:Xm,WebSocketProvider:Qo,getDefaultProvider:mf,getNetwork:uf,isCommunityResourcable:Lm,isCommunityResource:Hc,showThrottleMessage:_s},Symbol.toStringTag,{value:"Module"})),A5="solidity/5.8.0",E5=new RegExp("^bytes([0-9]+)$"),T5=new RegExp("^(u?int)([0-9]*)$"),S5=new RegExp("^(.*)\\[([0-9]*)\\]$"),k5="0000000000000000000000000000000000000000000000000000000000000000",ri=new J(A5);function Zm(r,e,t){switch(r){case"address":return t?Xi(e,32):me(e);case"string":return vt(e);case"bytes":return me(e);case"bool":return e=e?"0x01":"0x00",t?Xi(e,32):me(e)}let n=r.match(T5);if(n){let i=parseInt(n[2]||"256");return(n[2]&&String(i)!==n[2]||i%8!==0||i===0||i>256)&&ri.throwArgumentError("invalid number type","type",r),t&&(i=256),e=pe.from(e).toTwos(i),Xi(e,i/8)}if(n=r.match(E5),n){const i=parseInt(n[1]);return(String(i)!==n[1]||i===0||i>32)&&ri.throwArgumentError("invalid bytes type","type",r),me(e).byteLength!==i&&ri.throwArgumentError(`invalid value for ${r}`,"value",e),t?me((e+k5).substring(0,66)):e}if(n=r.match(S5),n&&Array.isArray(e)){const i=n[1];parseInt(n[2]||String(e.length))!=e.length&&ri.throwArgumentError(`invalid array length for ${r}`,"value",e);const o=[];return e.forEach(function(a){o.push(Zm(i,a,!0))}),He(o)}return ri.throwArgumentError("invalid type","type",r)}function xf(r,e){r.length!=e.length&&ri.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);const t=[];return r.forEach(function(n,i){t.push(Zm(n,e[i]))}),xe(He(t))}function C5(r,e){return Ve(xf(r,e))}function M5(r,e){return Gr(xf(r,e))}const _5="units/5.8.0",ex=new J(_5),tx=["wei","kwei","mwei","gwei","szabo","finney","ether"];function N5(r){const e=String(r).split(".");(e.length>2||!e[0].match(/^-?[0-9]*$/)||e[1]&&!e[1].match(/^[0-9]*$/)||r==="."||r==="-.")&&ex.throwArgumentError("invalid value","value",r);let t=e[0],n="";for(t.substring(0,1)==="-"&&(n="-",t=t.substring(1));t.substring(0,1)==="0";)t=t.substring(1);t===""&&(t="0");let i="";for(e.length===2&&(i="."+(e[1]||"0"));i.length>2&&i[i.length-1]==="0";)i=i.substring(0,i.length-1);const s=[];for(;t.length;)if(t.length<=3){s.unshift(t);break}else{const o=t.length-3;s.unshift(t.substring(o)),t=t.substring(0,o)}return n+s.join(",")+i}function rx(r,e){if(typeof e=="string"){const t=tx.indexOf(e);t!==-1&&(e=3*t)}return Xs(r,e??18)}function nx(r,e){if(typeof r!="string"&&ex.throwArgumentError("value must be a string","value",r),typeof e=="string"){const t=tx.indexOf(e);t!==-1&&(e=3*t)}return mr(r,e??18)}function R5(r){return rx(r,18)}function P5(r){return nx(r,18)}const ix=Object.freeze(Object.defineProperty({__proto__:null,AbiCoder:_p,ConstructorFragment:fr,ErrorFragment:Dr,EventFragment:yr,FormatTypes:Fe,Fragment:wr,FunctionFragment:ur,HDNode:zt,Indexed:bo,Interface:Bc,LogDescription:jp,Logger:J,ParamType:Tt,RLP:kw,SigningKey:In,get SupportedAlgorithm(){return Ai},TransactionDescription:Vp,get TransactionTypes(){return Dc},get UnicodeNormalizationForm(){return _r},Utf8ErrorFuncs:Cp,get Utf8ErrorReason(){return Vt},_TypedDataEncoder:Ct,_fetchData:Bm,_toEscapedUtf8String:Yw,accessListify:xn,arrayify:me,base58:vi,base64:p3,checkProperties:$l,checkResultErrors:hp,commify:N5,computeAddress:cn,computeHmac:xs,computePublicKey:tf,concat:He,deepCopy:Ut,defaultAbiCoder:Np,defaultPath:Ei,defineReadOnly:ce,dnsEncode:Fp,entropyToMnemonic:Yo,fetchJson:Bi,formatBytes32String:Jw,formatEther:R5,formatUnits:rx,getAccountPath:f4,getAddress:Ue,getContractAddress:Vo,getCreate2Address:Pw,getIcapAddress:Rw,getJsonWalletAddress:g4,getStatic:Mt,hashMessage:Xl,hexConcat:Ft,hexDataLength:Mr,hexDataSlice:wt,hexStripZeros:np,hexValue:Ts,hexZeroPad:Ke,hexlify:xe,id:an,isAddress:Nw,isBytes:pn,isBytesLike:Es,isHexString:Ne,isValidMnemonic:l4,isValidName:D3,joinSignature:Nc,keccak256:Ve,mnemonicToEntropy:Wo,mnemonicToSeed:Tm,namehash:es,nameprep:f3,parseBytes32String:Xw,parseEther:P5,parseTransaction:mm,parseUnits:nx,poll:Pn,randomBytes:li,recoverAddress:Ms,recoverPublicKey:fm,resolveProperties:pt,ripemd160:vm,serializeTransaction:Uc,sha256:Gr,sha512:e4,shallowCopy:Ge,shuffled:Sm,solidityKeccak256:C5,solidityPack:xf,soliditySha256:M5,splitSignature:Hn,stripZeros:Tr,toUtf8Bytes:vt,toUtf8CodePoints:xo,toUtf8String:Gn,verifyMessage:R4,verifyTypedData:P4,zeroPad:Xi},Symbol.toStringTag,{value:"Module"})),gf="ethers/5.8.0",sx=new J(gf),ox=Object.freeze(Object.defineProperty({__proto__:null,BaseContract:nf,BigNumber:pe,Contract:Ao,ContractFactory:ym,FixedNumber:Et,Signer:qr,VoidSigner:ks,Wallet:nn,Wordlist:Wn,constants:Tp,get errors(){return Kt},getDefaultProvider:mf,logger:sx,providers:Qm,utils:ix,version:gf,wordlists:Eo},Symbol.toStringTag,{value:"Module"}));try{const r=window;r._ethers==null&&(r._ethers=ox)}catch{}const B5=Object.freeze(Object.defineProperty({__proto__:null,BaseContract:nf,BigNumber:pe,Contract:Ao,ContractFactory:ym,FixedNumber:Et,Signer:qr,VoidSigner:ks,Wallet:nn,Wordlist:Wn,constants:Tp,get errors(){return Kt},ethers:ox,getDefaultProvider:mf,logger:sx,providers:Qm,utils:ix,version:gf,wordlists:Eo},Symbol.toStringTag,{value:"Module"})),ax=_o(B5);Object.defineProperty(jr,"__esModule",{value:!0});jr.getAddress=jr.hashMessage=jr.verifyMessage=void 0;const Zn=ax;let zc=null,qc=null,Wc=null;try{zc=Zn.ethers.utils.verifyMessage,qc=Zn.ethers.utils.hashMessage,Wc=Zn.ethers.utils.getAddress}catch{zc=Zn.ethers.verifyMessage,qc=Zn.ethers.hashMessage,Wc=Zn.ethers.getAddress}jr.verifyMessage=zc;jr.hashMessage=qc;jr.getAddress=Wc;var bf={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.SiweErrorType=r.SiweError=r.VerifyOptsKeys=r.VerifyParamsKeys=void 0,r.VerifyParamsKeys=["signature","scheme","domain","nonce","time"],r.VerifyOptsKeys=["provider","suppressExceptions","verificationFallback"];class e{constructor(n,i,s){this.type=n,this.expected=i,this.received=s}}r.SiweError=e,function(t){t.EXPIRED_MESSAGE="Expired message.",t.INVALID_DOMAIN="Invalid domain.",t.SCHEME_MISMATCH="Scheme does not match provided scheme for verification.",t.DOMAIN_MISMATCH="Domain does not match provided domain for verification.",t.NONCE_MISMATCH="Nonce does not match provided nonce for verification.",t.INVALID_ADDRESS="Invalid address.",t.INVALID_URI="URI does not conform to RFC 3986.",t.INVALID_NONCE="Nonce size smaller then 8 characters or is not alphanumeric.",t.NOT_YET_VALID_MESSAGE="Message is not valid yet.",t.INVALID_SIGNATURE="Signature does not match address of the message.",t.INVALID_TIME_FORMAT="Invalid time format.",t.INVALID_MESSAGE_VERSION="Invalid message version.",t.UNABLE_TO_PARSE="Unable to parse the message."}(r.SiweErrorType||(r.SiweErrorType={}))})(bf);var dr={},cx={},Zo={},ea={};Object.defineProperty(ea,"__esModule",{value:!0});ea.BrowserRandomSource=void 0;const sh=65536;class I5{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const t=new Uint8Array(e);for(let n=0;n<t.length;n+=sh)this._crypto.getRandomValues(t.subarray(n,n+Math.min(t.length-n,sh)));return t}}ea.BrowserRandomSource=I5;function O5(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ta={},ra={};Object.defineProperty(ra,"__esModule",{value:!0});function L5(r){for(var e=0;e<r.length;e++)r[e]=0;return r}ra.wipe=L5;Object.defineProperty(ta,"__esModule",{value:!0});ta.NodeRandomSource=void 0;const F5=ra;class D5{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof O5<"u"){const e=mh;e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=t[i];return(0,F5.wipe)(t),n}}ta.NodeRandomSource=D5;Object.defineProperty(Zo,"__esModule",{value:!0});Zo.SystemRandomSource=void 0;const U5=ea,$5=ta;class j5{constructor(){if(this.isAvailable=!1,this.name="",this._source=new U5.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new $5.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}Zo.SystemRandomSource=j5;var Pe={},lx={};(function(r){Object.defineProperty(r,"__esModule",{value:!0});function e(a,c){var l=a>>>16&65535,u=a&65535,d=c>>>16&65535,h=c&65535;return u*h+(l*h+u*d<<16>>>0)|0}r.mul=Math.imul||e;function t(a,c){return a+c|0}r.add=t;function n(a,c){return a-c|0}r.sub=n;function i(a,c){return a<<c|a>>>32-c}r.rotl=i;function s(a,c){return a<<32-c|a>>>c}r.rotr=s;function o(a){return typeof a=="number"&&isFinite(a)&&Math.floor(a)===a}r.isInteger=Number.isInteger||o,r.MAX_SAFE_INTEGER=9007199254740991,r.isSafeInteger=function(a){return r.isInteger(a)&&a>=-r.MAX_SAFE_INTEGER&&a<=r.MAX_SAFE_INTEGER}})(lx);Object.defineProperty(Pe,"__esModule",{value:!0});var fx=lx;function V5(r,e){return e===void 0&&(e=0),(r[e+0]<<8|r[e+1])<<16>>16}Pe.readInt16BE=V5;function H5(r,e){return e===void 0&&(e=0),(r[e+0]<<8|r[e+1])>>>0}Pe.readUint16BE=H5;function K5(r,e){return e===void 0&&(e=0),(r[e+1]<<8|r[e])<<16>>16}Pe.readInt16LE=K5;function G5(r,e){return e===void 0&&(e=0),(r[e+1]<<8|r[e])>>>0}Pe.readUint16LE=G5;function ux(r,e,t){return e===void 0&&(e=new Uint8Array(2)),t===void 0&&(t=0),e[t+0]=r>>>8,e[t+1]=r>>>0,e}Pe.writeUint16BE=ux;Pe.writeInt16BE=ux;function hx(r,e,t){return e===void 0&&(e=new Uint8Array(2)),t===void 0&&(t=0),e[t+0]=r>>>0,e[t+1]=r>>>8,e}Pe.writeUint16LE=hx;Pe.writeInt16LE=hx;function Yc(r,e){return e===void 0&&(e=0),r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]}Pe.readInt32BE=Yc;function Jc(r,e){return e===void 0&&(e=0),(r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3])>>>0}Pe.readUint32BE=Jc;function Xc(r,e){return e===void 0&&(e=0),r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]}Pe.readInt32LE=Xc;function Qc(r,e){return e===void 0&&(e=0),(r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e])>>>0}Pe.readUint32LE=Qc;function Co(r,e,t){return e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0),e[t+0]=r>>>24,e[t+1]=r>>>16,e[t+2]=r>>>8,e[t+3]=r>>>0,e}Pe.writeUint32BE=Co;Pe.writeInt32BE=Co;function Mo(r,e,t){return e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0),e[t+0]=r>>>0,e[t+1]=r>>>8,e[t+2]=r>>>16,e[t+3]=r>>>24,e}Pe.writeUint32LE=Mo;Pe.writeInt32LE=Mo;function z5(r,e){e===void 0&&(e=0);var t=Yc(r,e),n=Yc(r,e+4);return t*4294967296+n-(n>>31)*4294967296}Pe.readInt64BE=z5;function q5(r,e){e===void 0&&(e=0);var t=Jc(r,e),n=Jc(r,e+4);return t*4294967296+n}Pe.readUint64BE=q5;function W5(r,e){e===void 0&&(e=0);var t=Xc(r,e),n=Xc(r,e+4);return n*4294967296+t-(t>>31)*4294967296}Pe.readInt64LE=W5;function Y5(r,e){e===void 0&&(e=0);var t=Qc(r,e),n=Qc(r,e+4);return n*4294967296+t}Pe.readUint64LE=Y5;function dx(r,e,t){return e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0),Co(r/4294967296>>>0,e,t),Co(r>>>0,e,t+4),e}Pe.writeUint64BE=dx;Pe.writeInt64BE=dx;function px(r,e,t){return e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0),Mo(r>>>0,e,t),Mo(r/4294967296>>>0,e,t+4),e}Pe.writeUint64LE=px;Pe.writeInt64LE=px;function J5(r,e,t){if(t===void 0&&(t=0),r%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(r/8>e.length-t)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,s=r/8+t-1;s>=t;s--)n+=e[s]*i,i*=256;return n}Pe.readUintBE=J5;function X5(r,e,t){if(t===void 0&&(t=0),r%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(r/8>e.length-t)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,s=t;s<t+r/8;s++)n+=e[s]*i,i*=256;return n}Pe.readUintLE=X5;function Q5(r,e,t,n){if(t===void 0&&(t=new Uint8Array(r/8)),n===void 0&&(n=0),r%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!fx.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var i=1,s=r/8+n-1;s>=n;s--)t[s]=e/i&255,i*=256;return t}Pe.writeUintBE=Q5;function Z5(r,e,t,n){if(t===void 0&&(t=new Uint8Array(r/8)),n===void 0&&(n=0),r%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!fx.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var i=1,s=n;s<n+r/8;s++)t[s]=e/i&255,i*=256;return t}Pe.writeUintLE=Z5;function e8(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat32(e)}Pe.readFloat32BE=e8;function t8(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat32(e,!0)}Pe.readFloat32LE=t8;function r8(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat64(e)}Pe.readFloat64BE=r8;function n8(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat64(e,!0)}Pe.readFloat64LE=n8;function i8(r,e,t){e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(t,r),e}Pe.writeFloat32BE=i8;function s8(r,e,t){e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(t,r,!0),e}Pe.writeFloat32LE=s8;function o8(r,e,t){e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(t,r),e}Pe.writeFloat64BE=o8;function a8(r,e,t){e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(t,r,!0),e}Pe.writeFloat64LE=a8;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.randomStringForEntropy=r.randomString=r.randomUint32=r.randomBytes=r.defaultRandomSource=void 0;const e=Zo,t=Pe,n=ra;r.defaultRandomSource=new e.SystemRandomSource;function i(l,u=r.defaultRandomSource){return u.randomBytes(l)}r.randomBytes=i;function s(l=r.defaultRandomSource){const u=i(4,l),d=(0,t.readUint32LE)(u);return(0,n.wipe)(u),d}r.randomUint32=s;const o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function a(l,u=o,d=r.defaultRandomSource){if(u.length<2)throw new Error("randomString charset is too short");if(u.length>256)throw new Error("randomString charset is too long");let h="";const g=u.length,b=256-256%g;for(;l>0;){const y=i(Math.ceil(l*256/b),d);for(let E=0;E<y.length&&l>0;E++){const w=y[E];w<b&&(h+=u.charAt(w%g),l--)}(0,n.wipe)(y)}return h}r.randomString=a;function c(l,u=o,d=r.defaultRandomSource){const h=Math.ceil(l/(Math.log(u.length)/Math.LN2));return a(h,u,d)}r.randomStringForEntropy=c})(cx);var c8=mt&&mt.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(r,e||[])).next())})};Object.defineProperty(dr,"__esModule",{value:!0});dr.checkInvalidKeys=dr.isValidISO8601Date=dr.generateNonce=dr.checkContractWalletSignature=void 0;const l8=cx,f8=ax,u8=jr,h8=["function isValidSignature(bytes32 _message, bytes _signature) public view returns (bytes4)"],d8="0x1626ba7e",oh=/^(?<date>[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01]))[Tt]([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(.[0-9]+)?(([Zz])|([+|-]([01][0-9]|2[0-3]):[0-5][0-9]))$/,p8=(r,e,t)=>c8(void 0,void 0,void 0,function*(){if(!t)return!1;const n=new f8.Contract(r.address,h8,t),i=(0,u8.hashMessage)(r.prepareMessage());return(yield n.isValidSignature(i,e))===d8});dr.checkContractWalletSignature=p8;const m8=()=>{const r=(0,l8.randomStringForEntropy)(96);if(!r||r.length<8)throw new Error("Error during nonce creation.");return r};dr.generateNonce=m8;const x8=r=>{const e=oh.exec(r);if(!r)return!1;const t=new Date(e.groups.date).toISOString(),n=oh.exec(t);return e.groups.date===n.groups.date};dr.isValidISO8601Date=x8;const g8=(r,e)=>{const t=[];return Object.keys(r).forEach(n=>{e.includes(n)||t.push(n)}),t};dr.checkInvalidKeys=g8;var b8=mt&&mt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),y8=mt&&mt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),w8=mt&&mt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&b8(e,r,t);return y8(e,r),e},ah=mt&&mt.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(r,e||[])).next())})};Object.defineProperty(Do,"__esModule",{value:!0});Do.SiweMessage=void 0;const fc=Yd,v8=w8(ow),ch=jr,De=bf,tn=dr;class A8{constructor(e){if(typeof e=="string"){const t=new fc.ParsedMessage(e);this.scheme=t.scheme,this.domain=t.domain,this.address=t.address,this.statement=t.statement,this.uri=t.uri,this.version=t.version,this.nonce=t.nonce,this.issuedAt=t.issuedAt,this.expirationTime=t.expirationTime,this.notBefore=t.notBefore,this.requestId=t.requestId,this.chainId=t.chainId,this.resources=t.resources}else this.scheme=e==null?void 0:e.scheme,this.domain=e.domain,this.address=e.address,this.statement=e==null?void 0:e.statement,this.uri=e.uri,this.version=e.version,this.chainId=e.chainId,this.nonce=e.nonce,this.issuedAt=e==null?void 0:e.issuedAt,this.expirationTime=e==null?void 0:e.expirationTime,this.notBefore=e==null?void 0:e.notBefore,this.requestId=e==null?void 0:e.requestId,this.resources=e==null?void 0:e.resources,typeof this.chainId=="string"&&(this.chainId=(0,fc.parseIntegerNumber)(this.chainId));this.nonce=this.nonce||(0,tn.generateNonce)(),this.validateMessage()}toMessage(){this.validateMessage();const t=`${this.scheme?`${this.scheme}://${this.domain}`:this.domain} wants you to sign in with your Ethereum account:`,n=`URI: ${this.uri}`;let i=[t,this.address].join(`
`);const s=`Version: ${this.version}`;this.nonce||(this.nonce=(0,tn.generateNonce)());const o="Chain ID: "+this.chainId||"1",a=`Nonce: ${this.nonce}`,c=[n,s,o,a];if(this.issuedAt=this.issuedAt||new Date().toISOString(),c.push(`Issued At: ${this.issuedAt}`),this.expirationTime){const u=`Expiration Time: ${this.expirationTime}`;c.push(u)}this.notBefore&&c.push(`Not Before: ${this.notBefore}`),this.requestId&&c.push(`Request ID: ${this.requestId}`),this.resources&&c.push(["Resources:",...this.resources.map(u=>`- ${u}`)].join(`
`));const l=c.join(`
`);return i=[i,this.statement].join(`

`),this.statement&&(i+=`
`),[i,l].join(`
`)}prepareMessage(){let e;switch(this.version){case"1":{e=this.toMessage();break}default:{e=this.toMessage();break}}return e}validate(e,t){return ah(this,void 0,void 0,function*(){return console.warn("validate() has been deprecated, please update your code to use verify(). validate() may be removed in future versions."),this.verify({signature:e},{provider:t,suppressExceptions:!1}).then(({data:n})=>n).catch(({error:n})=>{throw n})})}verify(e,t={suppressExceptions:!1}){return ah(this,void 0,void 0,function*(){return new Promise((n,i)=>{var s,o,a;const c=R=>t.suppressExceptions?n(R):i(R),l=(0,tn.checkInvalidKeys)(e,De.VerifyParamsKeys);l.length>0&&c({success:!1,data:this,error:new Error(`${l.join(", ")} is/are not valid key(s) for VerifyParams.`)});const u=(0,tn.checkInvalidKeys)(t,De.VerifyOptsKeys);l.length>0&&c({success:!1,data:this,error:new Error(`${u.join(", ")} is/are not valid key(s) for VerifyOpts.`)});const{signature:d,scheme:h,domain:g,nonce:b,time:y}=e;h&&h!==this.scheme&&c({success:!1,data:this,error:new De.SiweError(De.SiweErrorType.SCHEME_MISMATCH,h,this.scheme)}),g&&g!==this.domain&&c({success:!1,data:this,error:new De.SiweError(De.SiweErrorType.DOMAIN_MISMATCH,g,this.domain)}),b&&b!==this.nonce&&c({success:!1,data:this,error:new De.SiweError(De.SiweErrorType.NONCE_MISMATCH,b,this.nonce)});const E=new Date(y||new Date);if(this.expirationTime){const R=new Date(this.expirationTime);E.getTime()>=R.getTime()&&c({success:!1,data:this,error:new De.SiweError(De.SiweErrorType.EXPIRED_MESSAGE,`${E.toISOString()} < ${R.toISOString()}`,`${E.toISOString()} >= ${R.toISOString()}`)})}if(this.notBefore){const R=new Date(this.notBefore);E.getTime()<R.getTime()&&c({success:!1,data:this,error:new De.SiweError(De.SiweErrorType.NOT_YET_VALID_MESSAGE,`${E.toISOString()} >= ${R.toISOString()}`,`${E.toISOString()} < ${R.toISOString()}`)})}let w;try{w=this.prepareMessage()}catch(R){c({success:!1,data:this,error:R})}let _;try{_=(0,ch.verifyMessage)(w,d)}catch(R){console.error(R)}if(_===this.address)return n({success:!0,data:this});{const R=(0,tn.checkContractWalletSignature)(this,d,t.provider).then(F=>F?{success:!0,data:this}:{success:!1,data:this,error:new De.SiweError(De.SiweErrorType.INVALID_SIGNATURE,_,`Resolved address to be ${this.address}`)}).catch(F=>({success:!1,data:this,error:F}));Promise.all([R,(a=(o=(s=t==null?void 0:t.verificationFallback)===null||s===void 0?void 0:s.call(t,e,t,this,R))===null||o===void 0?void 0:o.then(F=>F))===null||a===void 0?void 0:a.catch(F=>F)]).then(([F,L])=>{if(L){if(L.success)return n(L);c(L)}else{if(F.success)return n(F);c(F)}})}})})}validateMessage(...e){var t;if(e.length>0)throw new De.SiweError(De.SiweErrorType.UNABLE_TO_PARSE,"Unexpected argument in the validateMessage function.");if(!this.domain||this.domain.length===0||!/[^#?]*/.test(this.domain))throw new De.SiweError(De.SiweErrorType.INVALID_DOMAIN,`${this.domain} to be a valid domain.`);if(!(0,fc.isEIP55Address)(this.address))throw new De.SiweError(De.SiweErrorType.INVALID_ADDRESS,(0,ch.getAddress)(this.address),this.address);if(!v8.isUri(this.uri))throw new De.SiweError(De.SiweErrorType.INVALID_URI,`${this.uri} to be a valid uri.`);if(this.version!=="1")throw new De.SiweError(De.SiweErrorType.INVALID_MESSAGE_VERSION,"1",this.version);const n=(t=this===null||this===void 0?void 0:this.nonce)===null||t===void 0?void 0:t.match(/[a-zA-Z0-9]{8,}/);if(!n||this.nonce.length<8||n[0]!==this.nonce)throw new De.SiweError(De.SiweErrorType.INVALID_NONCE,`Length > 8 (${n.length}). Alphanumeric.`,this.nonce);if(this.issuedAt&&!(0,tn.isValidISO8601Date)(this.issuedAt))throw new Error(De.SiweErrorType.INVALID_TIME_FORMAT);if(this.expirationTime&&!(0,tn.isValidISO8601Date)(this.expirationTime))throw new Error(De.SiweErrorType.INVALID_TIME_FORMAT);if(this.notBefore&&!(0,tn.isValidISO8601Date)(this.notBefore))throw new Error(De.SiweErrorType.INVALID_TIME_FORMAT)}}Do.SiweMessage=A8;(function(r){var e=mt&&mt.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),t=mt&&mt.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(r,"__esModule",{value:!0}),t(Do,r),t(bf,r),t(dr,r)})(Wd);const E8=[{id:"metaMask",name:"MetaMask",icon:"",keywords:["metamask","meta mask","io.metamask","metamasksdk","injected","ethereum"]},{id:"trustWallet",name:"Trust Wallet",icon:"",keywords:["trust","trustwallet","trust wallet","trustwalletconnector","trustwalletconnect","trustWallet","trustWalletSDK","walletconnect","wc","walletconnectwallet"]}],T8=({onAuthSuccess:r})=>{const{address:e,isConnected:t}=Zc(),{signMessageAsync:n}=gx(),{disconnect:i}=hh(),{connect:s,isPending:o}=bx(),a=yx(),{loginWithWallet:c}=pi(),[l,u]=le.useState(!1),[d,h]=le.useState(null),g=le.useMemo(()=>E8.map(E=>{const w=a.find(_=>{const R=_.id.toLowerCase(),F=_.name.toLowerCase(),L=(_.type||"").toLowerCase();if(R===E.id.toLowerCase()||F===E.name.toLowerCase())return!0;const P=[R,F,L];return E.keywords.some(q=>{const fe=q.toLowerCase();return P.some(Y=>Y.includes(fe)||fe.includes(Y)||Y===fe||R.startsWith(fe)||fe.startsWith(R))})});return{...E,connector:w,isAvailable:!!w}}).filter(E=>E.isAvailable),[a]),b=async E=>{var w,_;if(!E.connector){yt.error(`${E.name} is not available. Please install the wallet extension.`);return}try{h(E.id),await s({connector:E.connector})}catch(R){console.error("Connection error:",R),(w=R.message)!=null&&w.includes("User rejected")||(_=R.message)!=null&&_.includes("rejected")?yt.error("Connection request was cancelled"):yt.error(`Failed to connect to ${E.name}`)}finally{h(null)}},y=async()=>{var E,w,_;if(!e){yt.error("Please connect your wallet first");return}try{u(!0);const R=await fetch("/api/auth/nonce",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:e})});if(!R.ok)throw new Error("Failed to get nonce");const{nonce:F}=await R.json(),P=new Wd.SiweMessage({domain:window.location.host,address:e,statement:"Sign in to BondX",uri:window.location.origin,version:"1",chainId:parseInt("84532"),nonce:F}).prepareMessage(),U=await n({message:P});if(!U)throw new Error("No signature received from wallet");if(!U.startsWith("0x")||U.length!==132)throw console.error("Invalid signature format:",{length:U.length,expected:132,preview:U.substring(0,50)}),new Error(`Invalid signature format: Expected 132 characters (0x + 130 hex), got ${U.length}. Please try a different wallet.`);const q=await fetch("/api/auth/verify-wallet",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:P,signature:U,address:e})});if(!q.ok){const Y=await q.json();throw new Error(Y.error||Y.message||"Verification failed")}const fe=await q.json();fe.token&&fe.user&&(localStorage.setItem("auth_token",fe.token),fe.user.address&&localStorage.setItem("user_address",fe.user.address),c(e,fe.token,fe.user)),yt.success("Wallet connected successfully!"),r()}catch(R){(E=R.message)!=null&&E.includes("User rejected")||(w=R.message)!=null&&w.includes("rejected")?yt.error("Signature request was cancelled"):(_=R.message)!=null&&_.includes("Invalid signature format")?yt.error(R.message,{autoClose:5e3}):yt.error(R.message||"Failed to verify wallet")}finally{u(!1)}};return z.jsx("div",{className:"space-y-4",children:t?z.jsxs("div",{className:"space-y-4",children:[z.jsxs("div",{className:"bg-[#1a1a1a] rounded-lg p-4 border border-gray-800",children:[z.jsxs("div",{className:"flex items-center justify-between mb-2",children:[z.jsx("span",{className:"text-gray-400 text-sm",children:"Connected Wallet"}),z.jsx("button",{onClick:()=>i(),className:"text-xs text-gray-500 hover:text-gray-300",children:"Disconnect"})]}),z.jsx("p",{className:"text-white font-mono text-sm break-all",children:e})]}),z.jsx("button",{onClick:y,disabled:l,className:"w-full bg-[var(--primary)] text-black py-3 px-4 rounded-lg font-semibold hover:bg-[var(--primary-hover)] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:l?z.jsxs(z.Fragment,{children:[z.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[z.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),z.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Verifying..."]}):"Sign In with Wallet"}),z.jsx("p",{className:"text-xs text-gray-500 text-center",children:"By signing in, you agree to our Terms of Service and Privacy Policy"})]}):z.jsxs("div",{className:"space-y-4",children:[z.jsx("p",{className:"text-gray-400 text-sm text-center mb-4",children:"Connect your wallet to sign in securely"}),z.jsx("div",{className:"space-y-3",children:g.map(E=>z.jsxs("button",{onClick:()=>b(E),disabled:o||d!==null,className:"w-full flex items-center justify-between gap-3 py-3 px-4 rounded-lg font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed bg-[#1a1a1a] hover:bg-[#252525] border border-gray-800 hover:border-[var(--primary)] text-white",children:[z.jsxs("div",{className:"flex items-center gap-3",children:[z.jsx("span",{className:"text-2xl",children:E.icon}),z.jsx("span",{className:"font-semibold",children:E.name})]}),d===E.id?z.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[z.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),z.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):z.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]},E.id))}),g.length===0&&z.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No wallets detected. Please install a wallet extension."})]})})},S8=({onAuthSuccess:r})=>{const[e,t]=le.useState(""),[n,i]=le.useState(!1),[s,o]=le.useState("email"),[a,c]=le.useState(["","","","","",""]),l=le.useRef([]),{loginWithEmail:u}=pi();le.useEffect(()=>{s==="code"&&setTimeout(()=>{var E;(E=l.current[0])==null||E.focus()},100)},[s]);const d=async E=>{E.preventDefault();const w=e.toLowerCase().trim();if(!w||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(w)){yt.error("Please enter a valid email address");return}try{i(!0);const _=await fetch("/api/auth/send-email-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:w})});if(!_.ok){const R=await _.json();throw new Error(R.message||"Failed to send code")}yt.success("Verification code sent to your email!"),o("code"),c(["","","","","",""])}catch(_){yt.error(_.message||"Failed to send verification code")}finally{i(!1)}},h=(E,w)=>{var R,F,L;const _=w.replace(/\D/g,"");if(_.length>1){const P=_.slice(0,6).split(""),U=["","","","","",""];P.forEach((Y,Q)=>{Q<6&&(U[Q]=Y)}),c(U);const q=U.findIndex((Y,Q)=>Q>=E&&Y===""),fe=q===-1?Math.min(P.length-1,5):q;(R=l.current[fe])==null||R.focus()}else if(_){const P=[...a];P[E]=_,c(P),E<5?(F=l.current[E+1])==null||F.focus():(L=l.current[E])==null||L.blur()}else{const P=[...a];P[E]="",c(P)}},g=(E,w)=>{var _,R,F,L,P;if(w.key==="Backspace"&&!a[E]&&E>0&&(w.preventDefault(),(_=l.current[E-1])==null||_.focus()),w.key==="Delete"){const U=[...a];U[E]="",c(U)}w.key==="ArrowLeft"&&E>0&&(w.preventDefault(),(R=l.current[E-1])==null||R.focus()),w.key==="ArrowRight"&&E<5&&(w.preventDefault(),(F=l.current[E+1])==null||F.focus()),w.key==="Home"&&(w.preventDefault(),(L=l.current[0])==null||L.focus()),w.key==="End"&&(w.preventDefault(),(P=l.current[5])==null||P.focus())},b=E=>{var _;E.preventDefault();const w=E.clipboardData.getData("text").replace(/\D/g,"").slice(0,6);if(w.length>0){const R=["","","","","",""];w.split("").forEach((P,U)=>{U<6&&(R[U]=P)}),c(R);const F=R.findIndex(P=>P===""),L=F===-1?5:F;(_=l.current[L])==null||_.focus()}},y=async E=>{var F,L;E.preventDefault();const _=a.join("").replace(/\D/g,"").trim();if(!_||_.length!==6||!/^\d{6}$/.test(_)){yt.error("Please enter a valid 6-digit code");const P=a.findIndex(q=>q===""),U=P===-1?0:P;(F=l.current[U])==null||F.focus();return}const R=e.toLowerCase().trim();try{i(!0);const P=await fetch("/api/auth/verify-email-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:R,code:_})});if(!P.ok){const q=await P.json(),fe=q.details||q.message||"Invalid verification code";throw new Error(fe)}const U=await P.json();U.token&&U.user&&(localStorage.setItem("auth_token",U.token),localStorage.setItem("user_email",e),U.user.address&&(localStorage.setItem("user_address",U.user.address),localStorage.setItem("embedded_wallet","true")),u(e,U.token,U.user)),(L=U.user)!=null&&L.embeddedWallet?yt.success("Signed in successfully! Your embedded wallet is ready."):yt.success("Signed in successfully!"),r()}catch(P){yt.error(P.message||"Invalid verification code"),c(["","","","","",""]),setTimeout(()=>{var U;(U=l.current[0])==null||U.focus()},100)}finally{i(!1)}};return z.jsx("div",{className:"space-y-4",children:s==="email"?z.jsxs("form",{onSubmit:d,className:"space-y-4",children:[z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),z.jsx("input",{type:"email",value:e,onChange:E=>t(E.target.value),placeholder:"you@example.com",className:"w-full bg-[#1a1a1a] border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[var(--primary)] focus:border-transparent",required:!0,disabled:n})]}),z.jsx("button",{type:"submit",disabled:n,className:"w-full bg-[var(--primary)] text-black py-3 px-4 rounded-lg font-semibold hover:bg-[var(--primary-hover)] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:n?z.jsxs(z.Fragment,{children:[z.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[z.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),z.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Continue with Email"}),z.jsx("p",{className:"text-xs text-gray-500 text-center",children:"We'll send you a verification code to sign in. An embedded wallet will be created for you."})]}):z.jsxs("form",{onSubmit:y,className:"space-y-4",children:[z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3 text-center",children:"Verification Code"}),z.jsx("div",{className:"flex items-center justify-center gap-2 sm:gap-3",children:a.map((E,w)=>z.jsx("input",{ref:_=>l.current[w]=_,type:"text",inputMode:"numeric",pattern:"[0-9]*",value:E,onChange:_=>h(w,_.target.value),onKeyDown:_=>g(w,_),onPaste:b,maxLength:1,className:"w-11 h-12 sm:w-12 sm:h-14 bg-[#1a1a1a] border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[var(--primary)] focus:border-[var(--primary)] text-center text-xl sm:text-2xl font-mono font-semibold transition-all duration-200 hover:border-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",required:!0,disabled:n,"aria-label":`Digit ${w+1} of verification code`},w))}),z.jsxs("p",{className:"text-xs text-gray-500 mt-3 text-center",children:["Enter the 6-digit code sent to ",z.jsx("span",{className:"text-gray-400 font-medium",children:e})]})]}),z.jsx("button",{type:"submit",disabled:n||a.join("").length!==6,className:"w-full bg-[var(--primary)] text-black py-3 px-4 rounded-lg font-semibold hover:bg-[var(--primary-hover)] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:n?z.jsxs(z.Fragment,{children:[z.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[z.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),z.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Verifying..."]}):"Verify & Sign In"}),z.jsx("button",{type:"button",onClick:()=>{o("email"),c(["","","","","",""])},className:"w-full text-gray-400 hover:text-white text-sm transition-colors",children:"Change email address"})]})})},k8=({onAuthSuccess:r})=>{const[e,t]=le.useState(null),{loginWithEmail:n}=pi();le.useEffect(()=>{const o=new URLSearchParams(window.location.search),a=o.get("token"),c=o.get("email"),l=o.get("provider");a&&c&&l==="google"&&(localStorage.setItem("auth_token",a),localStorage.setItem("user_email",c),n(c,a),yt.success("Signed in with Google!"),window.history.replaceState({},document.title,window.location.pathname),r())},[n,r]);const i=async o=>{var a;t(o);try{const c=await fetch(`/api/auth/social/${o}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({redirectUri:window.location.origin})});if(!c.ok){const u=await c.json();throw new Error(u.message||`Failed to authenticate with ${o}`)}const l=await c.json();if(l.redirectUrl)window.location.href=l.redirectUrl;else{if(l.message)throw new Error(l.message);if(l.token)localStorage.setItem("auth_token",l.token),(a=l.user)!=null&&a.email&&(localStorage.setItem("user_email",l.user.email),n(l.user.email,l.token)),yt.success(`Signed in with ${o}!`),r();else throw new Error("Unexpected response from server")}}catch(c){yt.error(c.message||`Failed to sign in with ${o}`)}finally{t(null)}},s=[{id:"google",name:"Google",icon:"",color:"bg-white hover:bg-gray-100 text-gray-900"},{id:"apple",name:"Apple",icon:"",color:"bg-black hover:bg-gray-900 text-white"}];return z.jsxs("div",{className:"space-y-3",children:[s.map(o=>z.jsx("button",{onClick:()=>i(o.id),disabled:e!==null,className:`w-full flex items-center justify-center gap-3 py-3 px-4 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${o.color}`,children:e===o.id?z.jsxs(z.Fragment,{children:[z.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[z.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),z.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Connecting..."]}):z.jsxs(z.Fragment,{children:[z.jsx("span",{className:"text-xl",children:o.icon}),z.jsxs("span",{children:["Continue with ",o.name]})]})},o.id)),z.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})},C8=({isOpen:r,onClose:e,onAuthSuccess:t})=>{const[n,i]=le.useState("wallet"),[s,o]=le.useState(!1);le.useEffect(()=>(o(!0),()=>o(!1)),[]),le.useEffect(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[r]);const a=()=>{t==null||t(),e()};if(!r||!s)return null;const c=z.jsx(ol,{children:z.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-2 sm:p-4 overflow-y-auto",children:[z.jsx(tr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/60 backdrop-blur-sm"}),z.jsxs(tr.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},onClick:l=>l.stopPropagation(),className:"relative bg-[#111111] rounded-2xl shadow-2xl w-full max-w-md mx-auto my-auto border border-gray-800 max-h-[90vh] overflow-hidden flex flex-col",children:[z.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors z-10",children:z.jsx(so,{className:"w-6 h-6"})}),z.jsxs("div",{className:"p-4 sm:p-6 overflow-y-auto flex-1",children:[z.jsxs("div",{className:"text-center mb-6",children:[z.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Connect to BondX"}),z.jsx("p",{className:"text-gray-400 text-sm",children:"Choose your preferred authentication method"})]}),z.jsxs("div",{className:"flex gap-2 mb-6 bg-[#1a1a1a] p-1 rounded-lg",children:[z.jsx("button",{onClick:()=>i("wallet"),className:`flex-1 py-2.5 px-4 rounded-md text-sm font-medium transition-all ${n==="wallet"?"bg-[var(--primary)] text-black shadow-lg":"text-gray-400 hover:text-white"}`,children:"Wallet"}),z.jsx("button",{onClick:()=>i("email"),className:`flex-1 py-2.5 px-4 rounded-md text-sm font-medium transition-all ${n==="email"?"bg-[var(--primary)] text-black shadow-lg":"text-gray-400 hover:text-white"}`,children:"Email"})]}),z.jsx("div",{className:"min-h-[200px] sm:min-h-[300px]",children:n==="wallet"?z.jsx(T8,{onAuthSuccess:a}):z.jsxs("div",{className:"space-y-4",children:[z.jsx(S8,{onAuthSuccess:a}),z.jsxs("div",{className:"relative my-6",children:[z.jsx("div",{className:"absolute inset-0 flex items-center",children:z.jsx("div",{className:"w-full border-t border-gray-700"})}),z.jsx("div",{className:"relative flex justify-center text-sm",children:z.jsx("span",{className:"px-2 bg-[#111111] text-gray-400",children:"Or continue with"})})]}),z.jsx(k8,{onAuthSuccess:a})]})})]})]})]})});return kx.createPortal(c,document.body)},F8=(r,e=18)=>{if(!r||typeof r!="string"||r.trim()===""||r==="0")return"0";try{const t=parseFloat(wx(BigInt(r),e));if(!isFinite(t)||isNaN(t))return"0";const n=(i,s)=>{const o=i.toFixed(s);return parseFloat(o).toString()};if(t>=1e12)return`${n(t/1e12,2)}T`;if(t>=1e9)return`${n(t/1e9,2)}B`;if(t>=1e6)return`${n(t/1e6,2)}M`;if(t>=1e3)return`${n(t/1e3,2)}k`;if(t>=1)return n(t,2);if(t>0){const i=Math.log10(t);if(!isFinite(i)||i<=0)return n(t,6);const s=Math.min(6,Math.max(2,3-Math.floor(i)));return n(t,s)}else return"0"}catch(t){return console.warn("Error formatting amount in formatAmountV3:",t,{amount:r,decimals:e}),"0"}};function D8(r){if(!r)return"Unknown";const e=new Date,t=new Date(r);if(isNaN(t.getTime()))return"Invalid date";const n=Math.floor((e.getTime()-t.getTime())/1e3);if(n<0)return"Just now";const i=n%60,s=Math.floor(n/60%60),o=Math.floor(n/3600%24),a=Math.floor(n/86400%30),c=Math.floor(n/(86400*30)%12),l=Math.floor(n/(86400*365));let u="",d=0;return l>0&&d<2&&(u+=`${l}yr `,d++),c>0&&d<2&&(u+=`${c}mo `,d++),a>0&&d<2&&(u+=`${a}d `,d++),o>0&&d<2&&(u+=`${o}h `,d++),s>0&&d<2&&(u+=`${s}m `,d++),i>0&&d===0&&(u+=`${i}s `),u.trim()===""?"Just now":u.trim()+" ago"}function U8(r){if(!r||typeof r!="string"||r.trim()==="")return"Unknown";try{const e=new Date,t=new Date(r);if(isNaN(t.getTime()))return"Invalid date";const n=Math.floor((e.getTime()-t.getTime())/1e3);if(n<0)return"Just now";if(n<60)return`${n}s`;const i=Math.floor(n/60);if(i<60)return`${i}m`;const s=Math.floor(i/60);if(s<24)return`${s}hr`;const o=Math.floor(s/24);if(o<30)return`${o}d`;const a=Math.floor(o/30);return a<12?`${a}mo`:`${Math.floor(a/12)}yr`}catch(e){return console.warn("Error formatting timestamp in formatTimestampV1:",e,{timestamp:r}),"Invalid date"}}function $8(r){return!r||typeof r!="string"||r.length<6?r||"":`${r.slice(-6)}`}function M8(r){return!r||typeof r!="string"||r.length<8?r||"":r.slice(2,8)}const _8=({userAddress:r,userEmail:e,userAvatar:t,username:n})=>{const[i,s]=le.useState(!1),o=le.useRef(null),{logout:a}=pi(),{disconnect:c}=hh(),l=ph(),{address:u}=Zc(),d=dh(),{user:h}=pi(),g=r||u,b=le.useMemo(()=>{var q;const U=n&&n.trim()||(h==null?void 0:h.username)&&(h==null?void 0:h.username.trim());return U||(h!=null&&h.email||e?((q=(h==null?void 0:h.email)||e)==null?void 0:q.split("@")[0])||"Account":null)},[n,h==null?void 0:h.username,h==null?void 0:h.email,e]),y=le.useMemo(()=>b||(g?M8(g):"Account"),[b,g]),[E,w]=le.useState(!1);le.useEffect(()=>{const U=q=>{o.current&&!o.current.contains(q.target)&&s(!1)};return i&&document.addEventListener("mousedown",U),()=>{document.removeEventListener("mousedown",U)}},[i]);const _=le.useCallback((U,q)=>({[Tx.id]:`https://etherscan.io/address/${U}`,[Ex.id]:`https://basescan.org/address/${U}`,[Ax.id]:`https://sepolia.basescan.org/address/${U}`,[vx.id]:`https://arbiscan.io/address/${U}`})[q]||`https://etherscan.io/address/${U}`,[]),R=le.useCallback(async()=>{if(g)try{await navigator.clipboard.writeText(g),w(!0),yt.success("Address copied to clipboard!",{style:{background:"var(--card)",color:"var(--text-primary)",border:"1px solid var(--primary)"}}),setTimeout(()=>w(!1),2e3),s(!1)}catch{yt.error("Failed to copy address")}},[g]),F=le.useCallback(()=>{if(g){const U=_(g,d);window.open(U,"_blank"),s(!1)}},[g,d,_]),L=le.useCallback(()=>{g&&(l(`/profile/${g}`),s(!1))},[g,l]),P=le.useCallback(()=>{a(),c(),yt.success("Signed out successfully",{style:{background:"var(--card)",color:"var(--text-primary)",border:"1px solid var(--primary)"}}),s(!1)},[a,c]);return z.jsxs("div",{className:"relative",ref:o,children:[z.jsxs("button",{onClick:()=>s(!i),className:`relative flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-300\r
                   bg-gradient-to-br from-gray-800/50 to-gray-900/50 backdrop-blur-sm border border-gray-700\r
                   hover:border-[var(--primary)] hover:shadow-[0_0_10px_rgba(0,243,255,0.3)] \r
                   disabled:opacity-50 disabled:cursor-not-allowed group w-full min-h-[40px]`,style:{boxShadow:i?"0 0 8px var(--primary)":"none"},children:[t?z.jsx("img",{src:t,alt:"Profile",className:"w-5 h-5 rounded-full border border-[var(--primary)] shadow-[0_0_8px_rgba(0,243,255,0.4)] flex-shrink-0"}):z.jsx("div",{className:`w-5 h-5 rounded-full bg-gradient-to-br from-[var(--primary)] to-[var(--accent-purple)] \r
                         flex items-center justify-center border border-[var(--primary)] shadow-[0_0_8px_rgba(0,243,255,0.4)] flex-shrink-0`,children:z.jsx(ya,{className:"w-3 h-3 text-black"})}),z.jsx("span",{className:"hidden sm:inline text-white group-hover:text-[var(--primary)] transition-colors duration-200",children:y}),z.jsx("span",{className:"sm:hidden text-white group-hover:text-[var(--primary)] transition-colors duration-200",children:y}),z.jsx(zs,{className:`w-4 h-4 text-gray-400 group-hover:text-[var(--primary)] transition-all duration-300 ${i?"rotate-180":""}`})]}),z.jsx(ol,{children:i&&z.jsxs(z.Fragment,{children:[z.jsx(tr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>s(!1),className:"fixed inset-0 z-10 bg-black/20 backdrop-blur-sm"}),z.jsxs(tr.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:`absolute right-0 mt-2 w-64 bg-gradient-to-br from-gray-900/95 to-gray-800/95 backdrop-blur-md\r
                         border border-gray-700 rounded-xl shadow-xl z-20 overflow-hidden`,style:{boxShadow:"0 0 20px rgba(0, 243, 255, 0.2), 0 8px 32px rgba(0, 0, 0, 0.4)",minWidth:"240px"},children:[g&&z.jsx("div",{className:"px-4 py-3 border-b border-gray-700/50 bg-gradient-to-r from-[var(--primary)]/10 to-transparent",children:z.jsxs("div",{className:"flex items-center gap-3",children:[t?z.jsx("img",{src:t,alt:"Profile",className:"w-10 h-10 rounded-full border-2 border-[var(--primary)] shadow-[0_0_12px_rgba(0,243,255,0.5)]"}):z.jsx("div",{className:`w-10 h-10 rounded-full bg-gradient-to-br from-[var(--primary)] to-[var(--accent-purple)] \r
                                     flex items-center justify-center border-2 border-[var(--primary)] shadow-[0_0_12px_rgba(0,243,255,0.5)]`,children:z.jsx(ya,{className:"w-6 h-6 text-black"})}),z.jsxs("div",{className:"flex-1 min-w-0",children:[z.jsx("p",{className:"text-sm font-semibold text-white truncate",children:b||"User"}),z.jsx("p",{className:"text-xs text-gray-400 font-mono truncate",children:g})]})]})}),z.jsxs("div",{className:"py-2",children:[z.jsxs(tr.button,{whileHover:{x:4},whileTap:{scale:.98},onClick:L,className:`w-full flex items-center justify-between gap-3 px-4 py-3 text-sm text-gray-300 \r
                             hover:text-white hover:bg-gradient-to-r hover:from-[var(--primary)]/20 hover:to-transparent \r
                             transition-all duration-200 group/item`,children:[z.jsxs("div",{className:"flex items-center gap-3",children:[z.jsx("div",{className:`p-1.5 rounded-lg bg-[var(--primary)]/10 group-hover/item:bg-[var(--primary)]/20 \r
                                  transition-colors duration-200`,children:z.jsx(ya,{className:"w-4 h-4 text-[var(--primary)]"})}),z.jsx("span",{className:"font-medium",children:"Profile"})]}),z.jsx(zs,{className:"w-4 h-4 text-gray-500 opacity-0 group-hover/item:opacity-100 rotate-[-90deg] transition-all duration-200"})]}),g&&z.jsxs(tr.button,{whileHover:{x:4},whileTap:{scale:.98},onClick:F,className:`w-full flex items-center justify-between gap-3 px-4 py-3 text-sm text-gray-300 \r
                               hover:text-white hover:bg-gradient-to-r hover:from-[var(--primary)]/20 hover:to-transparent \r
                               transition-all duration-200 group/item`,children:[z.jsxs("div",{className:"flex items-center gap-3",children:[z.jsx("div",{className:`p-1.5 rounded-lg bg-[var(--primary)]/10 group-hover/item:bg-[var(--primary)]/20 \r
                                    transition-colors duration-200`,children:z.jsx(Xx,{className:"w-4 h-4 text-[var(--primary)]"})}),z.jsx("span",{className:"font-medium",children:"View Wallet"})]}),z.jsx(Vx,{className:"w-4 h-4 text-gray-500 opacity-0 group-hover/item:opacity-100 transition-all duration-200"})]}),g&&z.jsxs(tr.button,{whileHover:{x:4},whileTap:{scale:.98},onClick:R,className:`w-full flex items-center justify-between gap-3 px-4 py-3 text-sm text-gray-300 \r
                               hover:text-white hover:bg-gradient-to-r hover:from-[var(--primary)]/20 hover:to-transparent \r
                               transition-all duration-200 group/item`,children:[z.jsxs("div",{className:"flex items-center gap-3",children:[z.jsx("div",{className:`p-1.5 rounded-lg bg-[var(--primary)]/10 group-hover/item:bg-[var(--primary)]/20 \r
                                    transition-colors duration-200`,children:E?z.jsx(gh,{className:"w-4 h-4 text-[var(--accent-green)]"}):z.jsx(Wx,{className:"w-4 h-4 text-[var(--primary)]"})}),z.jsx("span",{className:"font-medium",children:E?"Copied!":"Copy Address"})]}),E&&z.jsx(tr.div,{initial:{scale:0},animate:{scale:1},className:"w-2 h-2 rounded-full bg-[var(--accent-green)] shadow-[0_0_8px_rgba(16,185,129,0.6)]"})]}),z.jsx("div",{className:"border-t border-gray-700/50 my-2"}),z.jsxs(tr.button,{whileHover:{x:4},whileTap:{scale:.98},onClick:P,className:`w-full flex items-center justify-between gap-3 px-4 py-3 text-sm text-red-400 \r
                             hover:text-red-300 hover:bg-gradient-to-r hover:from-red-500/20 hover:to-transparent \r
                             transition-all duration-200 group/item`,children:[z.jsxs("div",{className:"flex items-center gap-3",children:[z.jsx("div",{className:`p-1.5 rounded-lg bg-red-500/10 group-hover/item:bg-red-500/20 \r
                                  transition-colors duration-200`,children:z.jsx($x,{className:"w-4 h-4 text-red-400"})}),z.jsx("span",{className:"font-medium",children:"Log out"})]}),z.jsx(zs,{className:"w-4 h-4 text-red-500/50 opacity-0 group-hover/item:opacity-100 rotate-[-90deg] transition-all duration-200"})]})]})]})]})})]})},uc="preferred_chain_id",lh={1:{primary:"#627EEA",glow:"rgba(98, 126, 234, 0.5)"},8453:{primary:"#0052FF",glow:"rgba(0, 82, 255, 0.5)"},42161:{primary:"#28A0F0",glow:"rgba(40, 160, 240, 0.5)"},84532:{primary:"#0052FF",glow:"rgba(0, 82, 255, 0.4)"}},fh=()=>{const r=dh(),{switchChain:e,isPending:t}=Sx(),[n,i]=le.useState(!1),s=le.useRef(null),[o,a]=le.useState(!1),c=le.useMemo(()=>{const h=ga.find(g=>g.id===r);return h?yf[r]||h.name:"Unknown"},[r]),l=le.useMemo(()=>wf[r]||null,[r]),u=le.useMemo(()=>lh[r]||{primary:"var(--primary)",glow:"rgba(0, 243, 255, 0.5)"},[r]);le.useEffect(()=>{if(!o)try{const h=localStorage.getItem(uc);if(h){const g=parseInt(h,10);if(ga.some(y=>y.id===g)&&g!==r)try{e({chainId:g})}catch(y){console.error("Failed to restore preferred chain:",y),localStorage.removeItem(uc)}}a(!0)}catch(h){console.error("Error restoring preferred chain:",h),a(!0)}},[r,e,o]),le.useEffect(()=>{const h=g=>{s.current&&!s.current.contains(g.target)&&i(!1)};return n&&document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[n]);const d=le.useCallback(async h=>{if(h===r){i(!1);return}try{await e({chainId:h});try{localStorage.setItem(uc,h.toString())}catch{}i(!1)}catch(g){console.error("Failed to switch chain:",g)}},[r,e]);return z.jsxs("div",{className:"relative",ref:s,children:[z.jsxs("button",{onClick:()=>i(!n),disabled:t,className:"flex items-center justify-center gap-2 glass border border-[var(--card-boarder)] hover:border-[var(--primary)] text-white px-3 md:px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-[0_0_15px_rgba(0,243,255,0.3)] backdrop-blur-sm w-full md:w-[175px] min-h-[40px]",style:{boxShadow:n?`0 0 15px ${u.glow}`:"none"},children:[l&&z.jsx(l,{size:20,className:"rounded-full flex-shrink-0",variant:"branded"}),z.jsx("span",{className:"hidden sm:inline",children:c}),z.jsx("span",{className:"sm:hidden text-xs",children:c.split(" ")[0]}),z.jsx(zs,{className:`h-4 w-4 transition-transform duration-300 ${n?"rotate-180":""}`}),t&&z.jsx("div",{className:"loading-neon w-3 h-3 border-2 border-t-transparent"})]}),z.jsx(ol,{children:n&&z.jsxs(z.Fragment,{children:[z.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)}),z.jsx(tr.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute right-0 mt-2 w-56 bg-gradient-to-br from-gray-900/95 to-gray-800/95 backdrop-blur-md border border-gray-700 rounded-xl shadow-2xl z-50 overflow-hidden",children:z.jsx("div",{className:"py-1.5",children:ga.map((h,g)=>{const b=h.id===r,y=yf[h.id]||h.name,E=wf[h.id],w=lh[h.id]||{primary:"var(--primary)",glow:"rgba(0, 243, 255, 0.3)"};return z.jsxs(tr.button,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:g*.05},onClick:()=>d(h.id),disabled:t||b,className:`w-full flex items-center justify-between px-4 py-3 text-sm transition-all duration-300 relative overflow-hidden ${b?"bg-gradient-to-r from-[var(--primary)]/20 to-[var(--accent-purple)]/20 text-[var(--primary)]":"text-white hover:bg-[var(--card-hover)]"} ${t?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,style:{borderLeft:b?`3px solid ${w.primary}`:"3px solid transparent",boxShadow:b?`inset 0 0 20px ${w.glow}`:"none"},children:[z.jsxs("div",{className:"flex items-center gap-3",children:[E&&z.jsx("div",{style:{filter:b?`drop-shadow(0 0 8px ${w.primary})`:"none"},children:z.jsx(E,{size:24,className:"rounded-full",variant:"branded"})}),z.jsxs("div",{className:"flex flex-col items-start",children:[z.jsx("span",{className:"font-semibold",children:y}),z.jsxs("span",{className:"text-xs text-[var(--text-muted)]",children:["Chain ID: ",h.id]})]})]}),b&&z.jsx(tr.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:30},children:z.jsx(gh,{className:"h-5 w-5",style:{color:w.primary}})}),t&&!b&&z.jsx("div",{className:"loading-neon w-4 h-4 border-2 border-t-transparent"})]},h.id)})})})]})})]})},uh=()=>{const[r,e]=le.useState(!1),{user:t,isAuthenticated:n}=pi(),{address:i}=Zc();return n?z.jsx(_8,{userAddress:(t==null?void 0:t.address)||i,userEmail:t==null?void 0:t.email,userAvatar:t==null?void 0:t.avatar,username:t==null?void 0:t.username}):z.jsxs(z.Fragment,{children:[z.jsx("button",{onClick:()=>e(!0),className:"btn-primary w-full md:w-auto px-4 py-2 text-xs sm:text-sm font-semibold",children:"Connect"}),z.jsx(C8,{isOpen:r,onClose:()=>e(!1),onAuthSuccess:()=>e(!1)})]})},N8=()=>{const[r,e]=le.useState(!1),[t,n]=le.useState(!1),i=ph();return z.jsxs(z.Fragment,{children:[z.jsxs("nav",{className:"glass border-b border-[var(--card-boarder)] backdrop-blur-xl sticky top-0 z-50",children:[z.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:z.jsxs("div",{className:"flex justify-between items-center h-16 md:h-20",children:[z.jsxs("div",{className:"flex items-center space-x-4 md:space-x-8",children:[z.jsx(Mn,{to:"/",className:"flex items-center text-2xl font-bold hover:opacity-80 transition-opacity",children:z.jsx("img",{src:"/logo/logo.svg",alt:"logo",width:160,height:160})}),z.jsx("div",{className:"hidden md:flex items-center space-x-4",children:z.jsx("button",{onClick:()=>n(!0),className:"px-4 py-2 rounded-full bg-gradient-to-r from-[var(--primary)] to-[var(--accent-purple)] text-black font-semibold text-sm hover:shadow-[0_0_15px_rgba(0,243,255,0.5)] transition-all duration-300 hover:scale-105",children:"How it works"})})]}),z.jsxs("div",{className:"hidden md:flex items-center space-x-3",children:[z.jsx(Mn,{to:"https://t.me/bondx",target:"_blank",className:"flex items-center justify-center rounded-lg hover:bg-[var(--card-hover)] border border-transparent transition-all duration-300 hover:shadow-[0_0_10px_rgba(0,243,255,0.3)] flex-shrink-0",children:z.jsx("img",{src:"/logo/telegram.svg",alt:"telegram",width:35,height:35,className:"opacity-80 hover:opacity-100 transition-opacity"})}),z.jsx(Mn,{to:"https://x.com/bondx",target:"_blank",className:"flex items-center justify-center rounded-lg hover:bg-[var(--card-hover)] border border-transparent transition-all duration-300 hover:shadow-[0_0_10px_rgba(0,243,255,0.3)] flex-shrink-0",children:z.jsx("img",{src:"/logo/twitter.svg",alt:"twitter",width:35,height:35,className:"opacity-80 hover:opacity-100 transition-opacity"})}),z.jsx("button",{onClick:()=>i("/create"),className:"btn-primary px-6 py-2.5 text-sm md:text-base font-semibold",children:"Launch"}),z.jsx(fh,{}),z.jsx(uh,{})]}),z.jsx("div",{className:"md:hidden flex items-center",children:z.jsx("button",{onClick:()=>e(!r),className:"p-2 rounded-lg text-[var(--primary)] hover:bg-[var(--card-hover)] border border-transparent hover:border-[var(--primary)] transition-all duration-300 focus:outline-none",children:r?z.jsx(so,{className:"h-6 w-6"}):z.jsx(Kx,{className:"h-6 w-6"})})})]})}),r&&z.jsx("div",{className:"md:hidden bg-[var(--card2)] border-t border-[var(--card-boarder)] backdrop-blur-xl",children:z.jsxs("div",{className:"px-4 pt-4 pb-4 space-y-2",children:[z.jsx("button",{onClick:()=>{n(!0),e(!1)},className:"w-full px-4 py-2.5 rounded-lg bg-gradient-to-r from-[var(--primary)] to-[var(--accent-purple)] text-black font-semibold text-sm hover:shadow-[0_0_15px_rgba(0,243,255,0.5)] transition-all duration-300",children:"How it works"}),z.jsxs(Mn,{to:"https://t.me/bondx_xyz",target:"_blank",className:"flex items-center px-4 py-2.5 text-[var(--text-secondary)] hover:text-white hover:bg-[var(--card-hover)] border border-transparent hover:border-[var(--primary)] rounded-lg transition-all duration-300 text-sm",onClick:()=>e(!1),children:[z.jsx(s1,{className:"w-5 h-5 mr-2"}),"Telegram"]}),z.jsxs(Mn,{to:"https://x.com/bondxxyz",target:"_blank",className:"flex items-center px-4 py-2.5 text-[var(--text-secondary)] hover:text-white hover:bg-[var(--card-hover)] border border-transparent hover:border-[var(--primary)] rounded-lg transition-all duration-300 text-sm",onClick:()=>e(!1),children:[z.jsx(so,{className:"w-5 h-5 mr-2"}),"X (Twitter)"]}),z.jsx("div",{className:"pt-4 pb-2 border-t border-[var(--card-boarder)]",children:z.jsxs("div",{className:"flex flex-col gap-3",children:[z.jsx("button",{onClick:()=>{i("/create"),e(!1)},className:"btn-primary w-full py-2.5 text-sm font-semibold",children:"Launch Token"}),z.jsxs("div",{className:"flex gap-3",children:[z.jsx("div",{className:"flex-1",children:z.jsx(fh,{})}),z.jsx("div",{className:"flex-1",children:z.jsx(uh,{})})]})]})})]})})]}),z.jsx(c1,{isVisible:t,onClose:()=>n(!1)})]})},R8=()=>z.jsx("footer",{className:"glass border-t border-[var(--card-boarder)] py-6 mt-auto backdrop-blur-xl",children:z.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:z.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[z.jsx("div",{className:"text-center sm:text-left",children:z.jsxs("p",{className:"text-[var(--text-secondary)] text-sm",children:[" ",new Date().getFullYear()," BondX. All rights reserved."]})}),z.jsxs("nav",{className:"flex items-center space-x-6",children:[z.jsx(Mn,{to:"/about",className:"text-xs sm:text-sm text-[var(--text-secondary)] hover:text-[var(--primary)] transition-all duration-300 hover:shadow-[0_0_10px_rgba(0,243,255,0.3)]",children:"About"}),z.jsx(Mn,{to:"/FAQ",className:"text-xs sm:text-sm text-[var(--text-secondary)] hover:text-[var(--primary)] transition-all duration-300 hover:shadow-[0_0_10px_rgba(0,243,255,0.3)]",children:"FAQ"})]})]})})}),j8=({children:r})=>z.jsxs("div",{className:"flex flex-col min-h-screen text-white relative overflow-x-hidden",children:[z.jsx(N8,{}),z.jsx("main",{className:"flex-grow w-full px-4 sm:px-6 lg:px-12 xl:px-24 py-6 md:py-8",children:r}),z.jsx(R8,{})]});export{ol as A,zs as F,c1 as H,j8 as L,s1 as S,D8 as a,$8 as b,Si as c,U8 as d,so as e,F8 as f,gh as g,Wx as h,M8 as i,tr as m,Wd as s};
