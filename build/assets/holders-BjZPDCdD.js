import{b as i,c as l}from"./tokens-B86zubp0.js";async function p(c,s){var a,o,t,n;try{const r=new URLSearchParams,e=await l.get(`/api/holders/address/${c}/batch?${r.toString()}`);return((a=e.data)==null?void 0:a.result)||((o=e.data)==null?void 0:o.data)||[]}catch(r){console.error("Error fetching token addresses from backend:",r);try{const e=new URLSearchParams;e.append("pageSize","100");const d=await l.get(`/api/holders/address/${c}?${e.toString()}`);return((t=d.data)==null?void 0:t.result)||((n=d.data)==null?void 0:n.data)||[]}catch{throw new Error("Failed to fetch token addresses")}}}async function g(c,s){try{const a={page:1,pageSize:100};s&&(a.chainId=s);let o=[],t=1,n=!0;for(;n;){const r=await i.get(`/api/holders/token/${c}`,{params:{...a,page:t}}),e=r.data.result||r.data.data||[];if(o.push(...e),n=r.data.hasNextPage===!0&&e.length===100,t++,t>100)break}return o}catch(a){throw console.error("Error fetching token holders:",a),new Error("Failed to fetch token holders")}}export{g as a,p as g};
