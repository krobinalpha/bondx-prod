import{j as t,u as br,b as es,p as Xe,n as ts}from"./web3-vendor-Bze_bykS.js";import{r as o,R as Z,e as rs}from"./react-vendor-BTPJ9MfQ.js";import{c as se,S as yt,l as rt,f as Ye,a as wt,g as ss,b as ns,A as as,m as os,n as ls,o as is,e as cs,p as ds,q as us,d as ms,L as Me}from"./Layout-Bd_XV54i.js";import{V as fs,d as Qe,a as hs,I as gs}from"./chart-vendor-BUSuRXK4.js";import{S as jt,g as vr,B as W,u as yr,a as wr}from"./index-BL-XySwm.js";import{h as ps,k as xs,l as bs,f as vs,c as ys,m as ws,n as js,j as Ns,o as ks,p as Ts,q as Es,r as Cs}from"./api-Y8mGTqrB.js";import{u as jr}from"./useEmbeddedWallet-BjiLvWH_.js";import{a as $s}from"./index.module-DRaUFVTI.js";import{X as Nr}from"./x-COp90xOh.js";import{T as Nt,M as kt,G as cr,Y as dr,F as Ss,a as As}from"./youtube-C7bzKb-v.js";import{S as Ps}from"./SEO-B8zD07Wz.js";import{E as pe}from"./external-link-D7tZWhav.js";/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=se("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=se("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=se("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=se("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=se("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=se("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=se("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),Bs=({data:e,liquidityEvents:r,tokenInfo:s,timeframe:n,onTimeframeChange:a})=>{var j;const m=o.useRef(null),u=o.useRef(null),h=o.useRef(null),l=o.useRef(null),[g,d]=o.useState(null),[p]=o.useState(!0),[i,x]=o.useState("candles"),[w,k]=o.useState("1h"),$=n||w;return o.useEffect(()=>()=>{u.current&&(u.current.remove(),u.current=null)},[p]),o.useEffect(()=>{if(!m.current)return;const v=m.current;u.current&&(u.current.remove(),u.current=null,h.current=null,l.current=null);const y=fs(v,{width:v.clientWidth,height:500,layout:{background:{type:gs.Solid,color:"#0a0a0f"},textColor:"#ffffff",fontSize:12,fontFamily:'Space Grotesk, Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},grid:{vertLines:{color:"#1a1a2e",style:Qe.Solid,visible:!0},horzLines:{color:"#1a1a2e",style:Qe.Solid,visible:!0}},rightPriceScale:{borderColor:"#2a2a4a",visible:!0,borderVisible:!0,alignLabels:!0,scaleMargins:{top:.1,bottom:.1},autoScale:!0,entireTextOnly:!1},leftPriceScale:{visible:!1},timeScale:{borderColor:"#2a2a4a",timeVisible:!0,secondsVisible:!1,rightOffset:10,barSpacing:6,fixLeftEdge:!0,fixRightEdge:!0},crosshair:{mode:hs.Normal,vertLine:{color:"#00f3ff",width:1,style:Qe.Solid,labelBackgroundColor:"#151520"},horzLine:{color:"#00f3ff",width:1,style:Qe.Solid,labelBackgroundColor:"#151520"}},watermark:{visible:!1,color:"rgba(0,0,0,0)",fontSize:0,text:""},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:!0,axisDoubleClickReset:!0,mouseWheel:!0,pinch:!0}});let P;if(i==="candles"?P=y.addCandlestickSeries({upColor:"#10b981",downColor:"#ec4899",borderUpColor:"#10b981",borderDownColor:"#ec4899",wickUpColor:"#10b981",wickDownColor:"#ec4899",priceFormat:{type:"custom",formatter:gt,minMove:1e-9}}):i==="line"?P=y.addLineSeries({color:"#00f3ff",lineWidth:2,priceFormat:{type:"custom",formatter:gt,minMove:1e-9}}):P=y.addAreaSeries({lineColor:"#00f3ff",topColor:"rgba(0, 243, 255, 0.28)",bottomColor:"rgba(0, 243, 255, 0.05)",priceFormat:{type:"custom",formatter:gt,minMove:1e-9}}),h.current=P,e.some(L=>L.volume&&L.volume>0)){const L=y.addHistogramSeries({priceFormat:{type:"volume"},priceScaleId:"",color:"#a855f7"});l.current=L}return u.current=y,d(y),setTimeout(()=>{v.querySelectorAll('[data-name="watermark"], [class*="watermark"], .tv-watermark').forEach(T=>T.style.display="none")},100),()=>{u.current&&(u.current.remove(),u.current=null,h.current=null,l.current=null)}},[i]),o.useEffect(()=>{if(!h.current||!u.current||e.length===0)return;const v=[...e].sort((T,_)=>T.time-_.time),y=[];let P=0;for(const T of v){let _=T.time;_<=P&&(_=P+1),y.push({...T,time:_}),P=_}const L=Os(y);i==="candles"?h.current.setData(L.map(T=>({time:T.time,open:T.open,high:T.high,low:T.low,close:T.close}))):h.current.setData(L.map(T=>({time:T.time,value:T.close}))),l.current&&L.some(T=>T.volume&&T.volume>0)&&l.current.setData(L.map(T=>({time:T.time,value:T.volume||0,color:T.close>=T.open?"rgba(16, 185, 129, 0.5)":"rgba(236, 72, 153, 0.5)"}))),u.current.timeScale().fitContent()},[e,i]),o.useEffect(()=>{const v=()=>{g&&m.current&&g.applyOptions({width:m.current.clientWidth})};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[g]),p===null?t.jsx("div",{className:"w-full h-[500px] glass rounded-lg flex items-center justify-center border border-[var(--card-boarder)]",children:t.jsx(jt,{size:"medium"})}):t.jsxs("div",{className:"w-full glass rounded-xl overflow-hidden relative border border-[var(--card-boarder)] hover:border-[var(--primary)] transition-all duration-300",children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between p-2 md:p-3 border-b border-[var(--card-boarder)] bg-[var(--card2)]",children:[t.jsx("div",{className:"flex gap-1 mb-2 md:mb-0",children:["1m","5m","15m","1h","4h","1d"].map(v=>t.jsx("button",{onClick:()=>{a?a(v):k(v)},className:`px-2 md:px-3 py-1 text-xs font-semibold rounded-lg transition-all duration-300 ${$===v?"bg-gradient-to-r from-[var(--primary)] to-[var(--accent-purple)] text-black shadow-[0_0_10px_rgba(0,243,255,0.5)]":"bg-[var(--card)] text-[var(--text-secondary)] hover:bg-[var(--card-hover)] hover:text-white border border-transparent hover:border-[var(--primary)]"}`,children:v},v))}),t.jsx("div",{className:"flex gap-1",children:["candles","line","area"].map(v=>t.jsx("button",{onClick:()=>x(v),className:`px-2 md:px-3 py-1 text-xs font-semibold rounded-lg transition-all duration-300 capitalize ${i===v?"bg-gradient-to-r from-[var(--primary)] to-[var(--accent-purple)] text-black shadow-[0_0_10px_rgba(0,243,255,0.5)]":"bg-[var(--card)] text-[var(--text-secondary)] hover:bg-[var(--card-hover)] hover:text-white border border-transparent hover:border-[var(--primary)]"}`,children:v},v))})]}),t.jsxs("div",{className:"w-full h-[500px] relative",children:[p&&e.length===0&&t.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-6 z-10 bg-[#131722] rounded-lg",children:[(s==null?void 0:s.logo)&&t.jsx("img",{src:s.logo,alt:s.name||"Token",width:64,height:64,className:"rounded-full mb-4"}),t.jsxs("h2",{className:"text-lg font-bold text-white mb-2",children:[(s==null?void 0:s.name)||"Token"," ",(j=s==null?void 0:s._count)!=null&&j.liquidityEvents?"Listed on Uniswap":""]}),t.jsx("p",{className:"text-white text-sm",children:"No chart data available yet. Price history will appear as trades occur."})]}),e.length>0&&t.jsx("div",{ref:m,className:"w-full h-full"})]})]})};function Os(e){return e.map(s=>{if(Math.abs(s.open-s.close)<1e-9){const a=(s.open+s.close)/2,m=1e-9/2;return{...s,open:a-m,close:a+m,high:Math.max(s.high,a+m),low:Math.min(s.low,a-m)}}return s})}function gt(e){return e.toFixed(9)}const Us=({tokenInfo:e,isOpen:r,onClose:s})=>{const[n,a]=o.useState(!1);if(o.useEffect(()=>{a(!0)},[]),!n||!r)return null;const m=typeof window<"u"?window.location.href:"",u=`Check out ${e.name} on our platform!

${e.description}

`,h=[{name:"Twitter",icon:Nt,color:"bg-[#1DA1F2]",getShareUrl:(l,g,d)=>`https://twitter.com/intent/tweet?text=${encodeURIComponent(l)}&url=${encodeURIComponent(g)}&image=${encodeURIComponent(d)}`},{name:"Facebook",icon:Fs,color:"bg-[#4267B2]",getShareUrl:(l,g,d)=>`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(g)}`},{name:"Telegram",icon:yt,color:"bg-[#0088cc]",getShareUrl:(l,g,d)=>`https://t.me/share/url?url=${encodeURIComponent(g)}&text=${encodeURIComponent(l)}`},{name:"LinkedIn",icon:Hs,color:"bg-[#0077B5]",getShareUrl:(l,g,d)=>`https://www.linkedin.com/shareArticle?mini=true&url=${encodeURIComponent(g)}&title=${encodeURIComponent(e.name)}&summary=${encodeURIComponent(l)}`},{name:"Instagram",icon:Ds,color:"bg-gradient-to-r from-[#833AB4] via-[#FD1D1D] to-[#FCAF45]",getShareUrl:(l,g,d)=>"https://www.instagram.com/"},{name:"Discord",icon:kt,color:"bg-[#7289DA]",getShareUrl:(l,g,d)=>"https://discord.com/"}];return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 sm:p-6 w-full max-w-xs sm:max-w-sm md:max-w-md",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[t.jsxs("h3",{className:"text-xs sm:text-sm font-bold text-white",children:["Share ",e.name," on"]}),t.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-colors","aria-label":"Close",children:t.jsx(Nr,{size:24})})]}),t.jsx("div",{className:"flex items-center justify-center mb-4 sm:mb-6",children:t.jsx("img",{src:e.logo||"/chats/noimg.svg",alt:`${e.name} logo`,className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full"})}),t.jsx("div",{className:"grid grid-cols-3 gap-3 sm:gap-4",children:h.map(l=>t.jsx("a",{href:l.getShareUrl(u,m,e.logo),target:"_blank",rel:"noopener noreferrer",className:`${l.color} text-white p-2 sm:p-3 rounded-full flex items-center justify-center hover:opacity-80 transition-opacity`,"aria-label":`Share on ${l.name}`,children:t.jsx(l.icon,{size:20})},l.name))})]})})},Is=({tokenInfo:e,className:r})=>{const[s,n]=o.useState(!1);return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed bottom-4 right-4 z-40",children:t.jsx("button",{onClick:()=>n(!0),className:"bg-blue-500 text-white p-3 rounded-full shadow-lg hover:bg-blue-600 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-50","aria-label":"Share",children:t.jsx(_s,{size:24})})}),t.jsx(Us,{tokenInfo:e,isOpen:s,onClose:()=>n(!1)})]})},Er=typeof document<"u"?Z.useLayoutEffect:()=>{};var pt;const zs=(pt=Z.useInsertionEffect)!==null&&pt!==void 0?pt:Er;function Ws(e){const r=o.useRef(null);return zs(()=>{r.current=e},[e]),o.useCallback((...s)=>{const n=r.current;return n==null?void 0:n(...s)},[])}const de=e=>{var r;return(r=e==null?void 0:e.ownerDocument)!==null&&r!==void 0?r:document},ge=e=>e&&"window"in e&&e.window===e?e:de(e).defaultView||window;function Gs(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function Vs(e){return Gs(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let qs=!1;function Mt(){return qs}function Cr(e,r){if(!Mt())return r&&e?e.contains(r):!1;if(!e||!r)return!1;let s=r;for(;s!==null;){if(s===e)return!0;s.tagName==="SLOT"&&s.assignedSlot?s=s.assignedSlot.parentNode:Vs(s)?s=s.host:s=s.parentNode}return!1}const Tt=(e=document)=>{var r;if(!Mt())return e.activeElement;let s=e.activeElement;for(;s&&"shadowRoot"in s&&(!((r=s.shadowRoot)===null||r===void 0)&&r.activeElement);)s=s.shadowRoot.activeElement;return s};function $r(e){return Mt()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function Ks(e){var r;if(typeof window>"u"||window.navigator==null)return!1;let s=(r=window.navigator.userAgentData)===null||r===void 0?void 0:r.brands;return Array.isArray(s)&&s.some(n=>e.test(n.brand))||e.test(window.navigator.userAgent)}function Xs(e){var r;return typeof window<"u"&&window.navigator!=null?e.test(((r=window.navigator.userAgentData)===null||r===void 0?void 0:r.platform)||window.navigator.platform):!1}function Sr(e){let r=null;return()=>(r==null&&(r=e()),r)}const Ys=Sr(function(){return Xs(/^Mac/i)}),Qs=Sr(function(){return Ks(/Android/i)});function Ar(){let e=o.useRef(new Map),r=o.useCallback((a,m,u,h)=>{let l=h!=null&&h.once?(...g)=>{e.current.delete(u),u(...g)}:u;e.current.set(u,{type:m,eventTarget:a,fn:l,options:h}),a.addEventListener(m,l,h)},[]),s=o.useCallback((a,m,u,h)=>{var l;let g=((l=e.current.get(u))===null||l===void 0?void 0:l.fn)||u;a.removeEventListener(m,g,h),e.current.delete(u)},[]),n=o.useCallback(()=>{e.current.forEach((a,m)=>{s(a.eventTarget,a.type,m,a.options)})},[s]);return o.useEffect(()=>n,[n]),{addGlobalListener:r,removeGlobalListener:s,removeAllGlobalListeners:n}}function Js(e){return e.pointerType===""&&e.isTrusted?!0:Qs()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Pr(e){let r=e;return r.nativeEvent=e,r.isDefaultPrevented=()=>r.defaultPrevented,r.isPropagationStopped=()=>r.cancelBubble,r.persist=()=>{},r}function Zs(e,r){Object.defineProperty(e,"target",{value:r}),Object.defineProperty(e,"currentTarget",{value:r})}function Mr(e){let r=o.useRef({isFocused:!1,observer:null});Er(()=>{const n=r.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let s=Ws(n=>{e==null||e(n)});return o.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){r.current.isFocused=!0;let a=n.target,m=u=>{if(r.current.isFocused=!1,a.disabled){let h=Pr(u);s(h)}r.current.observer&&(r.current.observer.disconnect(),r.current.observer=null)};a.addEventListener("focusout",m,{once:!0}),r.current.observer=new MutationObserver(()=>{if(r.current.isFocused&&a.disabled){var u;(u=r.current.observer)===null||u===void 0||u.disconnect();let h=a===document.activeElement?null:document.activeElement;a.dispatchEvent(new FocusEvent("blur",{relatedTarget:h})),a.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:h}))}}),r.current.observer.observe(a,{attributes:!0,attributeFilter:["disabled"]})}},[s])}let en=!1,He=null,Et=new Set,De=new Map,be=!1,Ct=!1;const tn={Tab:!0,Escape:!0};function Lt(e,r){for(let s of Et)s(e,r)}function rn(e){return!(e.metaKey||!Ys()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function st(e){be=!0,rn(e)&&(He="keyboard",Lt("keyboard",e))}function Ee(e){He="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(be=!0,Lt("pointer",e))}function Lr(e){Js(e)&&(be=!0,He="virtual")}function Fr(e){e.target===window||e.target===document||en||!e.isTrusted||(!be&&!Ct&&(He="virtual",Lt("virtual",e)),be=!1,Ct=!1)}function Dr(){be=!1,Ct=!0}function $t(e){if(typeof window>"u"||typeof document>"u"||De.get(ge(e)))return;const r=ge(e),s=de(e);let n=r.HTMLElement.prototype.focus;r.HTMLElement.prototype.focus=function(){be=!0,n.apply(this,arguments)},s.addEventListener("keydown",st,!0),s.addEventListener("keyup",st,!0),s.addEventListener("click",Lr,!0),r.addEventListener("focus",Fr,!0),r.addEventListener("blur",Dr,!1),typeof PointerEvent<"u"&&(s.addEventListener("pointerdown",Ee,!0),s.addEventListener("pointermove",Ee,!0),s.addEventListener("pointerup",Ee,!0)),r.addEventListener("beforeunload",()=>{Hr(e)},{once:!0}),De.set(r,{focus:n})}const Hr=(e,r)=>{const s=ge(e),n=de(e);r&&n.removeEventListener("DOMContentLoaded",r),De.has(s)&&(s.HTMLElement.prototype.focus=De.get(s).focus,n.removeEventListener("keydown",st,!0),n.removeEventListener("keyup",st,!0),n.removeEventListener("click",Lr,!0),s.removeEventListener("focus",Fr,!0),s.removeEventListener("blur",Dr,!1),typeof PointerEvent<"u"&&(n.removeEventListener("pointerdown",Ee,!0),n.removeEventListener("pointermove",Ee,!0),n.removeEventListener("pointerup",Ee,!0)),De.delete(s))};function sn(e){const r=de(e);let s;return r.readyState!=="loading"?$t(e):(s=()=>{$t(e)},r.addEventListener("DOMContentLoaded",s)),()=>Hr(e,s)}typeof document<"u"&&sn();function Rr(){return He!=="pointer"}const nn=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function an(e,r,s){let n=de(s==null?void 0:s.target);const a=typeof window<"u"?ge(s==null?void 0:s.target).HTMLInputElement:HTMLInputElement,m=typeof window<"u"?ge(s==null?void 0:s.target).HTMLTextAreaElement:HTMLTextAreaElement,u=typeof window<"u"?ge(s==null?void 0:s.target).HTMLElement:HTMLElement,h=typeof window<"u"?ge(s==null?void 0:s.target).KeyboardEvent:KeyboardEvent;return e=e||n.activeElement instanceof a&&!nn.has(n.activeElement.type)||n.activeElement instanceof m||n.activeElement instanceof u&&n.activeElement.isContentEditable,!(e&&r==="keyboard"&&s instanceof h&&!tn[s.key])}function on(e,r,s){$t(),o.useEffect(()=>{let n=(a,m)=>{an(!!(s!=null&&s.isTextInput),a,m)&&e(Rr())};return Et.add(n),()=>{Et.delete(n)}},r)}function ln(e){let{isDisabled:r,onFocus:s,onBlur:n,onFocusChange:a}=e;const m=o.useCallback(l=>{if(l.target===l.currentTarget)return n&&n(l),a&&a(!1),!0},[n,a]),u=Mr(m),h=o.useCallback(l=>{const g=de(l.target),d=g?Tt(g):Tt();l.target===l.currentTarget&&d===$r(l.nativeEvent)&&(s&&s(l),a&&a(!0),u(l))},[a,s,u]);return{focusProps:{onFocus:!r&&(s||a||n)?h:void 0,onBlur:!r&&(n||a)?m:void 0}}}function cn(e){let{isDisabled:r,onBlurWithin:s,onFocusWithin:n,onFocusWithinChange:a}=e,m=o.useRef({isFocusWithin:!1}),{addGlobalListener:u,removeAllGlobalListeners:h}=Ar(),l=o.useCallback(p=>{p.currentTarget.contains(p.target)&&m.current.isFocusWithin&&!p.currentTarget.contains(p.relatedTarget)&&(m.current.isFocusWithin=!1,h(),s&&s(p),a&&a(!1))},[s,a,m,h]),g=Mr(l),d=o.useCallback(p=>{if(!p.currentTarget.contains(p.target))return;const i=de(p.target),x=Tt(i);if(!m.current.isFocusWithin&&x===$r(p.nativeEvent)){n&&n(p),a&&a(!0),m.current.isFocusWithin=!0,g(p);let w=p.currentTarget;u(i,"focus",k=>{if(m.current.isFocusWithin&&!Cr(w,k.target)){let $=new i.defaultView.FocusEvent("blur",{relatedTarget:k.target});Zs($,w);let j=Pr($);l(j)}},{capture:!0})}},[n,a,g,u,l]);return r?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:d,onBlur:l}}}let St=!1,Je=0;function dn(){St=!0,setTimeout(()=>{St=!1},50)}function mr(e){e.pointerType==="touch"&&dn()}function un(){if(!(typeof document>"u"))return Je===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",mr),Je++,()=>{Je--,!(Je>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",mr)}}function mn(e){let{onHoverStart:r,onHoverChange:s,onHoverEnd:n,isDisabled:a}=e,[m,u]=o.useState(!1),h=o.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;o.useEffect(un,[]);let{addGlobalListener:l,removeAllGlobalListeners:g}=Ar(),{hoverProps:d,triggerHoverEnd:p}=o.useMemo(()=>{let i=(k,$)=>{if(h.pointerType=$,a||$==="touch"||h.isHovered||!k.currentTarget.contains(k.target))return;h.isHovered=!0;let j=k.currentTarget;h.target=j,l(de(k.target),"pointerover",v=>{h.isHovered&&h.target&&!Cr(h.target,v.target)&&x(v,v.pointerType)},{capture:!0}),r&&r({type:"hoverstart",target:j,pointerType:$}),s&&s(!0),u(!0)},x=(k,$)=>{let j=h.target;h.pointerType="",h.target=null,!($==="touch"||!h.isHovered||!j)&&(h.isHovered=!1,g(),n&&n({type:"hoverend",target:j,pointerType:$}),s&&s(!1),u(!1))},w={};return typeof PointerEvent<"u"&&(w.onPointerEnter=k=>{St&&k.pointerType==="mouse"||i(k,k.pointerType)},w.onPointerLeave=k=>{!a&&k.currentTarget.contains(k.target)&&x(k,k.pointerType)}),{hoverProps:w,triggerHoverEnd:x}},[r,s,n,a,h,l,g]);return o.useEffect(()=>{a&&p({currentTarget:h.target},h.pointerType)},[a]),{hoverProps:d,isHovered:m}}function _r(e={}){let{autoFocus:r=!1,isTextInput:s,within:n}=e,a=o.useRef({isFocused:!1,isFocusVisible:r||Rr()}),[m,u]=o.useState(!1),[h,l]=o.useState(()=>a.current.isFocused&&a.current.isFocusVisible),g=o.useCallback(()=>l(a.current.isFocused&&a.current.isFocusVisible),[]),d=o.useCallback(x=>{a.current.isFocused=x,u(x),g()},[g]);on(x=>{a.current.isFocusVisible=x,g()},[],{isTextInput:s});let{focusProps:p}=ln({isDisabled:n,onFocusChange:d}),{focusWithinProps:i}=cn({isDisabled:!n,onFocusWithinChange:d});return{isFocused:m,isFocusVisible:h,focusProps:n?i:p}}var fn=Object.defineProperty,hn=(e,r,s)=>r in e?fn(e,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[r]=s,xt=(e,r,s)=>(hn(e,typeof r!="symbol"?r+"":r,s),s);let gn=class{constructor(){xt(this,"current",this.detect()),xt(this,"handoffState","pending"),xt(this,"currentId",0)}set(r){this.current!==r&&(this.handoffState="pending",this.currentId=0,this.current=r)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Ft=new gn;function pn(e){var r;return Ft.isServer?null:e==null?document:(r=e==null?void 0:e.ownerDocument)!=null?r:document}function At(e){var r,s;return Ft.isServer?null:e==null?document:(s=(r=e==null?void 0:e.getRootNode)==null?void 0:r.call(e))!=null?s:document}function Br(e){var r,s;return(s=(r=At(e))==null?void 0:r.activeElement)!=null?s:null}function Or(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(r=>setTimeout(()=>{throw r}))}function Ur(){let e=[],r={addEventListener(s,n,a,m){return s.addEventListener(n,a,m),r.add(()=>s.removeEventListener(n,a,m))},requestAnimationFrame(...s){let n=requestAnimationFrame(...s);return r.add(()=>cancelAnimationFrame(n))},nextFrame(...s){return r.requestAnimationFrame(()=>r.requestAnimationFrame(...s))},setTimeout(...s){let n=setTimeout(...s);return r.add(()=>clearTimeout(n))},microTask(...s){let n={current:!0};return Or(()=>{n.current&&s[0]()}),r.add(()=>{n.current=!1})},style(s,n,a){let m=s.style.getPropertyValue(n);return Object.assign(s.style,{[n]:a}),this.add(()=>{Object.assign(s.style,{[n]:m})})},group(s){let n=Ur();return s(n),this.add(()=>n.dispose())},add(s){return e.includes(s)||e.push(s),()=>{let n=e.indexOf(s);if(n>=0)for(let a of e.splice(n,1))a()}},dispose(){for(let s of e.splice(0))s()}};return r}function xn(){let[e]=o.useState(Ur);return o.useEffect(()=>()=>e.dispose(),[e]),e}let Ce=(e,r)=>{Ft.isServer?o.useEffect(e,r):o.useLayoutEffect(e,r)};function Le(e){let r=o.useRef(e);return Ce(()=>{r.current=e},[e]),r}let re=function(e){let r=Le(e);return Z.useCallback((...s)=>r.current(...s),[r])};function bn(e){let r=e.width/2,s=e.height/2;return{top:e.clientY-s,right:e.clientX+r,bottom:e.clientY+s,left:e.clientX-r}}function vn(e,r){return!(!e||!r||e.right<r.left||e.left>r.right||e.bottom<r.top||e.top>r.bottom)}function yn({disabled:e=!1}={}){let r=o.useRef(null),[s,n]=o.useState(!1),a=xn(),m=re(()=>{r.current=null,n(!1),a.dispose()}),u=re(h=>{if(a.dispose(),r.current===null){r.current=h.currentTarget,n(!0);{let l=pn(h.currentTarget);a.addEventListener(l,"pointerup",m,!1),a.addEventListener(l,"pointermove",g=>{if(r.current){let d=bn(g);n(vn(d,r.current.getBoundingClientRect()))}},!1),a.addEventListener(l,"pointercancel",m,!1)}}});return{pressed:s,pressProps:e?{}:{onPointerDown:u,onPointerUp:m,onClick:m}}}function Re(e){return o.useMemo(()=>e,Object.values(e))}function fr(...e){return Array.from(new Set(e.flatMap(r=>typeof r=="string"?r.split(" "):[]))).filter(Boolean).join(" ")}function xe(e,r,...s){if(e in r){let a=r[e];return typeof a=="function"?a(...s):a}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(r).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,xe),n}var Pt=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Pt||{}),wn=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(wn||{});function Se(){let e=Nn();return o.useCallback(r=>jn({mergeRefs:e,...r}),[e])}function jn({ourProps:e,theirProps:r,slot:s,defaultTag:n,features:a,visible:m=!0,name:u,mergeRefs:h}){h=h??kn;let l=Ir(r,e);if(m)return Ze(l,s,n,u,h);let g=a??0;if(g&2){let{static:d=!1,...p}=l;if(d)return Ze(p,s,n,u,h)}if(g&1){let{unmount:d=!0,...p}=l;return xe(d?0:1,{0(){return null},1(){return Ze({...p,hidden:!0,style:{display:"none"}},s,n,u,h)}})}return Ze(l,s,n,u,h)}function Ze(e,r={},s,n,a){let{as:m=s,children:u,refName:h="ref",...l}=bt(e,["unmount","static"]),g=e.ref!==void 0?{[h]:e.ref}:{},d=typeof u=="function"?u(r):u;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(r)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let p={};if(r){let i=!1,x=[];for(let[w,k]of Object.entries(r))typeof k=="boolean"&&(i=!0),k===!0&&x.push(w.replace(/([A-Z])/g,$=>`-${$.toLowerCase()}`));if(i){p["data-headlessui-state"]=x.join(" ");for(let w of x)p[`data-${w}`]=""}}if(tt(m)&&(Object.keys(Ne(l)).length>0||Object.keys(Ne(p)).length>0))if(!o.isValidElement(d)||Array.isArray(d)&&d.length>1||En(d)){if(Object.keys(Ne(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Ne(l)).concat(Object.keys(Ne(p))).map(i=>`  - ${i}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(i=>`  - ${i}`).join(`
`)].join(`
`))}else{let i=d.props,x=i==null?void 0:i.className,w=typeof x=="function"?(...j)=>fr(x(...j),l.className):fr(x,l.className),k=w?{className:w}:{},$=Ir(d.props,Ne(bt(l,["ref"])));for(let j in p)j in $&&delete p[j];return o.cloneElement(d,Object.assign({},$,p,g,{ref:a(Tn(d),g.ref)},k))}return o.createElement(m,Object.assign({},bt(l,["ref"]),!tt(m)&&g,!tt(m)&&p),d)}function Nn(){let e=o.useRef([]),r=o.useCallback(s=>{for(let n of e.current)n!=null&&(typeof n=="function"?n(s):n.current=s)},[]);return(...s)=>{if(!s.every(n=>n==null))return e.current=s,r}}function kn(...e){return e.every(r=>r==null)?void 0:r=>{for(let s of e)s!=null&&(typeof s=="function"?s(r):s.current=r)}}function Ir(...e){if(e.length===0)return{};if(e.length===1)return e[0];let r={},s={};for(let n of e)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(s[a]!=null||(s[a]=[]),s[a].push(n[a])):r[a]=n[a];if(r.disabled||r["aria-disabled"])for(let n in s)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(s[n]=[a=>{var m;return(m=a==null?void 0:a.preventDefault)==null?void 0:m.call(a)}]);for(let n in s)Object.assign(r,{[n](a,...m){let u=s[n];for(let h of u){if((a instanceof Event||(a==null?void 0:a.nativeEvent)instanceof Event)&&a.defaultPrevented)return;h(a,...m)}}});return r}function zr(...e){if(e.length===0)return{};if(e.length===1)return e[0];let r={},s={};for(let n of e)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(s[a]!=null||(s[a]=[]),s[a].push(n[a])):r[a]=n[a];for(let n in s)Object.assign(r,{[n](...a){let m=s[n];for(let u of m)u==null||u(...a)}});return r}function Ae(e){var r;return Object.assign(o.forwardRef(e),{displayName:(r=e.displayName)!=null?r:e.name})}function Ne(e){let r=Object.assign({},e);for(let s in r)r[s]===void 0&&delete r[s];return r}function bt(e,r=[]){let s=Object.assign({},e);for(let n of r)n in s&&delete s[n];return s}function Tn(e){return Z.version.split(".")[0]>="19"?e.props.ref:e.ref}function tt(e){return e===o.Fragment||e===Symbol.for("react.fragment")}function En(e){return tt(e.type)}let Cn="span";var Wr=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Wr||{});function $n(e,r){var s;let{features:n=1,...a}=e,m={ref:r,"aria-hidden":(n&2)===2?!0:(s=a["aria-hidden"])!=null?s:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return Se()({ourProps:m,theirProps:a,slot:{},defaultTag:Cn,name:"Hidden"})}let Gr=Ae($n),Sn=Symbol();function _e(...e){let r=o.useRef(e);o.useEffect(()=>{r.current=e},[e]);let s=re(n=>{for(let a of r.current)a!=null&&(typeof a=="function"?a(n):a.current=n)});return e.every(n=>n==null||(n==null?void 0:n[Sn]))?void 0:s}var Q=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Q||{});let An=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),Pn=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var J=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(J||{}),Fe=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Fe||{}),Mn=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Mn||{});function Ln(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(An)).sort((r,s)=>Math.sign((r.tabIndex||Number.MAX_SAFE_INTEGER)-(s.tabIndex||Number.MAX_SAFE_INTEGER)))}function Fn(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Pn)).sort((r,s)=>Math.sign((r.tabIndex||Number.MAX_SAFE_INTEGER)-(s.tabIndex||Number.MAX_SAFE_INTEGER)))}var Dn=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Dn||{}),Hn=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Hn||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let Rn=["textarea","input"].join(",");function _n(e){var r,s;return(s=(r=e==null?void 0:e.matches)==null?void 0:r.call(e,Rn))!=null?s:!1}function Te(e,r=s=>s){return e.slice().sort((s,n)=>{let a=r(s),m=r(n);if(a===null||m===null)return 0;let u=a.compareDocumentPosition(m);return u&Node.DOCUMENT_POSITION_FOLLOWING?-1:u&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function ke(e,r,{sorted:s=!0,relativeTo:n=null,skipElements:a=[]}={}){let m=Array.isArray(e)?e.length>0?At(e[0]):document:At(e),u=Array.isArray(e)?s?Te(e):e:r&64?Fn(e):Ln(e);a.length>0&&u.length>1&&(u=u.filter(x=>!a.some(w=>w!=null&&"current"in w?(w==null?void 0:w.current)===x:w===x))),n=n??(m==null?void 0:m.activeElement);let h=(()=>{if(r&5)return 1;if(r&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(r&1)return 0;if(r&2)return Math.max(0,u.indexOf(n))-1;if(r&4)return Math.max(0,u.indexOf(n))+1;if(r&8)return u.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),g=r&32?{preventScroll:!0}:{},d=0,p=u.length,i;do{if(d>=p||d+p<=0)return 0;let x=l+d;if(r&16)x=(x+p)%p;else{if(x<0)return 3;if(x>=p)return 1}i=u[x],i==null||i.focus(g),d+=h}while(i!==Br(i));return r&6&&_n(i)&&i.select(),2}function Bn(e,r){return o.useMemo(()=>{var s;if(e.type)return e.type;let n=(s=e.as)!=null?s:"button";if(typeof n=="string"&&n.toLowerCase()==="button"||(r==null?void 0:r.tagName)==="BUTTON"&&!r.hasAttribute("type"))return"button"},[e.type,e.as,r])}function On(){let e=o.useRef(!1);return Ce(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Un({onFocus:e}){let[r,s]=o.useState(!0),n=On();return r?Z.createElement(Gr,{as:"button",type:"button",features:Wr.Focusable,onFocus:a=>{a.preventDefault();let m,u=50;function h(){if(u--<=0){m&&cancelAnimationFrame(m);return}if(e()){if(cancelAnimationFrame(m),!n.current)return;s(!1);return}m=requestAnimationFrame(h)}m=requestAnimationFrame(h)}}):null}const Vr=o.createContext(null);function In(){return{groups:new Map,get(e,r){var s;let n=this.groups.get(e);n||(n=new Map,this.groups.set(e,n));let a=(s=n.get(r))!=null?s:0;n.set(r,a+1);let m=Array.from(n.keys()).indexOf(r);function u(){let h=n.get(r);h>1?n.set(r,h-1):n.delete(r)}return[m,u]}}}function zn({children:e}){let r=o.useRef(In());return o.createElement(Vr.Provider,{value:r},e)}function qr(e){let r=o.useContext(Vr);if(!r)throw new Error("You must wrap your component in a <StableCollection>");let s=o.useId(),[n,a]=r.current.get(e,s);return o.useEffect(()=>a,[]),n}var Wn=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Wn||{}),Gn=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(Gn||{}),Vn=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(Vn||{});let qn={0(e,r){var s;let n=Te(e.tabs,d=>d.current),a=Te(e.panels,d=>d.current),m=n.filter(d=>{var p;return!((p=d.current)!=null&&p.hasAttribute("disabled"))}),u={...e,tabs:n,panels:a};if(r.index<0||r.index>n.length-1){let d=xe(Math.sign(r.index-e.selectedIndex),{[-1]:()=>1,0:()=>xe(Math.sign(r.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(m.length===0)return u;let p=xe(d,{0:()=>n.indexOf(m[0]),1:()=>n.indexOf(m[m.length-1])});return{...u,selectedIndex:p===-1?e.selectedIndex:p}}let h=n.slice(0,r.index),l=[...n.slice(r.index),...h].find(d=>m.includes(d));if(!l)return u;let g=(s=n.indexOf(l))!=null?s:e.selectedIndex;return g===-1&&(g=e.selectedIndex),{...u,selectedIndex:g}},1(e,r){if(e.tabs.includes(r.tab))return e;let s=e.tabs[e.selectedIndex],n=Te([...e.tabs,r.tab],m=>m.current),a=e.selectedIndex;return e.info.current.isControlled||(a=n.indexOf(s),a===-1&&(a=e.selectedIndex)),{...e,tabs:n,selectedIndex:a}},2(e,r){return{...e,tabs:e.tabs.filter(s=>s!==r.tab)}},3(e,r){return e.panels.includes(r.panel)?e:{...e,panels:Te([...e.panels,r.panel],s=>s.current)}},4(e,r){return{...e,panels:e.panels.filter(s=>s!==r.panel)}}},Dt=o.createContext(null);Dt.displayName="TabsDataContext";function $e(e){let r=o.useContext(Dt);if(r===null){let s=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,$e),s}return r}let Ht=o.createContext(null);Ht.displayName="TabsActionsContext";function Rt(e){let r=o.useContext(Ht);if(r===null){let s=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,Rt),s}return r}function Kn(e,r){return xe(r.type,qn,e,r)}let Xn="div";function Yn(e,r){let{defaultIndex:s=0,vertical:n=!1,manual:a=!1,onChange:m,selectedIndex:u=null,...h}=e;const l=n?"vertical":"horizontal",g=a?"manual":"auto";let d=u!==null,p=Le({isControlled:d}),i=_e(r),[x,w]=o.useReducer(Kn,{info:p,selectedIndex:u??s,tabs:[],panels:[]}),k=Re({selectedIndex:x.selectedIndex}),$=Le(m||(()=>{})),j=Le(x.tabs),v=o.useMemo(()=>({orientation:l,activation:g,...x}),[l,g,x]),y=re(F=>(w({type:1,tab:F}),()=>w({type:2,tab:F}))),P=re(F=>(w({type:3,panel:F}),()=>w({type:4,panel:F}))),L=re(F=>{T.current!==F&&$.current(F),d||w({type:0,index:F})}),T=Le(d?e.selectedIndex:x.selectedIndex),_=o.useMemo(()=>({registerTab:y,registerPanel:P,change:L}),[]);Ce(()=>{w({type:0,index:u??s})},[u]),Ce(()=>{if(T.current===void 0||x.tabs.length<=0)return;let F=Te(x.tabs,z=>z.current);F.some((z,O)=>x.tabs[O]!==z)&&L(F.indexOf(x.tabs[T.current]))});let ue={ref:i},R=Se();return Z.createElement(zn,null,Z.createElement(Ht.Provider,{value:_},Z.createElement(Dt.Provider,{value:v},v.tabs.length<=0&&Z.createElement(Un,{onFocus:()=>{var F,z;for(let O of j.current)if(((F=O.current)==null?void 0:F.tabIndex)===0)return(z=O.current)==null||z.focus(),!0;return!1}}),R({ourProps:ue,theirProps:h,slot:k,defaultTag:Xn,name:"Tabs"}))))}let Qn="div";function Jn(e,r){let{orientation:s,selectedIndex:n}=$e("Tab.List"),a=_e(r),m=Re({selectedIndex:n}),u=e,h={ref:a,role:"tablist","aria-orientation":s};return Se()({ourProps:h,theirProps:u,slot:m,defaultTag:Qn,name:"Tabs.List"})}let Zn="button";function ea(e,r){var s,n;let a=o.useId(),{id:m=`headlessui-tabs-tab-${a}`,disabled:u=!1,autoFocus:h=!1,...l}=e,{orientation:g,activation:d,selectedIndex:p,tabs:i,panels:x}=$e("Tab"),w=Rt("Tab"),k=$e("Tab"),[$,j]=o.useState(null),v=o.useRef(null),y=_e(v,r,j);Ce(()=>w.registerTab(v),[w,v]);let P=qr("tabs"),L=i.indexOf(v);L===-1&&(L=P);let T=L===p,_=re(b=>{let N=b();if(N===Fe.Success&&d==="auto"){let U=Br(v.current),X=k.tabs.findIndex(B=>B.current===U);X!==-1&&w.change(X)}return N}),ue=re(b=>{let N=i.map(U=>U.current).filter(Boolean);if(b.key===Q.Space||b.key===Q.Enter){b.preventDefault(),b.stopPropagation(),w.change(L);return}switch(b.key){case Q.Home:case Q.PageUp:return b.preventDefault(),b.stopPropagation(),_(()=>ke(N,J.First));case Q.End:case Q.PageDown:return b.preventDefault(),b.stopPropagation(),_(()=>ke(N,J.Last))}if(_(()=>xe(g,{vertical(){return b.key===Q.ArrowUp?ke(N,J.Previous|J.WrapAround):b.key===Q.ArrowDown?ke(N,J.Next|J.WrapAround):Fe.Error},horizontal(){return b.key===Q.ArrowLeft?ke(N,J.Previous|J.WrapAround):b.key===Q.ArrowRight?ke(N,J.Next|J.WrapAround):Fe.Error}}))===Fe.Success)return b.preventDefault()}),R=o.useRef(!1),F=re(()=>{var b;R.current||(R.current=!0,(b=v.current)==null||b.focus({preventScroll:!0}),w.change(L),Or(()=>{R.current=!1}))}),z=re(b=>{b.preventDefault()}),{isFocusVisible:O,focusProps:D}=_r({autoFocus:h}),{isHovered:me,hoverProps:ae}=mn({isDisabled:u}),{pressed:oe,pressProps:le}=yn({disabled:u}),Pe=Re({selected:T,hover:me,active:oe,focus:O,autofocus:h,disabled:u}),ne=zr({ref:y,onKeyDown:ue,onMouseDown:z,onClick:F,id:m,role:"tab",type:Bn(e,$),"aria-controls":(n=(s=x[L])==null?void 0:s.current)==null?void 0:n.id,"aria-selected":T,tabIndex:T?0:-1,disabled:u||void 0,autoFocus:h},D,ae,le);return Se()({ourProps:ne,theirProps:l,slot:Pe,defaultTag:Zn,name:"Tabs.Tab"})}let ta="div";function ra(e,r){let{selectedIndex:s}=$e("Tab.Panels"),n=_e(r),a=Re({selectedIndex:s}),m=e,u={ref:n};return Se()({ourProps:u,theirProps:m,slot:a,defaultTag:ta,name:"Tabs.Panels"})}let sa="div",na=Pt.RenderStrategy|Pt.Static;function aa(e,r){var s,n,a,m;let u=o.useId(),{id:h=`headlessui-tabs-panel-${u}`,tabIndex:l=0,...g}=e,{selectedIndex:d,tabs:p,panels:i}=$e("Tab.Panel"),x=Rt("Tab.Panel"),w=o.useRef(null),k=_e(w,r);Ce(()=>x.registerPanel(w),[x,w]);let $=qr("panels"),j=i.indexOf(w);j===-1&&(j=$);let v=j===d,{isFocusVisible:y,focusProps:P}=_r(),L=Re({selected:v,focus:y}),T=zr({ref:k,id:h,role:"tabpanel","aria-labelledby":(n=(s=p[j])==null?void 0:s.current)==null?void 0:n.id,tabIndex:v?l:-1},P),_=Se();return!v&&((a=g.unmount)==null||a)&&!((m=g.static)!=null&&m)?Z.createElement(Gr,{"aria-hidden":"true",...T}):_({ourProps:T,theirProps:g,slot:L,defaultTag:sa,features:na,visible:v,name:"Tabs.Panel"})}let oa=Ae(ea),la=Ae(Yn),ia=Ae(Jn),ca=Ae(ra),da=Ae(aa),he=Object.assign(oa,{Group:la,List:ia,Panels:ca,Panel:da});const ua=({transactions:e,transactionPage:r,totalTransactionPages:s,tokenSymbol:n,handlePageChange:a})=>{const[m,u]=o.useState(null),h=(d,p)=>p<=5?Array.from({length:p},(i,x)=>x+1):d<=2?[1,2,3,"...",p]:d>=p-1?[1,"...",p-2,p-1,p]:[1,"...",d,"...",p],l=()=>t.jsxs("table",{className:"w-full text-left hidden md:table",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-[var(--card2)]",children:[t.jsx("th",{className:"px-4 py-2 text-sm text-gray-400",children:"Maker"}),t.jsx("th",{className:"px-4 py-2 text-sm text-gray-400",children:"Type"}),t.jsx("th",{className:"px-4 py-2 text-sm text-gray-400",children:"ETH"}),t.jsx("th",{className:"px-4 py-2 text-sm text-gray-400",children:n}),t.jsx("th",{className:"px-4 py-2 text-sm text-gray-400",children:"Date"}),t.jsx("th",{className:"px-4 py-2 text-sm text-gray-400",children:"Tx"})]})}),t.jsx("tbody",{children:e==null?void 0:e.map(d=>t.jsxs("tr",{className:"border-b border-[var(--card-hover)]",children:[t.jsx("td",{className:"px-4 py-2",children:t.jsx("a",{href:`https://etherscan.io/address/${(d==null?void 0:d.type)=="Bought"?d==null?void 0:d.recipientAddress:d==null?void 0:d.senderAddress}`,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-[var(--primary)] text-sm transition-colors",children:rt(d.senderAddress)})}),t.jsx("td",{className:"px-4 py-2 text-sm text-gray-400",children:d.type}),t.jsx("td",{className:"px-4 py-2 text-sm text-gray-400",children:Ye(d.ethAmount)}),t.jsx("td",{className:"px-4 py-2 text-sm text-gray-400",children:Ye(d.tokenAmount)}),t.jsx("td",{className:"px-4 py-2 text-sm text-gray-400",children:wt(d==null?void 0:d.updatedAt)}),t.jsx("td",{className:"px-4 py-2",children:t.jsx("a",{href:`https://etherscan.io/tx/${d.txHash}`,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-[var(--primary)] text-sm transition-colors",children:d.txHash.slice(0,8)})})]},d.txHash||d.id||`tx-${d.blockTimestamp}-${d.senderAddress}`))})]}),g=()=>t.jsx("div",{className:"md:hidden",children:e==null?void 0:e.map(d=>t.jsx("div",{className:"mb-2",children:t.jsxs("div",{className:"bg-[var(--card2)] p-3 rounded-lg cursor-pointer",onClick:()=>u(m===(d.txHash||d.id)?null:d.txHash||d.id),children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("span",{className:"text-sm text-gray-400",children:d.type}),t.jsx(Ms,{size:16,className:`text-gray-400 transition-transform ${m===(d.txHash||d.id)?"transform rotate-180":""}`})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsxs("span",{className:"text-gray-400",children:[Ye(d.ethAmount)," ETH"]}),t.jsxs("span",{className:"text-gray-400",children:[Ye(d.tokenAmount)," ",n]})]})]})}),m===(d.txHash||d.id)&&t.jsxs("div",{className:"mt-3 pt-3 border-t border-[var(--card-hover)] space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-xs",children:[t.jsx("span",{className:"text-gray-400",children:"Maker:"}),t.jsx("a",{href:`https://etherscan.io/address/${d.senderAddress}`,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-[var(--primary)]",children:rt(d.senderAddress)})]}),t.jsxs("div",{className:"flex justify-between text-xs",children:[t.jsx("span",{className:"text-gray-400",children:"Date:"}),t.jsx("span",{className:"text-gray-400",children:wt(d.blockTimestamp||d.updatedAt)})]}),t.jsxs("div",{className:"flex justify-between text-xs",children:[t.jsx("span",{className:"text-gray-400",children:"Transaction:"}),t.jsxs("a",{href:`https://etherscan.io/tx/${d.txHash}`,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-[var(--primary)] flex items-center gap-1",children:["View ",t.jsx(pe,{size:12})]})]})]})]})},d.txHash||d.id||`tx-${d.blockTimestamp}-${d.senderAddress}`))});return t.jsxs("div",{className:"w-full",children:[t.jsx(l,{}),t.jsx(g,{}),(e==null?void 0:e.length)===0&&t.jsx("div",{className:"text-center py-8 text-gray-400",children:"No transactions yet"}),s>1&&t.jsxs("div",{className:"flex justify-center mt-4 gap-2",children:[t.jsx("button",{onClick:()=>a(r-1),disabled:r===1,className:"p-1 rounded bg-[var(--card2)] text-gray-400 hover:bg-[var(--card-hover)] disabled:opacity-50",children:t.jsx(kr,{size:20})}),h(r,s).map((d,p)=>t.jsx(Z.Fragment,{children:d==="..."?t.jsx("span",{className:"px-3 py-1 text-gray-400",children:"..."}):t.jsx("button",{onClick:()=>a(d),className:`px-3 py-1 rounded text-sm ${r===d?"bg-[var(--primary)] text-black":"bg-[var(--card2)] text-gray-400 hover:bg-[var(--card-hover)]"}`,children:d})},p)),t.jsx("button",{onClick:()=>a(r+1),disabled:r===s,className:"p-1 rounded bg-[var(--card2)] text-gray-400 hover:bg-[var(--card-hover)] disabled:opacity-50",children:t.jsx(Tr,{size:20})})]})]})},ma=o.memo(ua,(e,r)=>{if(e.transactions.length!==r.transactions.length)return!1;for(let s=0;s<e.transactions.length;s++){const n=e.transactions[s],a=r.transactions[s];if(n.txHash!==a.txHash||n.id!==a.id||n.ethAmount!==a.ethAmount||n.tokenAmount!==a.tokenAmount)return!1}return e.transactionPage===r.transactionPage&&e.totalTransactionPages===r.totalTransactionPages&&e.tokenSymbol===r.tokenSymbol&&e.handlePageChange===r.handlePageChange}),fa=({tokenHolders:e,currentPage:r,totalPages:s,tokenSymbol:n,creatorAddress:a,tokenAddress:m,chainId:u,onPageChange:h,allHolders:l})=>{const g=ss(u),d=vr(u),p=y=>y==null||isNaN(y)?"0%":y<.001?"<0.001%":y<.01?y.toFixed(3)+"%":(y<.1,y.toFixed(2)+"%"),i=l==null?void 0:l.find(y=>{var P;return((P=y.owner_address)==null?void 0:P.toLowerCase())===(g==null?void 0:g.toLowerCase())}),x=l==null?void 0:l.filter(y=>{var P,L;return((P=y.owner_address)==null?void 0:P.toLowerCase())!==(m==null?void 0:m.toLowerCase())&&((L=y.owner_address)==null?void 0:L.toLowerCase())!==(g==null?void 0:g.toLowerCase())}),w=10,k=(r-1)*w,$=k+w,j=x==null?void 0:x.slice(k,$),v=Math.ceil((x==null?void 0:x.length)/w);return t.jsxs("div",{className:"w-full",children:[t.jsxs("table",{className:"w-full text-left",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-[var(--card2)]",children:[t.jsx("th",{className:"px-4 py-2 text-sm text-gray-400",children:"Holder"}),t.jsx("th",{className:"px-4 py-2 text-sm text-gray-400",children:"Percentage"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{className:"border-b border-[var(--card-hover)]",children:[t.jsx("td",{className:"px-4 py-2",children:t.jsxs("a",{href:`${d}/address/${g}`,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-[var(--primary)] text-sm flex items-center gap-1 transition-colors",children:["Bonding Curve ",t.jsx(pe,{size:14})]})}),t.jsx("td",{className:"px-4 py-2 text-gray-400 text-sm",children:p(i==null?void 0:i.percentage)})]}),j==null?void 0:j.map(y=>!(y!=null&&y.owner_address)||!(y!=null&&y.balance)?null:t.jsxs("tr",{className:"border-b border-[var(--card-hover)]",children:[t.jsx("td",{className:"px-4 py-2",children:y.owner_address.toLowerCase()===(a==null?void 0:a.toLowerCase())?t.jsxs("a",{href:`${d}/address/${y.owner_address}`,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-[var(--primary)] text-sm flex items-center gap-1 transition-colors",children:["Creator ",t.jsx(pe,{size:14})]}):t.jsxs("a",{href:`${d}/address/${y.owner_address}`,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-[var(--primary)] text-sm flex items-center gap-1 transition-colors",children:[rt(y.owner_address)," ",t.jsx(pe,{size:14})]})}),t.jsx("td",{className:"px-4 py-2 text-gray-400 text-sm",children:p(y.percentage)})]},y.owner_address))]})]}),(x==null?void 0:x.length)===0&&t.jsx("div",{className:"text-center py-8 text-gray-400",children:"No token holder data available"}),v>1&&t.jsxs("div",{className:"flex justify-center mt-4 gap-2",children:[t.jsx("button",{onClick:()=>h(r-1),disabled:r===1,className:"p-1 rounded bg-[var(--card2)] text-gray-400 hover:bg-[var(--card-hover)] disabled:opacity-50",children:t.jsx(kr,{size:20})}),Array.from({length:v},(y,P)=>P+1).map(y=>t.jsx("button",{onClick:()=>h(y),className:`px-3 py-1 rounded text-sm ${r===y?"bg-[var(--primary)] text-black":"bg-[var(--card2)] text-gray-400 hover:bg-[var(--card-hover)]"}`,children:y},y)),t.jsx("button",{onClick:()=>h(r+1),disabled:r===v,className:"p-1 rounded bg-[var(--card2)] text-gray-400 hover:bg-[var(--card-hover)] disabled:opacity-50",children:t.jsx(Tr,{size:20})})]})]})},ha=o.memo(fa,(e,r)=>{if(e.allHolders.length!==r.allHolders.length)return!1;for(let s=0;s<e.allHolders.length;s++){const n=e.allHolders[s],a=r.allHolders[s];if(n.owner_address!==a.owner_address||n.balance!==a.balance||n.percentage!==a.percentage)return!1}return e.currentPage===r.currentPage&&e.totalPages===r.totalPages&&e.tokenSymbol===r.tokenSymbol&&e.creatorAddress===r.creatorAddress&&e.tokenAddress===r.tokenAddress&&e.chainId===r.chainId&&e.onPageChange===r.onPageChange}),hr=e=>{if(!e)return!1;const r=[".mp4",".mov",".webm",".ogg",".avi"],s=e.toLowerCase();return r.some(n=>s.includes(n))||s.includes("/video/")||s.includes("resource_type=video")},ga=({tokenInfo:e,chainId:r,graduationProgress:s,currentPrice:n,marketCap:a,showHeader:m=!1,liquidityEvents:u,isLoadingPrice:h=!1,isLoadingMarketCap:l=!1,isPriceError:g=!1,isMarketCapError:d=!1})=>{var $;const p=(($=u==null?void 0:u.liquidityEvents)==null?void 0:$.length)>0,i=j=>{if(p)return 100;if(!j||j===0n)return 0;const y=Number(j)/1e18*100;return Math.min(Math.max(y,0),100)},x=(j,v=100)=>(j==null?void 0:j.length)<=v?j:`${j==null?void 0:j.slice(0,v)}...`,w=j=>{const v=Number(j)/1e18;return new Intl.NumberFormat("en-US",{minimumFractionDigits:3,maximumFractionDigits:6}).format(v)},k=()=>{const j=r?vr(r):"https://etherscan.io";return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx(et,{label:"Contract",value:e!=null&&e.address?ns(e.address):"Loading...",link:`${j}/address/${e==null?void 0:e.address}`,isExternal:!0}),t.jsx(et,{label:"Deployer",value:e!=null&&e.creatorAddress?rt(e.creatorAddress):"Loading...",link:`/profile/${e==null?void 0:e.creatorAddress}`,isExternal:!1,copyValue:e==null?void 0:e.creatorAddress})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx(et,{label:"Created",value:e!=null&&e.createdAt?wt(e.createdAt):"Loading..."}),t.jsx(et,{label:"Current Price",value:h?"Loading...":g?"Error":n?`${w(n.toString())} ETH`:"N/A"})]}),t.jsxs("div",{className:"bg-[var(--card2)] p-3 rounded-lg text-center",children:[t.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Market Cap"}),t.jsx("div",{className:"text-sm text-white",children:l?"Loading...":d?"Error":a?`${w(a.toString())} ETH`:"N/A"})]})]})};return m?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"lg:hidden flex flex-col",children:[t.jsx("div",{className:"w-full h-[200px] mb-4 bg-[var(--card2)] rounded-b-xl overflow-hidden",children:hr(e.logo)?t.jsx("video",{src:e.logo,className:"w-full h-full object-cover",controls:!0,loop:!0,playsInline:!0}):t.jsx("img",{src:e.logo||"/chats/noimg.svg",alt:e.name,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"px-4",children:[t.jsx("div",{className:"text-center mb-4",children:t.jsxs("h1",{className:"text-2xl font-bold text-white inline",children:[e.name,t.jsxs("span",{className:"text-gray-400 ml-2",children:["$",e.symbol]})]})}),t.jsx("p",{className:"text-sm text-gray-400 text-center mb-4",children:x(e.description)}),t.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[e.website&&t.jsx("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-[var(--primary)] transition-colors",children:t.jsx(cr,{size:24})}),e.twitter&&t.jsx("a",{href:e.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-[var(--primary)] transition-colors",children:t.jsx(Nt,{size:24})}),e.telegram&&t.jsx("a",{href:e.telegram,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-[var(--primary)] transition-colors",children:t.jsx(yt,{size:24})}),e.discord&&t.jsx("a",{href:e.discord,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-[var(--primary)] transition-colors",children:t.jsx(kt,{size:24})}),e.youtube&&t.jsx("a",{href:e.youtube,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-[var(--primary)] transition-colors",children:t.jsx(dr,{size:24})})]})]})]}),t.jsx("div",{className:"hidden lg:block",children:t.jsxs("div",{className:"flex items-start gap-4",children:[hr(e.logo)?t.jsx("video",{src:e.logo,className:"w-24 h-24 rounded-lg object-cover",loop:!0,playsInline:!0,autoPlay:!0}):t.jsx("img",{src:e.logo||"/chats/noimg.svg",alt:e.name,className:"w-24 h-24 rounded-lg"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("h1",{className:"text-xl font-bold text-white inline",children:[e.name,t.jsxs("span",{className:"text-gray-400 ml-2",children:["$",e.symbol]})]})}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:x(e.description)}),t.jsxs("div",{className:"flex gap-3 mt-4",children:[e.website&&t.jsx("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-[var(--primary)]",children:t.jsx(cr,{size:20})}),e.twitter&&t.jsx("a",{href:e.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-[var(--primary)]",children:t.jsx(Nt,{size:20})}),e.telegram&&t.jsx("a",{href:e.telegram,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-[var(--primary)]",children:t.jsx(yt,{size:20})}),e.discord&&t.jsx("a",{href:e.discord,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-[var(--primary)]",children:t.jsx(kt,{size:20})}),e.youtube&&t.jsx("a",{href:e.youtube,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-[var(--primary)]",children:t.jsx(dr,{size:20})})]})]})]})}),t.jsxs("div",{className:"bg-[var(--card2)] p-4 rounded-lg",children:[t.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[t.jsx("span",{className:"text-gray-400",children:"Progress to DEX"}),t.jsx("span",{className:p?"text-[var(--primary)]":"text-white",children:p?"Completed":s?`${i(s).toFixed(4)}%`:"0%"})]}),t.jsx("div",{className:"w-full bg-[var(--card-boarder)] rounded-full h-2.5",children:t.jsx("div",{className:"bg-[var(--primary)] h-2.5 rounded-full transition-all duration-500",style:{width:p?"100%":`${s?i(s):0}%`}})})]}),t.jsx(k,{})]}):t.jsx(k,{})},et=({label:e,value:r,link:s,isExternal:n,copyValue:a})=>t.jsxs("div",{className:"bg-[var(--card2)] p-3 rounded-lg",children:[t.jsx("div",{className:"text-xs text-gray-400 mb-1",children:e}),t.jsx("div",{className:"text-sm text-white flex items-center gap-2",children:s?t.jsxs("div",{className:"flex items-center gap-2 flex-grow",children:[t.jsxs("a",{href:s,target:n?"_blank":void 0,rel:n?"noopener noreferrer":void 0,className:"hover:text-[var(--primary)] transition-colors flex items-center gap-1",children:[r,n&&t.jsx(pe,{size:12})]}),a&&t.jsx("button",{onClick:()=>pa(a),className:"text-gray-400 hover:text-[var(--primary)] transition-colors",children:t.jsx(Ls,{size:12})})]}):r})]}),pa=e=>{navigator.clipboard.writeText(e).then(()=>{W.success("Address copied to clipboard!",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})})},gr=o.memo(ga,(e,r)=>{var m,u,h,l,g,d,p,i,x,w,k,$,j,v,y,P;const s=((m=e.tokenInfo)==null?void 0:m.currentPrice)!==((u=r.tokenInfo)==null?void 0:u.currentPrice)||((h=e.tokenInfo)==null?void 0:h.marketCap)!==((l=r.tokenInfo)==null?void 0:l.marketCap)||((g=e.tokenInfo)==null?void 0:g.address)!==((d=r.tokenInfo)==null?void 0:d.address)||((p=e.tokenInfo)==null?void 0:p.name)!==((i=r.tokenInfo)==null?void 0:i.name)||((x=e.tokenInfo)==null?void 0:x.symbol)!==((w=r.tokenInfo)==null?void 0:w.symbol)||((k=e.tokenInfo)==null?void 0:k.logo)!==(($=r.tokenInfo)==null?void 0:$.logo)||((j=e.tokenInfo)==null?void 0:j.description)!==((v=r.tokenInfo)==null?void 0:v.description)||((y=e.tokenInfo)==null?void 0:y.updatedAt)!==((P=r.tokenInfo)==null?void 0:P.updatedAt),n=e.chainId!==r.chainId||e.graduationProgress!==r.graduationProgress||e.currentPrice!==r.currentPrice||e.marketCap!==r.marketCap||e.showHeader!==r.showHeader||e.isLoadingPrice!==r.isLoadingPrice||e.isLoadingMarketCap!==r.isLoadingMarketCap||e.isPriceError!==r.isPriceError||e.isMarketCapError!==r.isMarketCapError;return!s&&!n});function xa(e){const r=new Date,s=new Date(e),n=Math.floor((r.getTime()-s.getTime())/1e3);return n<60?`${n} sec ago`:n<3600?`${Math.floor(n/60)} min ago`:n<86400?`${Math.floor(n/3600)} hour ago`:n<2592e3?`${Math.floor(n/86400)} day ago`:n<31536e3?`${Math.floor(n/2592e3)} month ago`:`${Math.floor(n/31536e3)} year ago`}function pr(){return`/chats/${Math.floor(Math.random()*10)+1}.png`}function vt(e){return e.slice(2,8)}const ba=({tokenAddress:e,tokenInfo:r})=>{const[s,n]=o.useState([]),[a,m]=o.useState(""),[u,h]=o.useState(null),[l,g]=o.useState(!1),[d,p]=o.useState(1),[i,x]=o.useState(1),[w,k]=o.useState(!1),[$,j]=o.useState(!1),[v,y]=o.useState({}),P=o.useRef(null),L=o.useRef(null),{address:T}=br(),{isAuthenticated:_}=yr(),{walletAddress:ue}=jr(),{socket:R}=wr(),F=T||ue,z=o.useMemo(()=>{const b={};return s.forEach(N=>{b[N.user]||(b[N.user]=pr())}),b},[s]),O=o.useCallback((b=!0)=>{if(P.current){const N=P.current;b?N.scrollTo({top:N.scrollHeight,behavior:"smooth"}):N.scrollTop=N.scrollHeight}},[]),D=o.useCallback(async b=>{if(!b||!/^0x[a-fA-F0-9]{40}$/i.test(b))return null;if(v[b.toLowerCase()])return v[b.toLowerCase()];try{const N=await ps(b);if(N!=null&&N.username)return y(U=>({...U,[b.toLowerCase()]:N.username})),N.username}catch{console.debug(`User not found for address: ${b}`)}return null},[v]),me=o.useCallback(async(b=1)=>{k(!0);try{const N=await xs(e,b,20),U=N.data||[];n(U),x(N.totalPages||1),p(b);const B=[...new Set(U.map(G=>G.user.toLowerCase()))].map(G=>D(G));await Promise.all(B),b===1&&setTimeout(()=>{O(!0)},100)}catch(N){console.error("Error fetching messages:",N),W.error("Failed to load messages")}finally{k(!1)}},[e,D,O]);o.useEffect(()=>{if(me(1),R){const b=async N=>{N.token.toLowerCase()===e.toLowerCase()&&(await D(N.user),n(U=>{const X=U.findIndex(B=>B.id===N.id||B.id.startsWith("temp-")&&B.user.toLowerCase()===N.user.toLowerCase()&&B.message===N.message);if(X!==-1){const B=[...U];return B[X]=N,B}return[N,...U]}))};return R.on("chatMessage",b),()=>{R.off("chatMessage",b)}}},[e,R,me,D]);const ae=async b=>{var X,B,G;if(b.preventDefault(),!_){j(!0);return}if(!F){W.error("Please connect your wallet to chat");return}if(!a.trim()){W.error("Message cannot be empty");return}if(a.length>1e3){W.error("Message is too long (max 1000 characters)");return}g(!0);const N=a.trim(),U=(X=u==null?void 0:u.id)==null?void 0:X.toString();try{await bs(F,e,N,U),m(""),h(null);const q={id:`temp-${Date.now()}-${Math.random()}`,user:F,token:e,message:N,reply_to:U||null,timestamp:new Date().toISOString()};n(ie=>[q,...ie]),setTimeout(()=>{O(!0)},100),W.success("Message sent!")}catch(q){console.error("Error sending message:",q);const ie=((G=(B=q.response)==null?void 0:B.data)==null?void 0:G.error)||q.message||"Failed to send message";W.error(ie)}finally{g(!1)}},oe=b=>{h(b)},le=()=>{h(null)},Pe=b=>b?s.find(N=>N.id===b):null,ne=b=>{b>=1&&b<=i&&me(b)};return t.jsxs("div",{className:"flex flex-col h-[400px] sm:h-[500px]",children:[!_&&t.jsxs("div",{className:"flex flex-col items-center justify-center p-4 bg-[var(--card)] rounded-lg mb-2",children:[t.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Please sign in to participate in the chat"}),t.jsx("button",{onClick:()=>j(!0),className:"bg-[var(--primary)] text-black px-4 py-2 rounded-lg text-sm font-semibold hover:bg-[var(--primary-hover)] transition-colors",children:"Sign In"})]}),t.jsxs("div",{ref:P,className:"flex-grow overflow-y-auto custom-scrollbar space-y-2 sm:space-y-4 p-2",children:[w&&s.length===0?t.jsx("div",{className:"flex justify-center items-center h-full",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[var(--primary)]"})}):s.length===0?t.jsx("div",{className:"flex justify-center items-center h-full",children:t.jsx("p",{className:"text-gray-400 text-sm",children:"No messages yet. Be the first to chat!"})}):t.jsx(as,{children:s.map(b=>{const N=Pe(b.reply_to);return t.jsxs(os.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`bg-[var(--card2)] rounded-lg p-2 sm:p-3 ${b.reply_to?"ml-2 sm:ml-4 border-l-2 border-[var(--card-boarder)]":""}`,children:[N&&t.jsxs("div",{className:"mb-1 sm:mb-2 text-[10px] sm:text-xs text-gray-400 bg-[var(--card)] p-1.5 sm:p-2 rounded",children:[t.jsx("span",{className:"font-medium",children:v[N.user.toLowerCase()]||vt(N.user)}),":",t.jsx("span",{className:"line-clamp-1",children:N.message})]}),t.jsxs("div",{className:"flex items-start gap-1.5 sm:gap-2",children:[t.jsx("img",{src:z[b.user]||pr(),alt:"Avatar",width:20,height:20,className:"rounded-full hidden sm:block"}),t.jsxs("div",{className:"flex-grow min-w-0",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("span",{className:"text-xs sm:text-sm font-medium text-gray-300",children:[v[b.user.toLowerCase()]||vt(b.user),b.user.toLowerCase()===r.creatorAddress.toLowerCase()&&t.jsx("span",{className:"ml-1 text-[var(--primary)] text-[10px] sm:text-xs",children:"(dev)"})]}),t.jsx("span",{className:"text-[10px] sm:text-xs text-gray-500",children:xa(b.timestamp)})]}),t.jsx("p",{className:"text-xs sm:text-sm text-gray-200 mt-0.5 sm:mt-1 break-words",children:b.message}),t.jsxs("button",{onClick:()=>oe(b),className:"mt-1 sm:mt-2 text-[10px] sm:text-xs text-gray-400 hover:text-[var(--primary)] flex items-center gap-0.5 sm:gap-1",children:[t.jsx(Rs,{size:10,className:"sm:w-3 sm:h-3"}),"Reply"]})]})]})]},b.id)})}),t.jsx("div",{ref:L})]}),i>1&&t.jsxs("div",{className:"flex items-center justify-between px-2 py-2 border-t border-[var(--card-boarder)]",children:[t.jsxs("button",{onClick:()=>ne(d-1),disabled:d===1||w,className:"px-3 py-1 text-xs bg-[var(--card2)] text-gray-400 rounded hover:bg-[var(--card-hover)] disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:[t.jsx(Ss,{className:"w-4 h-4"}),"Previous"]}),t.jsxs("span",{className:"text-xs text-gray-400",children:["Page ",d," of ",i]}),t.jsxs("button",{onClick:()=>ne(d+1),disabled:d===i||w,className:"px-3 py-1 text-xs bg-[var(--card2)] text-gray-400 rounded hover:bg-[var(--card-hover)] disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:["Next",t.jsx(As,{className:"w-4 h-4"})]})]}),t.jsxs("form",{onSubmit:ae,className:"mt-2 sm:mt-4 space-y-1 sm:space-y-2 p-2",children:[u&&t.jsxs("div",{className:"flex items-center justify-between bg-[var(--card)] p-1.5 sm:p-2 rounded-lg text-xs sm:text-sm",children:[t.jsxs("span",{className:"text-gray-400",children:["Replying to ",t.jsx("span",{className:"text-[var(--primary)]",children:v[u.user.toLowerCase()]||vt(u.user)})]}),t.jsx("button",{type:"button",onClick:le,className:"text-gray-400 hover:text-white",children:t.jsx(Nr,{size:14,className:"sm:w-4 sm:h-4"})})]}),t.jsxs("div",{className:"flex gap-1.5 sm:gap-2",children:[t.jsx("input",{type:"text",value:a,onChange:b=>m(b.target.value),placeholder:"Type a message...",className:"flex-grow bg-[var(--card2)] text-white rounded-lg px-3 py-1.5 sm:px-4 sm:py-2 text-xs sm:text-sm focus:outline-none focus:ring-1 focus:ring-[var(--primary)]"}),t.jsx("button",{type:"submit",disabled:!a.trim()||l||!_,className:"bg-[var(--primary)] text-black px-3 py-1.5 sm:px-4 sm:py-2 rounded-lg text-xs sm:text-sm font-medium hover:bg-[var(--primary-hover)] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:l?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-black"}),"Sending..."]}):"Send"})]})]}),t.jsx(ls,{isOpen:$,onClose:()=>j(!1),onAuthSuccess:()=>{j(!1),W.success("Successfully signed in!")}})]})},xr=(e,r)=>`https://app.uniswap.org/#/swap?inputCurrency=ETH&outputCurrency=${e}&chain=${r===1?"mainnet":r===8453?"base":r===42161?"arbitrum":r===84532?"base":"mainnet"}`,Ma=()=>{var ir;const{address:e,chainId:r}=rs(),{address:s}=br(),n=es(),{isEmbeddedWallet:a,walletAddress:m}=jr(),{token:u,isAuthenticated:h}=yr(),l=o.useMemo(()=>r?parseInt(r):n,[r,n]),g=o.useMemo(()=>s||(a&&h?m:void 0),[s,a,h,m]),[d,p]=o.useState(!1),[i,x]=o.useState(null),[w,k]=o.useState(!0),[$,j]=o.useState(!1),v=o.useRef(null),[y,P]=o.useState([]),[L,T]=o.useState(1),[_,ue]=o.useState(1),[R,F]=o.useState({symbol:"ETH",amount:""}),[z,O]=o.useState({symbol:"",amount:""}),[D,me]=o.useState(!1),[ae,oe]=o.useState(!1),[le,Pe]=o.useState("0.000"),[ne,b]=o.useState("0.000"),[N,U]=o.useState(null),[X,B]=o.useState([]),[G,q]=o.useState(!1),[ie,nt]=o.useState(),[ce,Be]=o.useState([]),[at,Kr]=o.useState(1),[Oe,Xr]=o.useState("1m"),[ot,Ue]=o.useState([]),[Ie,fe]=o.useState(null),[lt,it]=o.useState(null),[ct,dt]=o.useState(null),[V,Yr]=o.useState(null),[ut,_t]=o.useState("0"),[Bt,Ot]=o.useState(!1),[Ut,It]=o.useState(!1),ze=10,ve=o.useMemo(()=>{var f;return i?!!(i.isActive===!1||(f=i._count)!=null&&f.liquidityEvents&&i._count.liquidityEvents>0):!1},[i==null?void 0:i.isActive,(ir=i==null?void 0:i._count)==null?void 0:ir.liquidityEvents]),zt=o.useMemo(()=>D?d?"Sell":"Approve":"Buy",[D,d]),Wt=o.useMemo(()=>{if(!(!(i!=null&&i.currentPrice)||i.currentPrice==="0"))try{return Xe(i.currentPrice,18)}catch(f){console.error("Error parsing currentPrice:",f);return}},[i==null?void 0:i.currentPrice,i==null?void 0:i.updatedAt]),Gt=o.useMemo(()=>{if(i!=null&&i.marketCap&&i.marketCap!=="0")try{return BigInt(i.marketCap)}catch{if(i!=null&&i.totalSupply&&(i!=null&&i.currentPrice)&&i.currentPrice!=="0")try{const f=BigInt(i.totalSupply),S=Xe(i.currentPrice,18);return f*S/10n**18n}catch{return}return}else if(i!=null&&i.totalSupply&&(i!=null&&i.currentPrice)&&i.currentPrice!=="0")try{const f=BigInt(i.totalSupply),S=Xe(i.currentPrice,18);return f*S/10n**18n}catch{return}},[i==null?void 0:i.marketCap,i==null?void 0:i.totalSupply,i==null?void 0:i.currentPrice,i==null?void 0:i.updatedAt]),Qr=o.useMemo(()=>{const f=at*ze,S=f-ze;return(ce==null?void 0:ce.slice(S,f))||[]},[ce,at,ze]),{data:Vt,isError:mt}=ts({hash:ie,confirmations:2,query:{enabled:!!ie&&!!s}}),[ee]=$s(R.amount,300),ye=is(),ft=o.useCallback(async()=>{if(!(!e||!l))try{const f=await vs(e,l);fe(f)}catch(f){console.error("Error fetching graduation progress:",f)}},[e,l]),we=o.useRef(null),We=o.useCallback(()=>{we.current&&clearTimeout(we.current),we.current=setTimeout(()=>{ft()},500)},[ft]),ht=o.useCallback(async()=>{if(!(!e||!g||!l))try{const f=await ys(e,g,l);Yr(f)}catch(f){console.error("Error fetching user balance:",f)}},[e,g,l]),Ge=o.useCallback(async()=>{if(!(!e||!g||!ye||!l))try{const f=await cs(e,g,ye);_t(f.toString())}catch(f){console.warn("Error fetching token allowance:",f),_t("0")}},[e,g,ye,l]),qt=o.useCallback(async()=>{if(!e||!ee||!l||ee==="0"){it(null);return}Ot(!0);try{const f=await ws(e,ee,l);it(f)}catch(f){console.error("Error calculating buy return:",f),it(null)}finally{Ot(!1)}},[e,ee,l]),Kt=o.useCallback(async()=>{if(!e||!ee||!l||ee==="0"){dt(null);return}It(!0);try{const f=await js(e,ee,l);dt(f)}catch(f){console.error("Error calculating sell return:",f),dt(null)}finally{It(!1)}},[e,ee,l]);o.useEffect(()=>{ht(),Ge()},[ht,Ge]),o.useEffect(()=>{D?Kt():qt()},[D,qt,Kt]);const Xt=ft,Ve=ht,qe=o.useCallback(async()=>{await Promise.allSettled([Ve(),Ge()])},[Ve,Ge]),{buyTokens:Yt}=ds(),{sellTokens:Qt}=us(),{approveTokens:Jt}=ms(),{subscribeToPriceUpdates:Zt,socket:K}=wr(),er=o.useCallback(async f=>{var S;if(e)try{const M=await Ns(e,f,10,l);if(M){const c="token"in M?M.token:M,E=("transactions"in M,M.transactions),A={...c,transactions:E||{data:[],pagination:{currentPage:1,pageSize:10,total:0,totalPages:1}}};x(A),v.current=A,P((E==null?void 0:E.data)||[]),ue(((S=E==null?void 0:E.pagination)==null?void 0:S.totalPages)||1),j(!0)}else throw new Error("Invalid token data structure received from backend")}catch(M){throw W.error("Failed to load token data"),M}},[e,l]),tr=o.useCallback((f,S)=>{switch(S){case"1m":return Math.floor(f/60)*60;case"5m":return Math.floor(f/300)*300;case"15m":return Math.floor(f/900)*900;case"1h":return Math.floor(f/3600)*3600;case"4h":return Math.floor(f/14400)*14400;case"1d":return Math.floor(f/86400)*86400;default:return f}},[]),Ke=o.useCallback((f,S)=>{if(!f||f.length===0)return[];const M=new Map;return f.forEach(c=>{const E=tr(c.time,S),A=M.get(E);A?(A.high=Math.max(A.high,c.high||c.close||c.open||0),A.low=Math.min(A.low,c.low||c.close||c.open||0),A.close=c.close||c.open||0):M.set(E,{time:E,open:c.open||c.close||0,high:c.high||c.close||c.open||0,low:c.low||c.close||c.open||0,close:c.close||c.open||0})}),Array.from(M.values()).sort((c,E)=>c.time-E.time)},[tr]),rr=o.useCallback(async()=>{if(e)try{const f=await ks(e,l);if(Array.isArray(f)&&f.length>0){const M=[...f].sort((E,A)=>new Date(E.timestamp).getTime()-new Date(A.timestamp).getTime()).map((E,A,C)=>{const H=C[A-1],I=parseFloat(E.price||"0");if(!H)return{time:Math.floor(new Date(E.timestamp).getTime()/1e3),open:I,high:I,low:I,close:I};const Y=parseFloat(H.price||"0");return{time:Math.floor(new Date(E.timestamp).getTime()/1e3),open:Y,high:Math.max(Y,I),low:Math.min(Y,I),close:I}});Ue(M);const c=Ke(M,Oe);B(c),U(null)}else Ue([]),B([])}catch(f){console.error("Error fetching historical price data:",f),U("Failed to load chart data"),Ue([]),B([])}},[e,l,Ke,i==null?void 0:i.currentPrice]);o.useEffect(()=>{if(ot.length>0){const f=Ke(ot,Oe);B(f)}},[Oe,ot,Ke]);const je=o.useCallback(async()=>{if(e)try{const f=await Ts(e,l);Be(f)}catch{W.error("Failed to fetch token holders")}},[e,l]),sr=o.useCallback(async(f=!0)=>{if(!e){k(!1);return}try{f&&k(!0),await Promise.allSettled([er(L),rr(),Xt()]),je(),Ve(),f&&k(!1)}catch{f&&k(!1),W.error("Failed to load token information")}},[e,L,er,rr,je,Ve,Xt]);o.useEffect(()=>{if(!e){k(!1);return}sr()},[e,sr]),o.useEffect(()=>!e||!l?void 0:Zt(S=>{if(S.tokenAddress.toLowerCase()===e.toLowerCase()&&S.chainId===l){const M=parseFloat(S.price||"0");M>0&&Ue(c=>{const E=c[c.length-1],A=E?E.close:M,C=S.timestamp?new Date(S.timestamp).getTime():Date.now(),H={time:Math.floor(C/1e3),open:A,high:Math.max(A,M),low:Math.min(A,M),close:M};if(E&&E.time===H.time){const Y=[...c];return Y[Y.length-1]={...E,high:Math.max(E.high,M),low:Math.min(E.low,M),close:M},Y}return[...c,H].slice(-1e4)})}}),[e,l,Zt]),o.useEffect(()=>{if(!K)return;const f=S=>{};return K.on("disconnect",f),()=>{K.off("disconnect",f)}},[K]),o.useEffect(()=>{if(!K||!e||!l)return;const f=c=>{var E;if(((E=c.tokenAddress)==null?void 0:E.toLowerCase())===(e==null?void 0:e.toLowerCase())&&c.chainId===l){if(c.tokenPrice&&x(A=>{if(!A)return A;const C={...A,currentPrice:c.tokenPrice,marketCap:c.marketCap||A.marketCap,updatedAt:new Date().toISOString()};return v.current=C,C}),o.startTransition(()=>{c.holders&&Array.isArray(c.holders)&&c.holders.length>0?Be(c.holders):je();const A={id:c.txHash,txHash:c.txHash,tokenAddress:c.tokenAddress,senderAddress:ye||"",recipientAddress:c.buyer,ethAmount:c.ethAmount,tokenAmount:c.tokenAmount,blockNumber:c.blockNumber,blockTimestamp:c.blockTimestamp,updatedAt:c.blockTimestamp||new Date().toISOString(),type:"Bought",chainId:c.chainId,tokenPrice:c.tokenPrice};P(C=>C.some(I=>I.txHash===c.txHash)?(console.log(" Transaction already exists, skipping:",c.txHash),C):(console.log(" Adding new transaction:",A.txHash),[A,...C]))}),c.graduationProgress!==void 0&&c.graduationProgress!==null)try{const A=BigInt(c.graduationProgress.toString()),C=BigInt(10**18),H=Number(A*100n/C);fe({graduationProgress:c.graduationProgress.toString(),percentage:Math.min(100,Math.max(0,H))}),console.log(" Graduation progress updated immediately:",H)}catch(A){console.error("Error calculating graduation progress percentage:",A),fe({graduationProgress:c.graduationProgress.toString(),percentage:0})}(c.graduationProgress===void 0||c.graduationProgress===null)&&We()}},S=c=>{var E,A;if(console.log(" DEBUG handleTokenSold:",{received:!0,eventTokenAddress:c.tokenAddress,currentAddress:e,eventChainId:c.chainId,currentChainId:l,willProcess:((E=c.tokenAddress)==null?void 0:E.toLowerCase())===(e==null?void 0:e.toLowerCase())&&c.chainId===l}),((A=c.tokenAddress)==null?void 0:A.toLowerCase())===(e==null?void 0:e.toLowerCase())&&c.chainId===l){if(console.log(" tokenSold event received:",c),c.tokenPrice&&x(C=>{if(!C)return console.warn(" Cannot update tokenInfo: tokenInfo is null"),C;const H={...C,currentPrice:c.tokenPrice,marketCap:c.marketCap||C.marketCap,updatedAt:new Date().toISOString()};return v.current=H,H}),o.startTransition(()=>{c.holders&&Array.isArray(c.holders)&&c.holders.length>0?Be(c.holders):je();const C={id:c.txHash,txHash:c.txHash,tokenAddress:c.tokenAddress,senderAddress:c.seller,recipientAddress:ye||"",ethAmount:c.ethAmount,tokenAmount:c.tokenAmount,blockNumber:c.blockNumber,blockTimestamp:c.blockTimestamp,updatedAt:c.blockTimestamp||new Date().toISOString(),type:"Sold",chainId:c.chainId,tokenPrice:c.tokenPrice};P(H=>H.some(Y=>Y.txHash===c.txHash)?(console.log(" Transaction already exists, skipping:",c.txHash),H):(console.log(" Adding new transaction:",C.txHash),[C,...H]))}),c.graduationProgress!==void 0&&c.graduationProgress!==null)try{const C=BigInt(c.graduationProgress.toString()),H=BigInt(10**18),I=Number(C*100n/H);fe({graduationProgress:c.graduationProgress.toString(),percentage:Math.min(100,Math.max(0,I))}),console.log(" Graduation progress updated immediately:",I)}catch(C){console.error("Error calculating graduation progress percentage:",C),fe({graduationProgress:c.graduationProgress.toString(),percentage:0})}(c.graduationProgress===void 0||c.graduationProgress===null)&&We()}else console.log(" tokenSold event filtered out (address/chain mismatch)")},M=c=>{var E,A;if(console.log(" DEBUG handleTokenTraded:",{received:!0,eventTokenAddress:c.tokenAddress,currentAddress:e,eventChainId:c.chainId,currentChainId:l,willProcess:((E=c.tokenAddress)==null?void 0:E.toLowerCase())===(e==null?void 0:e.toLowerCase())&&c.chainId===l}),((A=c.tokenAddress)==null?void 0:A.toLowerCase())===(e==null?void 0:e.toLowerCase())&&c.chainId===l){if(console.log(" tokenTraded event received:",c),c.tokenPrice&&x(C=>{if(!C)return console.warn(" Cannot update tokenInfo: tokenInfo is null"),C;const H={...C,currentPrice:c.tokenPrice,marketCap:c.marketCap||C.marketCap,updatedAt:new Date().toISOString()};return v.current=H,H}),o.startTransition(()=>{c.holders&&Array.isArray(c.holders)&&c.holders.length>0?Be(c.holders):je();const C={id:c.txHash,txHash:c.txHash,tokenAddress:c.tokenAddress,senderAddress:c.from,recipientAddress:c.to,ethAmount:"0",tokenAmount:c.value,blockNumber:c.blockNumber,blockTimestamp:c.blockTimestamp,updatedAt:c.blockTimestamp||new Date().toISOString(),type:"Traded",chainId:c.chainId,tokenPrice:c.tokenPrice};P(H=>H.some(Y=>Y.txHash===c.txHash)?(console.log(" Transaction already exists, skipping:",c.txHash),H):(console.log(" Adding new transaction:",C.txHash),[C,...H]))}),c.graduationProgress!==void 0&&c.graduationProgress!==null)try{const C=BigInt(c.graduationProgress.toString()),H=BigInt(10**18),I=Number(C*100n/H);fe({graduationProgress:c.graduationProgress.toString(),percentage:Math.min(100,Math.max(0,I))}),console.log(" Graduation progress updated immediately:",I)}catch(C){console.error("Error calculating graduation progress percentage:",C),fe({graduationProgress:c.graduationProgress.toString(),percentage:0})}(c.graduationProgress===void 0||c.graduationProgress===null)&&We()}else console.log(" tokenTraded event filtered out (address/chain mismatch)")};return K.on("tokenBought",f),K.on("tokenSold",S),K.on("tokenTraded",M),console.log(" Socket.IO listeners registered"),()=>{console.log(" Cleaning up Socket.IO listeners"),K.off("tokenBought",f),K.off("tokenSold",S),K.off("tokenTraded",M),we.current&&(clearTimeout(we.current),we.current=null)}},[K,e,l,We,ye,je]),o.useEffect(()=>{if(s&&ut&&e){const f=BigInt(ut);p(f>0n)}else!s&&a&&p(!0)},[ut,e,s,a]),o.useEffect(()=>{V&&(Pe(parseFloat(V.ethBalanceFormatted).toFixed(5)),b(parseFloat(V.tokenBalanceFormatted).toFixed(5)))},[V]),o.useEffect(()=>{if(Vt&&!mt){const f=D?d?"Tokens sold successfully":"Token approval successful":"Tokens bought successfully";!d&&D&&p(!0),W.success(f),F(S=>({...S,amount:""})),O(S=>({...S,amount:""})),qe(),q(!1),nt(void 0)}else mt&&(W.error("Transaction failed"),q(!1),nt(void 0))},[Vt,mt,D,d,qe]),o.useEffect(()=>{ie||q(!1)},[ie]),o.useEffect(()=>{if(!ee){O(f=>({...f,amount:""})),oe(!1);return}oe(!0),D?ct&&!Ut&&(O(f=>({...f,amount:ct.ethAmountFormatted})),oe(!1)):lt&&!Bt&&(O(f=>({...f,amount:lt.tokenAmountFormatted})),oe(!1))},[ee,lt,ct,D,Bt,Ut]),o.useEffect(()=>{i!=null&&i.symbol&&O(f=>({...f,symbol:D?"ETH":i.symbol}))},[i==null?void 0:i.symbol,D]);const nr=o.useCallback(()=>{me(f=>!f),F(f=>({symbol:f.symbol==="ETH"&&(i==null?void 0:i.symbol)||"ETH",amount:""})),O(f=>({symbol:f.symbol==="ETH"&&(i==null?void 0:i.symbol)||"ETH",amount:""}))},[i==null?void 0:i.symbol]),ar=o.useCallback(f=>{F(S=>({...S,amount:f.target.value}))},[]),or=o.useCallback(async()=>{if(!e||!R.amount||!g){W.error("Missing required information. Please connect a wallet or log in.");return}const f=Xe(R.amount,18);q(!0);try{if(!s&&a&&h&&u){D?await Es(e,f.toString(),l):await Cs(e,f.toString(),l),W.success(`Tokens ${D?"sold":"bought"} successfully`),F(c=>({...c,amount:""})),O(c=>({...c,amount:""})),q(!1),qe();return}let M;D?M=d?await Qt(e,f):await Jt(e):M=await Yt(e,f),nt(M)}catch(S){W.error("Transaction failed to initiate: "+S.message),q(!1)}},[e,R.amount,g,s,D,d,Jt,Qt,Yt,a,h,u,l,qe]),Jr=o.useCallback(f=>{T(f)},[]),lr=o.useCallback(()=>{if(D)V!=null&&V.tokenBalanceFormatted&&F(f=>({...f,amount:V.tokenBalanceFormatted}));else if(V!=null&&V.ethBalanceFormatted){const f=(parseFloat(V.ethBalanceFormatted)*.95).toString();F(S=>({...S,amount:f}))}},[D,V]),Zr=o.useCallback(f=>{Kr(f)},[]);if(w&&!$)return t.jsx(Me,{children:t.jsx("div",{className:"flex justify-center items-center min-h-screen",children:t.jsx(jt,{size:"large"})})});if(!e)return t.jsx(Me,{children:t.jsx("div",{className:"flex justify-center items-center min-h-screen",children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-red-400 text-lg mb-2",children:"Invalid token address"}),t.jsx("p",{className:"text-gray-400",children:"Please check the URL and try again."})]})})});if(!w&&!$&&!i)return t.jsx(Me,{children:t.jsx("div",{className:"flex justify-center items-center min-h-screen",children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-red-400 text-lg mb-2",children:"Token not found"}),t.jsxs("p",{className:"text-gray-400",children:["The token with address ",e," on chain ",l," could not be found."]}),t.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Please verify the address and chain ID are correct."})]})})});const te=i||v.current;return te?t.jsxs(Me,{children:[t.jsx(Ps,{token:te}),t.jsx("div",{className:"lg:hidden mb-6",children:t.jsx(gr,{tokenInfo:te,chainId:l,graduationProgress:Ie?BigInt(Ie.graduationProgress):void 0,currentPrice:Wt,marketCap:Gt,isLoadingPrice:!i,isLoadingMarketCap:!i,isPriceError:!1,isMarketCapError:!1,showHeader:!0})}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsxs("div",{className:"card",children:[t.jsx("h2",{className:"text-sm md:text-base font-semibold mb-4 gradient-text-cyan",children:"Price Chart"}),N&&t.jsx("div",{className:"mb-2 p-2 bg-red-500/10 border border-red-500/50 rounded-lg",children:t.jsx("p",{className:"text-red-400 text-xs",children:N})}),t.jsx(Bs,{data:X,tokenInfo:te,liquidityEvents:[],timeframe:Oe,onTimeframeChange:Xr})]}),ve?t.jsxs("div",{className:"lg:hidden bg-[var(--card)] rounded-lg p-4",children:[t.jsx("h2",{className:"text-sm font-semibold mb-4 text-gray-400",children:"Quick Actions"}),t.jsx("div",{className:"bg-[var(--card2)] rounded-lg p-4",children:t.jsxs("div",{className:"text-center space-y-4",children:[t.jsx("div",{className:"flex items-center justify-center",children:t.jsxs("div",{className:"bg-green-500/20 border border-green-500/50 rounded-lg p-3",children:[t.jsx("svg",{className:"w-8 h-8 text-green-400 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsx("p",{className:"text-green-400 font-semibold text-sm",children:"Token Graduated"})]})}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-white text-sm font-medium",children:"This token has graduated and is now listed on Uniswap"}),t.jsx("p",{className:"text-gray-400 text-xs",children:"Trading is no longer available on the bonding curve. You can trade this token on Uniswap."})]}),t.jsx("a",{href:xr(e,l),target:"_blank",rel:"noopener noreferrer",className:"block",children:t.jsxs("button",{className:"w-full py-3 bg-[var(--primary)] text-black rounded-lg font-medium hover:bg-[var(--primary-hover)] transition-colors flex items-center justify-center gap-2",children:[t.jsx("span",{children:"View on Uniswap"}),t.jsx(pe,{size:16})]})})]})})]}):t.jsxs("div",{className:"lg:hidden bg-[var(--card)] rounded-lg p-4",children:[t.jsx("h2",{className:"text-sm font-semibold mb-4 text-gray-400",children:"Quick Actions"}),t.jsxs("div",{className:"bg-[var(--card2)] rounded-lg p-4",children:[t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[t.jsx("span",{className:"text-gray-400",children:"From"}),t.jsxs("span",{className:"text-gray-400",children:["Balance: ",D?ne:le]})]}),t.jsxs("div",{className:"flex items-center bg-[var(--card)] rounded-lg p-3",children:[t.jsx("input",{type:"number",value:R.amount,onChange:ar,className:"w-full bg-transparent text-white outline-none text-sm",placeholder:"0.00",disabled:G,min:"0"}),t.jsx("button",{onClick:lr,className:"text-xs text-[var(--primary)] hover:text-[var(--primary-hover)] font-medium px-2 py-1 rounded transition-colors",children:"MAX"}),t.jsx("span",{className:"text-gray-400 ml-2",children:R.symbol})]})]}),t.jsx("button",{onClick:nr,className:"w-full flex justify-center p-2 text-gray-400 hover:text-[var(--primary)]",children:t.jsx(ur,{size:20})}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[t.jsx("span",{className:"text-gray-400",children:"To"}),t.jsxs("span",{className:"text-gray-400",children:["Balance: ",D?le:ne]})]}),t.jsxs("div",{className:"flex items-center bg-[var(--card)] rounded-lg p-3",children:[t.jsx("input",{type:"text",value:ae?"Calculating...":z.amount,readOnly:!0,className:"w-full bg-transparent text-white outline-none text-sm",placeholder:"0.00"}),t.jsx("span",{className:"text-gray-400 ml-2",children:z.symbol})]})]}),t.jsx("button",{onClick:or,disabled:ve||Number(R==null?void 0:R.amount)<=0||ae||G,className:`w-full py-3 bg-[var(--primary)] text-black rounded-lg font-medium hover:bg-[var(--primary-hover)] 
                    transition-colors disabled:opacity-50 disabled:cursor-not-allowed`,children:G?"Processing...":ve?"Token Graduated":zt})]})]}),t.jsx("div",{className:"bg-[var(--card)] rounded-lg p-4",children:t.jsxs(he.Group,{children:[t.jsxs(he.List,{className:"flex space-x-1 rounded-lg bg-[var(--card2)] p-1 mb-4",children:[t.jsx(he,{className:({selected:f})=>`w-full rounded-md py-2.5 text-sm font-medium leading-5 transition-colors
                      ${f?"bg-[var(--card-boarder)] text-white":"text-gray-400 hover:bg-[var(--card-hover)] hover:text-white"}`,children:"Trades"}),t.jsx(he,{className:({selected:f})=>`w-full rounded-md py-2.5 text-sm font-medium leading-5 transition-colors
                      ${f?"bg-[var(--card-boarder)] text-white":"text-gray-400 hover:bg-[var(--card-hover)] hover:text-white"}`,children:"Chat"})]}),t.jsxs(he.Panels,{children:[t.jsx(he.Panel,{children:t.jsx(ma,{transactions:y,transactionPage:L,totalTransactionPages:_,tokenSymbol:te.symbol,handlePageChange:Jr})}),t.jsx(he.Panel,{children:t.jsx(ba,{tokenAddress:e,tokenInfo:te})})]})]})})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"hidden lg:block bg-[var(--card)] rounded-lg p-4",children:t.jsx(gr,{tokenInfo:te,chainId:l,graduationProgress:Ie?BigInt(Ie.graduationProgress):void 0,currentPrice:Wt,marketCap:Gt,isLoadingPrice:!i,isLoadingMarketCap:!i,isPriceError:!1,isMarketCapError:!1,showHeader:!0})}),ve?t.jsxs("div",{className:"hidden lg:block bg-[var(--card)] rounded-lg p-4",children:[t.jsx("h2",{className:"text-sm font-semibold mb-4 text-gray-400",children:"Quick Actions"}),t.jsx("div",{className:"bg-[var(--card2)] rounded-lg p-4",children:t.jsxs("div",{className:"text-center space-y-4",children:[t.jsx("div",{className:"flex items-center justify-center",children:t.jsxs("div",{className:"bg-green-500/20 border border-green-500/50 rounded-lg p-3",children:[t.jsx("svg",{className:"w-8 h-8 text-green-400 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsx("p",{className:"text-green-400 font-semibold text-sm",children:"Token Graduated"})]})}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-white text-sm font-medium",children:"This token has graduated and is now listed on Uniswap"}),t.jsx("p",{className:"text-gray-400 text-xs",children:"Trading is no longer available on the bonding curve. You can trade this token on Uniswap."})]}),t.jsx("a",{href:xr(e,l),target:"_blank",rel:"noopener noreferrer",className:"block",children:t.jsxs("button",{className:"w-full py-3 bg-[var(--primary)] text-black rounded-lg font-medium hover:bg-[var(--primary-hover)] transition-colors flex items-center justify-center gap-2",children:[t.jsx("span",{children:"View on Uniswap"}),t.jsx(pe,{size:16})]})})]})})]}):t.jsxs("div",{className:"hidden lg:block bg-[var(--card)] rounded-lg p-4",children:[t.jsx("h2",{className:"text-sm font-semibold mb-4 text-gray-400",children:"Quick Actions"}),t.jsxs("div",{className:"bg-[var(--card2)] rounded-lg p-4",children:[t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[t.jsx("span",{className:"text-gray-400",children:"From"}),t.jsxs("span",{className:"text-gray-400",children:["Balance: ",D?ne:le," ",R.symbol]})]}),t.jsxs("div",{className:"flex items-center bg-[var(--card)] rounded-lg p-3",children:[t.jsx("input",{type:"number",value:R.amount,onChange:ar,className:"w-full bg-transparent text-white outline-none text-sm",placeholder:"0.00",disabled:G,min:"0"}),t.jsx("button",{onClick:lr,className:"text-xs text-[var(--primary)] hover:text-[var(--primary-hover)] font-medium px-2 py-1 rounded transition-colors",children:"MAX"}),t.jsx("span",{className:"text-gray-400 ml-2",children:R.symbol})]})]}),t.jsx("button",{onClick:nr,className:"w-full flex justify-center p-2 text-gray-400 hover:text-[var(--primary)]",children:t.jsx(ur,{size:20})}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[t.jsx("span",{className:"text-gray-400",children:"To "}),t.jsxs("span",{className:"text-gray-400",children:["Balance: ",D?le:ne," ",z.symbol]})]}),t.jsxs("div",{className:"flex items-center bg-[var(--card)] rounded-lg p-3",children:[t.jsx("input",{type:"text",value:ae?"Calculating...":z.amount,readOnly:!0,className:"w-full bg-transparent text-white outline-none text-sm",placeholder:"0.00"}),t.jsx("span",{className:"text-gray-400 ml-2",children:z.symbol})]})]}),t.jsx("button",{onClick:or,disabled:ve||Number(R.amount)<=0||ae||G,className:`w-full py-3 bg-[var(--primary)] text-black rounded-lg font-medium hover:bg-[var(--primary-hover)] 
                    transition-colors disabled:opacity-50 disabled:cursor-not-allowed`,children:G?"Processing...":ve?"Token Graduated":zt})]})]})]})]}),t.jsxs("div",{className:"mt-6 bg-[var(--card)] rounded-lg p-4",children:[t.jsx("h2",{className:"text-sm font-semibold mb-4 text-gray-400",children:"Token Holders"}),t.jsx(ha,{tokenHolders:Qr,currentPage:at,totalPages:Math.ceil((ce==null?void 0:ce.length)/ze),tokenSymbol:te.symbol,creatorAddress:te.creatorAddress,tokenAddress:e,chainId:l,onPageChange:Zr,allHolders:ce})]}),t.jsx(Is,{tokenInfo:te})]})]}):t.jsx(Me,{children:t.jsx("div",{className:"flex justify-center items-center min-h-screen",children:t.jsx(jt,{size:"large"})})})};export{Ma as default};
